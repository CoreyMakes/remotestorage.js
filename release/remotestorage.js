/*! remotestorage.js 2.0.0-alpha.2, https://remotestorage.io, MIT licensed */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("RemoteStorage",[],t):"object"==typeof exports?exports.RemoteStorage=t():e.RemoteStorage=t()}(this,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=17)}([function(e,t,r){"use strict";(function(e,r){Object.defineProperty(t,"__esModule",{value:!0}),t.logError=e=>{"string"==typeof e?console.error(e):console.error(e.message,e.stack)},t.globalContext="undefined"!=typeof window?window:"object"==typeof self?self:e,t.getGlobalContext=()=>"undefined"!=typeof window?window:"object"==typeof self?self:e,t.extend=(...e)=>{const t=e[0];return Array.prototype.slice.call(e,1).forEach((function(e){for(const r in e)t[r]=e[r]})),t},t.containingFolder=e=>{if(""===e)return"/";if(!e)throw"Path not given!";return e.replace(/\/+/g,"/").replace(/[^\/]+\/?$/,"")},t.isFolder=e=>"/"===e.substr(-1),t.isDocument=e=>!t.isFolder(e),t.baseName=e=>{const r=e.split("/");return t.isFolder(e)?r[r.length-2]+"/":r[r.length-1]},t.cleanPath=e=>e.replace(/\/+/g,"/").split("/").map(encodeURIComponent).join("/").replace(/'/g,"%27"),t.bindAll=e=>{for(const t in this)"function"==typeof e[t]&&(e[t]=e[t].bind(e))},t.equal=(e,r,n=[])=>{let o;if(typeof e!=typeof r)return!1;if("number"==typeof e||"boolean"==typeof e||"string"==typeof e)return e===r;if("function"==typeof e)return e.toString()===r.toString();if(e instanceof ArrayBuffer&&r instanceof ArrayBuffer&&(e=new Uint8Array(e),r=new Uint8Array(r)),e instanceof Array){if(e.length!==r.length)return!1;for(let o=0,i=e.length;o<i;o++)if(!t.equal(e[o],r[o],n))return!1}else{for(o in e)if(e.hasOwnProperty(o)&&!(o in r))return!1;for(o in r){if(!r.hasOwnProperty(o))continue;if(!(o in e))return!1;let i;if("object"==typeof r[o]){if(n.indexOf(r[o])>=0)continue;i=n.slice(),i.push(r[o])}if(!t.equal(e[o],r[o],i))return!1}}return!0},t.deepClone=e=>{if(void 0!==e){const t=JSON.parse(JSON.stringify(e));return function e(t,r){if("object"==typeof t&&!Array.isArray(t)&&null!==t)for(const n in t)if("object"==typeof t[n]&&null!==t[n])if("[object ArrayBuffer]"===t[n].toString()){r[n]=new ArrayBuffer(t[n].byteLength);const e=new Int8Array(t[n]);new Int8Array(r[n]).set(e)}else e(t[n],r[n])}(e,t),t}},t.pathsFromRoot=e=>{const t=[e],r=e.replace(/\/$/,"").split("/");for(;r.length>1;)r.pop(),t.push(r.join("/")+"/");return t},t.localStorageAvailable=()=>{const e=t.getGlobalContext();if(!("localStorage"in e))return!1;try{return e.localStorage.setItem("rs-check","1"),e.localStorage.removeItem("rs-check"),!0}catch(e){return!1}},t.getJSONFromLocalStorage=e=>{const r=t.getGlobalContext();try{return JSON.parse(r.localStorage.getItem(e))}catch(e){}},t.shouldBeTreatedAsBinary=(e,t)=>!!(t&&t.match(/charset=binary/)||/[\x00-\x08\x0E-\x1F\uFFFD]/.test(e)),t.getTextFromArrayBuffer=(e,n)=>new Promise(o=>{if("undefined"==typeof Blob){const t=new r(new Uint8Array(e));o(t.toString(n))}else{let r;const i=t.globalContext;if(i.BlobBuilder=i.BlobBuilder||i.WebKitBlobBuilder,void 0!==i.BlobBuilder){const t=new i.BlobBuilder;t.append(e),r=t.getBlob()}else r=new Blob([e]);const s=new FileReader;"function"==typeof s.addEventListener?s.addEventListener("loadend",(function(e){o(e.target.result)})):s.onloadend=function(e){o(e.target.result)},s.readAsText(r,n)}}),t.toBase64=e=>{const n=t.getGlobalContext();return"btoa"in n?n.btoa(e):r.from(e).toString("base64")},t.applyMixins=function(e,t){t.forEach(t=>{Object.getOwnPropertyNames(t.prototype).forEach(r=>{Object.defineProperty(e.prototype,r,Object.getOwnPropertyDescriptor(t.prototype,r))})})}}).call(this,r(5),r(19).Buffer)},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(3));t.default=function(...e){o.default.logging&&console.log(...e)}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(1));t.default=class{addEvents(e){e.forEach(e=>this._addEvent(e))}addEventListener(e,t){if("string"!=typeof e)throw new Error("Argument eventName should be a string");if("function"!=typeof t)throw new Error("Argument handler should be a function");o.default("[EventHandling] Adding event listener",e),this._validateEvent(e),this._handlers[e].push(t)}on(e,t){return this.addEventListener(e,t)}removeEventListener(e,t){this._validateEvent(e);const r=this._handlers[e].length;for(let n=0;n<r;n++)if(this._handlers[e][n]===t)return void this._handlers[e].splice(n,1)}_emit(e,...t){this._validateEvent(e),this._handlers[e].slice().forEach(e=>{e.apply(this,t)})}_validateEvent(e){if(!(e in this._handlers))throw new Error("Unknown event: "+e)}_delegateEvent(e,t){t.on(e,t=>{this._emit(e,t)})}_addEvent(e){void 0===this._handlers&&(this._handlers={}),this._handlers[e]=[]}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n={cache:!0,changeEvents:{local:!0,window:!1,remote:!0,conflict:!0},cordovaRedirectUri:void 0,logging:!1,modules:[],backgroundSyncInterval:6e4,disableFeatures:[],discoveryTimeout:1e4,isBackground:!1,requestTimeout:3e4,syncInterval:1e4};t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{constructor(e,t={}){super(),this.name="Unauthorized",this.message=void 0===e?"App authorization expired or revoked.":e,void 0!==t.code&&(this.code=t.code),this.stack=(new Error).stack}}t.default=n},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(1)),i=r(0),s=n(r(4));let a;function u(e){const t=e||c.getLocation().href,r=t.indexOf("#");if(-1===r)return;const n=t.substring(r+1);return n.includes("=")?n.split("&").reduce((function(e,t){const r=t.split("=");if("state"===r[0]&&r[1].match(/rsDiscovery/)){let t=decodeURIComponent(r[1]);const n=t.substr(t.indexOf("rsDiscovery=")).split("&")[0].split("=")[1];e.rsDiscovery=JSON.parse(atob(n)),t=t.replace(new RegExp("&?rsDiscovery="+n),""),t.length>0&&(e.state=t)}else e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]);return e}),{}):void 0}class c{static authorize(e,{authURL:t,scope:r,redirectUri:n,clientId:s}){if(o.default("[Authorize] authURL = ",t,"scope = ",r,"redirectUri = ",n,"clientId = ",s),!i.localStorageAvailable()&&"remotestorage"===e.backend){n+=n.indexOf("#")>0?"&":"#";const t={userAddress:e.remote.userAddress,href:e.remote.href,storageApi:e.remote.storageApi,properties:e.remote.properties};n+="rsDiscovery="+i.toBase64(JSON.stringify(t))}const a=function(e,t,r,n){const o=t.indexOf("#");let i=e;return i+=e.indexOf("?")>0?"&":"?",i+="redirect_uri="+encodeURIComponent(t.replace(/#.*$/,"")),i+="&scope="+encodeURIComponent(r),i+="&client_id="+encodeURIComponent(n),-1!==o&&o+1!==t.length&&(i+="&state="+encodeURIComponent(t.substring(o+1))),i+="&response_type=token",i}(t,n,r,s);i.globalContext.cordova?c.openWindow(a,n,"location=yes,clearsessioncache=yes,clearcache=yes").then(t=>{e.remote.configure({token:t.access_token})}):c.setLocation(a)}static setLocation(e){if("string"==typeof e)document.location.href=e;else{if("object"!=typeof e)throw"Invalid location "+e;document.location=e}}static _rs_supported(){return"undefined"!=typeof document}static _rs_cleanup(e){e.removeEventListener("features-loaded",a)}}t.default=c,c.IMPLIED_FAKE_TOKEN=!1,c.getLocation=function(){return document.location},c.openWindow=function(e,t,r){return new Promise((n,o)=>{const i=open(e,"_blank",r);if(!i||i.closed)return o("Authorization popup was blocked");function s(){return o("Authorization was canceled")}i.addEventListener("loadstart",(function(e){if(0!==e.url.indexOf(t))return;i.removeEventListener("exit",s),i.close();const r=u(e.url);return r?n(r):o("Authorization error")})),i.addEventListener("exit",s)})},c._rs_init=function(e){const t=u();let r;t&&(r=c.getLocation(),r.hash=""),a=function(){let n=!1;if(t){if(t.error)throw"access_denied"===t.error?new s.default("Authorization failed: access denied",{code:"access_denied"}):new s.default(`Authorization failed: ${t.error}`);t.rsDiscovery&&e.remote.configure(t.rsDiscovery),t.access_token&&(e.remote.configure({token:t.access_token}),n=!0),t.remotestorage&&(e.connect(t.remotestorage),n=!0),t.state&&(r=c.getLocation(),c.setLocation(r.href.split("#")[0]+"#"+t.state)),n||e.remote.stopWaitingForToken()}else e.remote.stopWaitingForToken()},e.on("features-loaded",a)}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(23)),i=n(r(24)),s=n(r(25)),a=n(r(2)),u=n(r(3)),c=r(0);function l(e,t){if("/"!==t[t.length-1])throw"Not a folder: "+t;"/"===t&&(this.makePath=e=>("/"===e[0]?"":"/")+e),this.storage=e,this.base=t;const r=this.base.split("/");r.length>2?this.moduleName=r[1]:this.moduleName="root",this.addEvents(["change"]),this.on=this.on.bind(this),e.onChange(this.base,this._fireChange.bind(this))}l.Types=i.default,l.prototype={scope:function(e){return new l(this.storage,this.makePath(e))},getListing:function(e,t){if("string"!=typeof e)e="";else if(e.length>0&&"/"!==e[e.length-1])return Promise.reject("Not a folder: "+e);return this.storage.get(this.makePath(e),t).then((function(e){return 404===e.statusCode?{}:e.body}))},getAll:function(e,t){if("string"!=typeof e)e="";else if(e.length>0&&"/"!==e[e.length-1])return Promise.reject("Not a folder: "+e);return this.storage.get(this.makePath(e),t).then(r=>{if(404===r.statusCode)return{};if("object"==typeof r.body){const n=Object.keys(r.body);if(0===n.length)return{};const o=n.map(n=>this.storage.get(this.makePath(e+n),t).then((function(e){if("string"==typeof e.body)try{e.body=JSON.parse(e.body)}catch(e){}"object"==typeof e.body&&(r.body[n]=e.body)})));return Promise.all(o).then((function(){return r.body}))}})},getFile:function(e,t){return"string"!=typeof e?Promise.reject("Argument 'path' of baseClient.getFile must be a string"):this.storage.get(this.makePath(e),t).then((function(e){return{data:e.body,contentType:e.contentType,revision:e.revision}}))},storeFile:function(e,t,r){return"string"!=typeof e?Promise.reject("Argument 'mimeType' of baseClient.storeFile must be a string"):"string"!=typeof t?Promise.reject("Argument 'path' of baseClient.storeFile must be a string"):"string"!=typeof r&&"object"!=typeof r?Promise.reject("Argument 'body' of baseClient.storeFile must be a string, ArrayBuffer, or ArrayBufferView"):(this.storage.access.checkPathPermission(this.makePath(t),"rw")||console.warn("WARNING: Editing a document to which only read access ('r') was claimed"),this.storage.put(this.makePath(t),r,e).then(e=>200===e.statusCode||201===e.statusCode?e.revision:Promise.reject("Request (PUT "+this.makePath(t)+") failed with status: "+e.statusCode)))},getObject:function(e,t){return"string"!=typeof e?Promise.reject("Argument 'path' of baseClient.getObject must be a string"):this.storage.get(this.makePath(e),t).then(t=>{if("object"==typeof t.body)return t.body;if("string"==typeof t.body)try{return JSON.parse(t.body)}catch(t){throw"Not valid JSON: "+this.makePath(e)}else if(void 0!==t.body&&200===t.statusCode)return Promise.reject("Not an object: "+this.makePath(e))})},storeObject:function(e,t,r){if("string"!=typeof e)return Promise.reject("Argument 'typeAlias' of baseClient.storeObject must be a string");if("string"!=typeof t)return Promise.reject("Argument 'path' of baseClient.storeObject must be a string");if("object"!=typeof r)return Promise.reject("Argument 'object' of baseClient.storeObject must be an object");this._attachType(r,e);try{const e=this.validate(r);if(!e.valid)return Promise.reject(e)}catch(e){return Promise.reject(e)}return this.storage.put(this.makePath(t),JSON.stringify(r),"application/json; charset=UTF-8").then(e=>200===e.statusCode||201===e.statusCode?e.revision:Promise.reject("Request (PUT "+this.makePath(t)+") failed with status: "+e.statusCode))},remove:function(e){return"string"!=typeof e?Promise.reject("Argument 'path' of baseClient.remove must be a string"):(this.storage.access.checkPathPermission(this.makePath(e),"rw")||console.warn("WARNING: Removing a document to which only read access ('r') was claimed"),this.storage.delete(this.makePath(e)))},getItemURL:function(e){if("string"!=typeof e)throw"Argument 'path' of baseClient.getItemURL must be a string";return this.storage.connected?(e=c.cleanPath(this.makePath(e)),this.storage.remote.href+e):void 0},cache:function(e,t="ALL"){if("string"!=typeof e)throw"Argument 'path' of baseClient.cache must be a string";if("string"!=typeof t)throw"Argument 'strategy' of baseClient.cache must be a string or undefined";if("FLUSH"!==t&&"SEEN"!==t&&"ALL"!==t)throw'Argument \'strategy\' of baseclient.cache must be one of ["FLUSH", "SEEN", "ALL"]';return this.storage.caching.set(this.makePath(e),t),this},flush:function(e){return this.storage.local.flush(e)},declareType:function(e,t,r){let n;r?n=t:(r=t,n=this._defaultTypeURI(e)),l.Types.declare(this.moduleName,e,n,r)},validate:function(e){const t=l.Types.getSchema(e["@context"]);if(t)return o.default.validateResult(e,t);throw new s.default(e["@context"])},schemas:{configurable:!0,get:function(){return l.Types.inScope(this.moduleName)}},_defaultTypeURI:function(e){return"http://remotestorage.io/spec/modules/"+encodeURIComponent(this.moduleName)+"/"+encodeURIComponent(e)},_attachType:function(e,t){e["@context"]=l.Types.resolveAlias(this.moduleName+"/"+t)||this._defaultTypeURI(t)},makePath:function(e){return this.base+(e||"")},_fireChange:function(e){u.default.changeEvents[e.origin]&&(["new","old","lastCommon"].forEach((function(t){if((!e[t+"ContentType"]||/^application\/(.*)json(.*)/.exec(e[t+"ContentType"]))&&"string"==typeof e[t+"Value"])try{e[t+"Value"]=JSON.parse(e[t+"Value"])}catch(e){}})),this._emit("change",e))}},l._rs_init=function(){},c.applyMixins(l,[a.default]),t.default=l},function(e,t,r){"use strict";(function(e){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=o(r(6)),s=o(r(2)),a=o(r(4)),u=o(r(3)),c=o(r(1)),l=r(0);let h;const d="remotestorage:wireclient",f={"draft-dejong-remotestorage-00":2,"draft-dejong-remotestorage-01":3,"draft-dejong-remotestorage-02":4,"https://www.w3.org/community/rww/wiki/read-write-web-00#simple":1};let p;if("function"==typeof(e||window).ArrayBufferView)p=function(t){return t&&t instanceof(e||window).ArrayBufferView};else{const e=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];p=function(t){for(let r=0;r<8;r++)if(t instanceof e[r])return!0;return!1}}function m(e){return"string"!=typeof e?e:"*"===e?"*":'"'+e+'"'}function g(e){return"string"!=typeof e?e:e.replace(/^["']|["']$/g,"")}const y=function(e){if(this.rs=e,this.connected=!1,this.addEvents(["connected","not-connected"]),h){const e=l.getJSONFromLocalStorage(d);e&&setTimeout(()=>{this.configure(e)},0)}this._revisionCache={},this.connected&&setTimeout(this._emit.bind(this),0,"connected")};y.prototype={_request:function(e,t,r,o,s,u,h){return n(this,void 0,void 0,(function*(){if(function(e,t){return("PUT"===e||"DELETE"===e)&&l.isFolder(t)}(e,t))return Promise.reject(`Don't use ${e} on directories!`);let n;return r!==i.default.IMPLIED_FAKE_TOKEN&&(o.Authorization="Bearer "+r),this.rs._emit("wire-busy",{method:e,isFolder:l.isFolder(t)}),y.request(e,t,{body:s,headers:o,responseType:"arraybuffer"}).then(r=>{if(this.online||(this.online=!0,this.rs._emit("network-online")),this.rs._emit("wire-done",{method:e,isFolder:l.isFolder(t),success:!0}),o=r.status,[401,403,404,412].indexOf(o)>=0)return c.default("[WireClient] Error response status",r.status),n=u?g(r.getResponseHeader("ETag")):void 0,401===r.status&&this.rs._emit("error",new a.default),Promise.resolve({statusCode:r.status,revision:n});if(function(e){return[201,204,304].indexOf(e)>=0}(r.status)||200===r.status&&"GET"!==e)return n=g(r.getResponseHeader("ETag")),c.default("[WireClient] Successful request",n),Promise.resolve({statusCode:r.status,revision:n});{const e=r.getResponseHeader("Content-Type");n=u?g(r.getResponseHeader("ETag")):200===r.status?h:void 0;const t=function(e){let t,r="UTF-8";return e&&(t=e.match(/charset=(.+)$/),t&&(r=t[1])),r}(e);return l.shouldBeTreatedAsBinary(r.response,e)?(c.default("[WireClient] Successful request with unknown or binary mime-type",n),Promise.resolve({statusCode:r.status,body:r.response,contentType:e,revision:n})):l.getTextFromArrayBuffer(r.response,t).then(t=>(c.default("[WireClient] Successful request",n),Promise.resolve({statusCode:r.status,body:t,contentType:e,revision:n})))}var o},r=>(this.online&&(this.online=!1,this.rs._emit("network-offline")),this.rs._emit("wire-done",{method:e,isFolder:l.isFolder(t),success:!1}),Promise.reject(r)))}))},configure:function(e){if("object"!=typeof e)throw new Error("WireClient configure settings parameter should be an object");void 0!==e.userAddress&&(this.userAddress=e.userAddress),void 0!==e.href&&(this.href=e.href),void 0!==e.storageApi&&(this.storageApi=e.storageApi),void 0!==e.token&&(this.token=e.token),void 0!==e.properties&&(this.properties=e.properties),void 0!==this.storageApi&&(this._storageApi=f[this.storageApi]||5,this.supportsRevs=this._storageApi>=2),this.href&&this.token?(this.connected=!0,this.online=!0,this._emit("connected")):this.connected=!1,h&&(localStorage[d]=JSON.stringify({userAddress:this.userAddress,href:this.href,storageApi:this.storageApi,token:this.token,properties:this.properties}))},stopWaitingForToken:function(){this.connected||this._emit("not-connected")},get:function(e,t={}){if(!this.connected)return Promise.reject("not connected (path: "+e+")");const r={};return this.supportsRevs&&t.ifNoneMatch&&(r["If-None-Match"]=m(t.ifNoneMatch)),this._request("GET",this.href+l.cleanPath(e),this.token,r,void 0,this.supportsRevs,this._revisionCache[e]).then(t=>{if(!l.isFolder(e))return Promise.resolve(t);let r={};if(void 0!==t.body)try{t.body=JSON.parse(t.body)}catch(t){return Promise.reject("Folder description at "+this.href+l.cleanPath(e)+" is not JSON")}if(200===t.statusCode&&"object"==typeof t.body){if(0===Object.keys(t.body).length)t.statusCode=404;else if("http://remotestorage.io/spec/folder-description"===(n=t.body)["@context"]&&"object"==typeof n.items){for(const r in t.body.items)this._revisionCache[e+r]=t.body.items[r].ETag;r=t.body.items}else Object.keys(t.body).forEach(n=>{this._revisionCache[e+n]=t.body[n],r[n]={ETag:t.body[n]}});return t.body=r,Promise.resolve(t)}return Promise.resolve(t);var n})},put:function(e,t,r,n={}){if(!this.connected)return Promise.reject("not connected (path: "+e+")");!r.match(/charset=/)&&(t instanceof ArrayBuffer||p(t))&&(r+="; charset=binary");const o={"Content-Type":r};return this.supportsRevs&&(n.ifMatch&&(o["If-Match"]=m(n.ifMatch)),n.ifNoneMatch&&(o["If-None-Match"]=m(n.ifNoneMatch))),this._request("PUT",this.href+l.cleanPath(e),this.token,o,t,this.supportsRevs)},delete:function(e,t={}){if(!this.connected)throw new Error("not connected (path: "+e+")");t||(t={});const r={};return this.supportsRevs&&t.ifMatch&&(r["If-Match"]=m(t.ifMatch)),this._request("DELETE",this.href+l.cleanPath(e),this.token,r,void 0,this.supportsRevs)}},y.isArrayBufferView=p,y.request=function(e,t,r){return n(this,void 0,void 0,(function*(){return"function"==typeof fetch?y._fetchRequest(e,t,r):"function"==typeof XMLHttpRequest?y._xhrRequest(e,t,r):(c.default("[WireClient] You need to add a polyfill for fetch or XMLHttpRequest"),Promise.reject("[WireClient] You need to add a polyfill for fetch or XMLHttpRequest"))}))},y._fetchRequest=function(e,t,r){let n;const o={};let i;"function"==typeof AbortController&&(i=new AbortController);const s=fetch(t,{method:e,headers:r.headers,body:r.body,signal:i?i.signal:void 0}).then(e=>{switch(c.default("[WireClient fetch]",e),e.headers.forEach((e,t)=>{o[t.toUpperCase()]=e}),n={readyState:4,status:e.status,statusText:e.statusText,response:void 0,getResponseHeader:e=>o[e.toUpperCase()]||null,responseType:r.responseType,responseURL:t},r.responseType){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json();case void 0:case"":case"text":return e.text();default:throw new Error("responseType 'document' is not currently supported using fetch")}}).then(e=>(n.response=e,r.responseType&&"text"!==r.responseType||(n.responseText=e),n)),a=new Promise((e,t)=>{setTimeout(()=>{t("timeout"),i&&i.abort()},u.default.requestTimeout)});return Promise.race([s,a])},y._xhrRequest=function(e,t,r){return new Promise((n,o)=>{c.default("[WireClient]",e,t);let i=!1;const s=setTimeout(()=>{i=!0,o("timeout")},u.default.requestTimeout),a=new XMLHttpRequest;if(a.open(e,t,!0),r.responseType&&(a.responseType=r.responseType),r.headers)for(const e in r.headers)a.setRequestHeader(e,r.headers[e]);a.onload=()=>{i||(clearTimeout(s),n(a))},a.onerror=e=>{i||(clearTimeout(s),o(e))};let l=r.body;"object"==typeof l&&!p(l)&&l instanceof ArrayBuffer&&(l=new Uint8Array(l)),a.send(l)})},Object.defineProperty(y.prototype,"storageType",{get:function(){if(this.storageApi){const e=this.storageApi.match(/draft-dejong-(remotestorage-\d\d)/);return e?e[1]:"2012.04"}}}),y._rs_init=function(e){h=l.localStorageAvailable(),e.remote=new y(e),this.online=!0},y._rs_supported=function(){return"function"==typeof fetch||"function"==typeof XMLHttpRequest},y._rs_cleanup=function(){h&&delete localStorage[d]},l.applyMixins(y,[s.default]),t.default=y}).call(this,r(5))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{constructor(e){super(),this.name="SyncError",this.message="Sync failed: ","string"==typeof e?this.message+=e:(this.message+=e.message,this.stack=e.stack,this.originalError=e)}}t.default=n},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(2)),i=n(r(3)),s=n(r(1)),a=r(0);class u{constructor(){this._updateNodesRunning=!1,this._updateNodesQueued=[]}get(e,t,r){return"number"==typeof t?this.getNodes(a.pathsFromRoot(e)).then(n=>{const o=c(n[e]);return l(n,t)?r(e):o?{statusCode:200,body:o.body||o.itemsMap,contentType:o.contentType}:{statusCode:404}}):this.getNodes([e]).then(t=>{const r=c(t[e]);if(r){if(a.isFolder(e))for(const e in r.itemsMap)r.itemsMap.hasOwnProperty(e)&&!1===r.itemsMap[e]&&delete r.itemsMap[e];return{statusCode:200,body:r.body||r.itemsMap,contentType:r.contentType}}return{statusCode:404}})}put(e,t,r){const n=a.pathsFromRoot(e);return this._updateNodes(n,(function(e,n){try{for(let o=0,i=e.length;o<i;o++){const i=e[o];let s,a=n[i];if(a||(n[i]=a=h(i)),0===o)s=c(a),a.local={body:t,contentType:r,previousBody:s?s.body:void 0,previousContentType:s?s.contentType:void 0};else{a=d(a,e[o-1].substring(i.length))}}return n}catch(e){throw s.default("[Cachinglayer] Error during PUT",n,e),e}}))}delete(e){const t=a.pathsFromRoot(e);return this._updateNodes(t,(function(e,t){for(let r=0,n=e.length;r<n;r++){const n=e[r],o=t[n];let i;if(o)if(0===r)i=c(o),o.local={body:!1,previousBody:i?i.body:void 0,previousContentType:i?i.contentType:void 0};else{o.local||(o.local=a.deepClone(o.common));const t=e[r-1].substring(n.length);if(delete o.local.itemsMap[t],Object.getOwnPropertyNames(o.local.itemsMap).length>0)break}else console.error("Cannot delete non-existing node "+n)}return t}))}flush(e){return this._getAllDescendentPaths(e).then(e=>this.getNodes(e)).then(e=>{for(const t in e){const r=e[t];r&&r.common&&r.local&&this._emitChange({path:r.path,origin:"local",oldValue:!1===r.local.body?void 0:r.local.body,newValue:!1===r.common.body?void 0:r.common.body}),e[t]=void 0}return this.setNodes(e)})}_emitChange(e){i.default.changeEvents[e.origin]&&this._emit("change",e)}fireInitial(){i.default.changeEvents.local&&this.forAllNodes(e=>{if(a.isDocument(e.path)){const t=c(e);t&&this._emitChange({path:e.path,origin:"local",oldValue:void 0,oldContentType:void 0,newValue:t.body,newContentType:t.contentType})}}).then(()=>{this._emit("local-events-done")})}onDiff(e){this.diffHandler=e}migrate(e){return"object"!=typeof e||e.common||(e.common={},"string"==typeof e.path?"/"===e.path.substr(-1)&&"object"==typeof e.body&&(e.common.itemsMap=e.body):(e.local||(e.local={}),e.local.body=e.body,e.local.contentType=e.contentType)),e}_updateNodes(e,t){return new Promise((r,n)=>{this._doUpdateNodes(e,t,{resolve:r,reject:n})})}_doUpdateNodes(e,t,r){this._updateNodesRunning?this._updateNodesQueued.push({paths:e,cb:t,promise:r}):(this._updateNodesRunning=!0,this.getNodes(e).then(n=>{const o=a.deepClone(n),i=[];n=t(e,n);for(const e in n){const t=n[e];a.equal(t,o[e])?delete n[e]:a.isDocument(e)&&(a.equal(t.local.body,t.local.previousBody)&&t.local.contentType===t.local.previousContentType||i.push({path:e,origin:"window",oldValue:t.local.previousBody,newValue:!1===t.local.body?void 0:t.local.body,oldContentType:t.local.previousContentType,newContentType:t.local.contentType}),delete t.local.previousBody,delete t.local.previousContentType)}this.setNodes(n).then(()=>{this._emitChangeEvents(i),r.resolve({statusCode:200})})}).then(()=>Promise.resolve(),e=>{r.reject(e)}).then(()=>{this._updateNodesRunning=!1;const e=this._updateNodesQueued.shift();e&&this._doUpdateNodes(e.paths,e.cb,e.promise)}))}_emitChangeEvents(e){for(let t=0,r=e.length;t<r;t++)this._emitChange(e[t]),this.diffHandler&&this.diffHandler(e[t].path)}_getAllDescendentPaths(e){return a.isFolder(e)?this.getNodes([e]).then(t=>{const r=[e],n=c(t[e]),o=Object.keys(n.itemsMap).map(t=>this._getAllDescendentPaths(e+t).then(e=>{for(let t=0,n=e.length;t<n;t++)r.push(e[t])}));return Promise.all(o).then(()=>r)}):Promise.resolve([e])}_getInternals(){return{getLatest:c,makeNode:h,isOutdated:l}}}function c(e){if("object"==typeof e&&"string"==typeof e.path)if(a.isFolder(e.path)){if(e.local&&e.local.itemsMap)return e.local;if(e.common&&e.common.itemsMap)return e.common}else{if(e.local){if(e.local.body&&e.local.contentType)return e.local;if(!1===e.local.body)return}if(e.common&&e.common.body&&e.common.contentType)return e.common;if(e.body&&e.contentType)return{body:e.body,contentType:e.contentType}}}function l(e,t){for(const r in e){if(e[r]&&e[r].remote)return!0;const n=c(e[r]);if(n&&n.timestamp&&(new Date).getTime()-n.timestamp<=t)return!1;if(!n)return!0}return!0}function h(e){const t={path:e,common:{}};return a.isFolder(e)&&(t.common.itemsMap={}),t}function d(e,t){return e.common||(e.common={itemsMap:{}}),e.common.itemsMap||(e.common.itemsMap={}),e.local||(e.local=a.deepClone(e.common)),e.local.itemsMap||(e.local.itemsMap=e.common.itemsMap),e.local.itemsMap[t]=!0,e}a.applyMixins(u,[o.default]),t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(){this.reset()}static _rs_init(){}get scopes(){return Object.keys(this.scopeModeMap).map(e=>({name:e,mode:this.scopeModeMap[e]}))}get scopeParameter(){return this.scopes.map(e=>`${this._scopeNameForParameter(e)}:${e.mode}`).join(" ")}claim(e,t){if("string"!=typeof e||-1!==e.indexOf("/")||0===e.length)throw new Error("Scope should be a non-empty string without forward slashes");if(!t.match(/^rw?$/))throw new Error("Mode should be either 'r' or 'rw'");this._adjustRootPaths(e),this.scopeModeMap[e]=t}get(e){return this.scopeModeMap[e]}remove(e){const t={};for(const e in this.scopeModeMap)t[e]=this.scopeModeMap[e];this.reset(),delete t[e];for(const e in t)this.claim(e,t[e])}checkPermission(e,t){const r=this.get(e);return r&&("r"===t||"rw"===r)}checkPathPermission(e,t){if(this.checkPermission("*",t))return!0;const r=this._getModuleName(e);return!!this.checkPermission(r,t)}reset(){this.rootPaths=[],this.scopeModeMap={}}_getModuleName(e){if("/"!==e[0])throw new Error("Path should start with a slash");const t=e.replace(/^\/public/,"").match(/^\/([^/]*)\//);return t?t[1]:"*"}_adjustRootPaths(e){"*"in this.scopeModeMap||"*"===e?this.rootPaths=["/"]:e in this.scopeModeMap||(this.rootPaths.push("/"+e+"/"),this.rootPaths.push("/public/"+e+"/"))}_scopeNameForParameter(e){if("*"===e.name&&this.storageType){if("2012.04"===this.storageType)return"";if(this.storageType.match(/remotestorage-0[01]/))return"root"}return e.name}setStorageType(e){this.storageType=e}}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(0),i=n(r(1));t.default=class{constructor(){this.pendingActivations=[],this.reset()}set(e,t){if("string"!=typeof e)throw new Error("path should be a string");if(!o.isFolder(e))throw new Error("path should be a folder");if(!t.match(/^(FLUSH|SEEN|ALL)$/))throw new Error("strategy should be 'FLUSH', 'SEEN', or 'ALL'");this._rootPaths[e]=t,"ALL"===t&&(this.activateHandler?this.activateHandler(e):this.pendingActivations.push(e))}enable(e){this.set(e,"ALL")}disable(e){this.set(e,"FLUSH")}onActivate(e){i.default("[Caching] Setting activate handler",e,this.pendingActivations),this.activateHandler=e;for(let t=0;t<this.pendingActivations.length;t++)e(this.pendingActivations[t]);delete this.pendingActivations}checkPath(e){return void 0!==this._rootPaths[e]?this._rootPaths[e]:"/"===e?"SEEN":this.checkPath(o.containingFolder(e))}reset(){this._rootPaths={}}static _rs_init(){}}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(7)),i=n(r(8)),s=n(r(2)),a=r(0),u="https://www.googleapis.com",c="remotestorage:googledrive";let l;function h(e){return"/"===e.substr(-1)&&(e=e.substr(0,e.length-1)),decodeURIComponent(e)}function d(e){return e.replace(/[^\/]+\/?$/,"")}function f(e){const t=e.split("/");return"/"===e.substr(-1)?t[t.length-2]+"/":t[t.length-1]}function p(e){return a.cleanPath(`/remotestorage/${e}`)}function m(e){return e.replace(/^["'](.*)["']$/,"$1")}class g{constructor(e){this._items={},this.maxAge=e,this._items={}}get(e){const t=this._items[e],r=(new Date).getTime();return t&&t.t>=r-this.maxAge?t.v:void 0}set(e,t){this._items[e]={v:t,t:(new Date).getTime()}}}const y=function(e,t){if(this.addEvents(["connected","not-connected"]),this.rs=e,this.clientId=t,this._fileIdCache=new g(300),l=a.localStorageAvailable(),l){const e=a.getJSONFromLocalStorage(c);e&&this.configure(e)}};y.prototype={connected:!1,online:!0,configure:function(e){void 0!==e.userAddress&&(this.userAddress=e.userAddress),void 0!==e.token&&(this.token=e.token);const t=function(){l&&localStorage.setItem(c,JSON.stringify({userAddress:this.userAddress,token:this.token}))},r=function(){this.connected=!1,delete this.token,l&&localStorage.removeItem(c)};this.token?(this.connected=!0,this.userAddress?(this._emit("connected"),t.apply(this)):this.info().then(e=>{this.userAddress=e.user.emailAddress,this._emit("connected"),t.apply(this)}).catch(()=>{r.apply(this),this.rs._emit("error",new Error("Could not fetch user info."))})):r.apply(this)},connect:function(){this.rs.setBackend("googledrive"),this.rs.authorize({authURL:"https://accounts.google.com/o/oauth2/auth",scope:"https://www.googleapis.com/auth/drive",clientId:this.clientId})},stopWaitingForToken:function(){this.connected||this._emit("not-connected")},get:function(e,t){return"/"===e.substr(-1)?this._getFolder(p(e),t):this._getFile(p(e),t)},put:function(e,t,r,n){const o=p(e);function i(e){if(e.status>=200&&e.status<300){const t=JSON.parse(e.responseText),r=m(t.etag);return Promise.resolve({statusCode:200,contentType:t.mimeType,revision:r})}return 412===e.status?Promise.resolve({statusCode:412,revision:"conflict"}):Promise.reject("PUT failed with status "+e.status+" ("+e.responseText+")")}return this._getFileId(o).then(e=>e?n&&"*"===n.ifNoneMatch?i({status:412}):this._updateFile(e,o,t,r,n).then(i):this._createFile(o,t,r,n).then(i))},delete:function(e,t){const r=p(e);return this._getFileId(r).then(e=>e?this._getMeta(e).then(r=>{let n;return"object"==typeof r&&"string"==typeof r.etag&&(n=m(r.etag)),t&&t.ifMatch&&t.ifMatch!==n?{statusCode:412,revision:n}:this._request("DELETE",u+"/drive/v2/files/"+e,{}).then(e=>200===e.status||204===e.status?{statusCode:200}:Promise.reject("Delete failed: "+e.status+" ("+e.responseText+")"))}):Promise.resolve({statusCode:200}))},info:function(){return this._request("GET","https://www.googleapis.com/drive/v2/about?fields=user",{}).then((function(e){try{const t=JSON.parse(e.responseText);return Promise.resolve(t)}catch(e){return Promise.reject(e)}}))},_updateFile:function(e,t,r,n,o){const i={mimeType:n},s={"Content-Type":"application/json; charset=UTF-8"};return o&&o.ifMatch&&(s["If-Match"]='"'+o.ifMatch+'"'),this._request("PUT",u+"/upload/drive/v2/files/"+e+"?uploadType=resumable",{body:JSON.stringify(i),headers:s}).then(e=>412===e.status?e:this._request("PUT",e.getResponseHeader("Location"),{body:n.match(/^application\/json/)?JSON.stringify(r):r}))},_createFile:function(e,t,r){return this._getParentId(e).then(n=>{const o={title:h(f(e)),mimeType:r,parents:[{kind:"drive#fileLink",id:n}]};return this._request("POST",u+"/upload/drive/v2/files?uploadType=resumable",{body:JSON.stringify(o),headers:{"Content-Type":"application/json; charset=UTF-8"}}).then(e=>this._request("POST",e.getResponseHeader("Location"),{body:r.match(/^application\/json/)?JSON.stringify(t):t}))})},_getFile:function(e,t){return this._getFileId(e).then(e=>this._getMeta(e).then(e=>{let r;if("object"==typeof e&&"string"==typeof e.etag&&(r=m(e.etag)),t&&t.ifNoneMatch&&r===t.ifNoneMatch)return Promise.resolve({statusCode:304});if(!e.downloadUrl){if(!e.exportLinks||!e.exportLinks["text/html"])return Promise.resolve({statusCode:200,body:"",contentType:e.mimeType,revision:r});e.mimeType+=";export=text/html",e.downloadUrl=e.exportLinks["text/html"]}return this._request("GET",e.downloadUrl,{responseType:"arraybuffer"}).then(t=>a.getTextFromArrayBuffer(t.response,"UTF-8").then((function(n){let o=n;if(e.mimeType.match(/^application\/json/))try{o=JSON.parse(o)}catch(e){}else a.shouldBeTreatedAsBinary(n,e.mimeType)&&(o=t.response);return{statusCode:200,body:o,contentType:e.mimeType,revision:r}})))}))},_getFolder:function(e){return this._getFileId(e).then(t=>{let r,n,o;if(!t)return Promise.resolve({statusCode:404});const i="'"+t+"' in parents";return this._request("GET",u+"/drive/v2/files?q="+encodeURIComponent(i)+"&fields="+encodeURIComponent("items(downloadUrl,etag,fileSize,id,mimeType,title)")+"&maxResults=1000",{}).then(t=>{if(200!==t.status)return Promise.reject("request failed or something: "+t.status);try{r=JSON.parse(t.responseText)}catch(e){return Promise.reject("non-JSON response from GoogleDrive")}o={};for(const t of r.items)n=m(t.etag),"application/vnd.google-apps.folder"===t.mimeType?(this._fileIdCache.set(e+a.cleanPath(t.title)+"/",t.id),o[t.title+"/"]={ETag:n}):(this._fileIdCache.set(e+a.cleanPath(t.title),t.id),o[t.title]={ETag:n,"Content-Type":t.mimeType,"Content-Length":t.fileSize});return Promise.resolve({statusCode:200,body:o,contentType:"application/json; charset=UTF-8",revision:void 0})})})},_getParentId:function(e){const t=d(e);return this._getFileId(t).then(e=>e?Promise.resolve(e):this._createFolder(t))},_createFolder:function(e){return this._getParentId(e).then(t=>this._request("POST",u+"/drive/v2/files",{body:JSON.stringify({title:h(f(e)),mimeType:"application/vnd.google-apps.folder",parents:[{id:t}]}),headers:{"Content-Type":"application/json; charset=UTF-8"}}).then(e=>{const t=JSON.parse(e.responseText);return Promise.resolve(t.id)}))},_getFileId:function(e){let t;return"/"===e?Promise.resolve("root"):(t=this._fileIdCache.get(e))?Promise.resolve(t):this._getFolder(d(e)).then(()=>(t=this._fileIdCache.get(e),t?Promise.resolve(t):"/"===e.substr(-1)?this._createFolder(e).then(()=>this._getFileId(e)):Promise.resolve()))},_getMeta:function(e){return this._request("GET",u+"/drive/v2/files/"+e,{}).then((function(t){return 200===t.status?Promise.resolve(JSON.parse(t.responseText)):Promise.reject("request (getting metadata for "+e+") failed with status: "+t.status)}))},_request:function(e,t,r){return r.headers||(r.headers={}),r.headers.Authorization="Bearer "+this.token,this.rs._emit("wire-busy",{method:e,isFolder:a.isFolder(t)}),i.default.request.call(this,e,t,r).then(r=>r&&401===r.status?void this.connect():(this.online||(this.online=!0,this.rs._emit("network-online")),this.rs._emit("wire-done",{method:e,isFolder:a.isFolder(t),success:!0}),Promise.resolve(r)),r=>(this.online&&(this.online=!1,this.rs._emit("network-offline")),this.rs._emit("wire-done",{method:e,isFolder:a.isFolder(t),success:!1}),Promise.reject(r)))}},y._rs_init=function(e){const t=e.apiKeys.googledrive;var r;t&&(e.googledrive=new y(e,t.clientId),"googledrive"===e.backend&&(e._origRemote=e.remote,e.remote=e.googledrive,(r=e)._origBaseClientGetItemURL||(r._origBaseClientGetItemURL=o.default.prototype.getItemURL,o.default.prototype.getItemURL=function(){throw new Error("getItemURL is not implemented for Google Drive yet")})))},y._rs_supported=function(){return!0},y._rs_cleanup=function(e){var t;e.setBackend(void 0),e._origRemote&&(e.remote=e._origRemote,delete e._origRemote),(t=e)._origBaseClientGetItemURL&&(o.default.prototype.getItemURL=t._origBaseClientGetItemURL,delete t._origBaseClientGetItemURL)},a.applyMixins(y,[s.default]),t.default=y},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=o(r(2)),s=o(r(8)),a=o(r(7)),u=o(r(26)),c=o(r(9)),l=o(r(4)),h=r(0);let d;const f="remotestorage:dropbox";function p(e){return h.cleanPath("/remotestorage/"+e).replace(/\/$/,"")}function m(e,t){return new RegExp("^"+t.join("\\/")+"(\\/|$)").test(e.error_summary)}function g(e){return e instanceof ArrayBuffer||s.default.isArrayBufferView(e)}class y{constructor(e){if(this.rs=e,this.connected=!1,this.online=!0,this._initialFetchDone=!1,this.addEvents(["connected","not-connected"]),this.clientId=e.apiKeys.dropbox.appKey,this._revCache=new u.default("rev"),this._fetchDeltaCursor=null,this._fetchDeltaPromise=null,this._itemRefs={},d=h.localStorageAvailable(),d){const e=h.getJSONFromLocalStorage(f);e&&this.configure(e),this._itemRefs=h.getJSONFromLocalStorage(`${f}:shares`)||{}}this.connected&&setTimeout(this._emit.bind(this),0,"connected")}connect(){this.rs.setBackend("dropbox"),this.token?b(this.rs):this.rs.authorize({authURL:"https://www.dropbox.com/oauth2/authorize",scope:"",clientId:this.clientId})}configure(e){void 0!==e.userAddress&&(this.userAddress=e.userAddress),void 0!==e.token&&(this.token=e.token);const t=function(){d&&localStorage.setItem(f,JSON.stringify({userAddress:this.userAddress,token:this.token}))},r=function(){this.connected=!1,d&&localStorage.removeItem(f)};this.token?(this.connected=!0,this.userAddress?(this._emit("connected"),t.apply(this)):this.info().then(function(e){this.userAddress=e.email,this._emit("connected"),t.apply(this)}.bind(this)).catch(function(){r.apply(this),this.rs._emit("error",new Error("Could not fetch user info."))}.bind(this))):r.apply(this)}stopWaitingForToken(){this.connected||this._emit("not-connected")}_getFolder(e){const t=this._revCache,r=r=>{let o;if(200!==r.status&&409!==r.status)return Promise.reject("Unexpected response status: "+r.status);try{o=JSON.parse(r.responseText)}catch(e){return Promise.reject(e)}if(409===r.status)return m(o,["path","not_found"])?Promise.resolve({}):Promise.reject(new Error("API returned an error: "+o.error_summary));const i=o.entries.reduce((r,n)=>{const o="folder"===n[".tag"],i=n.path_lower.split("/").slice(-1)[0]+(o?"/":"");return o?r[i]={ETag:t.get(e+i)}:(r[i]={ETag:n.rev},this._revCache.set(e+i,n.rev)),r},{});return o.has_more?n(o.cursor).then((function(e){return Object.assign(i,e)})):Promise.resolve(i)},n=e=>{const t={body:{cursor:e}};return this._request("POST","https://api.dropboxapi.com/2/files/list_folder/continue",t).then(r)};return this._request("POST","https://api.dropboxapi.com/2/files/list_folder",{body:{path:p(e)}}).then(r).then((function(r){return Promise.resolve({statusCode:200,body:r,contentType:"application/json; charset=UTF-8",revision:t.get(e)})}))}get(e,t){if(!this.connected)return Promise.reject("not connected (path: "+e+")");const r=this._revCache.get(e);if(null===r)return Promise.resolve({statusCode:404});if(t&&t.ifNoneMatch){if(!this._initialFetchDone)return this.fetchDelta().then(()=>this.get(e,t));if(r&&r===t.ifNoneMatch)return Promise.resolve({statusCode:304})}if("/"===e.substr(-1))return this._getFolder(e);const n={headers:{"Dropbox-API-Arg":JSON.stringify({path:p(e)})},responseType:"arraybuffer"};return t&&t.ifNoneMatch&&(n.headers["If-None-Match"]=t.ifNoneMatch),this._request("GET","https://content.dropboxapi.com/2/files/download",n).then(t=>{const r=t.status;let n,o,i,s;return 200!==r&&409!==r?Promise.resolve({statusCode:r}):(n=t.getResponseHeader("Dropbox-API-Result"),h.getTextFromArrayBuffer(t.response,"UTF-8").then(a=>{o=a,409===r&&(n=o);try{n=JSON.parse(n)}catch(e){return Promise.reject(e)}if(409===r)return m(n,["path","not_found"])?{statusCode:404}:Promise.reject(new Error('API error while downloading file ("'+e+'"): '+n.error_summary));if(i=t.getResponseHeader("Content-Type"),s=n.rev,this._revCache.set(e,s),this._shareIfNeeded(e),h.shouldBeTreatedAsBinary(a,i))o=t.response;else try{o=JSON.parse(o),i="application/json; charset=UTF-8"}catch(e){}return{statusCode:r,body:o,contentType:i,revision:s}}))})}put(e,t,r,n){if(!this.connected)throw new Error("not connected (path: "+e+")");const o=this._revCache.get(e);if(n&&n.ifMatch&&o&&o!==n.ifMatch)return Promise.resolve({statusCode:412,revision:o});if(n&&"*"===n.ifNoneMatch&&o&&"rev"!==o)return Promise.resolve({statusCode:412,revision:o});if(!r.match(/charset=/)&&g(t)&&(r+="; charset=binary"),t.length>157286400)return Promise.reject(new Error("Cannot upload file larger than 150MB"));let i;const s=n&&(n.ifMatch||"*"===n.ifNoneMatch),a={body:t,contentType:r,path:e};return i=s?this._getMetadata(e).then(e=>n&&"*"===n.ifNoneMatch&&e?Promise.resolve({statusCode:412,revision:e.rev}):n&&n.ifMatch&&e&&e.rev!==n.ifMatch?Promise.resolve({statusCode:412,revision:e.rev}):this._uploadSimple(a)):this._uploadSimple(a),i.then(t=>(this._shareIfNeeded(e),t))}delete(e,t){if(!this.connected)throw new Error("not connected (path: "+e+")");const r=this._revCache.get(e);return t&&t.ifMatch&&r&&t.ifMatch!==r?Promise.resolve({statusCode:412,revision:r}):t&&t.ifMatch?this._getMetadata(e).then(r=>t&&t.ifMatch&&r&&r.rev!==t.ifMatch?Promise.resolve({statusCode:412,revision:r.rev}):this._deleteSimple(e)):this._deleteSimple(e)}_shareIfNeeded(e){e.match(/^\/public\/.*[^/]$/)&&void 0===this._itemRefs[e]&&this.share(e)}share(e){const t={body:{path:p(e)}};return this._request("POST","https://api.dropboxapi.com/2/sharing/create_shared_link_with_settings",t).then(t=>{if(200!==t.status&&409!==t.status)return Promise.reject(new Error("Invalid response status:"+t.status));let r;try{r=JSON.parse(t.responseText)}catch(e){return Promise.reject(new Error("Invalid response body: "+t.responseText))}return 409===t.status?m(r,["shared_link_already_exists"])?this._getSharedLink(e):Promise.reject(new Error("API error: "+r.error_summary)):Promise.resolve(r.url)}).then(t=>(this._itemRefs[e]=t,d&&localStorage.setItem(f+":shares",JSON.stringify(this._itemRefs)),Promise.resolve(t)),t=>(t.message='Sharing Dropbox file or folder ("'+e+'") failed: '+t.message,Promise.reject(t)))}info(){return this._request("POST","https://api.dropboxapi.com/2/users/get_current_account",{}).then((function(e){let t=e.responseText;try{t=JSON.parse(t)}catch(e){return Promise.reject(new Error("Could not query current account info: Invalid API response: "+t))}return Promise.resolve({email:t.email})}))}_request(e,t,r){return r.headers||(r.headers={}),r.headers.Authorization="Bearer "+this.token,"object"!=typeof r.body||g(r.body)||(r.body=JSON.stringify(r.body),r.headers["Content-Type"]="application/json; charset=UTF-8"),this.rs._emit("wire-busy",{method:e,isFolder:h.isFolder(t)}),s.default.request.call(this,e,t,r).then(n=>n&&503===n.status?(this.online&&(this.online=!1,this.rs._emit("network-offline")),setTimeout(this._request(e,t,r),3210)):(this.online||(this.online=!0,this.rs._emit("network-online")),this.rs._emit("wire-done",{method:e,isFolder:h.isFolder(t),success:!0}),Promise.resolve(n)),r=>(this.online&&(this.online=!1,this.rs._emit("network-offline")),this.rs._emit("wire-done",{method:e,isFolder:h.isFolder(t),success:!1}),Promise.reject(r)))}fetchDelta(...e){if(this._fetchDeltaPromise)return this._fetchDeltaPromise;const t=r=>{let n,o="https://api.dropboxapi.com/2/files/list_folder";return"string"==typeof r?(o+="/continue",n={cursor:r}):n={path:"/remotestorage",recursive:!0,include_deleted:!0},this._request("POST",o,{body:n}).then(n=>{if(401===n.status)return this.rs._emit("error",new l.default),Promise.resolve(e);if(200!==n.status&&409!==n.status)return Promise.reject(new Error("Invalid response status: "+n.status));let o;try{o=JSON.parse(n.responseText)}catch(e){return Promise.reject(new Error("Invalid response body: "+n.responseText))}if(409===n.status){if(!m(o,["path","not_found"]))return Promise.reject(new Error("API returned an error: "+o.error_summary));o={cursor:null,entries:[],has_more:!1}}if(r||this._revCache.deactivatePropagation(),o.entries.forEach(e=>{const t=e.path_lower.substr("/remotestorage".length);"deleted"===e[".tag"]?(this._revCache.delete(t),this._revCache.delete(t+"/")):"file"===e[".tag"]&&this._revCache.set(t,e.rev)}),this._fetchDeltaCursor=o.cursor,o.has_more)return t(o.cursor);this._revCache.activatePropagation(),this._initialFetchDone=!0}).catch(e=>"timeout"===e||e instanceof ProgressEvent?Promise.resolve():Promise.reject(e))};return this._fetchDeltaPromise=t(this._fetchDeltaCursor).catch(e=>("object"==typeof e&&"message"in e?e.message="Dropbox: fetchDelta: "+e.message:e=`Dropbox: fetchDelta: ${e}`,this._fetchDeltaPromise=null,Promise.reject(e))).then(()=>(this._fetchDeltaPromise=null,Promise.resolve(e))),this._fetchDeltaPromise}_getMetadata(e){const t={path:p(e)};return this._request("POST","https://api.dropboxapi.com/2/files/get_metadata",{body:t}).then(e=>{if(200!==e.status&&409!==e.status)return Promise.reject(new Error("Invalid response status:"+e.status));let t;try{t=JSON.parse(e.responseText)}catch(t){return Promise.reject(new Error("Invalid response body: "+e.responseText))}return 409===e.status?m(t,["path","not_found"])?Promise.resolve():Promise.reject(new Error("API error: "+t.error_summary)):Promise.resolve(t)}).then(void 0,t=>(t.message='Could not load metadata for file or folder ("'+e+'"): '+t.message,Promise.reject(t)))}_uploadSimple(e){const t={path:p(e.path),mode:{".tag":"overwrite",update:void 0},mute:!0};return e.ifMatch&&(t.mode={".tag":"update",update:e.ifMatch}),this._request("POST","https://content.dropboxapi.com/2/files/upload",{body:e.body,headers:{"Content-Type":"application/octet-stream","Dropbox-API-Arg":JSON.stringify(t)}}).then(t=>{if(200!==t.status&&409!==t.status)return Promise.resolve({statusCode:t.status});let r=t.responseText;try{r=JSON.parse(r)}catch(e){return Promise.reject(new Error("Invalid API result: "+r))}return 409===t.status?m(r,["path","conflict"])?this._getMetadata(e.path).then((function(e){return Promise.resolve({statusCode:412,revision:e.rev})})):Promise.reject(new Error("API error: "+r.error_summary)):(this._revCache.set(e.path,r.rev),Promise.resolve({statusCode:t.status,revision:r.rev}))})}_deleteSimple(e){const t={path:p(e)};return this._request("POST","https://api.dropboxapi.com/2/files/delete",{body:t}).then(e=>{if(200!==e.status&&409!==e.status)return Promise.resolve({statusCode:e.status});let t=e.responseText;try{t=JSON.parse(t)}catch(e){return Promise.reject(new Error("Invalid response body: "+t))}return 409===e.status?m(t,["path_lookup","not_found"])?Promise.resolve({statusCode:404}):Promise.reject(new Error("API error: "+t.error_summary)):Promise.resolve({statusCode:200})}).then(t=>(200!==t.statusCode&&404!==t.statusCode||(this._revCache.delete(e),delete this._itemRefs[e]),Promise.resolve(t)),t=>(t.message='Could not delete Dropbox file or folder ("'+e+'"): '+t.message,Promise.reject(t)))}_getSharedLink(e){return n(this,void 0,void 0,(function*(){const t={body:{path:p(e),direct_only:!0}};return this._request("POST","https://api.dropbox.com/2/sharing/list_shared_links",t).then(e=>{if(200!==e.status&&409!==e.status)return Promise.reject(new Error("Invalid response status: "+e.status));let t;try{t=JSON.parse(e.responseText)}catch(t){return Promise.reject(new Error("Invalid response body: "+e.responseText))}return 409===e.status?Promise.reject(new Error("API error: "+e.error_summary)):t.links.length?Promise.resolve(t.links[0].url):Promise.reject(new Error("No links returned"))},t=>(t.message='Could not get link to a shared file or folder ("'+e+'"): '+t.message,Promise.reject(t)))}))}static _rs_init(e){d=h.localStorageAvailable(),e.apiKeys.dropbox&&(e.dropbox=new y(e)),"dropbox"===e.backend&&b(e)}static _rs_supported(){return!0}static _rs_cleanup(e){!function(e){(function(e){e._origRemote&&(e.remote=e._origRemote,delete e._origRemote)})(e),function(e){if(!e._dropboxOrigSync)return;e.sync.sync=e._dropboxOrigSync,delete e._dropboxOrigSync}(e),function(e){if(!e._origBaseClientGetItemURL)return;a.default.prototype.getItemURL=e._origBaseClientGetItemURL,delete e._origBaseClientGetItemURL}(e),_(e)}(e),d&&localStorage.removeItem(f),e.setBackend(void 0)}}function v(e,...t){e._dropboxOrigSync||(e._dropboxOrigSync=e.sync.sync.bind(e.sync),e.sync.sync=function(){return this.dropbox.fetchDelta(e,...t).then(e._dropboxOrigSync,(function(t){e._emit("error",new c.default(t)),e._emit("sync-done")}))}.bind(e))}function _(e){e._dropboxOrigSyncCycle&&(e.syncCycle=e._dropboxOrigSyncCycle,delete e._dropboxOrigSyncCycle)}function b(e){!function(e){e._origRemote||(e._origRemote=e.remote,e.remote=e.dropbox)}(e),e.sync?v(e):function(e,...t){e._dropboxOrigSyncCycle||(e._dropboxOrigSyncCycle=e.syncCycle,e.syncCycle=()=>{if(!e.sync)throw new Error("expected sync to be initialized by now");v(e),e._dropboxOrigSyncCycle(e,...t),_(e)})}(e),function(e){e._origBaseClientGetItemURL||(e._origBaseClientGetItemURL=a.default.prototype.getItemURL,a.default.prototype.getItemURL=function(){throw new Error("getItemURL is not implemented for Dropbox yet")})}(e)}h.applyMixins(y,[i.default]),t.default=y},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(27)),i=n(r(1)),s=r(0);let a,u;let c={};const l=function(e){return new Promise((t,r)=>{if(e in c)return t(c[e]);return new o.default({tls_only:!1,uri_fallback:!0,request_timeout:5e3}).lookup(e,(function(n,o){if(n)return r(n);if("object"!=typeof o.idx.links.remotestorage||"number"!=typeof o.idx.links.remotestorage.length||o.idx.links.remotestorage.length<=0)return i.default("[Discover] WebFinger record for "+e+" does not have remotestorage defined in the links section ",JSON.stringify(o.json)),r("WebFinger record for "+e+" does not have remotestorage defined in the links section.");const s=o.idx.links.remotestorage[0],a=s.properties["http://tools.ietf.org/html/rfc6749#section-4.2"]||s.properties["auth-endpoint"],l=s.properties["http://remotestorage.io/spec/version"]||s.type;return c[e]={href:s.href,storageApi:l,authURL:a,properties:s.properties},u&&(localStorage["remotestorage:discover"]=JSON.stringify({cache:c})),t(c[e])}))})};(l.DiscoveryError=function(e){this.name="DiscoveryError",this.message=e,this.stack=(new Error).stack}).prototype=Object.create(Error.prototype),l.DiscoveryError.prototype.constructor=l.DiscoveryError,l._rs_init=function(){if(u=s.localStorageAvailable(),u)try{const e=JSON.parse(localStorage["remotestorage:discover"]);c=e.cache}catch(e){}},l._rs_supported=function(){return a=Object.prototype.hasOwnProperty.call(s.globalContext,"XMLHttpRequest"),a},l._rs_cleanup=function(){u&&delete localStorage["remotestorage:discover"]},t.default=l},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(2));class i{constructor(){this.addEvents(["background","foreground"]),this.mode="undefined"!=typeof window?"browser":"node","browser"===this.mode&&(this.setBrowserPrefixedNames(),document.addEventListener(this.visibilityChangeEvent,this.setVisibility.bind(this),!1),this.setVisibility())}setBrowserPrefixedNames(){"browser"===this.mode&&(void 0!==document.hidden?(this.hiddenProperty="hidden",this.visibilityChangeEvent="visibilitychange"):void 0!==document.mozHidden?(this.hiddenProperty="mozHidden",this.visibilityChangeEvent="mozvisibilitychange"):void 0!==document.msHidden?(this.hiddenProperty="msHidden",this.visibilityChangeEvent="msvisibilitychange"):void 0!==document.webkitHidden&&(this.hiddenProperty="webkitHidden",this.visibilityChangeEvent="webkitvisibilitychange"))}setVisibility(){document[this.hiddenProperty]?this.goBackground():this.goForeground()}isBrowser(){return"browser"===this.mode}isNode(){return"node"===this.mode}goBackground(){this._emit("background")}goForeground(){this._emit("foreground")}static _rs_init(){}static _rs_cleanup(){}}r(0).applyMixins(i,[o.default]),t.default=i},function(e,t,r){e.exports=r(18)},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(3)),s=n(r(1)),a=r(0),u=n(r(11)),c=n(r(6)),l=n(r(7)),h=n(r(12)),d=n(r(2)),f=n(r(13)),p=n(r(14)),m=n(r(15)),g=n(r(9)),y=n(r(4)),v=n(r(29)),_=o(r(0)),b=a.getGlobalContext();let w;function P(e){return 403!==e.statusCode&&401!==e.statusCode||this._emit("error",new y.default),Promise.resolve(e)}const E=function(e){"object"==typeof e&&a.extend(i.default,e),this.addEvents(["ready","authing","connecting","connected","disconnected","not-connected","conflict","error","features-loaded","sync-interval-change","sync-req-done","sync-done","wire-busy","wire-done","network-offline","network-online"]),this._pending=[],this._setGPD({get:this._pendingGPD("get"),put:this._pendingGPD("put"),delete:this._pendingGPD("delete")}),this._cleanups=[],this._pathHandlers={change:{}},this.apiKeys={},w=a.localStorageAvailable(),w&&(this.apiKeys=a.getJSONFromLocalStorage("remotestorage:api-keys")||{},this.setBackend(localStorage.getItem("remotestorage:backend")||"remotestorage"));const t=this.on;this.on=function(e,r){if(this._allLoaded)switch(e){case"features-loaded":setTimeout(r,0);break;case"ready":this.remote&&setTimeout(r,0);break;case"connected":this.remote&&this.remote.connected&&setTimeout(r,0);break;case"not-connected":this.remote&&!this.remote.connected&&setTimeout(r,0)}return t.call(this,e,r)},this._init(),this.fireInitial=function(){this.local&&setTimeout(this.local.fireInitial.bind(this.local),0)}.bind(this),this.on("ready",this.fireInitial.bind(this)),this.loadModules()};function T(e){return"number"==typeof e&&e>1e3&&e<36e5}E.Authorize=c.default,E.SyncError=g.default,E.Unauthorized=y.default,E.DiscoveryError=m.default.DiscoveryError,E.prototype={loadModules:function(){i.default.modules.forEach(this.addModule.bind(this))},authorize(e){this.access.setStorageType(this.remote.storageApi),void 0===e.scope&&(e.scope=this.access.scopeParameter),e.redirectUri=b.cordova?i.default.cordovaRedirectUri:String(c.default.getLocation()),void 0===e.clientId&&(e.clientId=e.redirectUri.match(/^(https?:\/\/[^/]+)/)[0]),c.default.authorize(this,e)},impliedauth:function(e,t){e=this.remote.storageApi,t=String(document.location),s.default("ImpliedAuth proceeding due to absent authURL; storageApi = "+e+" redirectUri = "+t),this.remote.configure({token:c.default.IMPLIED_FAKE_TOKEN}),document.location=t},connect:function(e,t){if(this.setBackend("remotestorage"),e.indexOf("@")<0)return void this._emit("error",new E.DiscoveryError("User address doesn't contain an @."));if(b.cordova){if("string"!=typeof i.default.cordovaRedirectUri)return void this._emit("error",new E.DiscoveryError("Please supply a custom HTTPS redirect URI for your Cordova app"));if(!b.cordova.InAppBrowser)return void this._emit("error",new E.DiscoveryError("Please include the InAppBrowser Cordova plugin to enable OAuth"))}this.remote.configure({userAddress:e}),this._emit("connecting");const r=setTimeout(()=>{this._emit("error",new E.DiscoveryError("No storage information found for this user address."))},i.default.discoveryTimeout);m.default(e).then(n=>{if(clearTimeout(r),this._emit("authing"),n.userAddress=e,this.remote.configure(n),!this.remote.connected)if(n.authURL)if(void 0===t)this.authorize({authURL:n.authURL});else{if("string"!=typeof t)throw new Error("Supplied bearer token must be a string");s.default("Skipping authorization sequence and connecting with known token"),this.remote.configure({token:t})}else this.impliedauth()},()=>{clearTimeout(r),this._emit("error",new E.DiscoveryError("No storage information found for this user address."))})},reconnect:function(){this.remote.configure({token:null}),"remotestorage"===this.backend?this.connect(this.remote.userAddress):this.remote.connect()},disconnect:function(){this.remote&&this.remote.configure({userAddress:null,href:null,storageApi:null,token:null,properties:null}),this._setGPD({get:this._pendingGPD("get"),put:this._pendingGPD("put"),delete:this._pendingGPD("delete")});const e=this._cleanups.length;let t=0;const r=()=>{t++,t>=e&&(this._init(),this._emit("disconnected"))};e>0?this._cleanups.forEach(e=>{const t=e(this);"object"==typeof t&&"function"==typeof t.then?t.then(r):r()}):r()},setBackend:function(e){this.backend=e,w&&(e?localStorage.setItem("remotestorage:backend",e):localStorage.removeItem("remotestorage:backend"))},onChange:function(e,t){this._pathHandlers.change[e]||(this._pathHandlers.change[e]=[]),this._pathHandlers.change[e].push(t)},enableLog:function(){i.default.logging=!0},disableLog:function(){i.default.logging=!1},log:function(...e){s.default.apply(E,e)},setApiKeys:function(e){const t=["googledrive","dropbox"];if("object"!=typeof e||!Object.keys(e).every(e=>t.includes(e)))return console.error("setApiKeys() was called with invalid arguments"),!1;Object.keys(e).forEach(t=>{const r=e[t];if(r){switch(t){case"dropbox":this.apiKeys.dropbox={appKey:r},void 0!==this.dropbox&&this.dropbox.clientId===r||p.default._rs_init(this);break;case"googledrive":this.apiKeys.googledrive={clientId:r},void 0!==this.googledrive&&this.googledrive.clientId===r||f.default._rs_init(this)}return!0}delete this.apiKeys[t]}),w&&localStorage.setItem("remotestorage:api-keys",JSON.stringify(this.apiKeys))},setCordovaRedirectUri:function(e){if("string"!=typeof e||!e.match(/http(s)?:\/\//))throw new Error("Cordova redirect URI must be a URI string");i.default.cordovaRedirectUri=e},_init:v.default.loadFeatures,features:v.default.features,loadFeature:v.default.loadFeature,featureSupported:v.default.featureSupported,featureDone:v.default.featureDone,featuresDone:v.default.featuresDone,featuresLoaded:v.default.featuresLoaded,featureInitialized:v.default.featureInitialized,featureFailed:v.default.featureFailed,hasFeature:v.default.hasFeature,_setCachingModule:v.default._setCachingModule,_collectCleanupFunctions:v.default._collectCleanupFunctions,_fireReady:v.default._fireReady,initFeature:v.default.initFeature,_setGPD:function(e,t){function r(e){return function(...r){return e.apply(t,r).then(P.bind(this))}}this.get=r(e.get),this.put=r(e.put),this.delete=r(e.delete)},_pendingGPD:function(e){return(...t)=>{const r=Array.prototype.slice.call(t);return new Promise((t,n)=>{this._pending.push({method:e,args:r,promise:{resolve:t,reject:n}})})}},_processPending:function(){this._pending.forEach(e=>{try{this[e.method](...e.args).then(e.promise.resolve,e.promise.reject)}catch(t){e.promise.reject(t)}}),this._pending=[]},_bindChange:function(e){e.on("change",this._dispatchEvent.bind(this,"change"))},_dispatchEvent:function(e,t){Object.keys(this._pathHandlers[e]).forEach(r=>{const n=r.length;t.path.substr(0,n)===r&&this._pathHandlers[e][r].forEach(e=>{const n={};for(const e in t)n[e]=t[e];n.relativePath=t.path.replace(new RegExp("^"+r),"");try{e(n)}catch(e){console.error("'change' handler failed: ",e,e.stack),this._emit("error",e)}})})},scope:function(e){if("string"!=typeof e)throw"Argument 'path' of baseClient.scope must be a string";if(!this.access.checkPathPermission(e,"r")){const t=e.replace(/(['\\])/g,"\\$1");console.warn("WARNING: please call remoteStorage.access.claim('"+t+"', 'r') (read only) or remoteStorage.access.claim('"+t+"', 'rw') (read/write) first")}return new l.default(this,e)},getSyncInterval:function(){return i.default.syncInterval},setSyncInterval:function(e){if(!T(e))throw e+" is not a valid sync interval";const t=i.default.syncInterval;i.default.syncInterval=e,this._emit("sync-interval-change",{oldValue:t,newValue:e})},getBackgroundSyncInterval:function(){return i.default.backgroundSyncInterval},setBackgroundSyncInterval:function(e){if(!T(e))throw e+" is not a valid sync interval";const t=i.default.backgroundSyncInterval;i.default.backgroundSyncInterval=e,this._emit("sync-interval-change",{oldValue:t,newValue:e})},getCurrentSyncInterval:function(){return i.default.isBackground?i.default.backgroundSyncInterval:i.default.syncInterval},getRequestTimeout:function(){return i.default.requestTimeout},setRequestTimeout:function(e){if("number"!=typeof e)throw e+" is not a valid request timeout";i.default.requestTimeout=e},syncCycle:function(){this.sync&&!this.sync.stopped&&(this.on("sync-done",()=>{this.sync&&!this.sync.stopped&&(this._syncTimer&&(clearTimeout(this._syncTimer),this._syncTimer=void 0),this._syncTimer=setTimeout(this.sync.sync.bind(this.sync),this.getCurrentSyncInterval()))}),this.sync.sync())},startSync:function(){return i.default.cache?(this.sync.stopped=!1,this.syncStopped=!1,this.sync.sync()):(console.warn("Nothing to sync, because caching is disabled."),Promise.resolve())},stopSync:function(){clearTimeout(this._syncTimer),this._syncTimer=void 0,this.sync?this.sync.stopped=!0:this.syncStopped=!0},addModule:function(e){const t=e.name,r=e.builder;if(Object.defineProperty(this,t,{configurable:!0,get:function(){const e=this._loadModule(t,r);return Object.defineProperty(this,t,{value:e}),e}}),-1!==t.indexOf("-")){const e=t.replace(/\-[a-z]/g,(function(e){return e[1].toUpperCase()}));Object.defineProperty(this,e,{get:function(){return this[t]}})}},_loadModule:function(e,t){if(t){return t(new l.default(this,"/"+e+"/"),new l.default(this,"/public/"+e+"/")).exports}throw"Unknown module: "+e}},E.util=_,Object.defineProperty(E.prototype,"connected",{get:function(){return this.remote.connected}}),Object.defineProperty(E.prototype,"access",{get:function(){const e=new u.default;return Object.defineProperty(this,"access",{value:e}),e},configurable:!0}),Object.defineProperty(E.prototype,"caching",{configurable:!0,get:function(){const e=new h.default;return Object.defineProperty(this,"caching",{value:e}),e}}),a.applyMixins(E,[d.default]),t.default=E},function(e,t,r){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var n=r(20),o=r(21),i=r(22);function s(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,t){if(s()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,r){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return h(this,e)}return c(this,e,t,r)}function c(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=d(e,t);return e}(e,t,r,n):"string"==typeof t?function(e,t,r){"string"==typeof r&&""!==r||(r="utf8");if(!u.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|p(t,r),o=(e=a(e,n)).write(t,r);o!==n&&(e=e.slice(0,o));return e}(e,t,r):function(e,t){if(u.isBuffer(t)){var r=0|f(t.length);return 0===(e=a(e,r)).length?e:(t.copy(e,0,0,r),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?a(e,0):d(e,t);if("Buffer"===t.type&&i(t.data))return d(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function h(e,t){if(l(t),e=a(e,t<0?0:0|f(t)),!u.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function d(e,t){var r=t.length<0?0:0|f(t.length);e=a(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function f(e){if(e>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|e}function p(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return B(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return q(e).length;default:if(n)return B(e).length;t=(""+t).toLowerCase(),n=!0}}function m(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return O(this,t,r);case"utf8":case"utf-8":return R(this,t,r);case"ascii":return S(this,t,r);case"latin1":case"binary":return M(this,t,r);case"base64":return A(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function g(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function y(e,t,r,n,o){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=o?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(o)return-1;r=e.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof t&&(t=u.from(t,n)),u.isBuffer(t))return 0===t.length?-1:v(e,t,r,n,o);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):v(e,[t],r,n,o);throw new TypeError("val must be string, number or Buffer")}function v(e,t,r,n,o){var i,s=1,a=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,r/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(o){var l=-1;for(i=r;i<a;i++)if(c(e,i)===c(t,-1===l?0:i-l)){if(-1===l&&(l=i),i-l+1===u)return l*s}else-1!==l&&(i-=i-l),l=-1}else for(r+u>a&&(r=a-u),i=r;i>=0;i--){for(var h=!0,d=0;d<u;d++)if(c(e,i+d)!==c(t,d)){h=!1;break}if(h)return i}return-1}function _(e,t,r,n){r=Number(r)||0;var o=e.length-r;n?(n=Number(n))>o&&(n=o):n=o;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");n>i/2&&(n=i/2);for(var s=0;s<n;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[r+s]=a}return s}function b(e,t,r,n){return J(B(t,e.length-r),e,r,n)}function w(e,t,r,n){return J(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function P(e,t,r,n){return w(e,t,r,n)}function E(e,t,r,n){return J(q(t),e,r,n)}function T(e,t,r,n){return J(function(e,t){for(var r,n,o,i=[],s=0;s<e.length&&!((t-=2)<0);++s)r=e.charCodeAt(s),n=r>>8,o=r%256,i.push(o),i.push(n);return i}(t,e.length-r),e,r,n)}function A(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function R(e,t,r){r=Math.min(e.length,r);for(var n=[],o=t;o<r;){var i,s,a,u,c=e[o],l=null,h=c>239?4:c>223?3:c>191?2:1;if(o+h<=r)switch(h){case 1:c<128&&(l=c);break;case 2:128==(192&(i=e[o+1]))&&(u=(31&c)<<6|63&i)>127&&(l=u);break;case 3:i=e[o+1],s=e[o+2],128==(192&i)&&128==(192&s)&&(u=(15&c)<<12|(63&i)<<6|63&s)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:i=e[o+1],s=e[o+2],a=e[o+3],128==(192&i)&&128==(192&s)&&128==(192&a)&&(u=(15&c)<<18|(63&i)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(l=u)}null===l?(l=65533,h=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),o+=h}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}(n)}t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=s(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,r){return c(null,e,t,r)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,r){return function(e,t,r,n){return l(t),t<=0?a(e,t):void 0!==r?"string"==typeof n?a(e,t).fill(r,n):a(e,t).fill(r):a(e,t)}(null,e,t,r)},u.allocUnsafe=function(e){return h(null,e)},u.allocUnsafeSlow=function(e){return h(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,o=0,i=Math.min(r,n);o<i;++o)if(e[o]!==t[o]){r=e[o],n=t[o];break}return r<n?-1:n<r?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=u.allocUnsafe(t),o=0;for(r=0;r<e.length;++r){var s=e[r];if(!u.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,o),o+=s.length}return n},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?R(this,0,e):m.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,r,n,o){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),t<0||r>e.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&t>=r)return 0;if(n>=o)return-1;if(t>=r)return 1;if(this===e)return 0;for(var i=(o>>>=0)-(n>>>=0),s=(r>>>=0)-(t>>>=0),a=Math.min(i,s),c=this.slice(n,o),l=e.slice(t,r),h=0;h<a;++h)if(c[h]!==l[h]){i=c[h],s=l[h];break}return i<s?-1:s<i?1:0},u.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},u.prototype.indexOf=function(e,t,r){return y(this,e,t,r,!0)},u.prototype.lastIndexOf=function(e,t,r){return y(this,e,t,r,!1)},u.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var o=this.length-t;if((void 0===r||r>o)&&(r=o),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return _(this,e,t,r);case"utf8":case"utf-8":return b(this,e,t,r);case"ascii":return w(this,e,t,r);case"latin1":case"binary":return P(this,e,t,r);case"base64":return E(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function S(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(127&e[o]);return n}function M(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(e[o]);return n}function O(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var o="",i=t;i<r;++i)o+=L(e[i]);return o}function k(e,t,r){for(var n=e.slice(t,r),o="",i=0;i<n.length;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}function C(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function I(e,t,r,n,o,i){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function N(e,t,r,n){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-r,2);o<i;++o)e[r+o]=(t&255<<8*(n?o:1-o))>>>8*(n?o:1-o)}function x(e,t,r,n){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-r,4);o<i;++o)e[r+o]=t>>>8*(n?o:3-o)&255}function j(e,t,r,n,o,i){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function U(e,t,r,n,i){return i||j(e,0,r,4),o.write(e,t,r,n,23,4),r+4}function F(e,t,r,n,i){return i||j(e,0,r,8),o.write(e,t,r,n,52,8),r+8}u.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=u.prototype;else{var o=t-e;r=new u(o,void 0);for(var i=0;i<o;++i)r[i]=this[i+e]}return r},u.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||C(e,t,this.length);for(var n=this[e],o=1,i=0;++i<t&&(o*=256);)n+=this[e+i]*o;return n},u.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||C(e,t,this.length);for(var n=this[e+--t],o=1;t>0&&(o*=256);)n+=this[e+--t]*o;return n},u.prototype.readUInt8=function(e,t){return t||C(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||C(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||C(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||C(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||C(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||C(e,t,this.length);for(var n=this[e],o=1,i=0;++i<t&&(o*=256);)n+=this[e+i]*o;return n>=(o*=128)&&(n-=Math.pow(2,8*t)),n},u.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||C(e,t,this.length);for(var n=t,o=1,i=this[e+--n];n>0&&(o*=256);)i+=this[e+--n]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},u.prototype.readInt8=function(e,t){return t||C(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||C(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(e,t){t||C(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(e,t){return t||C(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||C(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||C(e,4,this.length),o.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||C(e,4,this.length),o.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||C(e,8,this.length),o.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||C(e,8,this.length),o.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||I(this,e,t,r,Math.pow(2,8*r)-1,0);var o=1,i=0;for(this[t]=255&e;++i<r&&(o*=256);)this[t+i]=e/o&255;return t+r},u.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||I(this,e,t,r,Math.pow(2,8*r)-1,0);var o=r-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+r},u.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):N(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):N(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):x(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):x(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var o=Math.pow(2,8*r-1);I(this,e,t,r,o-1,-o)}var i=0,s=1,a=0;for(this[t]=255&e;++i<r&&(s*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/s>>0)-a&255;return t+r},u.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var o=Math.pow(2,8*r-1);I(this,e,t,r,o-1,-o)}var i=r-1,s=1,a=0;for(this[t+i]=255&e;--i>=0&&(s*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/s>>0)-a&255;return t+r},u.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):N(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):N(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):x(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):x(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,r){return U(this,e,t,!0,r)},u.prototype.writeFloatBE=function(e,t,r){return U(this,e,t,!1,r)},u.prototype.writeDoubleLE=function(e,t,r){return F(this,e,t,!0,r)},u.prototype.writeDoubleBE=function(e,t,r){return F(this,e,t,!1,r)},u.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var o,i=n-r;if(this===e&&r<t&&t<n)for(o=i-1;o>=0;--o)e[o+t]=this[o+r];else if(i<1e3||!u.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)e[o+t]=this[o+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+i),t);return i},u.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{var s=u.isBuffer(e)?e:B(new u(e,n).toString()),a=s.length;for(i=0;i<r-t;++i)this[i+t]=s[i%a]}return this};var D=/[^+\/0-9A-Za-z-_]/g;function L(e){return e<16?"0"+e.toString(16):e.toString(16)}function B(e,t){var r;t=t||1/0;for(var n=e.length,o=null,i=[],s=0;s<n;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!o){if(r>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function q(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(D,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function J(e,t,r,n){for(var o=0;o<n&&!(o+r>=t.length||o>=e.length);++o)t[o+r]=e[o];return o}}).call(this,r(5))},function(e,t,r){"use strict";t.byteLength=function(e){var t=c(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,n=c(e),s=n[0],a=n[1],u=new i(function(e,t,r){return 3*(t+r)/4-r}(0,s,a)),l=0,h=a>0?s-4:s;for(r=0;r<h;r+=4)t=o[e.charCodeAt(r)]<<18|o[e.charCodeAt(r+1)]<<12|o[e.charCodeAt(r+2)]<<6|o[e.charCodeAt(r+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;2===a&&(t=o[e.charCodeAt(r)]<<2|o[e.charCodeAt(r+1)]>>4,u[l++]=255&t);1===a&&(t=o[e.charCodeAt(r)]<<10|o[e.charCodeAt(r+1)]<<4|o[e.charCodeAt(r+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t);return u},t.fromByteArray=function(e){for(var t,r=e.length,o=r%3,i=[],s=0,a=r-o;s<a;s+=16383)i.push(l(e,s,s+16383>a?a:s+16383));1===o?(t=e[r-1],i.push(n[t>>2]+n[t<<4&63]+"==")):2===o&&(t=(e[r-2]<<8)+e[r-1],i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return i.join("")};for(var n=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=s.length;a<u;++a)n[a]=s[a],o[s.charCodeAt(a)]=a;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function l(e,t,r){for(var o,i,s=[],a=t;a<r;a+=3)o=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(n[(i=o)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return s.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,r,n,o){var i,s,a=8*o-n-1,u=(1<<a)-1,c=u>>1,l=-7,h=r?o-1:0,d=r?-1:1,f=e[t+h];for(h+=d,i=f&(1<<-l)-1,f>>=-l,l+=a;l>0;i=256*i+e[t+h],h+=d,l-=8);for(s=i&(1<<-l)-1,i>>=-l,l+=n;l>0;s=256*s+e[t+h],h+=d,l-=8);if(0===i)i=1-c;else{if(i===u)return s?NaN:1/0*(f?-1:1);s+=Math.pow(2,n),i-=c}return(f?-1:1)*s*Math.pow(2,i-n)},t.write=function(e,t,r,n,o,i){var s,a,u,c=8*i-o-1,l=(1<<c)-1,h=l>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:i-1,p=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+h>=1?d/u:d*Math.pow(2,1-h))*u>=2&&(s++,u/=2),s+h>=l?(a=0,s=l):s+h>=1?(a=(t*u-1)*Math.pow(2,o),s+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,o),s=0));o>=8;e[r+f]=255&a,f+=p,a/=256,o-=8);for(s=s<<o|a,c+=o;c>0;e[r+f]=255&s,f+=p,s/=256,c-=8);e[r+f-p]|=128*m}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){var n,o,i;o=[],void 0===(i="function"==typeof(n=function(){var e,t,r,n;Object.keys||(Object.keys=(e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),n=(r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]).length,function(o){if("object"!=typeof o&&"function"!=typeof o||null===o)throw new TypeError("Object.keys called on non-object");var i=[];for(var s in o)e.call(o,s)&&i.push(s);if(t)for(var a=0;a<n;a++)e.call(o,r[a])&&i.push(r[a]);return i})),Object.create||(Object.create=function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("Object.create implementation only accepts one parameter.");return e.prototype=t,new e}}()),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){if(null===this)throw new TypeError;var t=Object(this),r=t.length>>>0;if(0===r)return-1;var n=0;if(arguments.length>1&&((n=Number(arguments[1]))!=n?n=0:0!==n&&n!==1/0&&n!==-1/0&&(n=(n>0||-1)*Math.floor(Math.abs(n)))),n>=r)return-1;for(var o=n>=0?n:Math.max(r-Math.abs(n),0);o<r;o++)if(o in t&&t[o]===e)return o;return-1}),Object.isFrozen||(Object.isFrozen=function(e){for(var t="tv4_test_frozen_key";e.hasOwnProperty(t);)t+=Math.random();try{return e[t]=!0,delete e[t],!1}catch(e){return!0}});var o={"+":!0,"#":!0,".":!0,"/":!0,";":!0,"?":!0,"&":!0},i={"*":!0};function s(e){return encodeURI(e).replace(/%25[0-9][0-9]/g,(function(e){return"%"+e.substring(3)}))}function a(e){var t="";o[e.charAt(0)]&&(t=e.charAt(0),e=e.substring(1));var r="",n="",a=!0,u=!1,c=!1;"+"===t?a=!1:"."===t?(n=".",r="."):"/"===t?(n="/",r="/"):"#"===t?(n="#",a=!1):";"===t?(n=";",r=";",u=!0,c=!0):"?"===t?(n="?",r="&",u=!0):"&"===t&&(n="&",r="&",u=!0);for(var l=[],h=e.split(","),d=[],f={},p=0;p<h.length;p++){var m=h[p],g=null;if(-1!==m.indexOf(":")){var y=m.split(":");m=y[0],g=parseInt(y[1],10)}for(var v={};i[m.charAt(m.length-1)];)v[m.charAt(m.length-1)]=!0,m=m.substring(0,m.length-1);var _={truncate:g,name:m,suffices:v};d.push(_),f[m]=_,l.push(m)}var b=function(e){for(var t="",o=0,i=0;i<d.length;i++){var l=d[i],h=e(l.name);if(null==h||Array.isArray(h)&&0===h.length||"object"==typeof h&&0===Object.keys(h).length)o++;else if(t+=i===o?n:r||",",Array.isArray(h)){u&&(t+=l.name+"=");for(var f=0;f<h.length;f++)f>0&&(t+=l.suffices["*"]&&r||",",l.suffices["*"]&&u&&(t+=l.name+"=")),t+=a?encodeURIComponent(h[f]).replace(/!/g,"%21"):s(h[f])}else if("object"==typeof h){u&&!l.suffices["*"]&&(t+=l.name+"=");var p=!0;for(var m in h)p||(t+=l.suffices["*"]&&r||","),p=!1,t+=a?encodeURIComponent(m).replace(/!/g,"%21"):s(m),t+=l.suffices["*"]?"=":",",t+=a?encodeURIComponent(h[m]).replace(/!/g,"%21"):s(h[m])}else u&&(t+=l.name,c&&""===h||(t+="=")),null!=l.truncate&&(h=h.substring(0,l.truncate)),t+=a?encodeURIComponent(h).replace(/!/g,"%21"):s(h)}return t};return b.varNames=l,{prefix:n,substitution:b}}function u(e){if(!(this instanceof u))return new u(e);for(var t=e.split("{"),r=[t.shift()],n=[],o=[],i=[];t.length>0;){var s=t.shift(),c=s.split("}")[0],l=s.substring(c.length+1),h=a(c);o.push(h.substitution),n.push(h.prefix),r.push(l),i=i.concat(h.substitution.varNames)}this.fill=function(e){for(var t=r[0],n=0;n<o.length;n++)t+=(0,o[n])(e),t+=r[n+1];return t},this.varNames=i,this.template=e}u.prototype={toString:function(){return this.template},fillFromObject:function(e){return this.fill((function(t){return e[t]}))}};var c=function(e,t,r,n,o){if(this.missing=[],this.missingMap={},this.formatValidators=e?Object.create(e.formatValidators):{},this.schemas=e?Object.create(e.schemas):{},this.collectMultiple=t,this.errors=[],this.handleError=t?this.collectError:this.returnError,n&&(this.checkRecursive=!0,this.scanned=[],this.scannedFrozen=[],this.scannedFrozenSchemas=[],this.scannedFrozenValidationErrors=[],this.validatedSchemasKey="tv4_validation_id",this.validationErrorsKey="tv4_validation_errors_id"),o&&(this.trackUnknownProperties=!0,this.knownPropertyPaths={},this.unknownPropertyPaths={}),this.errorReporter=r||y("en"),"string"==typeof this.errorReporter)throw new Error("debug");if(this.definedKeywords={},e)for(var i in e.definedKeywords)this.definedKeywords[i]=e.definedKeywords[i].slice(0)};function l(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(Array.isArray(e)!==Array.isArray(t))return!1;if(Array.isArray(e)){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!l(e[r],t[r]))return!1}else{var n;for(n in e)if(void 0===t[n]&&void 0!==e[n])return!1;for(n in t)if(void 0===e[n]&&void 0!==t[n])return!1;for(n in e)if(!l(e[n],t[n]))return!1}return!0}return!1}c.prototype.defineKeyword=function(e,t){this.definedKeywords[e]=this.definedKeywords[e]||[],this.definedKeywords[e].push(t)},c.prototype.createError=function(e,t,r,n,o,i,s){var a=new P(e,t,r,n,o);return a.message=this.errorReporter(a,i,s),a},c.prototype.returnError=function(e){return e},c.prototype.collectError=function(e){return e&&this.errors.push(e),null},c.prototype.prefixErrors=function(e,t,r){for(var n=e;n<this.errors.length;n++)this.errors[n]=this.errors[n].prefixWith(t,r);return this},c.prototype.banUnknownProperties=function(e,t){for(var r in this.unknownPropertyPaths){var n=this.createError(v.UNKNOWN_PROPERTY,{path:r},r,"",null,e,t),o=this.handleError(n);if(o)return o}return null},c.prototype.addFormat=function(e,t){if("object"==typeof e){for(var r in e)this.addFormat(r,e[r]);return this}this.formatValidators[e]=t},c.prototype.resolveRefs=function(e,t){if(void 0!==e.$ref){if((t=t||{})[e.$ref])return this.createError(v.CIRCULAR_REFERENCE,{urls:Object.keys(t).join(", ")},"","",null,void 0,e);t[e.$ref]=!0,e=this.getSchema(e.$ref,t)}return e},c.prototype.getSchema=function(e,t){var r;if(void 0!==this.schemas[e])return r=this.schemas[e],this.resolveRefs(r,t);var n=e,o="";if(-1!==e.indexOf("#")&&(o=e.substring(e.indexOf("#")+1),n=e.substring(0,e.indexOf("#"))),"object"==typeof this.schemas[n]){r=this.schemas[n];var i=decodeURIComponent(o);if(""===i)return this.resolveRefs(r,t);if("/"!==i.charAt(0))return;for(var s=i.split("/").slice(1),a=0;a<s.length;a++){var u=s[a].replace(/~1/g,"/").replace(/~0/g,"~");if(void 0===r[u]){r=void 0;break}r=r[u]}if(void 0!==r)return this.resolveRefs(r,t)}void 0===this.missing[n]&&(this.missing.push(n),this.missing[n]=n,this.missingMap[n]=n)},c.prototype.searchSchemas=function(e,t){if(Array.isArray(e))for(var r=0;r<e.length;r++)this.searchSchemas(e[r],t);else if(e&&"object"==typeof e)for(var n in"string"==typeof e.id&&function(e,t){if(t.substring(0,e.length)===e){var r=t.substring(e.length);if(t.length>0&&"/"===t.charAt(e.length-1)||"#"===r.charAt(0)||"?"===r.charAt(0))return!0}return!1}(t,e.id)&&void 0===this.schemas[e.id]&&(this.schemas[e.id]=e),e)if("enum"!==n)if("object"==typeof e[n])this.searchSchemas(e[n],t);else if("$ref"===n){var o=m(e[n]);o&&void 0===this.schemas[o]&&void 0===this.missingMap[o]&&(this.missingMap[o]=o)}},c.prototype.addSchema=function(e,t){if("string"!=typeof e||void 0===t){if("object"!=typeof e||"string"!=typeof e.id)return;e=(t=e).id}e===m(e)+"#"&&(e=m(e)),this.schemas[e]=t,delete this.missingMap[e],g(t,e),this.searchSchemas(t,e)},c.prototype.getSchemaMap=function(){var e={};for(var t in this.schemas)e[t]=this.schemas[t];return e},c.prototype.getSchemaUris=function(e){var t=[];for(var r in this.schemas)e&&!e.test(r)||t.push(r);return t},c.prototype.getMissingUris=function(e){var t=[];for(var r in this.missingMap)e&&!e.test(r)||t.push(r);return t},c.prototype.dropSchemas=function(){this.schemas={},this.reset()},c.prototype.reset=function(){this.missing=[],this.missingMap={},this.errors=[]},c.prototype.validateAll=function(e,t,r,n,o){var i;if(!(t=this.resolveRefs(t)))return null;if(t instanceof P)return this.errors.push(t),t;var s,a=this.errors.length,u=null,c=null;if(this.checkRecursive&&e&&"object"==typeof e){if(i=!this.scanned.length,e[this.validatedSchemasKey]){var l=e[this.validatedSchemasKey].indexOf(t);if(-1!==l)return this.errors=this.errors.concat(e[this.validationErrorsKey][l]),null}if(Object.isFrozen(e)&&-1!==(s=this.scannedFrozen.indexOf(e))){var h=this.scannedFrozenSchemas[s].indexOf(t);if(-1!==h)return this.errors=this.errors.concat(this.scannedFrozenValidationErrors[s][h]),null}if(this.scanned.push(e),Object.isFrozen(e))-1===s&&(s=this.scannedFrozen.length,this.scannedFrozen.push(e),this.scannedFrozenSchemas.push([])),u=this.scannedFrozenSchemas[s].length,this.scannedFrozenSchemas[s][u]=t,this.scannedFrozenValidationErrors[s][u]=[];else{if(!e[this.validatedSchemasKey])try{Object.defineProperty(e,this.validatedSchemasKey,{value:[],configurable:!0}),Object.defineProperty(e,this.validationErrorsKey,{value:[],configurable:!0})}catch(t){e[this.validatedSchemasKey]=[],e[this.validationErrorsKey]=[]}c=e[this.validatedSchemasKey].length,e[this.validatedSchemasKey][c]=t,e[this.validationErrorsKey][c]=[]}}var d=this.errors.length,f=this.validateBasic(e,t,o)||this.validateNumeric(e,t,o)||this.validateString(e,t,o)||this.validateArray(e,t,o)||this.validateObject(e,t,o)||this.validateCombinations(e,t,o)||this.validateHypermedia(e,t,o)||this.validateFormat(e,t,o)||this.validateDefinedKeywords(e,t,o)||null;if(i){for(;this.scanned.length;)delete this.scanned.pop()[this.validatedSchemasKey];this.scannedFrozen=[],this.scannedFrozenSchemas=[]}if(f||d!==this.errors.length)for(;r&&r.length||n&&n.length;){var p=r&&r.length?""+r.pop():null,m=n&&n.length?""+n.pop():null;f&&(f=f.prefixWith(p,m)),this.prefixErrors(d,p,m)}return null!==u?this.scannedFrozenValidationErrors[s][u]=this.errors.slice(a):null!==c&&(e[this.validationErrorsKey][c]=this.errors.slice(a)),this.handleError(f)},c.prototype.validateFormat=function(e,t){if("string"!=typeof t.format||!this.formatValidators[t.format])return null;var r=this.formatValidators[t.format].call(null,e,t);return"string"==typeof r||"number"==typeof r?this.createError(v.FORMAT_CUSTOM,{message:r},"","/format",null,e,t):r&&"object"==typeof r?this.createError(v.FORMAT_CUSTOM,{message:r.message||"?"},r.dataPath||"",r.schemaPath||"/format",null,e,t):null},c.prototype.validateDefinedKeywords=function(e,t,r){for(var n in this.definedKeywords)if(void 0!==t[n])for(var o=this.definedKeywords[n],i=0;i<o.length;i++){var s=(0,o[i])(e,t[n],t,r);if("string"==typeof s||"number"==typeof s)return this.createError(v.KEYWORD_CUSTOM,{key:n,message:s},"","",null,e,t).prefixWith(null,n);if(s&&"object"==typeof s){var a=s.code;if("string"==typeof a){if(!v[a])throw new Error("Undefined error code (use defineError): "+a);a=v[a]}else"number"!=typeof a&&(a=v.KEYWORD_CUSTOM);var u="object"==typeof s.message?s.message:{key:n,message:s.message||"?"},c=s.schemaPath||"/"+n.replace(/~/g,"~0").replace(/\//g,"~1");return this.createError(a,u,s.dataPath||null,c,null,e,t)}}return null},c.prototype.validateBasic=function(e,t,r){var n;return(n=this.validateType(e,t,r))?n.prefixWith(null,"type"):(n=this.validateEnum(e,t,r))?n.prefixWith(null,"type"):null},c.prototype.validateType=function(e,t){if(void 0===t.type)return null;var r=typeof e;null===e?r="null":Array.isArray(e)&&(r="array");var n=t.type;Array.isArray(n)||(n=[n]);for(var o=0;o<n.length;o++){var i=n[o];if(i===r||"integer"===i&&"number"===r&&e%1==0)return null}return this.createError(v.INVALID_TYPE,{type:r,expected:n.join("/")},"","",null,e,t)},c.prototype.validateEnum=function(e,t){if(void 0===t.enum)return null;for(var r=0;r<t.enum.length;r++)if(l(e,t.enum[r]))return null;return this.createError(v.ENUM_MISMATCH,{value:"undefined"!=typeof JSON?JSON.stringify(e):e},"","",null,e,t)},c.prototype.validateNumeric=function(e,t,r){return this.validateMultipleOf(e,t,r)||this.validateMinMax(e,t,r)||this.validateNaN(e,t,r)||null};var h=Math.pow(2,-51),d=1-h;function f(e){var t=String(e).replace(/^\s+|\s+$/g,"").match(/^([^:\/?#]+:)?(\/\/(?:[^:@]*(?::[^:@]*)?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);return t?{href:t[0]||"",protocol:t[1]||"",authority:t[2]||"",host:t[3]||"",hostname:t[4]||"",port:t[5]||"",pathname:t[6]||"",search:t[7]||"",hash:t[8]||""}:null}function p(e,t){return t=f(t||""),e=f(e||""),t&&e?(t.protocol||e.protocol)+(t.protocol||t.authority?t.authority:e.authority)+(r=t.protocol||t.authority||"/"===t.pathname.charAt(0)?t.pathname:t.pathname?(e.authority&&!e.pathname?"/":"")+e.pathname.slice(0,e.pathname.lastIndexOf("/")+1)+t.pathname:e.pathname,n=[],r.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,(function(e){"/.."===e?n.pop():n.push(e)})),n.join("").replace(/^\//,"/"===r.charAt(0)?"/":""))+(t.protocol||t.authority||t.pathname?t.search:t.search||e.search)+t.hash:null;var r,n}function m(e){return e.split("#")[0]}function g(e,t){if(e&&"object"==typeof e)if(void 0===t?t=e.id:"string"==typeof e.id&&(t=p(t,e.id),e.id=t),Array.isArray(e))for(var r=0;r<e.length;r++)g(e[r],t);else for(var n in"string"==typeof e.$ref&&(e.$ref=p(t,e.$ref)),e)"enum"!==n&&g(e[n],t)}function y(e){var t=E[e=e||"en"];return function(e){var r=t[e.code]||w[e.code];if("string"!=typeof r)return"Unknown error code "+e.code+": "+JSON.stringify(e.messageParams);var n=e.params;return r.replace(/\{([^{}]*)\}/g,(function(e,t){var r=n[t];return"string"==typeof r||"number"==typeof r?r:e}))}}c.prototype.validateMultipleOf=function(e,t){var r=t.multipleOf||t.divisibleBy;if(void 0===r)return null;if("number"==typeof e){var n=e/r%1;if(n>=h&&n<d)return this.createError(v.NUMBER_MULTIPLE_OF,{value:e,multipleOf:r},"","",null,e,t)}return null},c.prototype.validateMinMax=function(e,t){if("number"!=typeof e)return null;if(void 0!==t.minimum){if(e<t.minimum)return this.createError(v.NUMBER_MINIMUM,{value:e,minimum:t.minimum},"","/minimum",null,e,t);if(t.exclusiveMinimum&&e===t.minimum)return this.createError(v.NUMBER_MINIMUM_EXCLUSIVE,{value:e,minimum:t.minimum},"","/exclusiveMinimum",null,e,t)}if(void 0!==t.maximum){if(e>t.maximum)return this.createError(v.NUMBER_MAXIMUM,{value:e,maximum:t.maximum},"","/maximum",null,e,t);if(t.exclusiveMaximum&&e===t.maximum)return this.createError(v.NUMBER_MAXIMUM_EXCLUSIVE,{value:e,maximum:t.maximum},"","/exclusiveMaximum",null,e,t)}return null},c.prototype.validateNaN=function(e,t){return"number"!=typeof e?null:!0===isNaN(e)||e===1/0||e===-1/0?this.createError(v.NUMBER_NOT_A_NUMBER,{value:e},"","/type",null,e,t):null},c.prototype.validateString=function(e,t,r){return this.validateStringLength(e,t,r)||this.validateStringPattern(e,t,r)||null},c.prototype.validateStringLength=function(e,t){return"string"!=typeof e?null:void 0!==t.minLength&&e.length<t.minLength?this.createError(v.STRING_LENGTH_SHORT,{length:e.length,minimum:t.minLength},"","/minLength",null,e,t):void 0!==t.maxLength&&e.length>t.maxLength?this.createError(v.STRING_LENGTH_LONG,{length:e.length,maximum:t.maxLength},"","/maxLength",null,e,t):null},c.prototype.validateStringPattern=function(e,t){if("string"!=typeof e||"string"!=typeof t.pattern&&!(t.pattern instanceof RegExp))return null;var r;if(t.pattern instanceof RegExp)r=t.pattern;else{var n,o="",i=t.pattern.match(/^\/(.+)\/([img]*)$/);i?(n=i[1],o=i[2]):n=t.pattern,r=new RegExp(n,o)}return r.test(e)?null:this.createError(v.STRING_PATTERN,{pattern:t.pattern},"","/pattern",null,e,t)},c.prototype.validateArray=function(e,t,r){return Array.isArray(e)&&(this.validateArrayLength(e,t,r)||this.validateArrayUniqueItems(e,t,r)||this.validateArrayItems(e,t,r))||null},c.prototype.validateArrayLength=function(e,t){var r;return void 0!==t.minItems&&e.length<t.minItems&&(r=this.createError(v.ARRAY_LENGTH_SHORT,{length:e.length,minimum:t.minItems},"","/minItems",null,e,t),this.handleError(r))?r:void 0!==t.maxItems&&e.length>t.maxItems&&(r=this.createError(v.ARRAY_LENGTH_LONG,{length:e.length,maximum:t.maxItems},"","/maxItems",null,e,t),this.handleError(r))?r:null},c.prototype.validateArrayUniqueItems=function(e,t){if(t.uniqueItems)for(var r=0;r<e.length;r++)for(var n=r+1;n<e.length;n++)if(l(e[r],e[n])){var o=this.createError(v.ARRAY_UNIQUE,{match1:r,match2:n},"","/uniqueItems",null,e,t);if(this.handleError(o))return o}return null},c.prototype.validateArrayItems=function(e,t,r){if(void 0===t.items)return null;var n,o;if(Array.isArray(t.items)){for(o=0;o<e.length;o++)if(o<t.items.length){if(n=this.validateAll(e[o],t.items[o],[o],["items",o],r+"/"+o))return n}else if(void 0!==t.additionalItems)if("boolean"==typeof t.additionalItems){if(!t.additionalItems&&(n=this.createError(v.ARRAY_ADDITIONAL_ITEMS,{},"/"+o,"/additionalItems",null,e,t),this.handleError(n)))return n}else if(n=this.validateAll(e[o],t.additionalItems,[o],["additionalItems"],r+"/"+o))return n}else for(o=0;o<e.length;o++)if(n=this.validateAll(e[o],t.items,[o],["items"],r+"/"+o))return n;return null},c.prototype.validateObject=function(e,t,r){return"object"!=typeof e||null===e||Array.isArray(e)?null:this.validateObjectMinMaxProperties(e,t,r)||this.validateObjectRequiredProperties(e,t,r)||this.validateObjectProperties(e,t,r)||this.validateObjectDependencies(e,t,r)||null},c.prototype.validateObjectMinMaxProperties=function(e,t){var r,n=Object.keys(e);return void 0!==t.minProperties&&n.length<t.minProperties&&(r=this.createError(v.OBJECT_PROPERTIES_MINIMUM,{propertyCount:n.length,minimum:t.minProperties},"","/minProperties",null,e,t),this.handleError(r))?r:void 0!==t.maxProperties&&n.length>t.maxProperties&&(r=this.createError(v.OBJECT_PROPERTIES_MAXIMUM,{propertyCount:n.length,maximum:t.maxProperties},"","/maxProperties",null,e,t),this.handleError(r))?r:null},c.prototype.validateObjectRequiredProperties=function(e,t){if(void 0!==t.required)for(var r=0;r<t.required.length;r++){var n=t.required[r];if(void 0===e[n]){var o=this.createError(v.OBJECT_REQUIRED,{key:n},"","/required/"+r,null,e,t);if(this.handleError(o))return o}}return null},c.prototype.validateObjectProperties=function(e,t,r){var n;for(var o in e){var i=r+"/"+o.replace(/~/g,"~0").replace(/\//g,"~1"),s=!1;if(void 0!==t.properties&&void 0!==t.properties[o]&&(s=!0,n=this.validateAll(e[o],t.properties[o],[o],["properties",o],i)))return n;if(void 0!==t.patternProperties)for(var a in t.patternProperties)if(new RegExp(a).test(o)&&(s=!0,n=this.validateAll(e[o],t.patternProperties[a],[o],["patternProperties",a],i)))return n;if(s)this.trackUnknownProperties&&(this.knownPropertyPaths[i]=!0,delete this.unknownPropertyPaths[i]);else if(void 0!==t.additionalProperties){if(this.trackUnknownProperties&&(this.knownPropertyPaths[i]=!0,delete this.unknownPropertyPaths[i]),"boolean"==typeof t.additionalProperties){if(!t.additionalProperties&&(n=this.createError(v.OBJECT_ADDITIONAL_PROPERTIES,{key:o},"","/additionalProperties",null,e,t).prefixWith(o,null),this.handleError(n)))return n}else if(n=this.validateAll(e[o],t.additionalProperties,[o],["additionalProperties"],i))return n}else this.trackUnknownProperties&&!this.knownPropertyPaths[i]&&(this.unknownPropertyPaths[i]=!0)}return null},c.prototype.validateObjectDependencies=function(e,t,r){var n;if(void 0!==t.dependencies)for(var o in t.dependencies)if(void 0!==e[o]){var i=t.dependencies[o];if("string"==typeof i){if(void 0===e[i]&&(n=this.createError(v.OBJECT_DEPENDENCY_KEY,{key:o,missing:i},"","",null,e,t).prefixWith(null,o).prefixWith(null,"dependencies"),this.handleError(n)))return n}else if(Array.isArray(i))for(var s=0;s<i.length;s++){var a=i[s];if(void 0===e[a]&&(n=this.createError(v.OBJECT_DEPENDENCY_KEY,{key:o,missing:a},"","/"+s,null,e,t).prefixWith(null,o).prefixWith(null,"dependencies"),this.handleError(n)))return n}else if(n=this.validateAll(e,i,[],["dependencies",o],r))return n}return null},c.prototype.validateCombinations=function(e,t,r){return this.validateAllOf(e,t,r)||this.validateAnyOf(e,t,r)||this.validateOneOf(e,t,r)||this.validateNot(e,t,r)||null},c.prototype.validateAllOf=function(e,t,r){if(void 0===t.allOf)return null;for(var n,o=0;o<t.allOf.length;o++){var i=t.allOf[o];if(n=this.validateAll(e,i,[],["allOf",o],r))return n}return null},c.prototype.validateAnyOf=function(e,t,r){if(void 0===t.anyOf)return null;var n,o,i=[],s=this.errors.length;this.trackUnknownProperties&&(n=this.unknownPropertyPaths,o=this.knownPropertyPaths);for(var a=!0,u=0;u<t.anyOf.length;u++){this.trackUnknownProperties&&(this.unknownPropertyPaths={},this.knownPropertyPaths={});var c=t.anyOf[u],l=this.errors.length,h=this.validateAll(e,c,[],["anyOf",u],r);if(null===h&&l===this.errors.length){if(this.errors=this.errors.slice(0,s),this.trackUnknownProperties){for(var d in this.knownPropertyPaths)o[d]=!0,delete n[d];for(var f in this.unknownPropertyPaths)o[f]||(n[f]=!0);a=!1;continue}return null}h&&i.push(h.prefixWith(null,""+u).prefixWith(null,"anyOf"))}return this.trackUnknownProperties&&(this.unknownPropertyPaths=n,this.knownPropertyPaths=o),a?(i=i.concat(this.errors.slice(s)),this.errors=this.errors.slice(0,s),this.createError(v.ANY_OF_MISSING,{},"","/anyOf",i,e,t)):void 0},c.prototype.validateOneOf=function(e,t,r){if(void 0===t.oneOf)return null;var n,o,i=null,s=[],a=this.errors.length;this.trackUnknownProperties&&(n=this.unknownPropertyPaths,o=this.knownPropertyPaths);for(var u=0;u<t.oneOf.length;u++){this.trackUnknownProperties&&(this.unknownPropertyPaths={},this.knownPropertyPaths={});var c=t.oneOf[u],l=this.errors.length,h=this.validateAll(e,c,[],["oneOf",u],r);if(null===h&&l===this.errors.length){if(null!==i)return this.errors=this.errors.slice(0,a),this.createError(v.ONE_OF_MULTIPLE,{index1:i,index2:u},"","/oneOf",null,e,t);if(i=u,this.trackUnknownProperties){for(var d in this.knownPropertyPaths)o[d]=!0,delete n[d];for(var f in this.unknownPropertyPaths)o[f]||(n[f]=!0)}}else h&&s.push(h)}return this.trackUnknownProperties&&(this.unknownPropertyPaths=n,this.knownPropertyPaths=o),null===i?(s=s.concat(this.errors.slice(a)),this.errors=this.errors.slice(0,a),this.createError(v.ONE_OF_MISSING,{},"","/oneOf",s,e,t)):(this.errors=this.errors.slice(0,a),null)},c.prototype.validateNot=function(e,t,r){if(void 0===t.not)return null;var n,o,i=this.errors.length;this.trackUnknownProperties&&(n=this.unknownPropertyPaths,o=this.knownPropertyPaths,this.unknownPropertyPaths={},this.knownPropertyPaths={});var s=this.validateAll(e,t.not,null,null,r),a=this.errors.slice(i);return this.errors=this.errors.slice(0,i),this.trackUnknownProperties&&(this.unknownPropertyPaths=n,this.knownPropertyPaths=o),null===s&&0===a.length?this.createError(v.NOT_PASSED,{},"","/not",null,e,t):null},c.prototype.validateHypermedia=function(e,t,r){if(!t.links)return null;for(var n,o=0;o<t.links.length;o++){var i=t.links[o];if("describedby"===i.rel){for(var s=new u(i.href),a=!0,c=0;c<s.varNames.length;c++)if(!(s.varNames[c]in e)){a=!1;break}if(a){var l={$ref:s.fillFromObject(e)};if(n=this.validateAll(e,l,[],["links",o],r))return n}}}};var v={INVALID_TYPE:0,ENUM_MISMATCH:1,ANY_OF_MISSING:10,ONE_OF_MISSING:11,ONE_OF_MULTIPLE:12,NOT_PASSED:13,NUMBER_MULTIPLE_OF:100,NUMBER_MINIMUM:101,NUMBER_MINIMUM_EXCLUSIVE:102,NUMBER_MAXIMUM:103,NUMBER_MAXIMUM_EXCLUSIVE:104,NUMBER_NOT_A_NUMBER:105,STRING_LENGTH_SHORT:200,STRING_LENGTH_LONG:201,STRING_PATTERN:202,OBJECT_PROPERTIES_MINIMUM:300,OBJECT_PROPERTIES_MAXIMUM:301,OBJECT_REQUIRED:302,OBJECT_ADDITIONAL_PROPERTIES:303,OBJECT_DEPENDENCY_KEY:304,ARRAY_LENGTH_SHORT:400,ARRAY_LENGTH_LONG:401,ARRAY_UNIQUE:402,ARRAY_ADDITIONAL_ITEMS:403,FORMAT_CUSTOM:500,KEYWORD_CUSTOM:501,CIRCULAR_REFERENCE:600,UNKNOWN_PROPERTY:1e3},_={};for(var b in v)_[v[b]]=b;var w={INVALID_TYPE:"Invalid type: {type} (expected {expected})",ENUM_MISMATCH:"No enum match for: {value}",ANY_OF_MISSING:'Data does not match any schemas from "anyOf"',ONE_OF_MISSING:'Data does not match any schemas from "oneOf"',ONE_OF_MULTIPLE:'Data is valid against more than one schema from "oneOf": indices {index1} and {index2}',NOT_PASSED:'Data matches schema from "not"',NUMBER_MULTIPLE_OF:"Value {value} is not a multiple of {multipleOf}",NUMBER_MINIMUM:"Value {value} is less than minimum {minimum}",NUMBER_MINIMUM_EXCLUSIVE:"Value {value} is equal to exclusive minimum {minimum}",NUMBER_MAXIMUM:"Value {value} is greater than maximum {maximum}",NUMBER_MAXIMUM_EXCLUSIVE:"Value {value} is equal to exclusive maximum {maximum}",NUMBER_NOT_A_NUMBER:"Value {value} is not a valid number",STRING_LENGTH_SHORT:"String is too short ({length} chars), minimum {minimum}",STRING_LENGTH_LONG:"String is too long ({length} chars), maximum {maximum}",STRING_PATTERN:"String does not match pattern: {pattern}",OBJECT_PROPERTIES_MINIMUM:"Too few properties defined ({propertyCount}), minimum {minimum}",OBJECT_PROPERTIES_MAXIMUM:"Too many properties defined ({propertyCount}), maximum {maximum}",OBJECT_REQUIRED:"Missing required property: {key}",OBJECT_ADDITIONAL_PROPERTIES:"Additional properties not allowed",OBJECT_DEPENDENCY_KEY:"Dependency failed - key must exist: {missing} (due to key: {key})",ARRAY_LENGTH_SHORT:"Array is too short ({length}), minimum {minimum}",ARRAY_LENGTH_LONG:"Array is too long ({length}), maximum {maximum}",ARRAY_UNIQUE:"Array items are not unique (indices {match1} and {match2})",ARRAY_ADDITIONAL_ITEMS:"Additional items not allowed",FORMAT_CUSTOM:"Format validation failed ({message})",KEYWORD_CUSTOM:"Keyword failed: {key} ({message})",CIRCULAR_REFERENCE:"Circular $refs: {urls}",UNKNOWN_PROPERTY:"Unknown property (not in schema)"};function P(e,t,r,n,o){if(Error.call(this),void 0===e)throw new Error("No error code supplied: "+n);this.message="",this.params=t,this.code=e,this.dataPath=r||"",this.schemaPath=n||"",this.subErrors=o||null;var i=new Error(this.message);if(this.stack=i.stack||i.stacktrace,!this.stack)try{throw i}catch(i){this.stack=i.stack||i.stacktrace}}P.prototype=Object.create(Error.prototype),P.prototype.constructor=P,P.prototype.name="ValidationError",P.prototype.prefixWith=function(e,t){if(null!==e&&(e=e.replace(/~/g,"~0").replace(/\//g,"~1"),this.dataPath="/"+e+this.dataPath),null!==t&&(t=t.replace(/~/g,"~0").replace(/\//g,"~1"),this.schemaPath="/"+t+this.schemaPath),null!==this.subErrors)for(var r=0;r<this.subErrors.length;r++)this.subErrors[r].prefixWith(e,t);return this};var E={},T=function e(t){var r,n,o=new c,i={setErrorReporter:function(e){return"string"==typeof e?this.language(e):(n=e,!0)},addFormat:function(){o.addFormat.apply(o,arguments)},language:function(e){return e?(E[e]||(e=e.split("-")[0]),!!E[e]&&(r=e,e)):r},addLanguage:function(e,t){var r;for(r in v)t[r]&&!t[v[r]]&&(t[v[r]]=t[r]);var n=e.split("-")[0];if(E[n])for(r in E[e]=Object.create(E[n]),t)void 0===E[n][r]&&(E[n][r]=t[r]),E[e][r]=t[r];else E[e]=t,E[n]=t;return this},freshApi:function(t){var r=e();return t&&r.language(t),r},validate:function(e,t,i,s){var a=y(r),u=new c(o,!1,n?function(e,t,r){return n(e,t,r)||a(e,t,r)}:a,i,s);"string"==typeof t&&(t={$ref:t}),u.addSchema("",t);var l=u.validateAll(e,t,null,null,"");return!l&&s&&(l=u.banUnknownProperties(e,t)),this.error=l,this.missing=u.missing,this.valid=null===l,this.valid},validateResult:function(){var e={toString:function(){return this.valid?"valid":this.error.message}};return this.validate.apply(e,arguments),e},validateMultiple:function(e,t,i,s){var a=y(r),u=new c(o,!0,n?function(e,t,r){return n(e,t,r)||a(e,t,r)}:a,i,s);"string"==typeof t&&(t={$ref:t}),u.addSchema("",t),u.validateAll(e,t,null,null,""),s&&u.banUnknownProperties(e,t);var l={toString:function(){return this.valid?"valid":this.error.message}};return l.errors=u.errors,l.missing=u.missing,l.valid=0===l.errors.length,l},addSchema:function(){return o.addSchema.apply(o,arguments)},getSchema:function(){return o.getSchema.apply(o,arguments)},getSchemaMap:function(){return o.getSchemaMap.apply(o,arguments)},getSchemaUris:function(){return o.getSchemaUris.apply(o,arguments)},getMissingUris:function(){return o.getMissingUris.apply(o,arguments)},dropSchemas:function(){o.dropSchemas.apply(o,arguments)},defineKeyword:function(){o.defineKeyword.apply(o,arguments)},defineError:function(e,t,r){if("string"!=typeof e||!/^[A-Z]+(_[A-Z]+)*$/.test(e))throw new Error("Code name must be a string in UPPER_CASE_WITH_UNDERSCORES");if("number"!=typeof t||t%1!=0||t<1e4)throw new Error("Code number must be an integer > 10000");if(void 0!==v[e])throw new Error("Error already defined: "+e+" as "+v[e]);if(void 0!==_[t])throw new Error("Error code already used: "+_[t]+" as "+t);for(var n in v[e]=t,_[t]=e,w[e]=w[t]=r,E){var o=E[n];o[e]&&(o[t]=o[t]||o[e])}},reset:function(){o.reset(),this.error=null,this.missing=[],this.valid=!0},missing:[],error:null,valid:!0,normSchema:g,resolveUrl:p,getDocumentUri:m,errorCodes:v};return i.language(t||"en"),i}();return T.addLanguage("en-gb",w),T.tv4=T,T})?n.apply(t,o):n)||(e.exports=i)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n{constructor(){this.uris={},this.schemas={},this.aliases={}}declare(e,t,r,n){const o=e+"/"+t;if(n.extends){const t=n.extends.split("/"),r=1===t.length?e+"/"+t.shift():t.join("/"),i=this.uris[r];if(!i)throw"Type '"+o+"' tries to extend unknown schema '"+r+"'";n.extends=this.schemas[i]}this.uris[o]=r,this.aliases[r]=o,this.schemas[r]=n}resolveAlias(e){return this.uris[e]}getSchema(e){return this.schemas[e]}inScope(e){const t=e.length,r={};for(const n in this.uris)if(n.substr(0,t+1)===e+"/"){const e=this.uris[n];r[e]=this.schemas[e]}return r}}t.BaseClientTypes=n;const o=new n;t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{constructor(e){super();const t=new Error("Schema not found: "+e);return t.name="SchemaNotFound",t}}t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e){this._itemsRev={},this._storage={},this._canPropagate=!1,this.defaultValue=e,this.activatePropagation()}get(e){e=e.toLowerCase();let t=this._storage[e];return void 0===t&&(t=this.defaultValue,this._storage[e]=t),t}set(e,t){return e=e.toLowerCase(),this._storage[e]===t?t:(this._storage[e]=t,t||delete this._itemsRev[e],this._updateParentFolderItemRev(e,t),this._canPropagate&&this._propagate(e),t)}delete(e){return this.set(e,null)}deactivatePropagation(){return this._canPropagate=!1,!0}activatePropagation(){return!!this._canPropagate||(this._generateFolderRev("/"),this._canPropagate=!0,!0)}_hashCode(e){let t=0;if(0===e.length)return t;for(let r=0;r<e.length;r++){t=(t<<5)-t+e.charCodeAt(r),t|=0}return t}_generateHash(e){const t=e.sort().join("|");return""+this._hashCode(t)}_updateParentFolderItemRev(e,t){if("/"!==e){const r=this._getParentFolder(e);this._itemsRev[r]||(this._itemsRev[r]={});const n=this._itemsRev[r];t?n[e]=t:delete n[e],this._updateParentFolderItemRev(r,this.defaultValue)}}_getParentFolder(e){return e.substr(0,e.lastIndexOf("/",e.length-2)+1)}_propagate(e){if("/"!==e){const t=this._getParentFolder(e),r=this._itemsRev[t],n=[];for(const e in r)n.push(r[e]);const o=this._generateHash(n);this.set(t,o)}}_generateFolderRev(e){const t=this._itemsRev[e];let r=this.defaultValue;if(t){const e=[];for(const r in t){let n;n="/"===r.substr(-1)?this._generateFolderRev(r):t[r],e.push(n)}e.length>0&&(r=this._generateHash(e))}return this.set(e,r),r}}},function(e,t,r){var n;
/*!
 * webfinger.js
 *   version 2.7.0
 *   http://github.com/silverbucket/webfinger.js
 *
 * Developed and Maintained by:
 *   Nick Jennings <nick@silverbucket.net> 2012
 *
 * webfinger.js is released under the AGPL (see LICENSE).
 *
 * You don't have to do anything special to choose one license or the other and you don't
 * have to notify anyone which license you are using.
 * Please see the corresponding license file for details of these licenses.
 * You are free to use, modify and distribute this software, but all copyright
 * information must remain.
 *
 */"function"!=typeof fetch&&"function"!=typeof XMLHttpRequest&&(XMLHttpRequest=r(28)),function(r){var o={"http://webfist.org/spec/rel":"webfist","http://webfinger.net/rel/avatar":"avatar",remotestorage:"remotestorage","http://tools.ietf.org/id/draft-dejong-remotestorage":"remotestorage",remoteStorage:"remotestorage","http://www.packetizer.com/rel/share":"share","http://webfinger.net/rel/profile-page":"profile",me:"profile",vcard:"vcard",blog:"blog","http://packetizer.com/rel/blog":"blog","http://schemas.google.com/g/2010#updates-from":"updates","https://camlistore.org/rel/server":"camilstore"},i={avatar:[],remotestorage:[],blog:[],vcard:[],updates:[],share:[],profile:[],webfist:[],camlistore:[]},s=["webfinger","host-meta","host-meta.json"];function a(e){return e.toString=function(){return this.message},e}function u(e){"object"!=typeof e&&(e={}),this.config={tls_only:void 0===e.tls_only||e.tls_only,webfist_fallback:void 0!==e.webfist_fallback&&e.webfist_fallback,uri_fallback:void 0!==e.uri_fallback&&e.uri_fallback,request_timeout:void 0!==e.request_timeout?e.request_timeout:1e4}}u.prototype.__fetchJRD=function(e,t,r){if("function"==typeof fetch)return this.__fetchJRD_fetch(e,t,r);if("function"==typeof XMLHttpRequest)return this.__fetchJRD_XHR(e,t,r);throw new Error("add a polyfill for fetch or XMLHttpRequest")},u.prototype.__fetchJRD_fetch=function(e,t,r){var n,o=this;"function"==typeof AbortController&&(n=new AbortController);var i=fetch(e,{headers:{Accept:"application/jrd+json, application/json"},signal:n?n.signal:void 0}).then((function(t){if(t.ok)return t.text();throw 404===t.status?a({message:"resource not found",url:e,status:t.status}):a({message:"error during request",url:e,status:t.status})}),(function(t){throw a({message:"error during request",url:e,status:void 0,err:t})})).then((function(t){if(o.__isValidJSON(t))return t;throw a({message:"invalid json",url:e,status:void 0})})),s=new Promise((function(t,r){setTimeout((function(){r(a({message:"request timed out",url:e,status:void 0})),n&&n.abort()}),o.config.request_timeout)}));Promise.race([i,s]).then((function(e){r(e)})).catch((function(e){t(e)}))},u.prototype.__fetchJRD_XHR=function(e,t,r){var n=this,o=!1,i=new XMLHttpRequest;function s(){if(!o){if(o=!0,200===i.status)return n.__isValidJSON(i.responseText)?r(i.responseText):t(a({message:"invalid json",url:e,status:i.status}));if(404===i.status)return t(a({message:"resource not found",url:e,status:i.status}));if(i.status>=301&&i.status<=302){var s=i.getResponseHeader("Location");return function(e){return"string"==typeof e&&"https"===e.split("://")[0]}(s)?u():t(a({message:"no redirect URL found",url:e,status:i.status}))}return t(a({message:"error during request",url:e,status:i.status}))}}function u(){i.onreadystatechange=function(){4===i.readyState&&s()},i.onload=function(){s()},i.ontimeout=function(){return t(a({message:"request timed out",url:e,status:i.status}))},i.open("GET",e,!0),i.timeout=n.config.request_timeout,i.setRequestHeader("Accept","application/jrd+json, application/json"),i.send()}return u()},u.prototype.__isValidJSON=function(e){try{JSON.parse(e)}catch(e){return!1}return!0},u.prototype.__isLocalhost=function(e){return/^localhost(\.localdomain)?(\:[0-9]+)?$/.test(e)},u.prototype.__processJRD=function(e,t,r,n){var s=JSON.parse(t);if("object"!=typeof s||"object"!=typeof s.links)return void 0!==s.error?r(a({message:s.error,request:e})):r(a({message:"unknown response from server",request:e}));var u=s.links;Array.isArray(u)||(u=[]);var c={object:s,json:t,idx:{}};c.idx.properties={name:void 0},c.idx.links=JSON.parse(JSON.stringify(i)),u.map((function(e,t){if(o.hasOwnProperty(e.rel)&&c.idx.links[o[e.rel]]){var r={};Object.keys(e).map((function(t,n){r[t]=e[t]})),c.idx.links[o[e.rel]].push(r)}}));var l=JSON.parse(t).properties;for(var h in l)l.hasOwnProperty(h)&&"http://packetizer.com/ns/name"===h&&(c.idx.properties.name=l[h]);return n(c)},u.prototype.lookup=function(e,t){if("string"!=typeof e)throw new Error("first parameter must be a user address");if("function"!=typeof t)throw new Error("second parameter must be a callback");var r=this,n="";n=e.indexOf("://")>-1?e.replace(/ /g,"").split("/")[2]:e.replace(/ /g,"").split("@")[1];var o=0,i="https";function a(){var t="";return e.split("://")[1]||(t="acct:"),i+"://"+n+"/.well-known/"+s[o]+"?resource="+t+e}function u(e){if(r.config.uri_fallback&&"webfist.org"!==n&&o!==s.length-1)return o+=1,c();if(!r.config.tls_only&&"https"===i)return o=0,i="http",c();if(!r.config.webfist_fallback||"webfist.org"===n)return t(e);o=0,i="http",n="webfist.org";var u=a();r.__fetchJRD(u,t,(function(e){r.__processJRD(u,e,t,(function(e){"object"==typeof e.idx.links.webfist&&"string"==typeof e.idx.links.webfist[0].href&&r.__fetchJRD(e.idx.links.webfist[0].href,t,(function(e){r.__processJRD(u,e,t,(function(e){return t(null,t)}))}))}))}))}function c(){var e=a();r.__fetchJRD(e,u,(function(n){r.__processJRD(e,n,t,(function(e){t(null,e)}))}))}return(r.__isLocalhost(n)&&(i="http"),setTimeout(c,0))},u.prototype.lookupLink=function(e,t,r){if(!i.hasOwnProperty(t))return r("unsupported rel "+t);this.lookup(e,(function(e,n){var o=n.idx.links[t];return e?r(e):0===o.length?r('no links found with rel="'+t+'"'):r(null,o[0])}))},void 0===(n=function(){return u}.apply(t,[]))||(e.exports=n)}()},function(e,t){e.exports=XMLHttpRequest},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(3)),i=n(r(16)),s=n(r(1)),a=r(0),u=n(r(30)),c=n(r(11)),l=n(r(6)),h=n(r(15)),d=n(r(7)),f=n(r(13)),p=n(r(14)),m=n(r(8)),g=n(r(31)),y=n(r(12)),v=n(r(32)),_=n(r(33)),b=n(r(34)),w={features:[],featuresDone:0,readyFired:!1,loadFeatures(){this.features=[],this.featuresDone=0,this.readyFired=!1,this.featureModules={WireClient:m.default,Dropbox:p.default,GoogleDrive:f.default,Access:c.default,Discover:h.default,Authorize:l.default,BaseClient:d.default,Env:i.default},o.default.cache&&a.extend(this.featureModules,{Caching:y.default,IndexedDB:v.default,LocalStorage:_.default,InMemoryStorage:b.default,Sync:g.default}),o.default.disableFeatures.forEach(e=>{this.featureModules[e]&&delete this.featureModules[e]}),this._allLoaded=!1;for(const e in this.featureModules)this.loadFeature(e)},hasFeature(e){for(let t=this.features.length-1;t>=0;t--)if(this.features[t].name===e)return this.features[t].supported;return!1},loadFeature(e){const t=this.featureModules[e],r=!t._rs_supported||t._rs_supported();s.default(`[RemoteStorage] [FEATURE ${e}] initializing ...`),"object"==typeof r?r.then(()=>{this.featureSupported(e,!0),this.initFeature(e)},()=>{this.featureSupported(e,!1)}):"boolean"==typeof r?(this.featureSupported(e,r),r&&this.initFeature(e)):this.featureSupported(e,!1)},initFeature(e){const t=this.featureModules[e];let r;try{r=t._rs_init(this)}catch(t){return void this.featureFailed(e,t)}"object"==typeof r&&"function"==typeof r.then?r.then(()=>{this.featureInitialized(e)},t=>{this.featureFailed(e,t)}):this.featureInitialized(e)},featureFailed(e,t){s.default(`[RemoteStorage] [FEATURE ${e}] initialization failed (${t})`),this.featureDone()},featureSupported(e,t){s.default(`[RemoteStorage] [FEATURE ${e}]${t?"":"not "} supported`),t||this.featureDone()},featureInitialized(e){s.default(`[RemoteStorage] [FEATURE ${e}] initialized`),this.features.push({name:e,init:this.featureModules[e]._rs_init,supported:!0,cleanup:this.featureModules[e]._rs_cleanup}),this.featureDone()},featureDone(){this.featuresDone++,this.featuresDone===Object.keys(this.featureModules).length&&setTimeout(this.featuresLoaded.bind(this),0)},_setCachingModule(){["IndexedDB","LocalStorage","InMemoryStorage"].some(e=>{if(this.features.some(t=>t.name===e))return this.features.local=this.featureModules[e],!0})},_fireReady(){try{this.readyFired||(this._emit("ready"),this.readyFired=!0)}catch(e){console.error("'ready' failed: ",e,e.stack),this._emit("error",e)}},featuresLoaded(){s.default("[RemoteStorage] All features loaded"),this._setCachingModule(),this.local=o.default.cache&&this.features.local&&new this.features.local,this.local&&this.remote?(this._setGPD(u.default,this),this._bindChange(this.local)):this.remote&&this._setGPD(this.remote,this.remote),this.remote&&(this.remote.on("connected",()=>{this._fireReady(),this._emit("connected")}),this.remote.on("not-connected",()=>{this._fireReady(),this._emit("not-connected")}),this.remote.connected&&(this._fireReady(),this._emit("connected")),this.hasFeature("Authorize")||this.remote.stopWaitingForToken()),this._collectCleanupFunctions();try{this._allLoaded=!0,this._emit("features-loaded")}catch(e){a.logError(e),this._emit("error",e)}this._processPending()},_collectCleanupFunctions(){this._cleanups=[];for(let e=0;e<this.features.length;e++){const t=this.features[e].cleanup;"function"==typeof t&&this._cleanups.push(t)}}};t.default=w},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=o(r(1));function s(e){return"dropbox"===this.backend&&!!e.match(/^\/public\/.*[^\/]$/)}const a={get:function(e,t){if(this.local){if(void 0===t)t="object"==typeof(r=this).remote&&r.remote.connected&&r.remote.online?2*r.getSyncInterval():(i.default("Not setting default maxAge, because remote is offline or not connected"),!1);else if("number"!=typeof t&&!1!==t)return Promise.reject("Argument 'maxAge' must be 'false' or a number");return this.local.get(e,t,this.sync.queueGetRequest.bind(this.sync))}return this.remote.get(e);var r},put:function(e,t,r){return s.bind(this)(e)?a._wrapBusyDone.call(this,this.remote.put(e,t,r)):this.local?this.local.put(e,t,r):a._wrapBusyDone.call(this,this.remote.put(e,t,r))},delete:function(e){return this.local?this.local.delete(e):a._wrapBusyDone.call(this,this.remote.delete(e))},_wrapBusyDone:function(e){return n(this,void 0,void 0,(function*(){return this._emit("wire-busy"),e.then(e=>(this._emit("wire-done",{success:!0}),Promise.resolve(e)),e=>(this._emit("wire-done",{success:!1}),Promise.reject(e)))}))}};t.default=a},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=o(r(3)),s=o(r(16)),a=o(r(2)),u=o(r(1)),c=o(r(6)),l=o(r(9)),h=o(r(4)),d=r(0);let f,p;function m(e,t,r){return{action:e,path:t,promise:r}}function g(e,t){return e.common.revision!==t&&(!e.remote||e.remote.revision!==t)}function y(e){return e.common&&e.common.revision}class v{constructor(e){this.rs=e,this._tasks={},this._running={},this._timeStarted={},this.numThreads=10,this.rs.local.onDiff(e=>{this.addTask(e),this.doTasks()}),this.rs.caching.onActivate(e=>{this.addTask(e),this.doTasks()}),this.addEvents(["done","req-done"])}now(){return(new Date).getTime()}queueGetRequest(e){return new Promise((t,r)=>{this.rs.remote.connected?this.rs.remote.online?(this.addTask(e,function(){this.rs.local.get(e).then(e=>t(e))}.bind(this)),this.doTasks()):r("cannot fulfill maxAge requirement - remote is not online"):r("cannot fulfill maxAge requirement - remote is not connected")})}corruptServerItemsMap(e,t){if("object"!=typeof e||Array.isArray(e))return!0;for(const r in e){const n=e[r];if("object"!=typeof n)return!0;if("string"!=typeof n.ETag)return!0;if(d.isFolder(r)){if(-1!==r.substring(0,r.length-1).indexOf("/"))return!0}else{if(-1!==r.indexOf("/"))return!0;if(t){if("string"!=typeof n["Content-Type"])return!0;if("number"!=typeof n["Content-Length"])return!0}}}return!1}corruptItemsMap(e){if("object"!=typeof e||Array.isArray(e))return!0;for(const t in e)if("boolean"!=typeof e[t])return!0;return!1}corruptRevision(e){return"object"!=typeof e||Array.isArray(e)||e.revision&&"string"!=typeof e.revision||e.body&&"string"!=typeof e.body&&"object"!=typeof e.body||e.contentType&&"string"!=typeof e.contentType||e.contentLength&&"number"!=typeof e.contentLength||e.timestamp&&"number"!=typeof e.timestamp||e.itemsMap&&this.corruptItemsMap(e.itemsMap)}isCorrupt(e){return"object"!=typeof e||Array.isArray(e)||"string"!=typeof e.path||this.corruptRevision(e.common)||e.local&&this.corruptRevision(e.local)||e.remote&&this.corruptRevision(e.remote)||e.push&&this.corruptRevision(e.push)}hasTasks(){return Object.getOwnPropertyNames(this._tasks).length>0}collectDiffTasks(){return n(this,void 0,void 0,(function*(){let e=0;return this.rs.local.forAllNodes(t=>{e>100||(this.isCorrupt(t)?(u.default("[Sync] WARNING: corrupt node in local cache",t),"object"==typeof t&&t.path&&(this.addTask(t.path),e++)):this.needsFetch(t)&&this.rs.access.checkPathPermission(t.path,"r")?(this.addTask(t.path),e++):d.isDocument(t.path)&&this.needsPush(t)&&this.rs.access.checkPathPermission(t.path,"rw")&&(this.addTask(t.path),e++))}).then(()=>e).catch(e=>{throw e})}))}inConflict(e){return e.local&&e.remote&&(void 0!==e.remote.body||e.remote.itemsMap)}needsRefresh(e){return!!e.common&&(!e.common.timestamp||this.now()-e.common.timestamp>i.default.syncInterval)}needsFetch(e){return!!this.inConflict(e)||(!(!e.common||void 0!==e.common.itemsMap||void 0!==e.common.body)||!(!e.remote||void 0!==e.remote.itemsMap||void 0!==e.remote.body))}needsPush(e){return!this.inConflict(e)&&(!(!e.local||e.push)||void 0)}needsRemotePut(e){return e.local&&e.local.body}needsRemoteDelete(e){return e.local&&!1===e.local.body}getParentPath(e){const t=e.match(/^(.*\/)([^\/]+\/?)$/);if(t)return t[1];throw new Error('Not a valid path: "'+e+'"')}deleteChildPathsFromTasks(){for(const e in this._tasks){const t=d.pathsFromRoot(e);for(let r=1;r<t.length;r++)this._tasks[t[r]]&&(Array.isArray(this._tasks[e])&&this._tasks[e].length&&Array.prototype.push.apply(this._tasks[t[r]],this._tasks[e]),delete this._tasks[e])}}collectRefreshTasks(){return n(this,void 0,void 0,(function*(){return this.rs.local.forAllNodes(e=>{let t;if(this.needsRefresh(e)){try{t=this.getParentPath(e.path)}catch(e){}t&&this.rs.access.checkPathPermission(t,"r")?this.addTask(t):this.rs.access.checkPathPermission(e.path,"r")&&this.addTask(e.path)}}).then(()=>this.deleteChildPathsFromTasks()).catch(e=>{throw e})}))}flush(e){for(const t in e)"FLUSH"===this.rs.caching.checkPath(t)&&e[t]&&!e[t].local&&(u.default("[Sync] Flushing",t),e[t]=void 0);return e}doTask(e){return this.rs.local.getNodes([e]).then(t=>{const r=t[e];return void 0===r?m("get",e,this.rs.remote.get(e)):function(e){return e.remote&&e.remote.revision&&!e.remote.itemsMap&&!e.remote.body}(r)?m("get",e,this.rs.remote.get(e)):this.needsRemotePut(r)?(r.push=d.deepClone(r.local),r.push.timestamp=this.now(),this.rs.local.setNodes(this.flush(t)).then(()=>{let t;return t=y(r)?{ifMatch:r.common.revision}:{ifNoneMatch:"*"},m("put",e,this.rs.remote.put(e,r.push.body,r.push.contentType,t))})):this.needsRemoteDelete(r)?(r.push={body:!1,timestamp:this.now()},this.rs.local.setNodes(this.flush(t)).then(()=>y(r)?m("delete",e,this.rs.remote.delete(e,{ifMatch:r.common.revision})):m("get",e,this.rs.remote.get(e)))):y(r)?m("get",e,this.rs.remote.get(e,{ifNoneMatch:r.common.revision})):m("get",e,this.rs.remote.get(e))})}autoMergeFolder(e){if(e.remote.itemsMap&&(e.common=e.remote,delete e.remote,e.common.itemsMap)){for(const t in e.common.itemsMap)e.local.itemsMap[t]||(e.local.itemsMap[t]=!1);d.equal(e.local.itemsMap,e.common.itemsMap)&&delete e.local}return e}autoMergeDocument(e){return!function(e){return(!e.remote||!e.remote.revision||e.remote.revision===e.common.revision)&&(void 0===e.common.body&&!1===e.remote.body||e.remote.body===e.common.body&&e.remote.contentType===e.common.contentType)}(e)?void 0!==e.remote.body&&(u.default("[Sync] Emitting keep/revert"),this.rs.local._emitChange({origin:"conflict",path:e.path,oldValue:e.local.body,newValue:e.remote.body,lastCommonValue:e.common.body,oldContentType:e.local.contentType,newContentType:e.remote.contentType,lastCommonContentType:e.common.contentType}),e.remote.body?e.common=e.remote:e.common={},delete e.remote,delete e.local):delete(e=function(e){return e.remote&&!1===e.remote.body&&e.local&&!1===e.local.body&&delete e.local,e}(e)).remote,e}autoMerge(e){if(e.remote){if(e.local)return d.isFolder(e.path)?this.autoMergeFolder(e):this.autoMergeDocument(e);if(d.isFolder(e.path))void 0!==e.remote.itemsMap&&(e.common=e.remote,delete e.remote);else if(void 0!==e.remote.body){const t={origin:"remote",path:e.path,oldValue:!1===e.common.body?void 0:e.common.body,newValue:!1===e.remote.body?void 0:e.remote.body,oldContentType:e.common.contentType,newContentType:e.remote.contentType};if((t.oldValue||t.newValue)&&this.rs.local._emitChange(t),!e.remote.body)return;e.common=e.remote,delete e.remote}return e}e.common.body&&this.rs.local._emitChange({origin:"remote",path:e.path,oldValue:e.common.body,newValue:void 0,oldContentType:e.common.contentType,newContentType:void 0})}updateCommonTimestamp(e,t){return n(this,void 0,void 0,(function*(){return this.rs.local.getNodes([e]).then(r=>(r[e]&&r[e].common&&r[e].common.revision===t&&(r[e].common.timestamp=this.now()),this.rs.local.setNodes(this.flush(r))))}))}markChildren(e,t,r,o){return n(this,void 0,void 0,(function*(){const n=[],i={},s={};for(const r in t)n.push(e+r),i[e+r]=t[r];for(const t in o)n.push(e+t);return this.rs.local.getNodes(n).then(t=>{let n,a;for(const u in t)if(a=t[u],i[u])a&&a.common?g(a,i[u].ETag)&&(r[u]=d.deepClone(a),r[u].remote={revision:i[u].ETag,timestamp:this.now()},r[u]=this.autoMerge(r[u])):(n=this.rs.caching.checkPath(u),"ALL"===n&&(r[u]={path:u,common:{timestamp:this.now()},remote:{revision:i[u].ETag,timestamp:this.now()}})),r[u]&&i[u]["Content-Type"]&&(r[u].remote.contentType=i[u]["Content-Type"]),r[u]&&i[u]["Content-Length"]&&(r[u].remote.contentLength=i[u]["Content-Length"]);else if(o[u.substring(e.length)]&&a&&a.common){if(a.common.itemsMap)for(const e in a.common.itemsMap)s[u+e]=!0;if(a.local&&a.local.itemsMap)for(const e in a.local.itemsMap)s[u+e]=!0;if(a.remote||d.isFolder(u))r[u]=void 0;else if(r[u]=this.autoMerge(a),void 0===r[u]){const t=this.getParentPath(u),n=r[t],o=u.substring(e.length);n&&n.local&&(delete n.local.itemsMap[o],d.equal(n.local.itemsMap,n.common.itemsMap)&&delete n.local)}}return this.deleteRemoteTrees(Object.keys(s),r).then(e=>this.rs.local.setNodes(this.flush(e)))})}))}deleteRemoteTrees(e,t){return n(this,void 0,void 0,(function*(){return 0===e.length?Promise.resolve(t):this.rs.local.getNodes(e).then(e=>n(this,void 0,void 0,(function*(){const r={};function n(e,t){if(e&&e.itemsMap)for(const n in e.itemsMap)r[t+n]=!0}for(const r in e){const o=e[r];o&&(d.isFolder(r)?(n(o.common,r),n(o.local,r)):o.common&&void 0!==typeof o.common.body&&(t[r]=d.deepClone(o),t[r].remote={body:!1,timestamp:this.now()},t[r]=this.autoMerge(t[r])))}return this.deleteRemoteTrees(Object.keys(r),t).then(e=>this.rs.local.setNodes(this.flush(e)))})))}))}completeFetch(e,t,r,o){return n(this,void 0,void 0,(function*(){let n,i;const s=d.pathsFromRoot(e);return d.isFolder(e)?n=[e]:(i=s[1],n=[e,i]),this.rs.local.getNodes(n).then(n=>{let s,a,u=n[e];const c={};function l(e){if(e&&e.itemsMap)for(s in e.itemsMap)t[s]||(c[s]=!0)}if("object"==typeof u&&u.path===e&&"object"==typeof u.common||(u={path:e,common:{}},n[e]=u),u.remote={revision:o,timestamp:this.now()},d.isFolder(e))for(s in l(u.common),l(u.remote),u.remote.itemsMap={},t)u.remote.itemsMap[s]=!0;else u.remote.body=t,u.remote.contentType=r,a=n[i],a&&a.local&&a.local.itemsMap&&(s=e.substring(i.length),a.local.itemsMap[s]=!0,d.equal(a.local.itemsMap,a.common.itemsMap)&&delete a.local);return n[e]=this.autoMerge(u),{toBeSaved:n,missingChildren:c}})}))}completePush(e,t,r,o){return n(this,void 0,void 0,(function*(){return this.rs.local.getNodes([e]).then(n=>{const i=n[e];if(!i.push)throw this.stopped=!0,new Error("completePush called but no push version!");return r?(u.default("[Sync] We have a conflict"),i.remote&&i.remote.revision===o||(i.remote={revision:o||"conflict",timestamp:this.now()},delete i.push),n[e]=this.autoMerge(i)):(i.common={revision:o,timestamp:this.now()},"put"===t?(i.common.body=i.push.body,i.common.contentType=i.push.contentType,d.equal(i.local.body,i.push.body)&&i.local.contentType===i.push.contentType&&delete i.local,delete i.push):"delete"===t&&(!1===i.local.body?n[e]=void 0:delete i.push)),this.rs.local.setNodes(this.flush(n))})}))}dealWithFailure(e){return n(this,void 0,void 0,(function*(){return this.rs.local.getNodes([e]).then(t=>{if(t[e])return delete t[e].push,this.rs.local.setNodes(this.flush(t))})}))}interpretStatus(e){const t={statusCode:e,successful:void 0,conflict:void 0,unAuth:void 0,notFound:void 0,changed:void 0,networkProblems:void 0};if("string"==typeof e&&("offline"===e||"timeout"===e))return t.successful=!1,t.networkProblems=!0,t;if("number"==typeof e){const r=Math.floor(e/100);return t.successful=2===r||304===e||412===e||404===e,t.conflict=412===e,t.unAuth=401===e&&this.rs.remote.token!==c.default.IMPLIED_FAKE_TOKEN||402===e||403===e,t.notFound=404===e,t.changed=304!==e,t}}handleGetResponse(e,t,r,o,i){return n(this,void 0,void 0,(function*(){return t.notFound&&(r=!!d.isFolder(e)&&{}),t.changed?this.completeFetch(e,r,o,i).then(t=>d.isFolder(e)?this.corruptServerItemsMap(r)?(u.default("[Sync] WARNING: Discarding corrupt folder description from server for "+e),!1):this.markChildren(e,r,t.toBeSaved,t.missingChildren).then(()=>!0):this.rs.local.setNodes(this.flush(t.toBeSaved)).then(()=>!0)):this.updateCommonTimestamp(e,i).then(()=>!0)}))}handleResponse(e,t,r){const n=this.interpretStatus(r.statusCode);if(n.successful){if("get"===t)return this.handleGetResponse(e,n,r.body,r.contentType,r.revision);if("put"===t||"delete"===t)return this.completePush(e,t,n.conflict,r.revision).then((function(){return!0}));throw new Error(`cannot handle response for unknown action ${t}`)}{let t;return t=n.unAuth?new h.default:n.networkProblems?new l.default("Network request failed."):new Error("HTTP response code "+n.statusCode+" received."),this.dealWithFailure(e).then(()=>{throw this.rs._emit("error",t),t})}}finishTask(e){if(void 0!==e.action)return e.promise.then(t=>this.handleResponse(e.path,e.action,t),t=>(u.default("[Sync] wireclient rejects its promise!",e.path,e.action,t),this.handleResponse(e.path,e.action,{statusCode:"offline"}))).then(t=>{if(delete this._timeStarted[e.path],delete this._running[e.path],t&&this._tasks[e.path]){for(let t=0;t<this._tasks[e.path].length;t++)this._tasks[e.path][t]();delete this._tasks[e.path]}this.rs._emit("sync-req-done"),this.collectTasks(!1).then(()=>{!this.hasTasks()||this.stopped?(u.default("[Sync] Sync is done! Reschedule?",Object.getOwnPropertyNames(this._tasks).length,this.stopped),this.done||(this.done=!0,this.rs._emit("sync-done"))):setTimeout(()=>{this.doTasks()},10)})},t=>{u.default("[Sync] Error",t),delete this._timeStarted[e.path],delete this._running[e.path],this.rs._emit("sync-req-done"),this.done||(this.done=!0,this.rs._emit("sync-done"))});delete this._running[e.path]}doTasks(){let e,t,r=0;e=this.rs.remote.connected?this.rs.remote.online?this.numThreads:1:0;const n=e-Object.getOwnPropertyNames(this._running).length;if(n<=0)return!0;for(t in this._tasks)if(!this._running[t]&&(this._timeStarted[t]=this.now(),this._running[t]=this.doTask(t),this._running[t].then(this.finishTask.bind(this)),r++,r>=n))return!0;return r>=n}collectTasks(e){return n(this,void 0,void 0,(function*(){return this.hasTasks()||this.stopped?Promise.resolve():this.collectDiffTasks().then(t=>t||!1===e?Promise.resolve():this.collectRefreshTasks(),(function(e){throw e}))}))}addTask(e,t){this._tasks[e]||(this._tasks[e]=[]),"function"==typeof t&&this._tasks[e].push(t)}sync(){return this.done=!1,this.doTasks()?Promise.resolve():this.collectTasks().then(()=>{try{this.doTasks()}catch(e){u.default("[Sync] doTasks error",e)}},(function(e){throw u.default("[Sync] Sync error",e),new Error("Local cache unavailable")}))}static _rs_init(e){f=function(){u.default("[Sync] syncCycleCb calling syncCycle");const t=new s.default;t.isBrowser()&&function(e,t){function r(e){const r=t.getCurrentSyncInterval();i.default.isBackground=!e;const n=t.getCurrentSyncInterval();t._emit("sync-interval-change",{oldValue:r,newValue:n})}e.on("background",()=>r(!1)),e.on("foreground",()=>r(!0))}(t,e),e.sync||(e.sync=new v(e),e.syncStopped&&(u.default("[Sync] Instantiating sync stopped"),e.sync.stopped=!0,delete e.syncStopped)),u.default("[Sync] syncCycleCb calling syncCycle"),e.syncCycle()},p=function(){e.removeEventListener("connected",p),e.startSync()},e.on("ready",f),e.on("connected",p)}static _rs_cleanup(e){e.stopSync(),e.removeEventListener("ready",f),e.removeEventListener("connected",p),e.sync=void 0,delete e.sync}}d.applyMixins(v,[a.default]),t.default=v},function(e,t,r){"use strict";(function(e){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=o(r(2)),s=o(r(10)),a=o(r(1)),u=r(0);let c;class l extends s.default{constructor(e){super(),this.addEvents(["change","local-events-done"]),this.db=e||c,this.db?(this.getsRunning=0,this.putsRunning=0,this.changesQueued={},this.changesRunning={},this.commitSlownessWarning=null):a.default("[IndexedDB] Failed to open DB")}getNodes(e){return n(this,void 0,void 0,(function*(){const t=[],r={};for(let n=0,o=e.length;n<o;n++)void 0!==this.changesQueued[e[n]]?r[e[n]]=u.deepClone(this.changesQueued[e[n]]||void 0):void 0!==this.changesRunning[e[n]]?r[e[n]]=u.deepClone(this.changesRunning[e[n]]||void 0):t.push(e[n]);return t.length>0?this.getNodesFromDb(t).then((function(e){for(const t in r)e[t]=r[t];return e})):Promise.resolve(r)}))}setNodes(e){return n(this,void 0,void 0,(function*(){for(const t in e)this.changesQueued[t]=e[t]||!1;return this.maybeFlush(),Promise.resolve()}))}maybeFlush(){0===this.putsRunning?this.flushChangesQueued():this.commitSlownessWarning||(this.commitSlownessWarning=e.setInterval((function(){console.warn("WARNING: waited more than 10 seconds for previous commit to finish")}),1e4))}flushChangesQueued(){this.commitSlownessWarning&&(clearInterval(this.commitSlownessWarning),this.commitSlownessWarning=null),Object.keys(this.changesQueued).length>0&&(this.changesRunning=this.changesQueued,this.changesQueued={},this.setNodesInDb(this.changesRunning).then(this.flushChangesQueued.bind(this)))}getNodesFromDb(e){return new Promise((t,r)=>{const n=this.db.transaction(["nodes"],"readonly"),o=n.objectStore("nodes"),i={};this.getsRunning++,e.map(e=>{o.get(e).onsuccess=t=>{i[e]=t.target.result}}),n.oncomplete=()=>{t(i),this.getsRunning--},n.onerror=n.onabort=()=>{r("get transaction error/abort"),this.getsRunning--}})}setNodesInDb(e){return n(this,void 0,void 0,(function*(){return new Promise((t,r)=>{const n=this.db.transaction(["nodes"],"readwrite"),o=n.objectStore("nodes"),i=(new Date).getTime();this.putsRunning++,a.default("[IndexedDB] Starting put",e,this.putsRunning);for(const t in e){const r=e[t];if("object"==typeof r)try{o.put(r)}catch(e){throw a.default("[IndexedDB] Error while putting",r,e),e}else try{o.delete(t)}catch(e){throw a.default("[IndexedDB] Error while removing",o,r,e),e}}n.oncomplete=()=>{this.putsRunning--,a.default("[IndexedDB] Finished put",e,this.putsRunning,(new Date).getTime()-i+"ms"),t()},n.onerror=()=>{this.putsRunning--,r("transaction error")},n.onabort=()=>{r("transaction abort"),this.putsRunning--}})}))}reset(e){const t=this.db.name;this.db.close(),l.clean(this.db.name,()=>{l.open(t,(t,r)=>{t?a.default("[IndexedDB] Error while resetting local storage",t):this.db=r,"function"==typeof e&&e(self)})})}forAllNodes(e){return n(this,void 0,void 0,(function*(){return new Promise(t=>{this.db.transaction(["nodes"],"readonly").objectStore("nodes").openCursor().onsuccess=r=>{const n=r.target.result;n?(e(this.migrate(n.value)),n.continue()):t()}})}))}closeDB(){0===this.putsRunning?this.db.close():setTimeout(this.closeDB.bind(this),100)}static open(e,t){const r=setTimeout((function(){t("timeout trying to open db")}),1e4);try{const n=indexedDB.open(e,2);n.onerror=function(){a.default("[IndexedDB] Opening DB failed",n),clearTimeout(r),t(n.error)},n.onupgradeneeded=function(e){const t=n.result;a.default("[IndexedDB] Upgrade: from ",e.oldVersion," to ",e.newVersion),1!==e.oldVersion&&(a.default("[IndexedDB] Creating object store: nodes"),t.createObjectStore("nodes",{keyPath:"path"})),a.default("[IndexedDB] Creating object store: changes"),t.createObjectStore("changes",{keyPath:"path"})},n.onsuccess=function(){clearTimeout(r);const o=n.result;if(!o.objectStoreNames.contains("nodes")||!o.objectStoreNames.contains("changes"))return a.default("[IndexedDB] Missing object store. Resetting the database."),void l.clean(e,(function(){l.open(e,t)}));t(null,n.result)}}catch(n){a.default("[IndexedDB] Failed to open database: "+n),a.default("[IndexedDB] Resetting database and trying again."),clearTimeout(r),l.clean(e,(function(){l.open(e,t)}))}}static clean(e,t){const r=indexedDB.deleteDatabase(e);r.onsuccess=function(){a.default("[IndexedDB] Done removing DB"),t()},r.onerror=r.onabort=function(t){console.error('Failed to remove database "'+e+'"',t)}}static _rs_init(e){return new Promise((t,r)=>{l.open("remotestorage",(function(n,o){n?r(n):(c=o,o.onerror=()=>{e._emit("error",n)},t())}))})}static _rs_supported(){return new Promise((e,t)=>{const r=u.getGlobalContext();let n=!1;if("undefined"!=typeof navigator&&navigator.userAgent.match(/Android (2|3|4\.[0-3])/)&&(navigator.userAgent.match(/Chrome|Firefox/)||(n=!0)),"indexedDB"in r&&!n)try{const r=indexedDB.open("rs-check");r.onerror=function(){t()},r.onsuccess=function(){r.result.close(),indexedDB.deleteDatabase("rs-check"),e()}}catch(e){t()}else t()})}static _rs_cleanup(e){return new Promise(t=>{e.local&&e.local.closeDB(),l.clean("remotestorage",t)})}diffHandler(){}}u.applyMixins(l,[i.default]),t.default=l}).call(this,r(5))},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(10)),i=n(r(2)),s=n(r(1)),a=r(0),u="remotestorage:cache:nodes:";function c(e){return e.substr(0,u.length)===u||"remotestorage:cache:changes:"===e.substr(0,"remotestorage:cache:changes:".length)}class l extends o.default{constructor(){super(),this.addEvents(["change","local-events-done"])}diffHandler(...e){}getNodes(e){const t={};for(let r=0,n=e.length;r<n;r++)try{t[e[r]]=JSON.parse(localStorage[u+e[r]])}catch(n){t[e[r]]=void 0}return Promise.resolve(t)}setNodes(e){for(const t in e)localStorage[u+t]=JSON.stringify(e[t]);return Promise.resolve()}forAllNodes(e){let t;for(let r=0,n=localStorage.length;r<n;r++)if(localStorage.key(r).substr(0,u.length)===u){try{t=this.migrate(JSON.parse(localStorage[localStorage.key(r)]))}catch(e){t=void 0}t&&e(t)}return Promise.resolve()}static _rs_init(){}static _rs_supported(){return a.localStorageAvailable()}static _rs_cleanup(){const e=[];for(let t=0,r=localStorage.length;t<r;t++){const r=localStorage.key(t);c(r)&&e.push(r)}e.forEach(e=>{s.default("[LocalStorage] Removing",e),delete localStorage[e]})}}a.applyMixins(l,[i.default]),t.default=l},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(2)),i=n(r(10));class s extends i.default{constructor(){super(),this._storage={},this.addEvents(["change","local-events-done"])}getNodes(e){const t={};for(let r=0,n=e.length;r<n;r++)t[e[r]]=this._storage[e[r]];return Promise.resolve(t)}setNodes(e){for(const t in e)void 0===e[t]?delete this._storage[t]:this._storage[t]=e[t];return Promise.resolve()}forAllNodes(e){for(const t in this._storage)e(this.migrate(this._storage[t]));return Promise.resolve()}diffHandler(){}static _rs_init(){}static _rs_supported(){return!0}static _rs_cleanup(){}}r(0).applyMixins(s,[o.default]),t.default=s}])}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9SZW1vdGVTdG9yYWdlL3dlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIndlYnBhY2s6Ly9SZW1vdGVTdG9yYWdlL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL1JlbW90ZVN0b3JhZ2UvLi9zcmMvdXRpbC50cyIsIndlYnBhY2s6Ly9SZW1vdGVTdG9yYWdlLy4vc3JjL2xvZy50cyIsIndlYnBhY2s6Ly9SZW1vdGVTdG9yYWdlLy4vc3JjL2V2ZW50aGFuZGxpbmcudHMiLCJ3ZWJwYWNrOi8vUmVtb3RlU3RvcmFnZS8uL3NyYy9jb25maWcudHMiLCJ3ZWJwYWNrOi8vUmVtb3RlU3RvcmFnZS8uL3NyYy91bmF1dGhvcml6ZWQtZXJyb3IudHMiLCJ3ZWJwYWNrOi8vUmVtb3RlU3RvcmFnZS8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vUmVtb3RlU3RvcmFnZS8uL3NyYy9hdXRob3JpemUudHMiLCJ3ZWJwYWNrOi8vUmVtb3RlU3RvcmFnZS8uL3NyYy9iYXNlY2xpZW50LnRzIiwid2VicGFjazovL1JlbW90ZVN0b3JhZ2UvLi9zcmMvd2lyZWNsaWVudC50cyIsIndlYnBhY2s6Ly9SZW1vdGVTdG9yYWdlLy4vc3JjL3N5bmMtZXJyb3IudHMiLCJ3ZWJwYWNrOi8vUmVtb3RlU3RvcmFnZS8uL3NyYy9jYWNoaW5nbGF5ZXIudHMiLCJ3ZWJwYWNrOi8vUmVtb3RlU3RvcmFnZS8uL3NyYy9hY2Nlc3MudHMiLCJ3ZWJwYWNrOi8vUmVtb3RlU3RvcmFnZS8uL3NyYy9jYWNoaW5nLnRzIiwid2VicGFjazovL1JlbW90ZVN0b3JhZ2UvLi9zcmMvZ29vZ2xlZHJpdmUudHMiLCJ3ZWJwYWNrOi8vUmVtb3RlU3RvcmFnZS8uL3NyYy9kcm9wYm94LnRzIiwid2VicGFjazovL1JlbW90ZVN0b3JhZ2UvLi9zcmMvZGlzY292ZXIudHMiLCJ3ZWJwYWNrOi8vUmVtb3RlU3RvcmFnZS8uL3NyYy9lbnYudHMiLCJ3ZWJwYWNrOi8vUmVtb3RlU3RvcmFnZS8uL3NyYy9yZW1vdGVzdG9yYWdlLnRzIiwid2VicGFjazovL1JlbW90ZVN0b3JhZ2UvLi9ub2RlX21vZHVsZXMvYnVmZmVyL2luZGV4LmpzIiwid2VicGFjazovL1JlbW90ZVN0b3JhZ2UvLi9ub2RlX21vZHVsZXMvYmFzZTY0LWpzL2luZGV4LmpzIiwid2VicGFjazovL1JlbW90ZVN0b3JhZ2UvLi9ub2RlX21vZHVsZXMvaWVlZTc1NC9pbmRleC5qcyIsIndlYnBhY2s6Ly9SZW1vdGVTdG9yYWdlLy4vbm9kZV9tb2R1bGVzL2lzYXJyYXkvaW5kZXguanMiLCJ3ZWJwYWNrOi8vUmVtb3RlU3RvcmFnZS8uL25vZGVfbW9kdWxlcy90djQvdHY0LmpzIiwid2VicGFjazovL1JlbW90ZVN0b3JhZ2UvLi9zcmMvdHlwZXMudHMiLCJ3ZWJwYWNrOi8vUmVtb3RlU3RvcmFnZS8uL3NyYy9zY2hlbWEtbm90LWZvdW5kLWVycm9yLnRzIiwid2VicGFjazovL1JlbW90ZVN0b3JhZ2UvLi9zcmMvcmV2aXNpb25jYWNoZS50cyIsIndlYnBhY2s6Ly9SZW1vdGVTdG9yYWdlLy4vbm9kZV9tb2R1bGVzL3dlYmZpbmdlci5qcy9zcmMvd2ViZmluZ2VyLmpzIiwid2VicGFjazovL1JlbW90ZVN0b3JhZ2UvLi9ub2RlX21vZHVsZXMvd2ViZmluZ2VyLmpzL25vZGVfbW9kdWxlcy94aHIyL2xpYi9icm93c2VyLmpzIiwid2VicGFjazovL1JlbW90ZVN0b3JhZ2UvLi9zcmMvZmVhdHVyZXMudHMiLCJ3ZWJwYWNrOi8vUmVtb3RlU3RvcmFnZS8uL3NyYy9zeW5jZWRnZXRwdXRkZWxldGUudHMiLCJ3ZWJwYWNrOi8vUmVtb3RlU3RvcmFnZS8uL3NyYy9zeW5jLnRzIiwid2VicGFjazovL1JlbW90ZVN0b3JhZ2UvLi9zcmMvaW5kZXhlZGRiLnRzIiwid2VicGFjazovL1JlbW90ZVN0b3JhZ2UvLi9zcmMvbG9jYWxzdG9yYWdlLnRzIiwid2VicGFjazovL1JlbW90ZVN0b3JhZ2UvLi9zcmMvaW5tZW1vcnlzdG9yYWdlLnRzIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsImRlZmluZSIsImFtZCIsInRoaXMiLCJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwibG9nRXJyb3IiLCJlcnJvciIsImNvbnNvbGUiLCJtZXNzYWdlIiwic3RhY2siLCJnbG9iYWxDb250ZXh0Iiwid2luZG93Iiwic2VsZiIsImdsb2JhbCIsImdldEdsb2JhbENvbnRleHQiLCJleHRlbmQiLCJhcmdzIiwidGFyZ2V0IiwiQXJyYXkiLCJzbGljZSIsImZvckVhY2giLCJzb3VyY2UiLCJjb250YWluaW5nRm9sZGVyIiwicGF0aCIsInJlcGxhY2UiLCJpc0ZvbGRlciIsInN1YnN0ciIsImlzRG9jdW1lbnQiLCJiYXNlTmFtZSIsInBhcnRzIiwic3BsaXQiLCJsZW5ndGgiLCJjbGVhblBhdGgiLCJtYXAiLCJlbmNvZGVVUklDb21wb25lbnQiLCJqb2luIiwiYmluZEFsbCIsImVxdWFsIiwiYSIsImIiLCJzZWVuIiwidG9TdHJpbmciLCJBcnJheUJ1ZmZlciIsIlVpbnQ4QXJyYXkiLCJzZWVuQXJnIiwiaW5kZXhPZiIsInB1c2giLCJkZWVwQ2xvbmUiLCJvYmoiLCJ1bmRlZmluZWQiLCJjbG9uZSIsIkpTT04iLCJwYXJzZSIsInN0cmluZ2lmeSIsIl9maXhBcnJheUJ1ZmZlcnMiLCJzcmNPYmoiLCJkc3RPYmoiLCJpc0FycmF5IiwiZmllbGQiLCJieXRlTGVuZ3RoIiwic3JjQXJyIiwiSW50OEFycmF5Iiwic2V0IiwicGF0aHNGcm9tUm9vdCIsInBhdGhzIiwicG9wIiwibG9jYWxTdG9yYWdlQXZhaWxhYmxlIiwiY29udGV4dCIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJyZW1vdmVJdGVtIiwiZ2V0SlNPTkZyb21Mb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiZSIsInNob3VsZEJlVHJlYXRlZEFzQmluYXJ5IiwiY29udGVudCIsIm1pbWVUeXBlIiwibWF0Y2giLCJ0ZXN0IiwiZ2V0VGV4dEZyb21BcnJheUJ1ZmZlciIsImFycmF5QnVmZmVyIiwiZW5jb2RpbmciLCJQcm9taXNlIiwicmVzb2x2ZSIsIkJsb2IiLCJidWZmZXIiLCJCdWZmZXIiLCJibG9iIiwiZ2MiLCJCbG9iQnVpbGRlciIsIldlYktpdEJsb2JCdWlsZGVyIiwiYmIiLCJhcHBlbmQiLCJnZXRCbG9iIiwiZmlsZVJlYWRlciIsIkZpbGVSZWFkZXIiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZ0IiwicmVzdWx0Iiwib25sb2FkZW5kIiwicmVhZEFzVGV4dCIsInRvQmFzZTY0Iiwic3RyIiwiZnJvbSIsImRlcml2ZWRDdG9yIiwiYmFzZUN0b3JzIiwiYmFzZUN0b3IiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwibG9nZ2luZyIsImxvZyIsImFkZGl0aW9uYWxFdmVudHMiLCJldk5hbWUiLCJfYWRkRXZlbnQiLCJldmVudE5hbWUiLCJoYW5kbGVyIiwiRXJyb3IiLCJfdmFsaWRhdGVFdmVudCIsIl9oYW5kbGVycyIsImhsIiwic3BsaWNlIiwiYXBwbHkiLCJvbiIsImV2ZW50IiwiX2VtaXQiLCJjb25maWciLCJjYWNoZSIsImNoYW5nZUV2ZW50cyIsImxvY2FsIiwicmVtb3RlIiwiY29uZmxpY3QiLCJjb3Jkb3ZhUmVkaXJlY3RVcmkiLCJiYWNrZ3JvdW5kU3luY0ludGVydmFsIiwiZGlzYWJsZUZlYXR1cmVzIiwiZGlzY292ZXJ5VGltZW91dCIsImlzQmFja2dyb3VuZCIsInJlcXVlc3RUaW1lb3V0Iiwic3luY0ludGVydmFsIiwiVW5hdXRob3JpemVkRXJyb3IiLCJvcHRpb25zIiwic3VwZXIiLCJjb2RlIiwiZyIsIkZ1bmN0aW9uIiwib25GZWF0dXJlc0xvYWRlZCIsImV4dHJhY3RQYXJhbXMiLCJ1cmwiLCJsb2NhdGlvbiIsIkF1dGhvcml6ZSIsImdldExvY2F0aW9uIiwiaHJlZiIsImhhc2hQb3MiLCJ1cmxGcmFnbWVudCIsInN1YnN0cmluZyIsImluY2x1ZGVzIiwicmVkdWNlIiwicGFyYW1zIiwia3ZzIiwia3YiLCJzdGF0ZVZhbHVlIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwiZW5jb2RlZERhdGEiLCJhdG9iIiwiUmVnRXhwIiwicmVtb3RlU3RvcmFnZSIsImF1dGhVUkwiLCJzY29wZSIsInJlZGlyZWN0VXJpIiwiY2xpZW50SWQiLCJiYWNrZW5kIiwiZGlzY292ZXJ5RGF0YSIsInVzZXJBZGRyZXNzIiwic3RvcmFnZUFwaSIsInByb3BlcnRpZXMiLCJidWlsZE9BdXRoVVJMIiwib3BlbldpbmRvdyIsInRoZW4iLCJhdXRoUmVzdWx0IiwiY29uZmlndXJlIiwidG9rZW4iLCJhY2Nlc3NfdG9rZW4iLCJzZXRMb2NhdGlvbiIsImRvY3VtZW50IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIklNUExJRURfRkFLRV9UT0tFTiIsInJlamVjdCIsIm5ld1dpbmRvdyIsIm9wZW4iLCJjbG9zZWQiLCJoYW5kbGVFeGl0IiwiY2xvc2UiLCJfcnNfaW5pdCIsImhhc2giLCJhdXRoUGFyYW1zVXNlZCIsInJzRGlzY292ZXJ5IiwicmVtb3Rlc3RvcmFnZSIsImNvbm5lY3QiLCJzdGF0ZSIsInN0b3BXYWl0aW5nRm9yVG9rZW4iLCJCYXNlQ2xpZW50Iiwic3RvcmFnZSIsImJhc2UiLCJtYWtlUGF0aCIsIm1vZHVsZU5hbWUiLCJhZGRFdmVudHMiLCJvbkNoYW5nZSIsIl9maXJlQ2hhbmdlIiwiVHlwZXMiLCJnZXRMaXN0aW5nIiwibWF4QWdlIiwic3RhdHVzQ29kZSIsImJvZHkiLCJnZXRBbGwiLCJrZXlzIiwiY2FsbHMiLCJhbGwiLCJnZXRGaWxlIiwiZGF0YSIsImNvbnRlbnRUeXBlIiwicmV2aXNpb24iLCJzdG9yZUZpbGUiLCJhY2Nlc3MiLCJjaGVja1BhdGhQZXJtaXNzaW9uIiwid2FybiIsInB1dCIsImdldE9iamVjdCIsInN0b3JlT2JqZWN0IiwidHlwZUFsaWFzIiwiX2F0dGFjaFR5cGUiLCJ2YWxpZGF0aW9uUmVzdWx0IiwidmFsaWRhdGUiLCJ2YWxpZCIsImV4YyIsInJlbW92ZSIsImRlbGV0ZSIsImdldEl0ZW1VUkwiLCJjb25uZWN0ZWQiLCJzdHJhdGVneSIsImNhY2hpbmciLCJmbHVzaCIsImRlY2xhcmVUeXBlIiwiYWxpYXMiLCJ1cmlPclNjaGVtYSIsInNjaGVtYSIsInVyaSIsIl9kZWZhdWx0VHlwZVVSSSIsImRlY2xhcmUiLCJnZXRTY2hlbWEiLCJ2YWxpZGF0ZVJlc3VsdCIsInNjaGVtYXMiLCJjb25maWd1cmFibGUiLCJpblNjb3BlIiwicmVzb2x2ZUFsaWFzIiwib3JpZ2luIiwiZmllbGROYW1lUHJlZml4IiwiZXhlYyIsImFwcGx5TWl4aW5zIiwiaGFzTG9jYWxTdG9yYWdlIiwiU0VUVElOR1NfS0VZIiwiU1RPUkFHRV9BUElTIiwiaXNBcnJheUJ1ZmZlclZpZXciLCJBcnJheUJ1ZmZlclZpZXciLCJhcnJheUJ1ZmZlclZpZXdzIiwiSW50MTZBcnJheSIsIlVpbnQxNkFycmF5IiwiSW50MzJBcnJheSIsIlVpbnQzMkFycmF5IiwiRmxvYXQzMkFycmF5IiwiRmxvYXQ2NEFycmF5IiwiYWRkUXVvdGVzIiwic3RyaXBRdW90ZXMiLCJXaXJlQ2xpZW50IiwicnMiLCJzZXR0aW5ncyIsInNldFRpbWVvdXQiLCJfcmV2aXNpb25DYWNoZSIsIl9yZXF1ZXN0IiwibWV0aG9kIiwiaGVhZGVycyIsImdldEV0YWciLCJmYWtlUmV2aXNpb24iLCJpc0ZvcmJpZGRlblJlcXVlc3RNZXRob2QiLCJyZXF1ZXN0IiwicmVzcG9uc2VUeXBlIiwicmVzcG9uc2UiLCJvbmxpbmUiLCJzdWNjZXNzIiwic3RhdHVzIiwiZ2V0UmVzcG9uc2VIZWFkZXIiLCJpc1N1Y2Nlc3NTdGF0dXMiLCJjaGFyc2V0IiwiY2hhcnNldE1hdGNoIiwiZGV0ZXJtaW5lQ2hhcnNldCIsInRleHRDb250ZW50IiwiX3N0b3JhZ2VBcGkiLCJzdXBwb3J0c1JldnMiLCJpZk5vbmVNYXRjaCIsIml0ZW1zTWFwIiwiaXRlbSIsIml0ZW1zIiwiRVRhZyIsImlmTWF0Y2giLCJmZXRjaCIsIl9mZXRjaFJlcXVlc3QiLCJYTUxIdHRwUmVxdWVzdCIsIl94aHJSZXF1ZXN0Iiwic3ludGhldGljWGhyIiwicmVzcG9uc2VIZWFkZXJzIiwiYWJvcnRDb250cm9sbGVyIiwiQWJvcnRDb250cm9sbGVyIiwibmV0d29ya1Byb21pc2UiLCJzaWduYWwiLCJoZWFkZXJOYW1lIiwidG9VcHBlckNhc2UiLCJyZWFkeVN0YXRlIiwic3RhdHVzVGV4dCIsInJlc3BvbnNlVVJMIiwianNvbiIsInRleHQiLCJwcm9jZXNzZWRCb2R5IiwicmVzcG9uc2VUZXh0IiwidGltZW91dFByb21pc2UiLCJhYm9ydCIsInJhY2UiLCJ0aW1lZE91dCIsInRpbWVyIiwieGhyIiwic2V0UmVxdWVzdEhlYWRlciIsIm9ubG9hZCIsImNsZWFyVGltZW91dCIsIm9uZXJyb3IiLCJzZW5kIiwic3BlYyIsIl9yc19zdXBwb3J0ZWQiLCJfcnNfY2xlYW51cCIsIlN5bmNFcnJvciIsIm9yaWdpbmFsRXJyb3IiLCJDYWNoaW5nTGF5ZXIiLCJfdXBkYXRlTm9kZXNSdW5uaW5nIiwiX3VwZGF0ZU5vZGVzUXVldWVkIiwicXVldWVHZXRSZXF1ZXN0IiwiZ2V0Tm9kZXMiLCJvYmpzIiwibm9kZSIsImdldExhdGVzdCIsImlzT3V0ZGF0ZWQiLCJfdXBkYXRlTm9kZXMiLCJub2RlUGF0aHMiLCJub2RlcyIsImxlbiIsIm5vZGVQYXRoIiwicHJldmlvdXMiLCJtYWtlTm9kZSIsInByZXZpb3VzQm9keSIsInByZXZpb3VzQ29udGVudFR5cGUiLCJ1cGRhdGVGb2xkZXJOb2RlV2l0aEl0ZW1OYW1lIiwiY29tbW9uIiwiaXRlbU5hbWUiLCJfZ2V0QWxsRGVzY2VuZGVudFBhdGhzIiwiX2VtaXRDaGFuZ2UiLCJvbGRWYWx1ZSIsIm5ld1ZhbHVlIiwic2V0Tm9kZXMiLCJmb3JBbGxOb2RlcyIsImxhdGVzdCIsIm9sZENvbnRlbnRUeXBlIiwibmV3Q29udGVudFR5cGUiLCJkaWZmSGFuZGxlciIsIl9wcm9jZXNzTm9kZXMiLCJfZG9VcGRhdGVOb2RlcyIsInByb21pc2UiLCJjYiIsImV4aXN0aW5nTm9kZXMiLCJfZW1pdENoYW5nZUV2ZW50cyIsImVyciIsIm5leHRKb2IiLCJzaGlmdCIsImV2ZW50cyIsImFsbFBhdGhzIiwibm9kZVZlcnNpb24iLCJ0aW1lc3RhbXAiLCJEYXRlIiwiZ2V0VGltZSIsInJlc2V0Iiwic2NvcGVNb2RlTWFwIiwic2NvcGVzIiwiX3Njb3BlTmFtZUZvclBhcmFtZXRlciIsIl9hZGp1c3RSb290UGF0aHMiLCJzYXZlZE1hcCIsImNsYWltIiwiYWN0dWFsTW9kZSIsImNoZWNrUGVybWlzc2lvbiIsIl9nZXRNb2R1bGVOYW1lIiwicm9vdFBhdGhzIiwibW9kdWxlTWF0Y2giLCJuZXdTY29wZSIsInN0b3JhZ2VUeXBlIiwidHlwZSIsInBlbmRpbmdBY3RpdmF0aW9ucyIsIl9yb290UGF0aHMiLCJhY3RpdmF0ZUhhbmRsZXIiLCJjaGVja1BhdGgiLCJCQVNFX1VSTCIsIm1ldGFUaXRsZUZyb21GaWxlTmFtZSIsImZpbGVuYW1lIiwicGFyZW50UGF0aCIsImdvb2dsZURyaXZlUGF0aCIsInJlbW92ZVF1b3RlcyIsIkZpbGVJZENhY2hlIiwiX2l0ZW1zIiwibm93IiwidiIsIkdvb2dsZURyaXZlIiwiX2ZpbGVJZENhY2hlIiwid3JpdGVTZXR0aW5nc1RvQ2FjaGUiLCJoYW5kbGVFcnJvciIsImluZm8iLCJ1c2VyIiwiZW1haWxBZGRyZXNzIiwiY2F0Y2giLCJzZXRCYWNrZW5kIiwiYXV0aG9yaXplIiwiX2dldEZvbGRlciIsIl9nZXRGaWxlIiwiZnVsbFBhdGgiLCJwdXREb25lIiwibWV0YSIsImV0YWdXaXRob3V0UXVvdGVzIiwiZXRhZyIsIl9nZXRGaWxlSWQiLCJpZCIsIl91cGRhdGVGaWxlIiwiX2NyZWF0ZUZpbGUiLCJfZ2V0TWV0YSIsInJlc3AiLCJtZXRhZGF0YSIsIl9nZXRQYXJlbnRJZCIsInBhcmVudElkIiwidGl0bGUiLCJwYXJlbnRzIiwia2luZCIsImRvd25sb2FkVXJsIiwiZXhwb3J0TGlua3MiLCJxdWVyeSIsImZpbGVTaXplIiwiZm9sZGVybmFtZSIsIl9jcmVhdGVGb2xkZXIiLCJhcGlLZXlzIiwiZ29vZ2xlZHJpdmUiLCJfb3JpZ1JlbW90ZSIsIl9vcmlnQmFzZUNsaWVudEdldEl0ZW1VUkwiLCJnZXREcm9wYm94UGF0aCIsIlBBVEhfUFJFRklYIiwiY29tcGFyZUFwaUVycm9yIiwiZXhwZWN0IiwiZXJyb3Jfc3VtbWFyeSIsImlzQmluYXJ5RGF0YSIsIkRyb3Bib3giLCJfaW5pdGlhbEZldGNoRG9uZSIsImRyb3Bib3giLCJhcHBLZXkiLCJfcmV2Q2FjaGUiLCJfZmV0Y2hEZWx0YUN1cnNvciIsIl9mZXRjaERlbHRhUHJvbWlzZSIsIl9pdGVtUmVmcyIsImhvb2tJdCIsImVtYWlsIiwicmV2Q2FjaGUiLCJwcm9jZXNzUmVzcG9uc2UiLCJsaXN0aW5nIiwiZW50cmllcyIsImlzRGlyIiwicGF0aF9sb3dlciIsInJldiIsImhhc19tb3JlIiwibG9hZE5leHQiLCJjdXJzb3IiLCJuZXh0TGlzdGluZyIsImFzc2lnbiIsInNhdmVkUmV2IiwiZmV0Y2hEZWx0YSIsIm1pbWUiLCJfc2hhcmVJZk5lZWRlZCIsIm5lZWRzTWV0YWRhdGEiLCJ1cGxvYWRQYXJhbXMiLCJfZ2V0TWV0YWRhdGEiLCJfdXBsb2FkU2ltcGxlIiwicmVzIiwiX2RlbGV0ZVNpbXBsZSIsInNoYXJlIiwiX2dldFNoYXJlZExpbmsiLCJsaW5rIiwicmVxdWVzdEJvZHkiLCJyZWN1cnNpdmUiLCJpbmNsdWRlX2RlbGV0ZWQiLCJyZXNwb25zZUJvZHkiLCJkZWFjdGl2YXRlUHJvcGFnYXRpb24iLCJlbnRyeSIsImFjdGl2YXRlUHJvcGFnYXRpb24iLCJQcm9ncmVzc0V2ZW50IiwidXBkYXRlIiwibXV0ZSIsImRpcmVjdF9vbmx5IiwibGlua3MiLCJ1bkhvb2tSZW1vdGUiLCJfZHJvcGJveE9yaWdTeW5jIiwic3luYyIsInVuSG9va1N5bmMiLCJ1bkhvb2tHZXRJdGVtVVJMIiwidW5Ib29rU3luY0N5Y2xlIiwidW5Ib29rSXQiLCJob29rU3luYyIsIl9kcm9wYm94T3JpZ1N5bmNDeWNsZSIsInN5bmNDeWNsZSIsImhvb2tSZW1vdGUiLCJob29rU3luY0N5Y2xlIiwiaG9va0dldEl0ZW1VUkwiLCJoYXZlWE1MSHR0cFJlcXVlc3QiLCJjYWNoZWRJbmZvIiwiRGlzY292ZXIiLCJ0bHNfb25seSIsInVyaV9mYWxsYmFjayIsInJlcXVlc3RfdGltZW91dCIsImxvb2t1cCIsImlkeCIsIkRpc2NvdmVyeUVycm9yIiwiY29uc3RydWN0b3IiLCJFbnYiLCJzZXRCcm93c2VyUHJlZml4ZWROYW1lcyIsInZpc2liaWxpdHlDaGFuZ2VFdmVudCIsInNldFZpc2liaWxpdHkiLCJoaWRkZW4iLCJoaWRkZW5Qcm9wZXJ0eSIsImdvQmFja2dyb3VuZCIsImdvRm9yZWdyb3VuZCIsImVtaXRVbmF1dGhvcml6ZWQiLCJSZW1vdGVTdG9yYWdlIiwiY2ZnIiwiX3BlbmRpbmciLCJfc2V0R1BEIiwiX3BlbmRpbmdHUEQiLCJfY2xlYW51cHMiLCJfcGF0aEhhbmRsZXJzIiwiY2hhbmdlIiwib3JpZ09uIiwiX2FsbExvYWRlZCIsIl9pbml0IiwiZmlyZUluaXRpYWwiLCJsb2FkTW9kdWxlcyIsImlzVmFsaWRJbnRlcnZhbCIsImludGVydmFsIiwiVW5hdXRob3JpemVkIiwiYWRkTW9kdWxlIiwic2V0U3RvcmFnZVR5cGUiLCJzY29wZVBhcmFtZXRlciIsImNvcmRvdmEiLCJTdHJpbmciLCJpbXBsaWVkYXV0aCIsIkluQXBwQnJvd3NlciIsInJlY29ubmVjdCIsImRpc2Nvbm5lY3QiLCJvbmVEb25lIiwiY2xlYW51cCIsImNsZWFudXBSZXN1bHQiLCJ3aGF0IiwiZW5hYmxlTG9nIiwiZGlzYWJsZUxvZyIsInNldEFwaUtleXMiLCJ2YWxpZFR5cGVzIiwiZXZlcnkiLCJzZXRDb3Jkb3ZhUmVkaXJlY3RVcmkiLCJsb2FkRmVhdHVyZXMiLCJmZWF0dXJlcyIsImxvYWRGZWF0dXJlIiwiZmVhdHVyZVN1cHBvcnRlZCIsImZlYXR1cmVEb25lIiwiZmVhdHVyZXNEb25lIiwiZmVhdHVyZXNMb2FkZWQiLCJmZWF0dXJlSW5pdGlhbGl6ZWQiLCJmZWF0dXJlRmFpbGVkIiwiaGFzRmVhdHVyZSIsIl9zZXRDYWNoaW5nTW9kdWxlIiwiX2NvbGxlY3RDbGVhbnVwRnVuY3Rpb25zIiwiX2ZpcmVSZWFkeSIsImluaXRGZWF0dXJlIiwiaW1wbCIsIndyYXAiLCJmdW5jIiwibWV0aG9kTmFtZSIsIm1ldGhvZEFyZ3VtZW50cyIsIl9wcm9jZXNzUGVuZGluZyIsInBlbmRpbmciLCJfYmluZENoYW5nZSIsIl9kaXNwYXRjaEV2ZW50IiwicGwiLCJldiIsInJlbGF0aXZlUGF0aCIsImVzY2FwZWRQYXRoIiwiZ2V0U3luY0ludGVydmFsIiwic2V0U3luY0ludGVydmFsIiwiZ2V0QmFja2dyb3VuZFN5bmNJbnRlcnZhbCIsInNldEJhY2tncm91bmRTeW5jSW50ZXJ2YWwiLCJnZXRDdXJyZW50U3luY0ludGVydmFsIiwiZ2V0UmVxdWVzdFRpbWVvdXQiLCJzZXRSZXF1ZXN0VGltZW91dCIsInRpbWVvdXQiLCJzdG9wcGVkIiwiX3N5bmNUaW1lciIsInN0YXJ0U3luYyIsInN5bmNTdG9wcGVkIiwic3RvcFN5bmMiLCJtb2R1bGVCdWlsZGVyIiwiYnVpbGRlciIsImluc3RhbmNlIiwiX2xvYWRNb2R1bGUiLCJjYW1lbGl6ZWROYW1lIiwidXRpbCIsImJhc2U2NCIsImllZWU3NTQiLCJrTWF4TGVuZ3RoIiwiVFlQRURfQVJSQVlfU1VQUE9SVCIsImNyZWF0ZUJ1ZmZlciIsInRoYXQiLCJSYW5nZUVycm9yIiwiX19wcm90b19fIiwiYXJnIiwiZW5jb2RpbmdPck9mZnNldCIsImFsbG9jVW5zYWZlIiwiVHlwZUVycm9yIiwiYXJyYXkiLCJieXRlT2Zmc2V0IiwiZnJvbUFycmF5TGlrZSIsImZyb21BcnJheUJ1ZmZlciIsInN0cmluZyIsImlzRW5jb2RpbmciLCJhY3R1YWwiLCJ3cml0ZSIsImZyb21TdHJpbmciLCJpc0J1ZmZlciIsImNoZWNrZWQiLCJjb3B5IiwidmFsIiwiZnJvbU9iamVjdCIsImFzc2VydFNpemUiLCJzaXplIiwiaXNWaWV3IiwibG93ZXJlZENhc2UiLCJ1dGY4VG9CeXRlcyIsImJhc2U2NFRvQnl0ZXMiLCJ0b0xvd2VyQ2FzZSIsInNsb3dUb1N0cmluZyIsInN0YXJ0IiwiZW5kIiwiaGV4U2xpY2UiLCJ1dGY4U2xpY2UiLCJhc2NpaVNsaWNlIiwibGF0aW4xU2xpY2UiLCJiYXNlNjRTbGljZSIsInV0ZjE2bGVTbGljZSIsInN3YXAiLCJiaWRpcmVjdGlvbmFsSW5kZXhPZiIsImRpciIsImlzTmFOIiwiYXJyYXlJbmRleE9mIiwibGFzdEluZGV4T2YiLCJhcnIiLCJpbmRleFNpemUiLCJhcnJMZW5ndGgiLCJ2YWxMZW5ndGgiLCJyZWFkIiwiYnVmIiwicmVhZFVJbnQxNkJFIiwiZm91bmRJbmRleCIsImZvdW5kIiwiaiIsImhleFdyaXRlIiwib2Zmc2V0IiwiTnVtYmVyIiwicmVtYWluaW5nIiwic3RyTGVuIiwicGFyc2VkIiwicGFyc2VJbnQiLCJ1dGY4V3JpdGUiLCJibGl0QnVmZmVyIiwiYXNjaWlXcml0ZSIsImJ5dGVBcnJheSIsImNoYXJDb2RlQXQiLCJhc2NpaVRvQnl0ZXMiLCJsYXRpbjFXcml0ZSIsImJhc2U2NFdyaXRlIiwidWNzMldyaXRlIiwidW5pdHMiLCJoaSIsImxvIiwidXRmMTZsZVRvQnl0ZXMiLCJmcm9tQnl0ZUFycmF5IiwiTWF0aCIsIm1pbiIsInNlY29uZEJ5dGUiLCJ0aGlyZEJ5dGUiLCJmb3VydGhCeXRlIiwidGVtcENvZGVQb2ludCIsImZpcnN0Qnl0ZSIsImNvZGVQb2ludCIsImJ5dGVzUGVyU2VxdWVuY2UiLCJjb2RlUG9pbnRzIiwiZnJvbUNoYXJDb2RlIiwiZGVjb2RlQ29kZVBvaW50c0FycmF5IiwiU2xvd0J1ZmZlciIsImFsbG9jIiwiSU5TUEVDVF9NQVhfQllURVMiLCJmb28iLCJzdWJhcnJheSIsInR5cGVkQXJyYXlTdXBwb3J0IiwicG9vbFNpemUiLCJfYXVnbWVudCIsInNwZWNpZXMiLCJmaWxsIiwiYWxsb2NVbnNhZmVTbG93IiwiX2lzQnVmZmVyIiwiY29tcGFyZSIsIngiLCJ5IiwiY29uY2F0IiwibGlzdCIsInBvcyIsInN3YXAxNiIsInN3YXAzMiIsInN3YXA2NCIsImFyZ3VtZW50cyIsImVxdWFscyIsImluc3BlY3QiLCJtYXgiLCJ0aGlzU3RhcnQiLCJ0aGlzRW5kIiwidGhpc0NvcHkiLCJ0YXJnZXRDb3B5IiwiaXNGaW5pdGUiLCJ0b0pTT04iLCJfYXJyIiwicmV0Iiwib3V0IiwidG9IZXgiLCJieXRlcyIsImNoZWNrT2Zmc2V0IiwiZXh0IiwiY2hlY2tJbnQiLCJvYmplY3RXcml0ZVVJbnQxNiIsImxpdHRsZUVuZGlhbiIsIm9iamVjdFdyaXRlVUludDMyIiwiY2hlY2tJRUVFNzU0Iiwid3JpdGVGbG9hdCIsIm5vQXNzZXJ0Iiwid3JpdGVEb3VibGUiLCJuZXdCdWYiLCJzbGljZUxlbiIsInJlYWRVSW50TEUiLCJtdWwiLCJyZWFkVUludEJFIiwicmVhZFVJbnQ4IiwicmVhZFVJbnQxNkxFIiwicmVhZFVJbnQzMkxFIiwicmVhZFVJbnQzMkJFIiwicmVhZEludExFIiwicG93IiwicmVhZEludEJFIiwicmVhZEludDgiLCJyZWFkSW50MTZMRSIsInJlYWRJbnQxNkJFIiwicmVhZEludDMyTEUiLCJyZWFkSW50MzJCRSIsInJlYWRGbG9hdExFIiwicmVhZEZsb2F0QkUiLCJyZWFkRG91YmxlTEUiLCJyZWFkRG91YmxlQkUiLCJ3cml0ZVVJbnRMRSIsIndyaXRlVUludEJFIiwid3JpdGVVSW50OCIsImZsb29yIiwid3JpdGVVSW50MTZMRSIsIndyaXRlVUludDE2QkUiLCJ3cml0ZVVJbnQzMkxFIiwid3JpdGVVSW50MzJCRSIsIndyaXRlSW50TEUiLCJsaW1pdCIsInN1YiIsIndyaXRlSW50QkUiLCJ3cml0ZUludDgiLCJ3cml0ZUludDE2TEUiLCJ3cml0ZUludDE2QkUiLCJ3cml0ZUludDMyTEUiLCJ3cml0ZUludDMyQkUiLCJ3cml0ZUZsb2F0TEUiLCJ3cml0ZUZsb2F0QkUiLCJ3cml0ZURvdWJsZUxFIiwid3JpdGVEb3VibGVCRSIsInRhcmdldFN0YXJ0IiwiSU5WQUxJRF9CQVNFNjRfUkUiLCJJbmZpbml0eSIsImxlYWRTdXJyb2dhdGUiLCJ0b0J5dGVBcnJheSIsInRyaW0iLCJzdHJpbmd0cmltIiwiYmFzZTY0Y2xlYW4iLCJzcmMiLCJkc3QiLCJiNjQiLCJsZW5zIiwiZ2V0TGVucyIsInZhbGlkTGVuIiwicGxhY2VIb2xkZXJzTGVuIiwidG1wIiwiQXJyIiwiX2J5dGVMZW5ndGgiLCJjdXJCeXRlIiwicmV2TG9va3VwIiwidWludDgiLCJleHRyYUJ5dGVzIiwibGVuMiIsImVuY29kZUNodW5rIiwibnVtIiwib3V0cHV0IiwiaXNMRSIsIm1MZW4iLCJuQnl0ZXMiLCJlTGVuIiwiZU1heCIsImVCaWFzIiwibkJpdHMiLCJOYU4iLCJydCIsImFicyIsIkxOMiIsImhhc0RvbnRFbnVtQnVnIiwiZG9udEVudW1zIiwiZG9udEVudW1zTGVuZ3RoIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJwcm9wIiwiRiIsInZBcmciLCJzZWFyY2hFbGVtZW50IiwiayIsImlzRnJvemVuIiwicmFuZG9tIiwidXJpVGVtcGxhdGVHbG9iYWxNb2RpZmllcnMiLCJ1cmlUZW1wbGF0ZVN1ZmZpY2VzIiwibm90UmVhbGx5UGVyY2VudEVuY29kZSIsImVuY29kZVVSSSIsImRvdWJsZUVuY29kZWQiLCJ1cmlUZW1wbGF0ZVN1YnN0aXR1dGlvbiIsIm1vZGlmaWVyIiwiY2hhckF0Iiwic2VwYXJhdG9yIiwicHJlZml4Iiwic2hvdWxkRXNjYXBlIiwic2hvd1ZhcmlhYmxlcyIsInRyaW1FbXB0eVN0cmluZyIsInZhck5hbWVzIiwidmFyTGlzdCIsInZhclNwZWNzIiwidmFyU3BlY01hcCIsInZhck5hbWUiLCJ0cnVuY2F0ZSIsInN1ZmZpY2VzIiwidmFyU3BlYyIsInN1YkZ1bmN0aW9uIiwidmFsdWVGdW5jdGlvbiIsInN0YXJ0SW5kZXgiLCJmaXJzdCIsInN1YnN0aXR1dGlvbiIsIlVyaVRlbXBsYXRlIiwidGVtcGxhdGUiLCJ0ZXh0UGFydHMiLCJwcmVmaXhlcyIsInN1YnN0aXR1dGlvbnMiLCJwYXJ0IiwicmVtYWluZGVyIiwiZnVuY3MiLCJmaWxsRnJvbU9iamVjdCIsIlZhbGlkYXRvckNvbnRleHQiLCJwYXJlbnQiLCJjb2xsZWN0TXVsdGlwbGUiLCJlcnJvclJlcG9ydGVyIiwiY2hlY2tSZWN1cnNpdmUiLCJ0cmFja1Vua25vd25Qcm9wZXJ0aWVzIiwibWlzc2luZyIsIm1pc3NpbmdNYXAiLCJmb3JtYXRWYWxpZGF0b3JzIiwiZXJyb3JzIiwiY29sbGVjdEVycm9yIiwicmV0dXJuRXJyb3IiLCJzY2FubmVkIiwic2Nhbm5lZEZyb3plbiIsInNjYW5uZWRGcm96ZW5TY2hlbWFzIiwic2Nhbm5lZEZyb3plblZhbGlkYXRpb25FcnJvcnMiLCJ2YWxpZGF0ZWRTY2hlbWFzS2V5IiwidmFsaWRhdGlvbkVycm9yc0tleSIsImtub3duUHJvcGVydHlQYXRocyIsInVua25vd25Qcm9wZXJ0eVBhdGhzIiwiZGVmYXVsdEVycm9yUmVwb3J0ZXIiLCJkZWZpbmVkS2V5d29yZHMiLCJyZWN1cnNpdmVDb21wYXJlIiwiQSIsIkIiLCJkZWZpbmVLZXl3b3JkIiwia2V5d29yZCIsImtleXdvcmRGdW5jdGlvbiIsImNyZWF0ZUVycm9yIiwibWVzc2FnZVBhcmFtcyIsImRhdGFQYXRoIiwic2NoZW1hUGF0aCIsInN1YkVycm9ycyIsIlZhbGlkYXRpb25FcnJvciIsInByZWZpeEVycm9ycyIsInByZWZpeFdpdGgiLCJiYW5Vbmtub3duUHJvcGVydGllcyIsInVua25vd25QYXRoIiwiRXJyb3JDb2RlcyIsIlVOS05PV05fUFJPUEVSVFkiLCJhZGRGb3JtYXQiLCJmb3JtYXQiLCJ2YWxpZGF0b3IiLCJyZXNvbHZlUmVmcyIsInVybEhpc3RvcnkiLCJDSVJDVUxBUl9SRUZFUkVOQ0UiLCJ1cmxzIiwiYmFzZVVybCIsImZyYWdtZW50IiwicG9pbnRlclBhdGgiLCJjb21wb25lbnQiLCJzZWFyY2hTY2hlbWFzIiwidGVzdFVybCIsImlzVHJ1c3RlZFVybCIsImdldERvY3VtZW50VXJpIiwiYWRkU2NoZW1hIiwibm9ybVNjaGVtYSIsImdldFNjaGVtYU1hcCIsImdldFNjaGVtYVVyaXMiLCJmaWx0ZXJSZWdFeHAiLCJnZXRNaXNzaW5nVXJpcyIsImRyb3BTY2hlbWFzIiwidmFsaWRhdGVBbGwiLCJkYXRhUGF0aFBhcnRzIiwic2NoZW1hUGF0aFBhcnRzIiwiZGF0YVBvaW50ZXJQYXRoIiwidG9wTGV2ZWwiLCJmcm96ZW5JbmRleCIsInN0YXJ0RXJyb3JDb3VudCIsInNjYW5uZWRGcm96ZW5TY2hlbWFJbmRleCIsInNjYW5uZWRTY2hlbWFzSW5kZXgiLCJzY2hlbWFJbmRleCIsImZyb3plblNjaGVtYUluZGV4IiwiZXJyb3JDb3VudCIsInZhbGlkYXRlQmFzaWMiLCJ2YWxpZGF0ZU51bWVyaWMiLCJ2YWxpZGF0ZVN0cmluZyIsInZhbGlkYXRlQXJyYXkiLCJ2YWxpZGF0ZU9iamVjdCIsInZhbGlkYXRlQ29tYmluYXRpb25zIiwidmFsaWRhdGVIeXBlcm1lZGlhIiwidmFsaWRhdGVGb3JtYXQiLCJ2YWxpZGF0ZURlZmluZWRLZXl3b3JkcyIsImRhdGFQYXJ0Iiwic2NoZW1hUGFydCIsImVycm9yTWVzc2FnZSIsIkZPUk1BVF9DVVNUT00iLCJ2YWxpZGF0aW9uRnVuY3Rpb25zIiwiS0VZV09SRF9DVVNUT00iLCJ2YWxpZGF0ZVR5cGUiLCJ2YWxpZGF0ZUVudW0iLCJkYXRhVHlwZSIsImFsbG93ZWRUeXBlcyIsIklOVkFMSURfVFlQRSIsImV4cGVjdGVkIiwiRU5VTV9NSVNNQVRDSCIsInZhbGlkYXRlTXVsdGlwbGVPZiIsInZhbGlkYXRlTWluTWF4IiwidmFsaWRhdGVOYU4iLCJDTE9TRV9FTk9VR0hfTE9XIiwiQ0xPU0VfRU5PVUdIX0hJR0giLCJwYXJzZVVSSSIsInByb3RvY29sIiwiYXV0aG9yaXR5IiwiaG9zdCIsImhvc3RuYW1lIiwicG9ydCIsInBhdGhuYW1lIiwic2VhcmNoIiwicmVzb2x2ZVVybCIsImlucHV0IiwiYmFzZVVyaSIsImxhbmd1YWdlIiwiZXJyb3JNZXNzYWdlcyIsImxhbmd1YWdlcyIsIm1lc3NhZ2VUZW1wbGF0ZSIsIkVycm9yTWVzc2FnZXNEZWZhdWx0Iiwid2hvbGUiLCJzdWJWYWx1ZSIsIm11bHRpcGxlT2YiLCJkaXZpc2libGVCeSIsIk5VTUJFUl9NVUxUSVBMRV9PRiIsIm1pbmltdW0iLCJOVU1CRVJfTUlOSU1VTSIsImV4Y2x1c2l2ZU1pbmltdW0iLCJOVU1CRVJfTUlOSU1VTV9FWENMVVNJVkUiLCJtYXhpbXVtIiwiTlVNQkVSX01BWElNVU0iLCJleGNsdXNpdmVNYXhpbXVtIiwiTlVNQkVSX01BWElNVU1fRVhDTFVTSVZFIiwiTlVNQkVSX05PVF9BX05VTUJFUiIsInZhbGlkYXRlU3RyaW5nTGVuZ3RoIiwidmFsaWRhdGVTdHJpbmdQYXR0ZXJuIiwibWluTGVuZ3RoIiwiU1RSSU5HX0xFTkdUSF9TSE9SVCIsIm1heExlbmd0aCIsIlNUUklOR19MRU5HVEhfTE9ORyIsInBhdHRlcm4iLCJyZWdleHAiLCJmbGFncyIsImxpdGVyYWwiLCJTVFJJTkdfUEFUVEVSTiIsInZhbGlkYXRlQXJyYXlMZW5ndGgiLCJ2YWxpZGF0ZUFycmF5VW5pcXVlSXRlbXMiLCJ2YWxpZGF0ZUFycmF5SXRlbXMiLCJtaW5JdGVtcyIsIkFSUkFZX0xFTkdUSF9TSE9SVCIsIm1heEl0ZW1zIiwiQVJSQVlfTEVOR1RIX0xPTkciLCJ1bmlxdWVJdGVtcyIsIkFSUkFZX1VOSVFVRSIsIm1hdGNoMSIsIm1hdGNoMiIsImFkZGl0aW9uYWxJdGVtcyIsIkFSUkFZX0FERElUSU9OQUxfSVRFTVMiLCJ2YWxpZGF0ZU9iamVjdE1pbk1heFByb3BlcnRpZXMiLCJ2YWxpZGF0ZU9iamVjdFJlcXVpcmVkUHJvcGVydGllcyIsInZhbGlkYXRlT2JqZWN0UHJvcGVydGllcyIsInZhbGlkYXRlT2JqZWN0RGVwZW5kZW5jaWVzIiwibWluUHJvcGVydGllcyIsIk9CSkVDVF9QUk9QRVJUSUVTX01JTklNVU0iLCJwcm9wZXJ0eUNvdW50IiwibWF4UHJvcGVydGllcyIsIk9CSkVDVF9QUk9QRVJUSUVTX01BWElNVU0iLCJyZXF1aXJlZCIsIk9CSkVDVF9SRVFVSVJFRCIsImtleVBvaW50ZXJQYXRoIiwiZm91bmRNYXRjaCIsInBhdHRlcm5Qcm9wZXJ0aWVzIiwicGF0dGVybktleSIsImFkZGl0aW9uYWxQcm9wZXJ0aWVzIiwiT0JKRUNUX0FERElUSU9OQUxfUFJPUEVSVElFUyIsImRlcGVuZGVuY2llcyIsImRlcEtleSIsImRlcCIsIk9CSkVDVF9ERVBFTkRFTkNZX0tFWSIsInJlcXVpcmVkS2V5IiwidmFsaWRhdGVBbGxPZiIsInZhbGlkYXRlQW55T2YiLCJ2YWxpZGF0ZU9uZU9mIiwidmFsaWRhdGVOb3QiLCJhbGxPZiIsInN1YlNjaGVtYSIsImFueU9mIiwib2xkVW5rbm93blByb3BlcnR5UGF0aHMiLCJvbGRLbm93blByb3BlcnR5UGF0aHMiLCJlcnJvckF0RW5kIiwia25vd25LZXkiLCJ1bmtub3duS2V5IiwiQU5ZX09GX01JU1NJTkciLCJvbmVPZiIsInZhbGlkSW5kZXgiLCJPTkVfT0ZfTVVMVElQTEUiLCJpbmRleDEiLCJpbmRleDIiLCJPTkVfT0ZfTUlTU0lORyIsIm5vdCIsIm9sZEVycm9yQ291bnQiLCJub3RFcnJvcnMiLCJOT1RfUEFTU0VEIiwibGRvIiwicmVsIiwiYWxsUHJlc2VudCIsIkVycm9yQ29kZUxvb2t1cCIsInN0YWNrdHJhY2UiLCJkYXRhUHJlZml4Iiwic2NoZW1hUHJlZml4IiwidHY0IiwiY3JlYXRlQXBpIiwiY3VycmVudExhbmd1YWdlIiwiY3VzdG9tRXJyb3JSZXBvcnRlciIsImFwaSIsInNldEVycm9yUmVwb3J0ZXIiLCJyZXBvcnRlciIsImFkZExhbmd1YWdlIiwibWVzc2FnZU1hcCIsInJvb3RDb2RlIiwiZnJlc2hBcGkiLCJkZWYiLCJ2YWxpZGF0ZU11bHRpcGxlIiwiZGVmaW5lRXJyb3IiLCJjb2RlTmFtZSIsImNvZGVOdW1iZXIiLCJkZWZhdWx0TWVzc2FnZSIsImxhbmdDb2RlIiwiZXJyb3JDb2RlcyIsIkJhc2VDbGllbnRUeXBlcyIsInVyaXMiLCJhbGlhc2VzIiwiZnVsbEFsaWFzIiwiZXh0ZW5kcyIsImV4dGVuZGVkQWxpYXMiLCJleHRlbmRlZFVyaSIsIm1sIiwiU2NoZW1hTm90Rm91bmQiLCJkZWZhdWx0VmFsdWUiLCJfaXRlbXNSZXYiLCJfc3RvcmFnZSIsIl9jYW5Qcm9wYWdhdGUiLCJzdG9yZWQiLCJfdXBkYXRlUGFyZW50Rm9sZGVySXRlbVJldiIsIl9wcm9wYWdhdGUiLCJfZ2VuZXJhdGVGb2xkZXJSZXYiLCJmaWxlcyIsInNvcnQiLCJfaGFzaENvZGUiLCJwYXJlbnRGb2xkZXIiLCJfZ2V0UGFyZW50Rm9sZGVyIiwicGFyZW50Rm9sZGVySXRlbXNSZXYiLCJoYXNoSXRlbXMiLCJuZXdSZXYiLCJfZ2VuZXJhdGVIYXNoIiwiZm9sZGVyIiwiaXRlbXNSZXYiLCJoYXNoSXRlbSIsIkxJTktfVVJJX01BUFMiLCJMSU5LX1BST1BFUlRJRVMiLCJVUklTIiwiZ2VuZXJhdGVFcnJvck9iamVjdCIsIldlYkZpbmdlciIsIndlYmZpc3RfZmFsbGJhY2siLCJfX2ZldGNoSlJEIiwiZXJyb3JIYW5kbGVyIiwic3VjZXNzSGFuZGxlciIsIl9fZmV0Y2hKUkRfZmV0Y2giLCJfX2ZldGNoSlJEX1hIUiIsIndlYmZpbmdlciIsIm9rIiwiX19pc1ZhbGlkSlNPTiIsImhhbmRsZXJTcGVudCIsIl9fcHJvY2Vzc1N0YXRlIiwiaXNTZWN1cmUiLCJfX21ha2VSZXF1ZXN0Iiwib25yZWFkeXN0YXRlY2hhbmdlIiwib250aW1lb3V0IiwiX19pc0xvY2FsaG9zdCIsIl9fcHJvY2Vzc0pSRCIsIlVSTCIsIkpSRCIsInN1Y2Nlc3NIYW5kbGVyIiwicGFyc2VkSlJEIiwicHJvcHMiLCJhZGRyZXNzIiwidXJpX2luZGV4IiwiX19idWlsZFVSTCIsIl9fZmFsbGJhY2tDaGVja3MiLCJfX2NhbGwiLCJ3ZWJmaXN0IiwibG9va3VwTGluayIsIkZlYXR1cmVzIiwicmVhZHlGaXJlZCIsImZlYXR1cmVNb2R1bGVzIiwiZmVhdHVyZSIsImZlYXR1cmVOYW1lIiwic3VwcG9ydGVkIiwiaW5pdFJlc3VsdCIsImluaXQiLCJzb21lIiwiY2FjaGluZ0xheWVyIiwic2hhcmVGaXJzdCIsIlN5bmNlZEdldFB1dERlbGV0ZSIsIl93cmFwQnVzeURvbmUiLCJzeW5jQ3ljbGVDYiIsInN5bmNPbkNvbm5lY3QiLCJ0YXNrRm9yIiwiYWN0aW9uIiwibm9kZUNoYW5nZWQiLCJoYXNDb21tb25SZXZpc2lvbiIsIlN5bmMiLCJfdGFza3MiLCJfcnVubmluZyIsIl90aW1lU3RhcnRlZCIsIm51bVRocmVhZHMiLCJvbkRpZmYiLCJhZGRUYXNrIiwiZG9UYXNrcyIsIm9uQWN0aXZhdGUiLCJmb3JjZTAyIiwiY29udGVudExlbmd0aCIsImNvcnJ1cHRJdGVtc01hcCIsImNvcnJ1cHRSZXZpc2lvbiIsImlzQ29ycnVwdCIsIm5lZWRzRmV0Y2giLCJuZWVkc1B1c2giLCJpbkNvbmZsaWN0IiwibmVlZHNSZWZyZXNoIiwiZ2V0UGFyZW50UGF0aCIsImRlbGV0ZUNoaWxkUGF0aHNGcm9tVGFza3MiLCJpc1N0YWxlQ2hpbGQiLCJuZWVkc1JlbW90ZVB1dCIsIm5lZWRzUmVtb3RlRGVsZXRlIiwiaGFzTm9SZW1vdGVDaGFuZ2VzIiwibGFzdENvbW1vblZhbHVlIiwibGFzdENvbW1vbkNvbnRlbnRUeXBlIiwibWVyZ2VNdXR1YWxEZWxldGlvbiIsImF1dG9NZXJnZUZvbGRlciIsImF1dG9NZXJnZURvY3VtZW50IiwiY2hhbmdlZE5vZGVzIiwibWlzc2luZ0NoaWxkcmVuIiwicmVjdXJzZSIsImNoaWxkTmFtZSIsImNhY2hpbmdTdHJhdGVneSIsImF1dG9NZXJnZSIsImNvbW1vbkl0ZW0iLCJsb2NhbEl0ZW0iLCJwYXJlbnROb2RlIiwiZGVsZXRlUmVtb3RlVHJlZXMiLCJjaGFuZ2VkT2JqczIiLCJzdWJQYXRocyIsImNvbGxlY3RTdWJQYXRocyIsImNoYW5nZWROb2RlczIiLCJib2R5T3JJdGVtc01hcCIsInBhdGhzRnJvbVJvb3RBcnIiLCJjb2xsZWN0TWlzc2luZ0NoaWxkcmVuIiwidG9CZVNhdmVkIiwic3VjY2Vzc2Z1bCIsInVuQXV0aCIsIm5vdEZvdW5kIiwiY2hhbmdlZCIsIm5ldHdvcmtQcm9ibGVtcyIsInNlcmllcyIsImNvbXBsZXRlRmV0Y2giLCJkYXRhRnJvbUZldGNoIiwiY29ycnVwdFNlcnZlckl0ZW1zTWFwIiwibWFya0NoaWxkcmVuIiwidXBkYXRlQ29tbW9uVGltZXN0YW1wIiwiaW50ZXJwcmV0U3RhdHVzIiwiaGFuZGxlR2V0UmVzcG9uc2UiLCJjb21wbGV0ZVB1c2giLCJkZWFsV2l0aEZhaWx1cmUiLCJ0YXNrIiwiaGFuZGxlUmVzcG9uc2UiLCJjb21wbGV0ZWQiLCJjb2xsZWN0VGFza3MiLCJoYXNUYXNrcyIsImRvbmUiLCJudW1Ub0hhdmUiLCJudW1BZGRlZCIsIm51bVRvQWRkIiwiZG9UYXNrIiwiZmluaXNoVGFzayIsImFsc29DaGVja1JlZnJlc2giLCJjb2xsZWN0RGlmZlRhc2tzIiwibnVtRGlmZnMiLCJjb2xsZWN0UmVmcmVzaFRhc2tzIiwiZW52IiwiaXNCcm93c2VyIiwiaGFuZGxlQ2hhbmdlIiwiaXNGb3JlZ3JvdW5kIiwiaGFuZGxlVmlzaWJpbGl0eSIsIkRFRkFVTFRfREIiLCJJbmRleGVkREIiLCJkYXRhYmFzZSIsImRiIiwiZ2V0c1J1bm5pbmciLCJwdXRzUnVubmluZyIsImNoYW5nZXNRdWV1ZWQiLCJjaGFuZ2VzUnVubmluZyIsImNvbW1pdFNsb3duZXNzV2FybmluZyIsIm1pc3NlcyIsImZyb21DYWNoZSIsImdldE5vZGVzRnJvbURiIiwibWF5YmVGbHVzaCIsImZsdXNoQ2hhbmdlc1F1ZXVlZCIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsInNldE5vZGVzSW5EYiIsInRyYW5zYWN0aW9uIiwib2JqZWN0U3RvcmUiLCJyZXRyaWV2ZWROb2RlcyIsIm9uc3VjY2VzcyIsIm9uY29tcGxldGUiLCJvbmFib3J0Iiwibm9kZXNTdG9yZSIsInN0YXJ0VGltZSIsImNhbGxiYWNrIiwiZGJOYW1lIiwiY2xlYW4iLCJvdGhlciIsIm9wZW5DdXJzb3IiLCJtaWdyYXRlIiwiY29udGludWUiLCJjbG9zZURCIiwicmVxIiwiaW5kZXhlZERCIiwib251cGdyYWRlbmVlZGVkIiwib2xkVmVyc2lvbiIsIm5ld1ZlcnNpb24iLCJjcmVhdGVPYmplY3RTdG9yZSIsImtleVBhdGgiLCJvYmplY3RTdG9yZU5hbWVzIiwiY29udGFpbnMiLCJkYXRhYmFzZU5hbWUiLCJkZWxldGVEYXRhYmFzZSIsInBvb3JJbmRleGVkRGJTdXBwb3J0IiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwiY2hlY2siLCJOT0RFU19QUkVGSVgiLCJpc1JlbW90ZVN0b3JhZ2VLZXkiLCJMb2NhbFN0b3JhZ2UiLCJJbk1lbW9yeVN0b3JhZ2UiXSwibWFwcGluZ3MiOiI7Q0FBQSxTQUEyQ0EsRUFBTUMsR0FDMUIsaUJBQVpDLFNBQTBDLGlCQUFYQyxPQUN4Q0EsT0FBT0QsUUFBVUQsSUFDUSxtQkFBWEcsUUFBeUJBLE9BQU9DLElBQzlDRCxPQUFPLGdCQUFpQixHQUFJSCxHQUNGLGlCQUFaQyxRQUNkQSxRQUF1QixjQUFJRCxJQUUzQkQsRUFBb0IsY0FBSUMsSUFSMUIsQ0FTR0ssTUFBTSxXQUNULE8sWUNURSxJQUFJQyxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVUCxRQUduQyxJQUFJQyxFQUFTSSxFQUFpQkUsR0FBWSxDQUN6Q0MsRUFBR0QsRUFDSEUsR0FBRyxFQUNIVCxRQUFTLElBVVYsT0FOQVUsRUFB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ZUEiLCJmaWxlIjoicmVtb3Rlc3RvcmFnZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFwiUmVtb3RlU3RvcmFnZVwiLCBbXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJSZW1vdGVTdG9yYWdlXCJdID0gZmFjdG9yeSgpO1xuXHRlbHNlXG5cdFx0cm9vdFtcIlJlbW90ZVN0b3JhZ2VcIl0gPSBmYWN0b3J5KCk7XG59KSh0aGlzLCBmdW5jdGlvbigpIHtcbnJldHVybiAiLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMTcpO1xuIiwiLy8gUmV1c2FibGUgdXRpbGl0eSBmdW5jdGlvbnNcblxuaW1wb3J0IEdsb2JhbCA9IE5vZGVKUy5HbG9iYWw7XG5cbi8qKlxuICogVGFrZXMgYW4gb2JqZWN0IGFuZCBpdHMgY29weSBhcyBwcm9kdWNlZCBieSB0aGUgX2RlZXBDbG9uZSBmdW5jdGlvblxuICogYmVsb3csIGFuZCBmaW5kcyBhbmQgZml4ZXMgYW55IEFycmF5QnVmZmVycyB0aGF0IHdlcmUgY2FzdCB0byBge31gIGluc3RlYWRcbiAqIG9mIGJlaW5nIGNsb25lZCB0byBuZXcgQXJyYXlCdWZmZXJzIHdpdGggdGhlIHNhbWUgY29udGVudC5cbiAqXG4gKiBJdCByZWN1cnNlcyBpbnRvIHN1Yi1vYmplY3RzLCBidXQgc2tpcHMgYXJyYXlzIGlmIHRoZXkgb2NjdXIuXG4gKi9cbmZ1bmN0aW9uIF9maXhBcnJheUJ1ZmZlcnMoc3JjT2JqOiBvYmplY3QsIGRzdE9iajogb2JqZWN0KSB7XG4gIGlmICh0eXBlb2YgKHNyY09iaikgIT09ICdvYmplY3QnIHx8IEFycmF5LmlzQXJyYXkoc3JjT2JqKSB8fCBzcmNPYmogPT09IG51bGwpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgZm9yIChjb25zdCBmaWVsZCBpbiBzcmNPYmopIHtcbiAgICBpZiAodHlwZW9mIChzcmNPYmpbZmllbGRdKSA9PT0gJ29iamVjdCcgJiYgc3JjT2JqW2ZpZWxkXSAhPT0gbnVsbCkge1xuICAgICAgaWYgKHNyY09ialtmaWVsZF0udG9TdHJpbmcoKSA9PT0gJ1tvYmplY3QgQXJyYXlCdWZmZXJdJykge1xuICAgICAgICBkc3RPYmpbZmllbGRdID0gbmV3IEFycmF5QnVmZmVyKHNyY09ialtmaWVsZF0uYnl0ZUxlbmd0aCk7XG4gICAgICAgIGNvbnN0IHNyY0FyciA9IG5ldyBJbnQ4QXJyYXkoc3JjT2JqW2ZpZWxkXSk7XG4gICAgICAgIGNvbnN0IGRzdEFyciA9IG5ldyBJbnQ4QXJyYXkoZHN0T2JqW2ZpZWxkXSk7XG4gICAgICAgIGRzdEFyci5zZXQoc3JjQXJyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF9maXhBcnJheUJ1ZmZlcnMoc3JjT2JqW2ZpZWxkXSwgZHN0T2JqW2ZpZWxkXSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjb25zdCBsb2dFcnJvciA9IChlcnJvcjogc3RyaW5nIHwgRXJyb3IpOiB2b2lkID0+IHtcbiAgaWYgKHR5cGVvZiAoZXJyb3IpID09PSAnc3RyaW5nJykge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IubWVzc2FnZSwgZXJyb3Iuc3RhY2spO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgZ2xvYmFsQ29udGV4dCA9ICh0eXBlb2YgKHdpbmRvdykgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDogKHR5cGVvZiBzZWxmID09PSAnb2JqZWN0JyA/IHNlbGYgOiBnbG9iYWwpKTtcblxuZXhwb3J0IGNvbnN0IGdldEdsb2JhbENvbnRleHQgPSAoKTogYW55ID0+IHtcbiAgcmV0dXJuICh0eXBlb2YgKHdpbmRvdykgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDogKHR5cGVvZiBzZWxmID09PSAnb2JqZWN0JyA/IHNlbGYgOiBnbG9iYWwpKTtcbn07XG5cbi8vIFRPRE8gUmVtb3ZlIGluIGZhdm9yIG9mIG1vZGVybiBKUzpcbi8vIGBjb25zdCBtZXJnZWRPYmplY3QgPSB7IC4uLm9iajEsIC4ub2JqMiB9YFxuZXhwb3J0IGNvbnN0IGV4dGVuZCA9ICguLi5hcmdzKTogdW5rbm93biA9PiB7XG4gIGNvbnN0IHRhcmdldCA9IGFyZ3NbMF07XG4gIGNvbnN0IHNvdXJjZXMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmdzLCAxKTtcbiAgc291cmNlcy5mb3JFYWNoKGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBzb3VyY2UpIHtcbiAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHRhcmdldDtcbn07XG5cbmV4cG9ydCBjb25zdCBjb250YWluaW5nRm9sZGVyID0gKHBhdGg6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gIGlmIChwYXRoID09PSAnJykge1xuICAgIHJldHVybiAnLyc7XG4gIH1cbiAgaWYgKCFwYXRoKSB7XG4gICAgdGhyb3cgXCJQYXRoIG5vdCBnaXZlbiFcIjtcbiAgfVxuXG4gIHJldHVybiBwYXRoLnJlcGxhY2UoL1xcLysvZywgJy8nKVxuICAgIC5yZXBsYWNlKC9bXlxcL10rXFwvPyQvLCAnJyk7XG59O1xuXG5leHBvcnQgY29uc3QgaXNGb2xkZXIgPSAocGF0aDogc3RyaW5nKTogYm9vbGVhbiA9PiB7XG4gIHJldHVybiBwYXRoLnN1YnN0cigtMSkgPT09ICcvJztcbn07XG5cbmV4cG9ydCBjb25zdCBpc0RvY3VtZW50ID0gKHBhdGg6IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xuICByZXR1cm4gIWlzRm9sZGVyKHBhdGgpO1xufTtcblxuZXhwb3J0IGNvbnN0IGJhc2VOYW1lID0gKHBhdGg6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gIGNvbnN0IHBhcnRzID0gcGF0aC5zcGxpdCgnLycpO1xuICBpZiAoaXNGb2xkZXIocGF0aCkpIHtcbiAgICByZXR1cm4gcGFydHNbcGFydHMubGVuZ3RoIC0gMl0gKyAnLyc7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHBhcnRzW3BhcnRzLmxlbmd0aCAtIDFdO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgY2xlYW5QYXRoID0gKHBhdGg6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gIHJldHVybiBwYXRoLnJlcGxhY2UoL1xcLysvZywgJy8nKVxuICAgIC5zcGxpdCgnLycpLm1hcChlbmNvZGVVUklDb21wb25lbnQpLmpvaW4oJy8nKVxuICAgIC5yZXBsYWNlKC8nL2csICclMjcnKTtcbn07XG5cbmV4cG9ydCBjb25zdCBiaW5kQWxsID0gKG9iamVjdDogb2JqZWN0KSA9PiB7XG4gIGZvciAoY29uc3Qga2V5IGluIHRoaXMpIHtcbiAgICBpZiAodHlwZW9mIChvYmplY3Rba2V5XSkgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIG9iamVjdFtrZXldID0gb2JqZWN0W2tleV0uYmluZChvYmplY3QpO1xuICAgIH1cbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGVxdWFsID0gKGE6IGFueSwgYjogYW55LCBzZWVuID0gW10pOiBib29sZWFuID0+IHtcbiAgbGV0IGtleTtcblxuICBpZiAodHlwZW9mIChhKSAhPT0gdHlwZW9mIChiKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgKGEpID09PSAnbnVtYmVyJyB8fCB0eXBlb2YgKGEpID09PSAnYm9vbGVhbicgfHwgdHlwZW9mIChhKSA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gYSA9PT0gYjtcbiAgfVxuXG4gIGlmICh0eXBlb2YgKGEpID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIGEudG9TdHJpbmcoKSA9PT0gYi50b1N0cmluZygpO1xuICB9XG5cbiAgaWYgKGEgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlciAmJiBiIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcbiAgICAvLyBXaXRob3V0IHRoZSBmb2xsb3dpbmcgY29udmVyc2lvbiB0aGUgYnJvd3NlcnMgd291bGRuJ3QgYmUgYWJsZSB0b1xuICAgIC8vIHRlbGwgdGhlIEFycmF5QnVmZmVyIGluc3RhbmNlcyBhcGFydC5cbiAgICBhID0gbmV3IFVpbnQ4QXJyYXkoYSk7XG4gICAgYiA9IG5ldyBVaW50OEFycmF5KGIpO1xuICB9XG5cbiAgLy8gSWYgdGhpcyBwb2ludCBoYXMgYmVlbiByZWFjaGVkLCBhIGFuZCBiIGFyZSBlaXRoZXIgYXJyYXlzIG9yIG9iamVjdHMuXG5cbiAgaWYgKGEgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgIGlmIChhLmxlbmd0aCAhPT0gYi5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gMCwgYyA9IGEubGVuZ3RoOyBpIDwgYzsgaSsrKSB7XG4gICAgICBpZiAoIWVxdWFsKGFbaV0sIGJbaV0sIHNlZW4pKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gQ2hlY2sgdGhhdCBrZXlzIGZyb20gYSBleGlzdCBpbiBiXG4gICAgZm9yIChrZXkgaW4gYSkge1xuICAgICAgaWYgKGEuaGFzT3duUHJvcGVydHkoa2V5KSAmJiAhKGtleSBpbiBiKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgdGhhdCBrZXlzIGZyb20gYiBleGlzdCBpbiBhLCBhbmQgY29tcGFyZSB0aGUgdmFsdWVzXG4gICAgZm9yIChrZXkgaW4gYikge1xuICAgICAgaWYgKCFiLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmICghKGtleSBpbiBhKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGxldCBzZWVuQXJnO1xuXG4gICAgICBpZiAodHlwZW9mIChiW2tleV0pID09PSAnb2JqZWN0Jykge1xuICAgICAgICBpZiAoc2Vlbi5pbmRleE9mKGJba2V5XSkgPj0gMCkge1xuICAgICAgICAgIC8vIENpcmN1bGFyIHJlZmVyZW5jZSwgZG9uJ3QgYXR0ZW1wdCB0byBjb21wYXJlIHRoaXMgb2JqZWN0LlxuICAgICAgICAgIC8vIElmIG5vdGhpbmcgZWxzZSByZXR1cm5zIGZhbHNlLCB0aGUgb2JqZWN0cyBtYXRjaC5cbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNlZW5BcmcgPSBzZWVuLnNsaWNlKCk7XG4gICAgICAgIHNlZW5BcmcucHVzaChiW2tleV0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWVxdWFsKGFba2V5XSwgYltrZXldLCBzZWVuQXJnKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuXG5leHBvcnQgY29uc3QgZGVlcENsb25lID0gKG9iajogYW55KTogYW55ID0+IHtcbiAgaWYgKG9iaiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBjbG9uZSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkob2JqKSk7XG4gICAgX2ZpeEFycmF5QnVmZmVycyhvYmosIGNsb25lKTtcbiAgICByZXR1cm4gY2xvbmU7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBwYXRoc0Zyb21Sb290ID0gKHBhdGg6IHN0cmluZyk6IHN0cmluZ1tdID0+IHtcbiAgY29uc3QgcGF0aHMgPSBbcGF0aF07XG4gIGNvbnN0IHBhcnRzID0gcGF0aC5yZXBsYWNlKC9cXC8kLywgJycpLnNwbGl0KCcvJyk7XG5cbiAgd2hpbGUgKHBhcnRzLmxlbmd0aCA+IDEpIHtcbiAgICBwYXJ0cy5wb3AoKTtcbiAgICBwYXRocy5wdXNoKHBhcnRzLmpvaW4oJy8nKSArICcvJyk7XG4gIH1cbiAgcmV0dXJuIHBhdGhzO1xufTtcblxuZXhwb3J0IGNvbnN0IGxvY2FsU3RvcmFnZUF2YWlsYWJsZSA9ICgpOiBib29sZWFuID0+IHtcbiAgY29uc3QgY29udGV4dCA9IGdldEdsb2JhbENvbnRleHQoKTtcblxuICBpZiAoISgnbG9jYWxTdG9yYWdlJyBpbiBjb250ZXh0KSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgY29udGV4dC5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncnMtY2hlY2snLCAnMScpO1xuICAgIGNvbnRleHQubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3JzLWNoZWNrJyk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59O1xuXG4vKipcbiAqIEV4dHJhY3QgYW5kIHBhcnNlIEpTT04gZGF0YSBmcm9tIGxvY2FsU3RvcmFnZS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IC0gbG9jYWxTdG9yYWdlIGtleVxuICpcbiAqIEByZXR1cm5zIHtvYmplY3R9IHBhcnNlZCBvYmplY3Qgb3IgdW5kZWZpbmVkXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRKU09ORnJvbUxvY2FsU3RvcmFnZSA9IChrZXk6IHN0cmluZyk6IG9iamVjdCA9PiB7XG4gIGNvbnN0IGNvbnRleHQgPSBnZXRHbG9iYWxDb250ZXh0KCkgYXMgV2luZG93O1xuXG4gIHRyeSB7XG4gICAgcmV0dXJuIEpTT04ucGFyc2UoY29udGV4dC5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIC8vIG5vIEpTT04gc3RvcmVkXG4gIH1cbn07XG5cbi8qKlxuICogRGVjaWRlIGlmIGRhdGEgc2hvdWxkIGJlIHRyZWF0ZWQgYXMgYmluYXJ5IGJhc2VkIG9uIHRoZSBjb250ZW50IChwcmVzZW5jZSBvZiBub24tcHJpbnRhYmxlIGNoYXJhY3RlcnNcbiAqIG9yIHJlcGxhY2VtZW50IGNoYXJhY3RlcikgYW5kIGNvbnRlbnQtdHlwZS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gY29udGVudCAtIFRoZSBkYXRhXG4gKiBAcGFyYW0ge3N0cmluZ30gbWltZVR5cGUgLSBUaGUgZGF0YSdzIGNvbnRlbnQtdHlwZVxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5leHBvcnQgY29uc3Qgc2hvdWxkQmVUcmVhdGVkQXNCaW5hcnkgPSAoY29udGVudDogc3RyaW5nIHwgQXJyYXlCdWZmZXIsIG1pbWVUeXBlOiBzdHJpbmcpOiBib29sZWFuID0+IHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnRyb2wtcmVnZXhcbiAgcmV0dXJuICEhKChtaW1lVHlwZSAmJiBtaW1lVHlwZS5tYXRjaCgvY2hhcnNldD1iaW5hcnkvKSkgfHwgL1tcXHgwMC1cXHgwOFxceDBFLVxceDFGXFx1RkZGRF0vLnRlc3QoY29udGVudCBhcyBzdHJpbmcpKTtcbn07XG5cbi8qKlxuICogUmVhZCBkYXRhIGZyb20gYW4gQXJyYXlCdWZmZXIgYW5kIHJldHVybiBpdCBhcyBhIHN0cmluZ1xuICogQHBhcmFtIHtBcnJheUJ1ZmZlcn0gYXJyYXlCdWZmZXJcbiAqIEBwYXJhbSB7c3RyaW5nfSBlbmNvZGluZ1xuICogQHJldHVybnMge1Byb21pc2V9IFJlc29sdmVzIHdpdGggYSBzdHJpbmcgY29udGFpbmluZyB0aGUgZGF0YVxuICovXG5leHBvcnQgY29uc3QgZ2V0VGV4dEZyb21BcnJheUJ1ZmZlciA9IChhcnJheUJ1ZmZlcjogQXJyYXlCdWZmZXIsIGVuY29kaW5nOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZyB8IEFycmF5QnVmZmVyPiA9PiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZS8qLCByZWplY3QqLykgPT4ge1xuICAgIGlmICh0eXBlb2YgQmxvYiA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBCdWZmZXIobmV3IFVpbnQ4QXJyYXkoYXJyYXlCdWZmZXIpKTtcbiAgICAgIHJlc29sdmUoYnVmZmVyLnRvU3RyaW5nKGVuY29kaW5nKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBibG9iO1xuICAgICAgY29uc3QgZ2MgPSBnbG9iYWxDb250ZXh0IGFzIGFueTtcbiAgICAgIC8vIFRPRE8gZml4IGFzIEJsb2JCdWlsZGVyIGlzIG5vdCBhdmFpbGFibGUgaW4gYWxsIGJyb3dzZXJzXG4gICAgICAvLyBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9CbG9iQnVpbGRlclxuICAgICAgZ2MuQmxvYkJ1aWxkZXIgPSBnYy5CbG9iQnVpbGRlciB8fCBnYy5XZWJLaXRCbG9iQnVpbGRlcjtcbiAgICAgIGlmICh0eXBlb2YgZ2MuQmxvYkJ1aWxkZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGNvbnN0IGJiID0gbmV3IGdjLkJsb2JCdWlsZGVyKCk7XG4gICAgICAgIGJiLmFwcGVuZChhcnJheUJ1ZmZlcik7XG4gICAgICAgIGJsb2IgPSBiYi5nZXRCbG9iKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBibG9iID0gbmV3IEJsb2IoW2FycmF5QnVmZmVyXSk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGZpbGVSZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgaWYgKHR5cGVvZiBmaWxlUmVhZGVyLmFkZEV2ZW50TGlzdGVuZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgZmlsZVJlYWRlci5hZGRFdmVudExpc3RlbmVyKCdsb2FkZW5kJywgZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICAgIHJlc29sdmUoZXZ0LnRhcmdldC5yZXN1bHQpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZpbGVSZWFkZXIub25sb2FkZW5kID0gZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICAgIHJlc29sdmUoZXZ0LnRhcmdldC5yZXN1bHQpO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgZmlsZVJlYWRlci5yZWFkQXNUZXh0KGJsb2IsIGVuY29kaW5nKTtcbiAgICB9XG4gIH0pO1xufTtcblxuLyoqXG4gKiBFbmNvZGUgc3RyaW5nIGluIGJhc2U2NFxuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICogQHJldHVybnMge1N0cmluZ30gYmFzZTY0LWVuY29kZWQgc3RyaW5nXG4gKi9cbmV4cG9ydCBjb25zdCB0b0Jhc2U2NCA9IChzdHI6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gIGNvbnN0IGNvbnRleHQgPSBnZXRHbG9iYWxDb250ZXh0KCk7XG4gIGlmICgnYnRvYScgaW4gY29udGV4dCkge1xuICAgIHJldHVybiBjb250ZXh0WydidG9hJ10oc3RyKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gQnVmZmVyLmZyb20oc3RyKS50b1N0cmluZygnYmFzZTY0Jyk7XG4gIH1cbn07XG5cbi8qXG4gKiBBcHBseSBtaXhpbnMgdG8gYW4gb2JqZWN0XG4gKlxuICogaHR0cHM6Ly93d3cudHlwZXNjcmlwdGxhbmcub3JnL2RvY3MvaGFuZGJvb2svbWl4aW5zLmh0bWxcbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gUGFyZW50IG9iamVjdFxuICogQHBhcmFtIHtBcnJheX0gTWl4aW5zIHRvIGFwcGx5IG1ldGhvZHMgZnJvbVxuICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuZXhwb3J0IGZ1bmN0aW9uIGFwcGx5TWl4aW5zKGRlcml2ZWRDdG9yOiBhbnksIGJhc2VDdG9yczogYW55W10pOiB2b2lkIHtcbiAgYmFzZUN0b3JzLmZvckVhY2goYmFzZUN0b3IgPT4ge1xuICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGJhc2VDdG9yLnByb3RvdHlwZSkuZm9yRWFjaChuYW1lID0+IHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShkZXJpdmVkQ3Rvci5wcm90b3R5cGUsIG5hbWUsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYmFzZUN0b3IucHJvdG90eXBlLCBuYW1lKSk7XG4gICAgfSk7XG4gIH0pO1xufVxuIiwiaW1wb3J0IGNvbmZpZyBmcm9tICcuL2NvbmZpZyc7XG5cbi8qKlxuICogTG9nIHVzaW5nIGNvbnNvbGUubG9nLCB3aGVuIHJlbW90ZVN0b3JhZ2UgbG9nZ2luZyBpcyBlbmFibGVkLlxuICpcbiAqIFlvdSBjYW4gZW5hYmxlIGxvZ2dpbmcgd2l0aCBgYFJlbW90ZVN0b3JhZ2UjZW5hYmxlTG9nYGAuXG4gKlxuICogKFlvdSBjYW4gYWxzbyBlbmFibGUgbG9nZ2luZyBkdXJpbmcgcmVtb3RlU3RvcmFnZSBvYmplY3QgY3JlYXRpb24uIFNlZTpcbiAqIHtAbGluayBSZW1vdGVTdG9yYWdlfSkuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGxvZyguLi5hcmdzKTogdm9pZCB7XG4gIGlmIChjb25maWcubG9nZ2luZykge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgY29uc29sZS5sb2coLi4uYXJncyk7XG4gIH1cbn1cbiIsImltcG9ydCBsb2cgZnJvbSAnLi9sb2cnO1xuXG4vLyBUT0RPIGFkZCByZWFsIHR5cGUgZm9yIGV2ZW50XG50eXBlIEV2ZW50SGFuZGxlciA9IChldmVudD86IHVua25vd24pID0+IHZvaWQ7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEV2ZW50SGFuZGxpbmcge1xuICBfaGFuZGxlcnM6IHsgW2tleTogc3RyaW5nXTogRXZlbnRIYW5kbGVyW10gfTtcblxuICAvKipcbiAgICogUmVnaXN0ZXIgZXZlbnQgbmFtZXNcbiAgICpcbiAgICogVE9ETyBzZWUgaWYgbmVjZXNzYXJ5LCBvciBjYW4gYmUgZG9uZSBvbiB0aGUgZmx5IGluIGFkZEV2ZW50TGlzdGVuZXJcbiAgICovXG4gIGFkZEV2ZW50cyhhZGRpdGlvbmFsRXZlbnRzOiBzdHJpbmdbXSk6IHZvaWQge1xuICAgIGFkZGl0aW9uYWxFdmVudHMuZm9yRWFjaChldk5hbWUgPT4gdGhpcy5fYWRkRXZlbnQoZXZOYW1lKSk7XG4gIH1cblxuICAvKipcbiAgICogSW5zdGFsbCBhbiBldmVudCBoYW5kbGVyIGZvciB0aGUgZ2l2ZW4gZXZlbnQgbmFtZVxuICAgKi9cbiAgYWRkRXZlbnRMaXN0ZW5lciAoZXZlbnROYW1lOiBzdHJpbmcsIGhhbmRsZXI6IEV2ZW50SGFuZGxlcik6IHZvaWQge1xuICAgIC8vIENoZWNrIHR5cGUgZm9yIHB1YmxpYyBjb25zdW1wdGlvbiBvZiBBUElcbiAgICBpZiAodHlwZW9mIChldmVudE5hbWUpICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdBcmd1bWVudCBldmVudE5hbWUgc2hvdWxkIGJlIGEgc3RyaW5nJyk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgKGhhbmRsZXIpICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FyZ3VtZW50IGhhbmRsZXIgc2hvdWxkIGJlIGEgZnVuY3Rpb24nKTtcbiAgICB9XG4gICAgbG9nKCdbRXZlbnRIYW5kbGluZ10gQWRkaW5nIGV2ZW50IGxpc3RlbmVyJywgZXZlbnROYW1lKTtcbiAgICB0aGlzLl92YWxpZGF0ZUV2ZW50KGV2ZW50TmFtZSk7XG4gICAgdGhpcy5faGFuZGxlcnNbZXZlbnROYW1lXS5wdXNoKGhhbmRsZXIpO1xuICB9XG5cbiAgLypcbiAgICogQWxpYXMgZm9yIGFkZEV2ZW50TGlzdGVuZXJcbiAgICovXG4gIG9uIChldmVudE5hbWU6IHN0cmluZywgaGFuZGxlcjogRXZlbnRIYW5kbGVyKTogdm9pZCB7XG4gICAgcmV0dXJuIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGhhbmRsZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhIHByZXZpb3VzbHkgaW5zdGFsbGVkIGV2ZW50IGhhbmRsZXJcbiAgICovXG4gIHJlbW92ZUV2ZW50TGlzdGVuZXIgKGV2ZW50TmFtZTogc3RyaW5nLCBoYW5kbGVyOiBFdmVudEhhbmRsZXIpOiB2b2lkIHtcbiAgICB0aGlzLl92YWxpZGF0ZUV2ZW50KGV2ZW50TmFtZSk7XG4gICAgY29uc3QgaGwgPSB0aGlzLl9oYW5kbGVyc1tldmVudE5hbWVdLmxlbmd0aDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGhsOyBpKyspIHtcbiAgICAgIGlmICh0aGlzLl9oYW5kbGVyc1tldmVudE5hbWVdW2ldID09PSBoYW5kbGVyKSB7XG4gICAgICAgIHRoaXMuX2hhbmRsZXJzW2V2ZW50TmFtZV0uc3BsaWNlKGksIDEpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgX2VtaXQgKGV2ZW50TmFtZTogc3RyaW5nLCAuLi5hcmdzKTogdm9pZCB7XG4gICAgdGhpcy5fdmFsaWRhdGVFdmVudChldmVudE5hbWUpO1xuICAgIHRoaXMuX2hhbmRsZXJzW2V2ZW50TmFtZV0uc2xpY2UoKS5mb3JFYWNoKChoYW5kbGVyKSA9PiB7XG4gICAgICBoYW5kbGVyLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIH0pO1xuICB9XG5cbiAgX3ZhbGlkYXRlRXZlbnQgKGV2ZW50TmFtZTogc3RyaW5nKTogdm9pZCB7XG4gICAgaWYgKCEoZXZlbnROYW1lIGluIHRoaXMuX2hhbmRsZXJzKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBldmVudDogXCIgKyBldmVudE5hbWUpO1xuICAgIH1cbiAgfVxuXG4gIF9kZWxlZ2F0ZUV2ZW50IChldmVudE5hbWU6IHN0cmluZywgdGFyZ2V0KTogdm9pZCB7XG4gICAgdGFyZ2V0Lm9uKGV2ZW50TmFtZSwgKGV2ZW50KSA9PiB7XG4gICAgICB0aGlzLl9lbWl0KGV2ZW50TmFtZSwgZXZlbnQpO1xuICAgIH0pO1xuICB9XG5cbiAgX2FkZEV2ZW50IChldmVudE5hbWU6IHN0cmluZyk6IHZvaWQge1xuICAgIGlmICh0eXBlb2YgdGhpcy5faGFuZGxlcnMgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aGlzLl9oYW5kbGVycyA9IHt9O1xuICAgIH1cbiAgICB0aGlzLl9oYW5kbGVyc1tldmVudE5hbWVdID0gW107XG4gIH1cbn1cbiIsIi8qKlxuICogVGhlIGRlZmF1bHQgY29uZmlnLCBtZXJnZWQgd2l0aCB0aGUgb2JqZWN0IHBhc3NlZCB0byB0aGUgY29uc3RydWN0b3Igb2YgdGhlXG4gKiBSZW1vdGVTdG9yYWdlIG9iamVjdFxuICovXG5jb25zdCBjb25maWcgPSB7XG4gIGNhY2hlOiB0cnVlLFxuICBjaGFuZ2VFdmVudHM6IHtcbiAgICBsb2NhbDogICAgdHJ1ZSxcbiAgICB3aW5kb3c6ICAgZmFsc2UsXG4gICAgcmVtb3RlOiAgIHRydWUsXG4gICAgY29uZmxpY3Q6IHRydWVcbiAgfSxcbiAgY29yZG92YVJlZGlyZWN0VXJpOiB1bmRlZmluZWQsXG4gIGxvZ2dpbmc6IGZhbHNlLFxuICBtb2R1bGVzOiBbXSxcbiAgLy8gdGhlIGZvbGxvd2luZyBhcmUgbm90IHB1YmxpYyBhbmQgd2lsbCBwcm9iYWJseSBiZSBtb3ZlZCBhd2F5IGZyb20gdGhlXG4gIC8vIGRlZmF1bHQgY29uZmlnXG4gIGJhY2tncm91bmRTeW5jSW50ZXJ2YWw6IDYwMDAwLFxuICBkaXNhYmxlRmVhdHVyZXM6IFtdLFxuICBkaXNjb3ZlcnlUaW1lb3V0OiAxMDAwMCxcbiAgaXNCYWNrZ3JvdW5kOiBmYWxzZSxcbiAgcmVxdWVzdFRpbWVvdXQ6IDMwMDAwLFxuICBzeW5jSW50ZXJ2YWw6IDEwMDAwXG59O1xuXG5leHBvcnQgZGVmYXVsdCBjb25maWc7XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVbmF1dGhvcml6ZWRFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgY29kZTogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yIChtZXNzYWdlPzogc3RyaW5nLCBvcHRpb25zOiB7Y29kZT86IHN0cmluZ30gPSB7fSkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5uYW1lID0gJ1VuYXV0aG9yaXplZCc7XG5cbiAgICBpZiAodHlwZW9mIG1lc3NhZ2UgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aGlzLm1lc3NhZ2UgPSAnQXBwIGF1dGhvcml6YXRpb24gZXhwaXJlZCBvciByZXZva2VkLic7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLmNvZGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aGlzLmNvZGUgPSBvcHRpb25zLmNvZGU7XG4gICAgfVxuXG4gICAgdGhpcy5zdGFjayA9IChuZXcgRXJyb3IoKSkuc3RhY2s7XG4gIH07XG59XG4iLCJ2YXIgZztcblxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcbmcgPSAoZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzO1xufSkoKTtcblxudHJ5IHtcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXG5cdGcgPSBnIHx8IG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XG59IGNhdGNoIChlKSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xufVxuXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGc7XG4iLCJpbXBvcnQgbG9nIGZyb20gJy4vbG9nJztcbmltcG9ydCB7IGxvY2FsU3RvcmFnZUF2YWlsYWJsZSwgZ2xvYmFsQ29udGV4dCwgdG9CYXNlNjQgfSBmcm9tICcuL3V0aWwnO1xuaW1wb3J0IFVuYXV0aG9yaXplZEVycm9yIGZyb20gJy4vdW5hdXRob3JpemVkLWVycm9yJztcblxuaW50ZXJmYWNlIEF1dGhPcHRpb25zIHtcbiAgYXV0aFVSTDogc3RyaW5nO1xuICBzY29wZT86IHN0cmluZztcbiAgY2xpZW50SWQ/OiBzdHJpbmc7XG4gIHJlZGlyZWN0VXJpOiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBBdXRoUmVzdWx0IHtcbiAgYWNjZXNzX3Rva2VuPzogc3RyaW5nO1xuICByc0Rpc2NvdmVyeT86IG9iamVjdDtcbiAgZXJyb3I/OiBzdHJpbmc7XG4gIHJlbW90ZXN0b3JhZ2U/OiBzdHJpbmc7XG4gIHN0YXRlPzogc3RyaW5nO1xufVxuXG4vLyBUaGlzIGlzIHNldCBpbiBfcnNfaW5pdCBhbmQgbmVlZGVkIGZvciByZW1vdmFsIGluIF9yc19jbGVhbnVwXG5sZXQgb25GZWF0dXJlc0xvYWRlZDogRnVuY3Rpb247XG5cbmZ1bmN0aW9uIGV4dHJhY3RQYXJhbXMgKHVybD86IHN0cmluZyk6IEF1dGhSZXN1bHQge1xuICAvLyBGRiBhbHJlYWR5IGRlY29kZXMgdGhlIFVSTCBmcmFnbWVudCBpbiBkb2N1bWVudC5sb2NhdGlvbi5oYXNoLCBzbyB1c2UgdGhpcyBpbnN0ZWFkOlxuICBjb25zdCBsb2NhdGlvbiA9IHVybCB8fCBBdXRob3JpemUuZ2V0TG9jYXRpb24oKS5ocmVmO1xuICBjb25zdCBoYXNoUG9zICA9IGxvY2F0aW9uLmluZGV4T2YoJyMnKTtcbiAgaWYgKGhhc2hQb3MgPT09IC0xKSB7IHJldHVybjsgfVxuICBjb25zdCB1cmxGcmFnbWVudCA9IGxvY2F0aW9uLnN1YnN0cmluZyhoYXNoUG9zKzEpO1xuICAvLyBpZiBoYXNoIGlzIG5vdCBvZiB0aGUgZm9ybSAja2V5PXZhbCZrZXk9dmFsLCBpdCdzIHByb2JhYmx5IG5vdCBmb3IgdXNcbiAgaWYgKCF1cmxGcmFnbWVudC5pbmNsdWRlcygnPScpKSB7IHJldHVybjsgfVxuXG4gIHJldHVybiB1cmxGcmFnbWVudC5zcGxpdCgnJicpLnJlZHVjZShmdW5jdGlvbihwYXJhbXMsIGt2cykge1xuICAgIGNvbnN0IGt2ID0ga3ZzLnNwbGl0KCc9Jyk7XG5cbiAgICBpZiAoa3ZbMF0gPT09ICdzdGF0ZScgJiYga3ZbMV0ubWF0Y2goL3JzRGlzY292ZXJ5LykpIHtcbiAgICAgIC8vIGV4dHJhY3QgcnNEaXNjb3ZlcnkgZGF0YSBmcm9tIHRoZSBzdGF0ZSBwYXJhbVxuICAgICAgbGV0IHN0YXRlVmFsdWUgPSBkZWNvZGVVUklDb21wb25lbnQoa3ZbMV0pO1xuICAgICAgY29uc3QgZW5jb2RlZERhdGEgPSBzdGF0ZVZhbHVlLnN1YnN0cihzdGF0ZVZhbHVlLmluZGV4T2YoJ3JzRGlzY292ZXJ5PScpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zcGxpdCgnJicpWzBdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnNwbGl0KCc9JylbMV07XG5cbiAgICAgIHBhcmFtc1sncnNEaXNjb3ZlcnknXSA9IEpTT04ucGFyc2UoYXRvYihlbmNvZGVkRGF0YSkpO1xuXG4gICAgICAvLyByZW1vdmUgcnNEaXNjb3ZlcnkgcGFyYW1cbiAgICAgIHN0YXRlVmFsdWUgPSBzdGF0ZVZhbHVlLnJlcGxhY2UobmV3IFJlZ0V4cCgnJj9yc0Rpc2NvdmVyeT0nICsgZW5jb2RlZERhdGEpLCAnJyk7XG5cbiAgICAgIGlmIChzdGF0ZVZhbHVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcGFyYW1zWydzdGF0ZSddID0gc3RhdGVWYWx1ZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGFyYW1zW2RlY29kZVVSSUNvbXBvbmVudChrdlswXSldID0gZGVjb2RlVVJJQ29tcG9uZW50KGt2WzFdKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGFyYW1zO1xuICB9LCB7fSk7XG59XG5cbmZ1bmN0aW9uIGJ1aWxkT0F1dGhVUkwgKGF1dGhVUkw6IHN0cmluZywgcmVkaXJlY3RVcmk6IHN0cmluZywgc2NvcGU6IHN0cmluZywgY2xpZW50SWQ6IHN0cmluZyk6IHN0cmluZyB7XG4gIGNvbnN0IGhhc2hQb3MgPSByZWRpcmVjdFVyaS5pbmRleE9mKCcjJyk7XG4gIGxldCB1cmwgPSBhdXRoVVJMO1xuXG4gIHVybCArPSBhdXRoVVJMLmluZGV4T2YoJz8nKSA+IDAgPyAnJicgOiAnPyc7XG4gIHVybCArPSAncmVkaXJlY3RfdXJpPScgKyBlbmNvZGVVUklDb21wb25lbnQocmVkaXJlY3RVcmkucmVwbGFjZSgvIy4qJC8sICcnKSk7XG4gIHVybCArPSAnJnNjb3BlPScgKyBlbmNvZGVVUklDb21wb25lbnQoc2NvcGUpO1xuICB1cmwgKz0gJyZjbGllbnRfaWQ9JyArIGVuY29kZVVSSUNvbXBvbmVudChjbGllbnRJZCk7XG5cbiAgaWYgKGhhc2hQb3MgIT09IC0gMSAmJiBoYXNoUG9zKzEgIT09IHJlZGlyZWN0VXJpLmxlbmd0aCkge1xuICAgIHVybCArPSAnJnN0YXRlPScgKyBlbmNvZGVVUklDb21wb25lbnQocmVkaXJlY3RVcmkuc3Vic3RyaW5nKGhhc2hQb3MrMSkpO1xuICB9XG4gIHVybCArPSAnJnJlc3BvbnNlX3R5cGU9dG9rZW4nO1xuXG4gIHJldHVybiB1cmw7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEF1dGhvcml6ZSB7XG4gIHN0YXRpYyBJTVBMSUVEX0ZBS0VfVE9LRU4gPSBmYWxzZTtcblxuICBzdGF0aWMgYXV0aG9yaXplIChyZW1vdGVTdG9yYWdlLCB7IGF1dGhVUkwsIHNjb3BlLCByZWRpcmVjdFVyaSwgY2xpZW50SWQgfTogQXV0aE9wdGlvbnMpOiB2b2lkIHtcbiAgICBsb2coJ1tBdXRob3JpemVdIGF1dGhVUkwgPSAnLCBhdXRoVVJMLCAnc2NvcGUgPSAnLCBzY29wZSwgJ3JlZGlyZWN0VXJpID0gJywgcmVkaXJlY3RVcmksICdjbGllbnRJZCA9ICcsIGNsaWVudElkKTtcblxuICAgIC8vIFRPRE8gYWRkIGEgdGVzdCBmb3IgdGhpc1xuICAgIC8vIGtlZXAgdHJhY2sgb2YgdGhlIGRpc2NvdmVyeSBkYXRhIGR1cmluZyByZWRpcmVjdCBpZiB3ZSBjYW4ndCBzYXZlIGl0IGluIGxvY2FsU3RvcmFnZVxuICAgIGlmICghbG9jYWxTdG9yYWdlQXZhaWxhYmxlKCkgJiYgcmVtb3RlU3RvcmFnZS5iYWNrZW5kID09PSAncmVtb3Rlc3RvcmFnZScpIHtcbiAgICAgIHJlZGlyZWN0VXJpICs9IHJlZGlyZWN0VXJpLmluZGV4T2YoJyMnKSA+IDAgPyAnJicgOiAnIyc7XG5cbiAgICAgIGNvbnN0IGRpc2NvdmVyeURhdGEgPSB7XG4gICAgICAgIHVzZXJBZGRyZXNzOiByZW1vdGVTdG9yYWdlLnJlbW90ZS51c2VyQWRkcmVzcyxcbiAgICAgICAgaHJlZjogcmVtb3RlU3RvcmFnZS5yZW1vdGUuaHJlZixcbiAgICAgICAgc3RvcmFnZUFwaTogcmVtb3RlU3RvcmFnZS5yZW1vdGUuc3RvcmFnZUFwaSxcbiAgICAgICAgcHJvcGVydGllczogcmVtb3RlU3RvcmFnZS5yZW1vdGUucHJvcGVydGllc1xuICAgICAgfTtcblxuICAgICAgcmVkaXJlY3RVcmkgKz0gJ3JzRGlzY292ZXJ5PScgKyB0b0Jhc2U2NChKU09OLnN0cmluZ2lmeShkaXNjb3ZlcnlEYXRhKSk7XG4gICAgfVxuXG4gICAgY29uc3QgdXJsID0gYnVpbGRPQXV0aFVSTChhdXRoVVJMLCByZWRpcmVjdFVyaSwgc2NvcGUsIGNsaWVudElkKTtcblxuICAgIC8vIEZJWE1FIGRlY2xhcmUgcG90ZW50aWFsIGBjb3Jkb252YWAgcHJvcGVydHkgb24gZ2xvYmFsIHNvbWVob3csIHNvIHdlIGRvbid0IGhhdmUgdG9cbiAgICAvLyB1c2UgYSBzdHJpbmcgYWNjZXNzb3IgaGVyZS5cbiAgICBpZiAoZ2xvYmFsQ29udGV4dFsnY29yZG92YSddKSB7XG4gICAgICBBdXRob3JpemVcbiAgICAgICAgLm9wZW5XaW5kb3codXJsLCByZWRpcmVjdFVyaSwgJ2xvY2F0aW9uPXllcyxjbGVhcnNlc3Npb25jYWNoZT15ZXMsY2xlYXJjYWNoZT15ZXMnKVxuICAgICAgICAudGhlbigoYXV0aFJlc3VsdDogQXV0aFJlc3VsdCkgPT4ge1xuICAgICAgICAgIHJlbW90ZVN0b3JhZ2UucmVtb3RlLmNvbmZpZ3VyZSh7IHRva2VuOiBhdXRoUmVzdWx0LmFjY2Vzc190b2tlbiB9KTtcbiAgICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgQXV0aG9yaXplLnNldExvY2F0aW9uKHVybCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGN1cnJlbnQgZG9jdW1lbnQgbG9jYXRpb25cbiAgICpcbiAgICogT3ZlcnJpZGUgdGhpcyBtZXRob2QgaWYgYWNjZXNzIHRvIGRvY3VtZW50LmxvY2F0aW9uIGlzIGZvcmJpZGRlblxuICAgKi9cbiAgc3RhdGljIGdldExvY2F0aW9uID0gZnVuY3Rpb24gKCk6IExvY2F0aW9uIHtcbiAgICByZXR1cm4gZG9jdW1lbnQubG9jYXRpb247XG4gIH07XG5cbiAgLyoqXG4gICAqIE9wZW4gbmV3IEluQXBwQnJvd3NlciB3aW5kb3cgZm9yIE9BdXRoIGluIENvcmRvdmFcbiAgICovXG4gIHN0YXRpYyBvcGVuV2luZG93ID0gZnVuY3Rpb24gKHVybCwgcmVkaXJlY3RVcmksIG9wdGlvbnMpOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KTogYW55ID0+IHtcblxuICAgICAgY29uc3QgbmV3V2luZG93ID0gb3Blbih1cmwsICdfYmxhbmsnLCBvcHRpb25zKTtcblxuICAgICAgaWYgKCFuZXdXaW5kb3cgfHwgbmV3V2luZG93LmNsb3NlZCkge1xuICAgICAgICByZXR1cm4gcmVqZWN0KCdBdXRob3JpemF0aW9uIHBvcHVwIHdhcyBibG9ja2VkJyk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGhhbmRsZUV4aXQgKCkge1xuICAgICAgICByZXR1cm4gcmVqZWN0KCdBdXRob3JpemF0aW9uIHdhcyBjYW5jZWxlZCcpO1xuICAgICAgfTtcblxuICAgICAgZnVuY3Rpb24gaGFuZGxlTG9hZHN0YXJ0IChldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQudXJsLmluZGV4T2YocmVkaXJlY3RVcmkpICE9PSAwKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbmV3V2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2V4aXQnLCBoYW5kbGVFeGl0KTtcbiAgICAgICAgbmV3V2luZG93LmNsb3NlKCk7XG5cbiAgICAgICAgY29uc3QgYXV0aFJlc3VsdDogQXV0aFJlc3VsdCA9IGV4dHJhY3RQYXJhbXMoZXZlbnQudXJsKTtcblxuICAgICAgICBpZiAoIWF1dGhSZXN1bHQpIHtcbiAgICAgICAgICByZXR1cm4gcmVqZWN0KCdBdXRob3JpemF0aW9uIGVycm9yJyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzb2x2ZShhdXRoUmVzdWx0KTtcbiAgICAgIH07XG5cbiAgICAgIG5ld1dpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2Fkc3RhcnQnLCBoYW5kbGVMb2Fkc3RhcnQpO1xuICAgICAgbmV3V2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2V4aXQnLCBoYW5kbGVFeGl0KTtcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogU2V0IGN1cnJlbnQgZG9jdW1lbnQgbG9jYXRpb25cbiAgICpcbiAgICogT3ZlcnJpZGUgdGhpcyBtZXRob2QgaWYgYWNjZXNzIHRvIGRvY3VtZW50LmxvY2F0aW9uIGlzIGZvcmJpZGRlblxuICAgKi9cbiAgc3RhdGljIHNldExvY2F0aW9uIChsb2NhdGlvbjogc3RyaW5nIHwgTG9jYXRpb24pOiB2b2lkIHtcbiAgICBpZiAodHlwZW9mIGxvY2F0aW9uID09PSAnc3RyaW5nJykge1xuICAgICAgZG9jdW1lbnQubG9jYXRpb24uaHJlZiA9IGxvY2F0aW9uO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGxvY2F0aW9uID09PSAnb2JqZWN0Jykge1xuICAgICAgZG9jdW1lbnQubG9jYXRpb24gPSBsb2NhdGlvbjtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgXCJJbnZhbGlkIGxvY2F0aW9uIFwiICsgbG9jYXRpb247XG4gICAgfVxuICB9O1xuXG4gIHN0YXRpYyBfcnNfc3VwcG9ydGVkICgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdHlwZW9mKGRvY3VtZW50KSAhPT0gJ3VuZGVmaW5lZCc7XG4gIH07XG5cbiAgc3RhdGljIF9yc19pbml0ID0gZnVuY3Rpb24gKHJlbW90ZVN0b3JhZ2UpOiB2b2lkIHtcbiAgICBjb25zdCBwYXJhbXMgPSBleHRyYWN0UGFyYW1zKCk7XG4gICAgbGV0IGxvY2F0aW9uO1xuXG4gICAgaWYgKHBhcmFtcykge1xuICAgICAgbG9jYXRpb24gPSBBdXRob3JpemUuZ2V0TG9jYXRpb24oKTtcbiAgICAgIGxvY2F0aW9uLmhhc2ggPSAnJztcbiAgICB9XG5cbiAgICBvbkZlYXR1cmVzTG9hZGVkID0gZnVuY3Rpb24oKSB7XG4gICAgICBsZXQgYXV0aFBhcmFtc1VzZWQgPSBmYWxzZTtcblxuICAgICAgaWYgKCFwYXJhbXMpIHtcbiAgICAgICAgcmVtb3RlU3RvcmFnZS5yZW1vdGUuc3RvcFdhaXRpbmdGb3JUb2tlbigpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9O1xuXG4gICAgICBpZiAocGFyYW1zLmVycm9yKSB7XG4gICAgICAgIGlmIChwYXJhbXMuZXJyb3IgPT09ICdhY2Nlc3NfZGVuaWVkJykge1xuICAgICAgICAgIHRocm93IG5ldyBVbmF1dGhvcml6ZWRFcnJvcignQXV0aG9yaXphdGlvbiBmYWlsZWQ6IGFjY2VzcyBkZW5pZWQnLCB7IGNvZGU6ICdhY2Nlc3NfZGVuaWVkJyB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVW5hdXRob3JpemVkRXJyb3IoYEF1dGhvcml6YXRpb24gZmFpbGVkOiAke3BhcmFtcy5lcnJvcn1gKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyByc0Rpc2NvdmVyeSBjYW1lIHdpdGggdGhlIHJlZGlyZWN0LCBiZWNhdXNlIGl0IGNvdWxkbid0IGJlXG4gICAgICAvLyBzYXZlZCBpbiBsb2NhbFN0b3JhZ2VcbiAgICAgIGlmIChwYXJhbXMucnNEaXNjb3ZlcnkpIHtcbiAgICAgICAgcmVtb3RlU3RvcmFnZS5yZW1vdGUuY29uZmlndXJlKHBhcmFtcy5yc0Rpc2NvdmVyeSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChwYXJhbXMuYWNjZXNzX3Rva2VuKSB7XG4gICAgICAgIHJlbW90ZVN0b3JhZ2UucmVtb3RlLmNvbmZpZ3VyZSh7IHRva2VuOiBwYXJhbXMuYWNjZXNzX3Rva2VuIH0pO1xuICAgICAgICBhdXRoUGFyYW1zVXNlZCA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChwYXJhbXMucmVtb3Rlc3RvcmFnZSkge1xuICAgICAgICByZW1vdGVTdG9yYWdlLmNvbm5lY3QocGFyYW1zLnJlbW90ZXN0b3JhZ2UpO1xuICAgICAgICBhdXRoUGFyYW1zVXNlZCA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChwYXJhbXMuc3RhdGUpIHtcbiAgICAgICAgbG9jYXRpb24gPSBBdXRob3JpemUuZ2V0TG9jYXRpb24oKTtcbiAgICAgICAgQXV0aG9yaXplLnNldExvY2F0aW9uKGxvY2F0aW9uLmhyZWYuc3BsaXQoJyMnKVswXSsnIycrcGFyYW1zLnN0YXRlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFhdXRoUGFyYW1zVXNlZCkge1xuICAgICAgICByZW1vdGVTdG9yYWdlLnJlbW90ZS5zdG9wV2FpdGluZ0ZvclRva2VuKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJlbW90ZVN0b3JhZ2Uub24oJ2ZlYXR1cmVzLWxvYWRlZCcsIG9uRmVhdHVyZXNMb2FkZWQpO1xuICB9O1xuXG4gIHN0YXRpYyBfcnNfY2xlYW51cCAocmVtb3RlU3RvcmFnZSk6IHZvaWQge1xuICAgIHJlbW90ZVN0b3JhZ2UucmVtb3ZlRXZlbnRMaXN0ZW5lcignZmVhdHVyZXMtbG9hZGVkJywgb25GZWF0dXJlc0xvYWRlZCk7XG4gIH07XG59O1xuIiwiaW1wb3J0IHR2NCBmcm9tICd0djQnO1xuaW1wb3J0IHsgQ2FjaGluZ1N0cmF0ZWd5IH0gZnJvbSAnLi9pbnRlcmZhY2VzL2NhY2hpbmcnO1xuaW1wb3J0IFR5cGVzIGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IFNjaGVtYU5vdEZvdW5kIGZyb20gJy4vc2NoZW1hLW5vdC1mb3VuZC1lcnJvcic7XG5pbXBvcnQgRXZlbnRIYW5kbGluZyBmcm9tICcuL2V2ZW50aGFuZGxpbmcnO1xuaW1wb3J0IGNvbmZpZyBmcm9tICcuL2NvbmZpZyc7XG5pbXBvcnQgeyBhcHBseU1peGlucywgY2xlYW5QYXRoIH0gZnJvbSAnLi91dGlsJztcblxuLyoqXG4gKiBQcm92aWRlcyBhIGhpZ2gtbGV2ZWwgaW50ZXJmYWNlIHRvIGFjY2VzcyBkYXRhIGJlbG93IGEgZ2l2ZW4gcm9vdCBwYXRoLlxuICovXG5mdW5jdGlvbiBCYXNlQ2xpZW50IChzdG9yYWdlLCBiYXNlOiBzdHJpbmcpIHtcbiAgaWYgKGJhc2VbYmFzZS5sZW5ndGggLSAxXSAhPT0gJy8nKSB7XG4gICAgdGhyb3cgXCJOb3QgYSBmb2xkZXI6IFwiICsgYmFzZTtcbiAgfVxuXG4gIGlmIChiYXNlID09PSAnLycpIHtcbiAgICAvLyBhbGxvdyBhYnNvbHV0ZSBhbmQgcmVsYXRpdmUgcGF0aHMgZm9yIHRoZSByb290IHNjb3BlLlxuICAgIHRoaXMubWFrZVBhdGggPSAocGF0aDogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgICAgIHJldHVybiAocGF0aFswXSA9PT0gJy8nID8gJycgOiAnLycpICsgcGF0aDtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSA8UmVtb3RlU3RvcmFnZT4gaW5zdGFuY2UgdGhpcyA8QmFzZUNsaWVudD4gb3BlcmF0ZXMgb24uXG4gICAqL1xuICB0aGlzLnN0b3JhZ2UgPSBzdG9yYWdlO1xuXG4gIC8qKlxuICAgKiBCYXNlIHBhdGgsIHdoaWNoIHRoaXMgPEJhc2VDbGllbnQ+IG9wZXJhdGVzIG9uLlxuICAgKlxuICAgKiBGb3IgdGhlIG1vZHVsZSdzIHByaXZhdGVDbGllbnQgdGhpcyB3b3VsZCBiZSAvPG1vZHVsZU5hbWU+LywgZm9yIHRoZVxuICAgKiBjb3JyZXNwb25kaW5nIHB1YmxpY0NsaWVudCAvcHVibGljLzxtb2R1bGVOYW1lPi8uXG4gICAqL1xuICB0aGlzLmJhc2UgPSBiYXNlO1xuXG4gIC8qKlxuICAgKiBUT0RPOiBkb2N1bWVudCB3aGF0IHRoaXMgZG9lcyBleGFjdGx5XG4gICAqL1xuICBjb25zdCBwYXJ0cyA9IHRoaXMuYmFzZS5zcGxpdCgnLycpO1xuICBpZiAocGFydHMubGVuZ3RoID4gMikge1xuICAgIHRoaXMubW9kdWxlTmFtZSA9IHBhcnRzWzFdO1xuICB9IGVsc2Uge1xuICAgIHRoaXMubW9kdWxlTmFtZSA9ICdyb290JztcbiAgfVxuXG4gIHRoaXMuYWRkRXZlbnRzKFsnY2hhbmdlJ10pO1xuICB0aGlzLm9uID0gdGhpcy5vbi5iaW5kKHRoaXMpO1xuICBzdG9yYWdlLm9uQ2hhbmdlKHRoaXMuYmFzZSwgdGhpcy5fZmlyZUNoYW5nZS5iaW5kKHRoaXMpKTtcbn07XG5cbkJhc2VDbGllbnQuVHlwZXMgPSBUeXBlcztcblxuQmFzZUNsaWVudC5wcm90b3R5cGUgPSB7XG4gIC8qKlxuICAgKiBJbnN0YW50aWF0ZSBhIG5ldyBjbGllbnQsIHNjb3BlZCB0byBhIHN1YnBhdGggb2YgdGhlIGN1cnJlbnQgY2xpZW50J3NcbiAgICogcGF0aC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggLSBUaGUgcGF0aCB0byBzY29wZSB0aGUgbmV3IGNsaWVudCB0by5cbiAgICpcbiAgICogQHJldHVybnMge0Jhc2VDbGllbnR9IEEgbmV3IGNsaWVudCBvcGVyYXRpbmcgb24gYSBzdWJwYXRoIG9mIHRoZSBjdXJyZW50XG4gICAqICAgICAgICAgICAgICAgICAgICAgICBiYXNlIHBhdGguXG4gICAqL1xuICAvLyBUT0RPIGFkZCByZWFsIHR5cGUgKHJlcXVpcmVzIGJpZ2dlciByZWZhY3RvcilcbiAgc2NvcGU6IGZ1bmN0aW9uIChwYXRoOiBzdHJpbmcpOiB1bmtub3duIHtcbiAgICByZXR1cm4gbmV3IEJhc2VDbGllbnQodGhpcy5zdG9yYWdlLCB0aGlzLm1ha2VQYXRoKHBhdGgpKTtcbiAgfSxcblxuICAvKipcbiAgICogR2V0IGEgbGlzdCBvZiBjaGlsZCBub2RlcyBiZWxvdyBhIGdpdmVuIHBhdGguXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIC0gVGhlIHBhdGggdG8gcXVlcnkuIEl0IE1VU1QgZW5kIHdpdGggYSBmb3J3YXJkIHNsYXNoLlxuICAgKiBAcGFyYW0ge251bWJlcn0gbWF4QWdlIC0gKG9wdGlvbmFsKSBFaXRoZXIgYGBmYWxzZWBgIG9yIHRoZSBtYXhpbXVtIGFnZSBvZlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGVkIGxpc3RpbmcgaW4gbWlsbGlzZWNvbmRzLiBTZWUgOnJlZjpgbWF4LWFnZWAuXG4gICAqXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSBBIHByb21pc2UgZm9yIGFuIG9iamVjdCByZXByZXNlbnRpbmcgY2hpbGQgbm9kZXNcbiAgICovXG4gIC8vIFRPRE8gYWRkIHJlYWwgcmV0dXJuIHR5cGVcbiAgZ2V0TGlzdGluZzogZnVuY3Rpb24gKHBhdGg6IHN0cmluZywgbWF4QWdlPzogZmFsc2UgfCBudW1iZXIpOiBQcm9taXNlPHVua25vd24+IHtcbiAgICBpZiAodHlwZW9mIChwYXRoKSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHBhdGggPSAnJztcbiAgICB9IGVsc2UgaWYgKHBhdGgubGVuZ3RoID4gMCAmJiBwYXRoW3BhdGgubGVuZ3RoIC0gMV0gIT09ICcvJykge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFwiTm90IGEgZm9sZGVyOiBcIiArIHBhdGgpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zdG9yYWdlLmdldCh0aGlzLm1ha2VQYXRoKHBhdGgpLCBtYXhBZ2UpLnRoZW4oXG4gICAgICBmdW5jdGlvbiAocikge1xuICAgICAgICByZXR1cm4gKHIuc3RhdHVzQ29kZSA9PT0gNDA0KSA/IHt9IDogci5ib2R5O1xuICAgICAgfVxuICAgICk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldCBhbGwgb2JqZWN0cyBkaXJlY3RseSBiZWxvdyBhIGdpdmVuIHBhdGguXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIC0gUGF0aCB0byB0aGUgZm9sZGVyLiBNdXN0IGVuZCBpbiBhIGZvcndhcmQgc2xhc2guXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhBZ2UgLSAob3B0aW9uYWwpIEVpdGhlciBgYGZhbHNlYGAgb3IgdGhlIG1heGltdW0gYWdlIG9mXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBjYWNoZWQgb2JqZWN0cyBpbiBtaWxsaXNlY29uZHMuIFNlZSA6cmVmOmBtYXgtYWdlYC5cbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2V9IEEgcHJvbWlzZSBmb3IgYW4gb2JqZWN0XG4gICAqL1xuICAvLyBUT0RPIGFkZCByZWFsIHJldHVybiB0eXBlXG4gIGdldEFsbDogZnVuY3Rpb24gKHBhdGg6IHN0cmluZywgbWF4QWdlPzogZmFsc2UgfCBudW1iZXIpOiBQcm9taXNlPHVua25vd24+IHtcbiAgICBpZiAodHlwZW9mIChwYXRoKSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHBhdGggPSAnJztcbiAgICB9IGVsc2UgaWYgKHBhdGgubGVuZ3RoID4gMCAmJiBwYXRoW3BhdGgubGVuZ3RoIC0gMV0gIT09ICcvJykge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFwiTm90IGEgZm9sZGVyOiBcIiArIHBhdGgpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnN0b3JhZ2UuZ2V0KHRoaXMubWFrZVBhdGgocGF0aCksIG1heEFnZSkudGhlbigocikgPT4ge1xuICAgICAgaWYgKHIuc3RhdHVzQ29kZSA9PT0gNDA0KSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgKHIuYm9keSkgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhyLmJvZHkpO1xuICAgICAgICBpZiAoa2V5cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAvLyB0cmVhdCB0aGlzIGxpa2UgNDA0LiBpdCBwcm9iYWJseSBtZWFucyBhIGZvbGRlciBsaXN0aW5nIHRoYXRcbiAgICAgICAgICAvLyBoYXMgY2hhbmdlcyB0aGF0IGhhdmVuJ3QgYmVlbiBwdXNoZWQgb3V0IHlldC5cbiAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjYWxscyA9IGtleXMubWFwKChrZXk6IHN0cmluZykgPT4ge1xuICAgICAgICAgIHJldHVybiB0aGlzLnN0b3JhZ2UuZ2V0KHRoaXMubWFrZVBhdGgocGF0aCArIGtleSksIG1heEFnZSlcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChvKSB7XG4gICAgICAgICAgICAgIGlmICh0eXBlb2YgKG8uYm9keSkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgIG8uYm9keSA9IEpTT04ucGFyc2Uoby5ib2R5KTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAvLyBlbXB0eVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAodHlwZW9mIChvLmJvZHkpID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIHIuYm9keVtrZXldID0gby5ib2R5O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbChjYWxscykudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIHIuYm9keTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldCB0aGUgZmlsZSBhdCB0aGUgZ2l2ZW4gcGF0aC4gQSBmaWxlIGlzIHJhdyBkYXRhLCBhcyBvcHBvc2VkIHRvXG4gICAqIGEgSlNPTiBvYmplY3QgKHVzZSA6ZnVuYzpgZ2V0T2JqZWN0YCBmb3IgdGhhdCkuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIC0gUmVsYXRpdmUgcGF0aCBmcm9tIHRoZSBtb2R1bGUgcm9vdCAod2l0aG91dCBsZWFkaW5nXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgc2xhc2gpLlxuICAgKiBAcGFyYW0ge251bWJlcn0gbWF4QWdlIC0gKG9wdGlvbmFsKSBFaXRoZXIgYGBmYWxzZWBgIG9yIHRoZSBtYXhpbXVtIGFnZSBvZlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgdGhlIGNhY2hlZCBmaWxlIGluIG1pbGxpc2Vjb25kcy4gU2VlIDpyZWY6YG1heC1hZ2VgLlxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gQSBwcm9taXNlIGZvciBhbiBvYmplY3RcbiAgICovXG4gIC8vIFRPRE8gYWRkIHJlYWwgcmV0dXJuIHR5cGVcbiAgZ2V0RmlsZTogZnVuY3Rpb24gKHBhdGg6IHN0cmluZywgbWF4QWdlPzogZmFsc2UgfCBudW1iZXIpOiBQcm9taXNlPHVua25vd24+IHtcbiAgICBpZiAodHlwZW9mIChwYXRoKSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgnQXJndW1lbnQgXFwncGF0aFxcJyBvZiBiYXNlQ2xpZW50LmdldEZpbGUgbXVzdCBiZSBhIHN0cmluZycpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zdG9yYWdlLmdldCh0aGlzLm1ha2VQYXRoKHBhdGgpLCBtYXhBZ2UpLnRoZW4oZnVuY3Rpb24gKHIpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGRhdGE6IHIuYm9keSxcbiAgICAgICAgY29udGVudFR5cGU6IHIuY29udGVudFR5cGUsXG4gICAgICAgIHJldmlzaW9uOiByLnJldmlzaW9uIC8vICh0aGlzIGlzIG5ldylcbiAgICAgIH07XG4gICAgfSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFN0b3JlIHJhdyBkYXRhIGF0IGEgZ2l2ZW4gcGF0aC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG1pbWVUeXBlIC0gTUlNRSBtZWRpYSB0eXBlIG9mIHRoZSBkYXRhIGJlaW5nIHN0b3JlZFxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCAgICAgLSBQYXRoIHJlbGF0aXZlIHRvIHRoZSBtb2R1bGUgcm9vdFxuICAgKiBAcGFyYW0ge3N0cmluZ3xBcnJheUJ1ZmZlcnxBcnJheUJ1ZmZlclZpZXd9IGJvZHkgLSBSYXcgZGF0YSB0byBzdG9yZVxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gQSBwcm9taXNlIGZvciB0aGUgY3JlYXRlZC91cGRhdGVkIHJldmlzaW9uIChFVGFnKVxuICAgKi9cbiAgc3RvcmVGaWxlOiBmdW5jdGlvbiAobWltZVR5cGU6IHN0cmluZywgcGF0aDogc3RyaW5nLCBib2R5OiBzdHJpbmcgfCBBcnJheUJ1ZmZlciB8IEFycmF5QnVmZmVyVmlldyk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgaWYgKHR5cGVvZiAobWltZVR5cGUpICE9PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdBcmd1bWVudCBcXCdtaW1lVHlwZVxcJyBvZiBiYXNlQ2xpZW50LnN0b3JlRmlsZSBtdXN0IGJlIGEgc3RyaW5nJyk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgKHBhdGgpICE9PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdBcmd1bWVudCBcXCdwYXRoXFwnIG9mIGJhc2VDbGllbnQuc3RvcmVGaWxlIG11c3QgYmUgYSBzdHJpbmcnKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiAoYm9keSkgIT09ICdzdHJpbmcnICYmIHR5cGVvZiAoYm9keSkgIT09ICdvYmplY3QnKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoJ0FyZ3VtZW50IFxcJ2JvZHlcXCcgb2YgYmFzZUNsaWVudC5zdG9yZUZpbGUgbXVzdCBiZSBhIHN0cmluZywgQXJyYXlCdWZmZXIsIG9yIEFycmF5QnVmZmVyVmlldycpO1xuICAgIH1cbiAgICBpZiAoIXRoaXMuc3RvcmFnZS5hY2Nlc3MuY2hlY2tQYXRoUGVybWlzc2lvbih0aGlzLm1ha2VQYXRoKHBhdGgpLCAncncnKSkge1xuICAgICAgY29uc29sZS53YXJuKCdXQVJOSU5HOiBFZGl0aW5nIGEgZG9jdW1lbnQgdG8gd2hpY2ggb25seSByZWFkIGFjY2VzcyAoXFwnclxcJykgd2FzIGNsYWltZWQnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5zdG9yYWdlLnB1dCh0aGlzLm1ha2VQYXRoKHBhdGgpLCBib2R5LCBtaW1lVHlwZSkudGhlbigocikgPT4ge1xuICAgICAgaWYgKHIuc3RhdHVzQ29kZSA9PT0gMjAwIHx8IHIuc3RhdHVzQ29kZSA9PT0gMjAxKSB7XG4gICAgICAgIHJldHVybiByLnJldmlzaW9uO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFwiUmVxdWVzdCAoUFVUIFwiICsgdGhpcy5tYWtlUGF0aChwYXRoKSArIFwiKSBmYWlsZWQgd2l0aCBzdGF0dXM6IFwiICsgci5zdGF0dXNDb2RlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcblxuICAvKipcbiAgICogR2V0IGEgSlNPTiBvYmplY3QgZnJvbSB0aGUgZ2l2ZW4gcGF0aC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggLSBSZWxhdGl2ZSBwYXRoIGZyb20gdGhlIG1vZHVsZSByb290ICh3aXRob3V0IGxlYWRpbmdcbiAgICogICAgICAgICAgICAgICAgICAgICAgICBzbGFzaCkuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhBZ2UgLSAob3B0aW9uYWwpIEVpdGhlciBgYGZhbHNlYGAgb3IgdGhlIG1heGltdW0gYWdlIG9mXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBjYWNoZWQgb2JqZWN0IGluIG1pbGxpc2Vjb25kcy4gU2VlIDpyZWY6YG1heC1hZ2VgLlxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gQSBwcm9taXNlLCB3aGljaCByZXNvbHZlcyB3aXRoIHRoZSByZXF1ZXN0ZWQgb2JqZWN0IChvciBgYG51bGxgYFxuICAgKiAgICAgICAgICBpZiBub24tZXhpc3RlbnQpXG4gICAqL1xuXG4gIC8vIFRPRE8gYWRkIHJlYWwgcmV0dXJuIHR5cGVcbiAgZ2V0T2JqZWN0OiBmdW5jdGlvbiAocGF0aDogc3RyaW5nLCBtYXhBZ2U/OiBmYWxzZSB8IG51bWJlcik6IFByb21pc2U8dW5rbm93bj4ge1xuICAgIGlmICh0eXBlb2YgKHBhdGgpICE9PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdBcmd1bWVudCBcXCdwYXRoXFwnIG9mIGJhc2VDbGllbnQuZ2V0T2JqZWN0IG11c3QgYmUgYSBzdHJpbmcnKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc3RvcmFnZS5nZXQodGhpcy5tYWtlUGF0aChwYXRoKSwgbWF4QWdlKS50aGVuKChyKSA9PiB7XG4gICAgICBpZiAodHlwZW9mIChyLmJvZHkpID09PSAnb2JqZWN0JykgeyAvLyB3aWxsIGJlIHRoZSBjYXNlIGZvciBkb2N1bWVudHMgc3RvcmVkIHdpdGggcnMuanMgPD0gMC4xMC4wLWJldGEyXG4gICAgICAgIHJldHVybiByLmJvZHk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiAoci5ib2R5KSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShyLmJvZHkpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgdGhyb3cgXCJOb3QgdmFsaWQgSlNPTjogXCIgKyB0aGlzLm1ha2VQYXRoKHBhdGgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiAoci5ib2R5KSAhPT0gJ3VuZGVmaW5lZCcgJiYgci5zdGF0dXNDb2RlID09PSAyMDApIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFwiTm90IGFuIG9iamVjdDogXCIgKyB0aGlzLm1ha2VQYXRoKHBhdGgpKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcblxuICAvKipcbiAgICogU3RvcmUgb2JqZWN0IGF0IGdpdmVuIHBhdGguIFRyaWdnZXJzIHN5bmNocm9uaXphdGlvbi5cbiAgICpcbiAgICogU2VlIGBgZGVjbGFyZVR5cGUoKWBgIGFuZCA6ZG9jOmBkYXRhIHR5cGVzIDwvZGF0YS1tb2R1bGVzL2RlZmluaW5nLWRhdGEtdHlwZXM+YFxuICAgKiBmb3IgYW4gZXhwbGFuYXRpb24gb2YgdHlwZXNcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGVBbGlhcyAgIC0gVW5pcXVlIHR5cGUgb2YgdGhpcyBvYmplY3Qgd2l0aGluIHRoaXMgbW9kdWxlLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCAgIC0gUGF0aCByZWxhdGl2ZSB0byB0aGUgbW9kdWxlIHJvb3QuXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBvYmplY3QgLSBBIEphdmFTY3JpcHQgb2JqZWN0IHRvIGJlIHN0b3JlZCBhdCB0aGUgZ2l2ZW5cbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGguIE11c3QgYmUgc2VyaWFsaXphYmxlIGFzIEpTT04uXG4gICAqXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSBSZXNvbHZlcyB3aXRoIHJldmlzaW9uIG9uIHN1Y2Nlc3MuIFJlamVjdHMgd2l0aFxuICAgKiAgICAgICAgICAgICAgICAgICAgYSBWYWxpZGF0aW9uRXJyb3IsIGlmIHZhbGlkYXRpb25zIGZhaWwuXG4gICAqL1xuICAvLyBUT0RPIGFkZCByZWFsIHJldHVybiB0eXBlXG4gIHN0b3JlT2JqZWN0OiBmdW5jdGlvbiAodHlwZUFsaWFzOiBzdHJpbmcsIHBhdGg6IHN0cmluZywgb2JqZWN0OiBvYmplY3QpOiBQcm9taXNlPHVua25vd24+IHtcbiAgICBpZiAodHlwZW9mICh0eXBlQWxpYXMpICE9PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdBcmd1bWVudCBcXCd0eXBlQWxpYXNcXCcgb2YgYmFzZUNsaWVudC5zdG9yZU9iamVjdCBtdXN0IGJlIGEgc3RyaW5nJyk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgKHBhdGgpICE9PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdBcmd1bWVudCBcXCdwYXRoXFwnIG9mIGJhc2VDbGllbnQuc3RvcmVPYmplY3QgbXVzdCBiZSBhIHN0cmluZycpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIChvYmplY3QpICE9PSAnb2JqZWN0Jykge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdBcmd1bWVudCBcXCdvYmplY3RcXCcgb2YgYmFzZUNsaWVudC5zdG9yZU9iamVjdCBtdXN0IGJlIGFuIG9iamVjdCcpO1xuICAgIH1cblxuICAgIHRoaXMuX2F0dGFjaFR5cGUob2JqZWN0LCB0eXBlQWxpYXMpO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHZhbGlkYXRpb25SZXN1bHQgPSB0aGlzLnZhbGlkYXRlKG9iamVjdCk7XG4gICAgICBpZiAoIXZhbGlkYXRpb25SZXN1bHQudmFsaWQpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHZhbGlkYXRpb25SZXN1bHQpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGV4Yykge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGV4Yyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuc3RvcmFnZS5wdXQodGhpcy5tYWtlUGF0aChwYXRoKSwgSlNPTi5zdHJpbmdpZnkob2JqZWN0KSwgJ2FwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9VVRGLTgnKS50aGVuKChyKSA9PiB7XG4gICAgICBpZiAoci5zdGF0dXNDb2RlID09PSAyMDAgfHwgci5zdGF0dXNDb2RlID09PSAyMDEpIHtcbiAgICAgICAgcmV0dXJuIHIucmV2aXNpb247XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXCJSZXF1ZXN0IChQVVQgXCIgKyB0aGlzLm1ha2VQYXRoKHBhdGgpICsgXCIpIGZhaWxlZCB3aXRoIHN0YXR1czogXCIgKyByLnN0YXR1c0NvZGUpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZW1vdmUgbm9kZSBhdCBnaXZlbiBwYXRoIGZyb20gc3RvcmFnZS4gVHJpZ2dlcnMgc3luY2hyb25pemF0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCAtIFBhdGggcmVsYXRpdmUgdG8gdGhlIG1vZHVsZSByb290LlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cbiAgICovXG4gIC8vIFRPRE8gYWRkIHJlYWwgcmV0dXJuIHR5cGVcbiAgcmVtb3ZlOiBmdW5jdGlvbiAocGF0aDogc3RyaW5nKTogUHJvbWlzZTx1bmtub3duPiB7XG4gICAgaWYgKHR5cGVvZiAocGF0aCkgIT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoJ0FyZ3VtZW50IFxcJ3BhdGhcXCcgb2YgYmFzZUNsaWVudC5yZW1vdmUgbXVzdCBiZSBhIHN0cmluZycpO1xuICAgIH1cbiAgICBpZiAoIXRoaXMuc3RvcmFnZS5hY2Nlc3MuY2hlY2tQYXRoUGVybWlzc2lvbih0aGlzLm1ha2VQYXRoKHBhdGgpLCAncncnKSkge1xuICAgICAgY29uc29sZS53YXJuKCdXQVJOSU5HOiBSZW1vdmluZyBhIGRvY3VtZW50IHRvIHdoaWNoIG9ubHkgcmVhZCBhY2Nlc3MgKFxcJ3JcXCcpIHdhcyBjbGFpbWVkJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuc3RvcmFnZS5kZWxldGUodGhpcy5tYWtlUGF0aChwYXRoKSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJldHJpZXZlIGZ1bGwgVVJMIG9mIGEgZG9jdW1lbnQuIFVzZWZ1bCBmb3IgZXhhbXBsZSBmb3Igc2hhcmluZyB0aGUgcHVibGljXG4gICAqIFVSTCBvZiBhbiBpdGVtIGluIHRoZSBgYC9wdWJsaWNgYCBmb2xkZXIuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIC0gUGF0aCByZWxhdGl2ZSB0byB0aGUgbW9kdWxlIHJvb3QuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBmdWxsIFVSTCBvZiB0aGUgaXRlbSwgaW5jbHVkaW5nIHRoZSBzdG9yYWdlIG9yaWdpblxuICAgKi9cbiAgZ2V0SXRlbVVSTDogZnVuY3Rpb24gKHBhdGg6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgaWYgKHR5cGVvZiAocGF0aCkgIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyAnQXJndW1lbnQgXFwncGF0aFxcJyBvZiBiYXNlQ2xpZW50LmdldEl0ZW1VUkwgbXVzdCBiZSBhIHN0cmluZyc7XG4gICAgfVxuICAgIGlmICh0aGlzLnN0b3JhZ2UuY29ubmVjdGVkKSB7XG4gICAgICBwYXRoID0gY2xlYW5QYXRoKHRoaXMubWFrZVBhdGgocGF0aCkpO1xuICAgICAgcmV0dXJuIHRoaXMuc3RvcmFnZS5yZW1vdGUuaHJlZiArIHBhdGg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBTZXQgY2FjaGluZyBzdHJhdGVneSBmb3IgYSBnaXZlbiBwYXRoIGFuZCBpdHMgY2hpbGRyZW4uXG4gICAqXG4gICAqIFNlZSA6cmVmOmBjYWNoaW5nLXN0cmF0ZWdpZXNgIGZvciBhIGRldGFpbGVkIGRlc2NyaXB0aW9uIG9mIHRoZSBhdmFpbGFibGVcbiAgICogc3RyYXRlZ2llcy5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggLSBQYXRoIHRvIGNhY2hlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJhdGVneSAtIENhY2hpbmcgc3RyYXRlZ3kuIE9uZSBvZiAnQUxMJywgJ1NFRU4nLCBvclxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnRkxVU0gnLiBEZWZhdWx0cyB0byAnQUxMJy5cbiAgICpcbiAgICogQHJldHVybnMge0Jhc2VDbGllbnR9IFRoZSBzYW1lIGluc3RhbmNlIHRoaXMgaXMgY2FsbGVkIG9uIHRvIGFsbG93IGZvciBtZXRob2QgY2hhaW5pbmdcbiAgICovXG4gIGNhY2hlOiBmdW5jdGlvbiAocGF0aDogc3RyaW5nLCBzdHJhdGVneTogQ2FjaGluZ1N0cmF0ZWd5ID0gJ0FMTCcpIHtcbiAgICBpZiAodHlwZW9mIHBhdGggIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyAnQXJndW1lbnQgXFwncGF0aFxcJyBvZiBiYXNlQ2xpZW50LmNhY2hlIG11c3QgYmUgYSBzdHJpbmcnO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygc3RyYXRlZ3kgIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyAnQXJndW1lbnQgXFwnc3RyYXRlZ3lcXCcgb2YgYmFzZUNsaWVudC5jYWNoZSBtdXN0IGJlIGEgc3RyaW5nIG9yIHVuZGVmaW5lZCc7XG4gICAgfVxuXG4gICAgaWYgKHN0cmF0ZWd5ICE9PSAnRkxVU0gnICYmXG4gICAgICBzdHJhdGVneSAhPT0gJ1NFRU4nICYmXG4gICAgICBzdHJhdGVneSAhPT0gJ0FMTCcpIHtcbiAgICAgIHRocm93ICdBcmd1bWVudCBcXCdzdHJhdGVneVxcJyBvZiBiYXNlY2xpZW50LmNhY2hlIG11c3QgYmUgb25lIG9mICdcbiAgICAgICsgJ1tcIkZMVVNIXCIsIFwiU0VFTlwiLCBcIkFMTFwiXSc7XG4gICAgfVxuICAgIHRoaXMuc3RvcmFnZS5jYWNoaW5nLnNldCh0aGlzLm1ha2VQYXRoKHBhdGgpLCBzdHJhdGVneSk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICAvKipcbiAgICogVE9ETzogZG9jdW1lbnRcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGhcbiAgICovXG4gIC8vIFRPRE8gYWRkIHJldHVybiB0eXBlIG9uY2Uga25vd25cbiAgZmx1c2g6IGZ1bmN0aW9uIChwYXRoOiBzdHJpbmcpOiB1bmtub3duIHtcbiAgICByZXR1cm4gdGhpcy5zdG9yYWdlLmxvY2FsLmZsdXNoKHBhdGgpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBEZWNsYXJlIGEgcmVtb3RlU3RvcmFnZSBvYmplY3QgdHlwZSB1c2luZyBhIEpTT04gc2NoZW1hLlxuICAgKlxuICAgKiBTZWUgOmRvYzpgRGVmaW5pbmcgZGF0YSB0eXBlcyA8L2RhdGEtbW9kdWxlcy9kZWZpbmluZy1kYXRhLXR5cGVzPmAgZm9yIG1vcmUgaW5mby5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGFsaWFzICAtIEEgdHlwZSBhbGlhcy9zaG9ydG5hbWVcbiAgICogQHBhcmFtIHt1cml9ICAgIHVyaSAgICAtIChvcHRpb25hbCkgSlNPTi1MRCBVUkkgb2YgdGhlIHNjaGVtYS4gQXV0b21hdGljYWxseSBnZW5lcmF0ZWQgaWYgbm9uZSBnaXZlblxuICAgKiBAcGFyYW0ge29iamVjdH0gc2NoZW1hIC0gQSBKU09OIFNjaGVtYSBvYmplY3QgZGVzY3JpYmluZyB0aGUgb2JqZWN0IHR5cGVcbiAgICoqL1xuICBkZWNsYXJlVHlwZTogZnVuY3Rpb24gKGFsaWFzOiBhbnksIHVyaU9yU2NoZW1hOiBhbnksIHNjaGVtYT86IGFueSk6IHZvaWQge1xuICAgIGxldCB1cmk6IHN0cmluZztcblxuICAgIGlmICghc2NoZW1hKSB7XG4gICAgICBzY2hlbWEgPSB1cmlPclNjaGVtYTtcbiAgICAgIHVyaSA9IHRoaXMuX2RlZmF1bHRUeXBlVVJJKGFsaWFzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdXJpID0gdXJpT3JTY2hlbWE7XG4gICAgfVxuXG4gICAgQmFzZUNsaWVudC5UeXBlcy5kZWNsYXJlKHRoaXMubW9kdWxlTmFtZSwgYWxpYXMsIHVyaSwgc2NoZW1hKTtcbiAgfSxcblxuICAvKipcbiAgICogVmFsaWRhdGUgYW4gb2JqZWN0IGFnYWluc3QgdGhlIGFzc29jaWF0ZWQgc2NoZW1hLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IC0gSlMgb2JqZWN0IHRvIHZhbGlkYXRlLiBNdXN0IGhhdmUgYSBgYEBjb250ZXh0YGAgcHJvcGVydHkuXG4gICAqXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IEFuIG9iamVjdCBjb250YWluaW5nIGluZm9ybWF0aW9uIGFib3V0IHZhbGlkYXRpb24gZXJyb3JzXG4gICAqKi9cbiAgdmFsaWRhdGU6IGZ1bmN0aW9uIChvYmplY3Q6IG9iamVjdCk6IG9iamVjdCB7XG4gICAgY29uc3Qgc2NoZW1hID0gQmFzZUNsaWVudC5UeXBlcy5nZXRTY2hlbWEob2JqZWN0WydAY29udGV4dCddKTtcbiAgICBpZiAoc2NoZW1hKSB7XG4gICAgICByZXR1cm4gdHY0LnZhbGlkYXRlUmVzdWx0KG9iamVjdCwgc2NoZW1hKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IFNjaGVtYU5vdEZvdW5kKG9iamVjdFsnQGNvbnRleHQnXSk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBUT0RPIGRvY3VtZW50XG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBzY2hlbWFzOiB7XG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIEJhc2VDbGllbnQuVHlwZXMuaW5TY29wZSh0aGlzLm1vZHVsZU5hbWUpO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogVGhlIGRlZmF1bHQgSlNPTi1MRCBAY29udGV4dCBVUkwgZm9yIFJTIHR5cGVzL29iamVjdHMvZG9jdW1lbnRzXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZGVmYXVsdFR5cGVVUkk6IGZ1bmN0aW9uIChhbGlhczogc3RyaW5nKTogc3RyaW5nIHtcbiAgICByZXR1cm4gJ2h0dHA6Ly9yZW1vdGVzdG9yYWdlLmlvL3NwZWMvbW9kdWxlcy8nICsgZW5jb2RlVVJJQ29tcG9uZW50KHRoaXMubW9kdWxlTmFtZSkgKyAnLycgKyBlbmNvZGVVUklDb21wb25lbnQoYWxpYXMpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBBdHRhY2hlcyB0aGUgSlNPTi1MRCBAY29udGVudCB0byBhbiBvYmplY3RcbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9hdHRhY2hUeXBlOiBmdW5jdGlvbiAob2JqZWN0OiBvYmplY3QsIGFsaWFzOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBvYmplY3RbJ0Bjb250ZXh0J10gPSBCYXNlQ2xpZW50LlR5cGVzLnJlc29sdmVBbGlhcyh0aGlzLm1vZHVsZU5hbWUgKyAnLycgKyBhbGlhcykgfHwgdGhpcy5fZGVmYXVsdFR5cGVVUkkoYWxpYXMpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBUT0RPOiBkb2N1bWVudFxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgbWFrZVBhdGg6IGZ1bmN0aW9uIChwYXRoOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmJhc2UgKyAocGF0aCB8fCAnJyk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFRPRE86IGRvY3VtZW50XG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZmlyZUNoYW5nZTogZnVuY3Rpb24gKGV2ZW50OiBDaGFuZ2VPYmopIHtcbiAgICBpZiAoY29uZmlnLmNoYW5nZUV2ZW50c1tldmVudC5vcmlnaW5dKSB7XG4gICAgICBbJ25ldycsICdvbGQnLCAnbGFzdENvbW1vbiddLmZvckVhY2goZnVuY3Rpb24gKGZpZWxkTmFtZVByZWZpeCkge1xuICAgICAgICBpZiAoKCFldmVudFtmaWVsZE5hbWVQcmVmaXggKyAnQ29udGVudFR5cGUnXSlcbiAgICAgICAgICB8fCAoL15hcHBsaWNhdGlvblxcLyguKilqc29uKC4qKS8uZXhlYyhldmVudFtmaWVsZE5hbWVQcmVmaXggKyAnQ29udGVudFR5cGUnXSkpKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiAoZXZlbnRbZmllbGROYW1lUHJlZml4ICsgJ1ZhbHVlJ10pID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgZXZlbnRbZmllbGROYW1lUHJlZml4ICsgJ1ZhbHVlJ10gPSBKU09OLnBhcnNlKGV2ZW50W2ZpZWxkTmFtZVByZWZpeCArICdWYWx1ZSddKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgLy8gZW1wdHlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgdGhpcy5fZW1pdCgnY2hhbmdlJywgZXZlbnQpO1xuICAgIH1cbiAgfVxufTtcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1lbXB0eS1mdW5jdGlvblxuQmFzZUNsaWVudC5fcnNfaW5pdCA9IGZ1bmN0aW9uICgpOiB2b2lkIHtcbn07XG5cbmludGVyZmFjZSBCYXNlQ2xpZW50IGV4dGVuZHMgRXZlbnRIYW5kbGluZyB7fTtcbmFwcGx5TWl4aW5zKEJhc2VDbGllbnQsIFtFdmVudEhhbmRsaW5nXSk7XG5cbmV4cG9ydCBkZWZhdWx0IEJhc2VDbGllbnQ7XG4iLCJpbXBvcnQgQXV0aG9yaXplIGZyb20gJy4vYXV0aG9yaXplJztcbmltcG9ydCBFdmVudEhhbmRsaW5nIGZyb20gJy4vZXZlbnRoYW5kbGluZyc7XG5pbXBvcnQgVW5hdXRob3JpemVkRXJyb3IgZnJvbSAnLi91bmF1dGhvcml6ZWQtZXJyb3InO1xuaW1wb3J0IGNvbmZpZyBmcm9tICcuL2NvbmZpZyc7XG5pbXBvcnQgbG9nIGZyb20gJy4vbG9nJztcbmltcG9ydCB7XG4gIGFwcGx5TWl4aW5zLFxuICBjbGVhblBhdGgsXG4gIGdldEpTT05Gcm9tTG9jYWxTdG9yYWdlLFxuICBnZXRUZXh0RnJvbUFycmF5QnVmZmVyLFxuICBpc0ZvbGRlcixcbiAgbG9jYWxTdG9yYWdlQXZhaWxhYmxlLFxuICBzaG91bGRCZVRyZWF0ZWRBc0JpbmFyeVxufSBmcm9tICcuL3V0aWwnO1xuXG4vKipcbiAqIFRoaXMgZmlsZSBleHBvc2VzIGEgZ2V0L3B1dC9kZWxldGUgaW50ZXJmYWNlIG9uIHRvcCBvZiBmZXRjaCgpIG9yIFhNTEh0dHBSZXF1ZXN0LlxuICogSXQgcmVxdWlyZXMgdG8gYmUgY29uZmlndXJlZCB3aXRoIHBhcmFtZXRlcnMgYWJvdXQgdGhlIHJlbW90ZXN0b3JhZ2Ugc2VydmVyIHRvXG4gKiBjb25uZWN0IHRvLlxuICogRWFjaCBpbnN0YW5jZSBvZiBXaXJlQ2xpZW50IGlzIGFsd2F5cyBhc3NvY2lhdGVkIHdpdGggYSBzaW5nbGUgcmVtb3Rlc3RvcmFnZVxuICogc2VydmVyIGFuZCBhY2Nlc3MgdG9rZW4uXG4gKlxuICogVXN1YWxseSB0aGUgV2lyZUNsaWVudCBpbnN0YW5jZSBjYW4gYmUgYWNjZXNzZWQgdmlhIGByZW1vdGVTdG9yYWdlLnJlbW90ZWAuXG4gKlxuICogVGhpcyBpcyB0aGUgZ2V0L3B1dC9kZWxldGUgaW50ZXJmYWNlOlxuICpcbiAqICAgLSAjZ2V0KCkgdGFrZXMgYSBwYXRoIGFuZCBvcHRpb25hbGx5IGEgaWZOb25lTWF0Y2ggb3B0aW9uIGNhcnJ5aW5nIGEgdmVyc2lvblxuICogICAgIHN0cmluZyB0byBjaGVjay4gSXQgcmV0dXJucyBhIHByb21pc2UgdGhhdCB3aWxsIGJlIGZ1bGZpbGxlZCB3aXRoIHRoZSBIVFRQXG4gKiAgICAgcmVzcG9uc2Ugc3RhdHVzLCB0aGUgcmVzcG9uc2UgYm9keSwgdGhlIE1JTUUgdHlwZSBhcyByZXR1cm5lZCBpbiB0aGVcbiAqICAgICAnQ29udGVudC1UeXBlJyBoZWFkZXIgYW5kIHRoZSBjdXJyZW50IHJldmlzaW9uLCBhcyByZXR1cm5lZCBpbiB0aGUgJ0VUYWcnXG4gKiAgICAgaGVhZGVyLlxuICogICAtICNwdXQoKSB0YWtlcyBhIHBhdGgsIHRoZSByZXF1ZXN0IGJvZHkgYW5kIGEgY29udGVudCB0eXBlIHN0cmluZy4gSXQgYWxzb1xuICogICAgIGFjY2VwdHMgdGhlIGlmTWF0Y2ggYW5kIGlmTm9uZU1hdGNoIG9wdGlvbnMsIHRoYXQgbWFwIHRvIHRoZSBJZi1NYXRjaCBhbmRcbiAqICAgICBJZi1Ob25lLU1hdGNoIGhlYWRlcnMgcmVzcGVjdGl2ZWx5LiBTZWUgdGhlIHJlbW90ZXN0b3JhZ2UtMDEgc3BlY2lmaWNhdGlvblxuICogICAgIGZvciBkZXRhaWxzIG9uIGhhbmRsaW5nIHRoZXNlIGhlYWRlcnMuIEl0IHJldHVybnMgYSBwcm9taXNlLCBmdWxmaWxsZWQgd2l0aFxuICogICAgIHRoZSBzYW1lIHZhbHVlcyBhcyB0aGUgb25lIGZvciAjZ2V0KCkuXG4gKiAgIC0gI2RlbGV0ZSgpIHRha2VzIGEgcGF0aCBhbmQgdGhlIGlmTWF0Y2ggb3B0aW9uIGFzIHdlbGwuIEl0IHJldHVybnMgYSBwcm9taXNlXG4gKiAgICAgZnVsZmlsbGVkIHdpdGggdGhlIHNhbWUgdmFsdWVzIGFzIHRoZSBvbmUgZm9yICNnZXQoKS5cbiAqXG4gKiBJbiBhZGRpdGlvbiB0byB0aGlzLCB0aGUgV2lyZUNsaWVudCBoYXMgc29tZSBjb21wYXRpYmlsaXR5IGZlYXR1cmVzIHRvIHdvcmsgd2l0aFxuICogcmVtb3Rlc3RvcmFnZSAyMDEyLjA0IGNvbXBhdGlibGUgc3RvcmFnZXMuIEZvciBleGFtcGxlIGl0IHdpbGwgY2FjaGUgcmV2aXNpb25zXG4gKiBmcm9tIGZvbGRlciBsaXN0aW5ncyBpbi1tZW1vcnkgYW5kIHJldHVybiB0aGVtIGFjY29yZGluZ2x5IGFzIHRoZSBcInJldmlzaW9uXCJcbiAqIHBhcmFtZXRlciBpbiByZXNwb25zZSB0byAjZ2V0KCkgcmVxdWVzdHMuIFNpbWlsYXJseSBpdCB3aWxsIHJldHVybiA0MDQgd2hlbiBpdFxuICogcmVjZWl2ZXMgYW4gZW1wdHkgZm9sZGVyIGxpc3RpbmcsIHRvIG1pbWljIHJlbW90ZXN0b3JhZ2UtMDEgYmVoYXZpb3IuIE5vdGVcbiAqIHRoYXQgaXQgaXMgbm90IGFsd2F5cyBwb3NzaWJsZSB0byBrbm93IHRoZSByZXZpc2lvbiBiZWZvcmVoYW5kLCBoZW5jZSBpdCBtYXlcbiAqIGJlIHVuZGVmaW5lZCBhdCB0aW1lcyAoZXNwZWNpYWxseSBmb3IgY2FjaGluZy1yb290cykuXG4gKlxuICogQGludGVyZmFjZVxuICovXG5cbmxldCBoYXNMb2NhbFN0b3JhZ2U7XG5jb25zdCBTRVRUSU5HU19LRVkgPSAncmVtb3Rlc3RvcmFnZTp3aXJlY2xpZW50JztcblxuY29uc3QgQVBJXzIwMTIgPSAxO1xuY29uc3QgQVBJXzAwID0gMjtcbmNvbnN0IEFQSV8wMSA9IDM7XG5jb25zdCBBUElfMDIgPSA0O1xuY29uc3QgQVBJX0hFQUQgPSA1O1xuXG5jb25zdCBTVE9SQUdFX0FQSVMgPSB7XG4gICdkcmFmdC1kZWpvbmctcmVtb3Rlc3RvcmFnZS0wMCc6IEFQSV8wMCxcbiAgJ2RyYWZ0LWRlam9uZy1yZW1vdGVzdG9yYWdlLTAxJzogQVBJXzAxLFxuICAnZHJhZnQtZGVqb25nLXJlbW90ZXN0b3JhZ2UtMDInOiBBUElfMDIsXG4gICdodHRwczovL3d3dy53My5vcmcvY29tbXVuaXR5L3J3dy93aWtpL3JlYWQtd3JpdGUtd2ViLTAwI3NpbXBsZSc6IEFQSV8yMDEyXG59O1xuXG5sZXQgaXNBcnJheUJ1ZmZlclZpZXc7XG5cbmlmICh0eXBlb2YgKChnbG9iYWwgfHwgd2luZG93IGFzIGFueSkuQXJyYXlCdWZmZXJWaWV3KSA9PT0gJ2Z1bmN0aW9uJykge1xuICBpc0FycmF5QnVmZmVyVmlldyA9IGZ1bmN0aW9uIChvYmplY3QpIHtcbiAgICByZXR1cm4gb2JqZWN0ICYmIChvYmplY3QgaW5zdGFuY2VvZiAoZ2xvYmFsIHx8IHdpbmRvdyBhcyBhbnkpLkFycmF5QnVmZmVyVmlldyk7XG4gIH07XG59IGVsc2Uge1xuICBjb25zdCBhcnJheUJ1ZmZlclZpZXdzID0gW1xuICAgIEludDhBcnJheSwgVWludDhBcnJheSwgSW50MTZBcnJheSwgVWludDE2QXJyYXksXG4gICAgSW50MzJBcnJheSwgVWludDMyQXJyYXksIEZsb2F0MzJBcnJheSwgRmxvYXQ2NEFycmF5XG4gIF07XG4gIGlzQXJyYXlCdWZmZXJWaWV3ID0gZnVuY3Rpb24gKG9iamVjdCk6IGJvb2xlYW4ge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgODsgaSsrKSB7XG4gICAgICBpZiAob2JqZWN0IGluc3RhbmNlb2YgYXJyYXlCdWZmZXJWaWV3c1tpXSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xufVxuXG4vLyBUT0RPIGRvdWJsZSBjaGVja1xuaW50ZXJmYWNlIFdpcmVDbGllbnRTZXR0aW5ncyB7XG4gIHVzZXJBZGRyZXNzOiBzdHJpbmc7XG4gIGhyZWY6IHN0cmluZztcbiAgc3RvcmFnZUFwaTogdW5rbm93bjtcbiAgdG9rZW46IHN0cmluZztcbiAgcHJvcGVydGllczogdW5rbm93bjtcbn1cblxuaW50ZXJmYWNlIFdpcmVSZXF1ZXN0UmVzcG9uc2Uge1xuICBzdGF0dXNDb2RlOiBudW1iZXI7XG4gIHJldmlzaW9uOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIGFkZFF1b3RlcyAoc3RyOiBzdHJpbmcpOiBzdHJpbmcge1xuICBpZiAodHlwZW9mIChzdHIpICE9PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBzdHI7XG4gIH1cbiAgaWYgKHN0ciA9PT0gJyonKSB7XG4gICAgcmV0dXJuICcqJztcbiAgfVxuXG4gIHJldHVybiAnXCInICsgc3RyICsgJ1wiJztcbn1cblxuZnVuY3Rpb24gc3RyaXBRdW90ZXMgKHN0cjogc3RyaW5nKTogc3RyaW5nIHtcbiAgaWYgKHR5cGVvZiAoc3RyKSAhPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gc3RyO1xuICB9XG5cbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9eW1wiJ118W1wiJ10kL2csICcnKTtcbn1cblxuZnVuY3Rpb24gZGV0ZXJtaW5lQ2hhcnNldCAobWltZVR5cGU6IHN0cmluZyk6IHN0cmluZyB7XG4gIGxldCBjaGFyc2V0ID0gJ1VURi04JztcbiAgbGV0IGNoYXJzZXRNYXRjaDtcblxuICBpZiAobWltZVR5cGUpIHtcbiAgICBjaGFyc2V0TWF0Y2ggPSBtaW1lVHlwZS5tYXRjaCgvY2hhcnNldD0oLispJC8pO1xuICAgIGlmIChjaGFyc2V0TWF0Y2gpIHtcbiAgICAgIGNoYXJzZXQgPSBjaGFyc2V0TWF0Y2hbMV07XG4gICAgfVxuICB9XG4gIHJldHVybiBjaGFyc2V0O1xufVxuXG5mdW5jdGlvbiBpc0ZvbGRlckRlc2NyaXB0aW9uIChib2R5OiBvYmplY3QpOiBib29sZWFuIHtcbiAgcmV0dXJuICgoYm9keVsnQGNvbnRleHQnXSA9PT0gJ2h0dHA6Ly9yZW1vdGVzdG9yYWdlLmlvL3NwZWMvZm9sZGVyLWRlc2NyaXB0aW9uJylcbiAgICAmJiAodHlwZW9mIChib2R5WydpdGVtcyddKSA9PT0gJ29iamVjdCcpKTtcbn1cblxuZnVuY3Rpb24gaXNTdWNjZXNzU3RhdHVzIChzdGF0dXM6IG51bWJlcik6IGJvb2xlYW4ge1xuICByZXR1cm4gWzIwMSwgMjA0LCAzMDRdLmluZGV4T2Yoc3RhdHVzKSA+PSAwO1xufVxuXG5mdW5jdGlvbiBpc0Vycm9yU3RhdHVzIChzdGF0dXM6IG51bWJlcik6IGJvb2xlYW4ge1xuICByZXR1cm4gWzQwMSwgNDAzLCA0MDQsIDQxMl0uaW5kZXhPZihzdGF0dXMpID49IDA7XG59XG5cbmZ1bmN0aW9uIGlzRm9yYmlkZGVuUmVxdWVzdE1ldGhvZChtZXRob2Q6IHN0cmluZywgdXJpOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgaWYgKG1ldGhvZCA9PT0gJ1BVVCcgfHwgbWV0aG9kID09PSAnREVMRVRFJykge1xuICAgIHJldHVybiBpc0ZvbGRlcih1cmkpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG4vKipcbiAqIENsYXNzIDogV2lyZUNsaWVudFxuICoqL1xuY29uc3QgV2lyZUNsaWVudCA9IGZ1bmN0aW9uIFdpcmVDbGllbnQocnMpOiB2b2lkIHtcbiAgdGhpcy5ycyA9IHJzO1xuICB0aGlzLmNvbm5lY3RlZCA9IGZhbHNlO1xuXG4gIC8qKlxuICAgKiBFdmVudDogY29ubmVjdGVkXG4gICAqICAgRmlyZWQgd2hlbiB0aGUgd2lyZWNsaWVudCBjb25uZWN0IG1ldGhvZCByZWFsaXplcyB0aGF0IGl0IGlzIGluXG4gICAqICAgcG9zc2Vzc2lvbiBvZiBhIHRva2VuIGFuZCBocmVmXG4gICAqKi9cbiAgdGhpcy5hZGRFdmVudHMoWydjb25uZWN0ZWQnLCAnbm90LWNvbm5lY3RlZCddKTtcblxuICBpZiAoaGFzTG9jYWxTdG9yYWdlKSB7XG4gICAgY29uc3Qgc2V0dGluZ3MgPSBnZXRKU09ORnJvbUxvY2FsU3RvcmFnZShTRVRUSU5HU19LRVkpO1xuICAgIGlmIChzZXR0aW5ncykge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMuY29uZmlndXJlKHNldHRpbmdzKTtcbiAgICAgIH0sIDApO1xuICAgIH1cbiAgfVxuXG4gIHRoaXMuX3JldmlzaW9uQ2FjaGUgPSB7fTtcblxuICBpZiAodGhpcy5jb25uZWN0ZWQpIHtcbiAgICBzZXRUaW1lb3V0KHRoaXMuX2VtaXQuYmluZCh0aGlzKSwgMCwgJ2Nvbm5lY3RlZCcpO1xuICB9XG59O1xuXG5XaXJlQ2xpZW50LnByb3RvdHlwZSA9IHtcbiAgLyoqXG4gICAqIFByb3BlcnR5OiB0b2tlblxuICAgKlxuICAgKiBIb2xkcyB0aGUgYmVhcmVyIHRva2VuIG9mIHRoaXMgV2lyZUNsaWVudCwgYXMgb2J0YWluZWQgaW4gdGhlIE9BdXRoIGRhbmNlXG4gICAqXG4gICAqIEV4YW1wbGU6XG4gICAqICAgKHN0YXJ0IGNvZGUpXG4gICAqXG4gICAqICAgcmVtb3RlU3RvcmFnZS5yZW1vdGUudG9rZW5cbiAgICogICAvLyAtPiAnREVBREJFRUYwMT09J1xuICAgKi9cblxuICAvKipcbiAgICogUHJvcGVydHk6IGhyZWZcbiAgICpcbiAgICogSG9sZHMgdGhlIHNlcnZlcidzIGJhc2UgVVJMLCBhcyBvYnRhaW5lZCBpbiB0aGUgV2ViZmluZ2VyIGRpc2NvdmVyeVxuICAgKlxuICAgKiBFeGFtcGxlOlxuICAgKiAgIChzdGFydCBjb2RlKVxuICAgKlxuICAgKiAgIHJlbW90ZVN0b3JhZ2UucmVtb3RlLmhyZWZcbiAgICogICAvLyAtPiAnaHR0cHM6Ly9zdG9yYWdlLmV4YW1wbGUuY29tL3VzZXJzL2pibG9nZy8nXG4gICAqL1xuXG4gIC8qKlxuICAgKiBQcm9wZXJ0eTogc3RvcmFnZUFwaVxuICAgKlxuICAgKiBIb2xkcyB0aGUgc3BlYyB2ZXJzaW9uIHRoZSBzZXJ2ZXIgY2xhaW1zIHRvIGJlIGNvbXBhdGlibGUgd2l0aFxuICAgKlxuICAgKiBFeGFtcGxlOlxuICAgKiAgIChzdGFydCBjb2RlKVxuICAgKlxuICAgKiAgIHJlbW90ZVN0b3JhZ2UucmVtb3RlLnN0b3JhZ2VBcGlcbiAgICogICAvLyAtPiAnZHJhZnQtZGVqb25nLXJlbW90ZXN0b3JhZ2UtMDEnXG4gICAqL1xuXG4gIF9yZXF1ZXN0OiBhc3luYyBmdW5jdGlvbiAobWV0aG9kOiBzdHJpbmcsIHVyaTogc3RyaW5nLCB0b2tlbjogc3RyaW5nIHwgZmFsc2UsIGhlYWRlcnM6IG9iamVjdCwgYm9keTogdW5rbm93biwgZ2V0RXRhZzogYm9vbGVhbiwgZmFrZVJldmlzaW9uPzogc3RyaW5nKTogUHJvbWlzZTxXaXJlUmVxdWVzdFJlc3BvbnNlPiB7XG4gICAgaWYgKGlzRm9yYmlkZGVuUmVxdWVzdE1ldGhvZChtZXRob2QsIHVyaSkpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRG9uJ3QgdXNlICR7bWV0aG9kfSBvbiBkaXJlY3RvcmllcyFgKTtcbiAgICB9XG5cbiAgICBsZXQgcmV2aXNpb246IHN0cmluZyB8IHVuZGVmaW5lZDtcblxuICAgIGlmICh0b2tlbiAhPT0gQXV0aG9yaXplLklNUExJRURfRkFLRV9UT0tFTikge1xuICAgICAgaGVhZGVyc1snQXV0aG9yaXphdGlvbiddID0gJ0JlYXJlciAnICsgdG9rZW47XG4gICAgfVxuXG4gICAgdGhpcy5ycy5fZW1pdCgnd2lyZS1idXN5Jywge1xuICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICBpc0ZvbGRlcjogaXNGb2xkZXIodXJpKVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIFdpcmVDbGllbnQucmVxdWVzdChtZXRob2QsIHVyaSwge1xuICAgICAgYm9keTogYm9keSxcbiAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICByZXNwb25zZVR5cGU6ICdhcnJheWJ1ZmZlcidcbiAgICB9KS50aGVuKChyZXNwb25zZTogWE1MSHR0cFJlcXVlc3QpOiBQcm9taXNlPFdpcmVSZXF1ZXN0UmVzcG9uc2U+ID0+IHtcbiAgICAgIGlmICghdGhpcy5vbmxpbmUpIHtcbiAgICAgICAgdGhpcy5vbmxpbmUgPSB0cnVlO1xuICAgICAgICB0aGlzLnJzLl9lbWl0KCduZXR3b3JrLW9ubGluZScpO1xuICAgICAgfVxuICAgICAgdGhpcy5ycy5fZW1pdCgnd2lyZS1kb25lJywge1xuICAgICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgICAgaXNGb2xkZXI6IGlzRm9sZGVyKHVyaSksXG4gICAgICAgIHN1Y2Nlc3M6IHRydWVcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoaXNFcnJvclN0YXR1cyhyZXNwb25zZS5zdGF0dXMpKSB7XG4gICAgICAgIGxvZygnW1dpcmVDbGllbnRdIEVycm9yIHJlc3BvbnNlIHN0YXR1cycsIHJlc3BvbnNlLnN0YXR1cyk7XG4gICAgICAgIGlmIChnZXRFdGFnKSB7XG4gICAgICAgICAgcmV2aXNpb24gPSBzdHJpcFF1b3RlcyhyZXNwb25zZS5nZXRSZXNwb25zZUhlYWRlcignRVRhZycpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXZpc2lvbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwMSkge1xuICAgICAgICAgIHRoaXMucnMuX2VtaXQoJ2Vycm9yJywgbmV3IFVuYXV0aG9yaXplZEVycm9yKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7c3RhdHVzQ29kZTogcmVzcG9uc2Uuc3RhdHVzLCByZXZpc2lvbjogcmV2aXNpb259KTtcbiAgICAgIH0gZWxzZSBpZiAoaXNTdWNjZXNzU3RhdHVzKHJlc3BvbnNlLnN0YXR1cykgfHxcbiAgICAgICAgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwICYmIG1ldGhvZCAhPT0gJ0dFVCcpKSB7XG4gICAgICAgIHJldmlzaW9uID0gc3RyaXBRdW90ZXMocmVzcG9uc2UuZ2V0UmVzcG9uc2VIZWFkZXIoJ0VUYWcnKSk7XG4gICAgICAgIGxvZygnW1dpcmVDbGllbnRdIFN1Y2Nlc3NmdWwgcmVxdWVzdCcsIHJldmlzaW9uKTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7c3RhdHVzQ29kZTogcmVzcG9uc2Uuc3RhdHVzLCByZXZpc2lvbjogcmV2aXNpb259KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IG1pbWVUeXBlID0gcmVzcG9uc2UuZ2V0UmVzcG9uc2VIZWFkZXIoJ0NvbnRlbnQtVHlwZScpO1xuICAgICAgICBpZiAoZ2V0RXRhZykge1xuICAgICAgICAgIHJldmlzaW9uID0gc3RyaXBRdW90ZXMocmVzcG9uc2UuZ2V0UmVzcG9uc2VIZWFkZXIoJ0VUYWcnKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV2aXNpb24gPSAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDApID8gZmFrZVJldmlzaW9uIDogdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY2hhcnNldCA9IGRldGVybWluZUNoYXJzZXQobWltZVR5cGUpO1xuXG4gICAgICAgIGlmIChzaG91bGRCZVRyZWF0ZWRBc0JpbmFyeShyZXNwb25zZS5yZXNwb25zZSwgbWltZVR5cGUpKSB7XG4gICAgICAgICAgbG9nKCdbV2lyZUNsaWVudF0gU3VjY2Vzc2Z1bCByZXF1ZXN0IHdpdGggdW5rbm93biBvciBiaW5hcnkgbWltZS10eXBlJywgcmV2aXNpb24pO1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgICAgc3RhdHVzQ29kZTogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICAgICAgYm9keTogcmVzcG9uc2UucmVzcG9uc2UsXG4gICAgICAgICAgICBjb250ZW50VHlwZTogbWltZVR5cGUsXG4gICAgICAgICAgICByZXZpc2lvbjogcmV2aXNpb25cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gZ2V0VGV4dEZyb21BcnJheUJ1ZmZlcihyZXNwb25zZS5yZXNwb25zZSwgY2hhcnNldClcbiAgICAgICAgICAgIC50aGVuKCh0ZXh0Q29udGVudCkgPT4ge1xuICAgICAgICAgICAgICBsb2coJ1tXaXJlQ2xpZW50XSBTdWNjZXNzZnVsIHJlcXVlc3QnLCByZXZpc2lvbik7XG4gICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgICAgICAgIHN0YXR1c0NvZGU6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgICAgICAgICBib2R5OiB0ZXh0Q29udGVudCxcbiAgICAgICAgICAgICAgICBjb250ZW50VHlwZTogbWltZVR5cGUsXG4gICAgICAgICAgICAgICAgcmV2aXNpb246IHJldmlzaW9uXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCBlcnJvciA9PiB7XG4gICAgICBpZiAodGhpcy5vbmxpbmUpIHtcbiAgICAgICAgdGhpcy5vbmxpbmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5ycy5fZW1pdCgnbmV0d29yay1vZmZsaW5lJyk7XG4gICAgICB9XG4gICAgICB0aGlzLnJzLl9lbWl0KCd3aXJlLWRvbmUnLCB7XG4gICAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgICBpc0ZvbGRlcjogaXNGb2xkZXIodXJpKSxcbiAgICAgICAgc3VjY2VzczogZmFsc2VcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuICAgIH0pO1xuICB9LFxuXG4gIC8qKlxuICAgKlxuICAgKiBNZXRob2Q6IGNvbmZpZ3VyZVxuICAgKlxuICAgKiBTZXRzIHRoZSB1c2VyQWRkcmVzcywgaHJlZiwgc3RvcmFnZUFwaSwgdG9rZW4sIGFuZCBwcm9wZXJ0aWVzIG9mIGFcbiAgICogcmVtb3RlIHN0b3JlLiBBbHNvIHNldHMgY29ubmVjdGVkIGFuZCBvbmxpbmUgdG8gdHJ1ZSBhbmQgZW1pdHMgdGhlXG4gICAqICdjb25uZWN0ZWQnIGV2ZW50LCBpZiBib3RoIHRva2VuIGFuZCBocmVmIGFyZSBwcmVzZW50LlxuICAgKlxuICAgKiBQYXJhbWV0ZXJzOlxuICAgKiAgIHNldHRpbmdzIC0gQW4gb2JqZWN0IHRoYXQgbWF5IGNvbnRhaW4gdXNlckFkZHJlc3MgKHN0cmluZyBvciBudWxsKSxcbiAgICogICAgICAgICAgICAgIGhyZWYgKHN0cmluZyBvciBudWxsKSwgc3RvcmFnZUFwaSAoc3RyaW5nIG9yIG51bGwpLCB0b2tlbiAoc3RyaW5nXG4gICAqICAgICAgICAgICAgICBvciBudWxsKSwgYW5kL29yIHByb3BlcnRpZXMgKHRoZSBKU09OLXBhcnNlZCBwcm9wZXJ0aWVzIG9iamVjdFxuICAgKiAgICAgICAgICAgICAgZnJvbSB0aGUgdXNlcidzIFdlYkZpbmdlciByZWNvcmQsIHNlZSBzZWN0aW9uIDEwIG9mXG4gICAqICAgICAgICAgICAgICBodHRwOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9kcmFmdC1kZWpvbmctcmVtb3Rlc3RvcmFnZS0wM1xuICAgKiAgICAgICAgICAgICAgb3IgbnVsbCkuXG4gICAqICAgICAgICAgICAgICBGaWVsZHMgdGhhdCBhcmUgbm90IGluY2x1ZGVkIChpLmUuIGB1bmRlZmluZWRgKSwgc3RheSBhdFxuICAgKiAgICAgICAgICAgICAgdGhlaXIgY3VycmVudCB2YWx1ZS4gVG8gc2V0IGEgZmllbGQsIGluY2x1ZGUgdGhhdCBmaWVsZFxuICAgKiAgICAgICAgICAgICAgd2l0aCBhIGBzdHJpbmdgIHZhbHVlLiBUbyByZXNldCBhIGZpZWxkLCBmb3IgaW5zdGFuY2Ugd2hlblxuICAgKiAgICAgICAgICAgICAgdGhlIHVzZXIgZGlzY29ubmVjdGVkIHRoZWlyIHN0b3JhZ2UsIG9yIHlvdSBmb3VuZCB0aGF0IHRoZVxuICAgKiAgICAgICAgICAgICAgdG9rZW4geW91IGhhdmUgaGFzIGV4cGlyZWQsIHNpbXBseSBzZXQgdGhhdCBmaWVsZCB0byBgbnVsbGAuXG4gICAqL1xuICBjb25maWd1cmU6IGZ1bmN0aW9uIChzZXR0aW5nczogV2lyZUNsaWVudFNldHRpbmdzKTogdm9pZCB7XG4gICAgaWYgKHR5cGVvZiBzZXR0aW5ncyAhPT0gJ29iamVjdCcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignV2lyZUNsaWVudCBjb25maWd1cmUgc2V0dGluZ3MgcGFyYW1ldGVyIHNob3VsZCBiZSBhbiBvYmplY3QnKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBzZXR0aW5ncy51c2VyQWRkcmVzcyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRoaXMudXNlckFkZHJlc3MgPSBzZXR0aW5ncy51c2VyQWRkcmVzcztcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBzZXR0aW5ncy5ocmVmICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpcy5ocmVmID0gc2V0dGluZ3MuaHJlZjtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBzZXR0aW5ncy5zdG9yYWdlQXBpICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpcy5zdG9yYWdlQXBpID0gc2V0dGluZ3Muc3RvcmFnZUFwaTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBzZXR0aW5ncy50b2tlbiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRoaXMudG9rZW4gPSBzZXR0aW5ncy50b2tlbjtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBzZXR0aW5ncy5wcm9wZXJ0aWVzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpcy5wcm9wZXJ0aWVzID0gc2V0dGluZ3MucHJvcGVydGllcztcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHRoaXMuc3RvcmFnZUFwaSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRoaXMuX3N0b3JhZ2VBcGkgPSBTVE9SQUdFX0FQSVNbdGhpcy5zdG9yYWdlQXBpXSB8fCBBUElfSEVBRDtcbiAgICAgIHRoaXMuc3VwcG9ydHNSZXZzID0gdGhpcy5fc3RvcmFnZUFwaSA+PSBBUElfMDA7XG4gICAgfVxuICAgIGlmICh0aGlzLmhyZWYgJiYgdGhpcy50b2tlbikge1xuICAgICAgdGhpcy5jb25uZWN0ZWQgPSB0cnVlO1xuICAgICAgdGhpcy5vbmxpbmUgPSB0cnVlO1xuICAgICAgdGhpcy5fZW1pdCgnY29ubmVjdGVkJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY29ubmVjdGVkID0gZmFsc2U7XG4gICAgfVxuICAgIGlmIChoYXNMb2NhbFN0b3JhZ2UpIHtcbiAgICAgIGxvY2FsU3RvcmFnZVtTRVRUSU5HU19LRVldID0gSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICB1c2VyQWRkcmVzczogdGhpcy51c2VyQWRkcmVzcyxcbiAgICAgICAgaHJlZjogdGhpcy5ocmVmLFxuICAgICAgICBzdG9yYWdlQXBpOiB0aGlzLnN0b3JhZ2VBcGksXG4gICAgICAgIHRva2VuOiB0aGlzLnRva2VuLFxuICAgICAgICBwcm9wZXJ0aWVzOiB0aGlzLnByb3BlcnRpZXNcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcblxuICBzdG9wV2FpdGluZ0ZvclRva2VuOiBmdW5jdGlvbiAoKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmNvbm5lY3RlZCkge1xuICAgICAgdGhpcy5fZW1pdCgnbm90LWNvbm5lY3RlZCcpO1xuICAgIH1cbiAgfSxcblxuICBnZXQ6IGZ1bmN0aW9uIChwYXRoOiBzdHJpbmcsIG9wdGlvbnM6IHsgaWZOb25lTWF0Y2g/OiBzdHJpbmcgfSA9IHt9KTogUHJvbWlzZTx1bmtub3duPiB7XG4gICAgaWYgKCF0aGlzLmNvbm5lY3RlZCkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdub3QgY29ubmVjdGVkIChwYXRoOiAnICsgcGF0aCArICcpJyk7XG4gICAgfVxuXG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGlmICh0aGlzLnN1cHBvcnRzUmV2cykge1xuICAgICAgaWYgKG9wdGlvbnMuaWZOb25lTWF0Y2gpIHtcbiAgICAgICAgaGVhZGVyc1snSWYtTm9uZS1NYXRjaCddID0gYWRkUXVvdGVzKG9wdGlvbnMuaWZOb25lTWF0Y2gpO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBjb21tZW50aW5nIGl0IG91dCBhcyB0aGlzIGlzIGRvaW5nIG5vdGhpbmcgYW5kIGpzaGludCBpcyBjb21wbGFpbmluZyAtbGVzXG4gICAgLy8gZWxzZSBpZiAob3B0aW9ucy5pZk5vbmVNYXRjaCkge1xuICAgIC8vICAgbGV0IG9sZFJldiA9IHRoaXMuX3JldmlzaW9uQ2FjaGVbcGF0aF07XG4gICAgLy8gfVxuXG5cbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdCgnR0VUJywgdGhpcy5ocmVmICsgY2xlYW5QYXRoKHBhdGgpLCB0aGlzLnRva2VuLCBoZWFkZXJzLFxuICAgICAgdW5kZWZpbmVkLCB0aGlzLnN1cHBvcnRzUmV2cywgdGhpcy5fcmV2aXNpb25DYWNoZVtwYXRoXSlcbiAgICAgIC50aGVuKChyKSA9PiB7XG4gICAgICAgIGlmICghaXNGb2xkZXIocGF0aCkpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHIpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBpdGVtc01hcCA9IHt9O1xuICAgICAgICBpZiAodHlwZW9mIChyLmJvZHkpICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICByLmJvZHkgPSBKU09OLnBhcnNlKHIuYm9keSk7XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdGb2xkZXIgZGVzY3JpcHRpb24gYXQgJyArIHRoaXMuaHJlZiArIGNsZWFuUGF0aChwYXRoKSArICcgaXMgbm90IEpTT04nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoci5zdGF0dXNDb2RlID09PSAyMDAgJiYgdHlwZW9mIChyLmJvZHkpID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgIC8vIE5ldyBmb2xkZXIgbGlzdGluZyByZWNlaXZlZFxuICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhyLmJvZHkpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgLy8gRW1wdHkgZm9sZGVyIGxpc3Rpbmcgb2YgYW55IHNwZWNcbiAgICAgICAgICAgIHIuc3RhdHVzQ29kZSA9IDQwNDtcbiAgICAgICAgICB9IGVsc2UgaWYgKGlzRm9sZGVyRGVzY3JpcHRpb24oci5ib2R5KSkge1xuICAgICAgICAgICAgLy8gPj0gMDIgc3BlY1xuICAgICAgICAgICAgZm9yIChjb25zdCBpdGVtIGluIHIuYm9keS5pdGVtcykge1xuICAgICAgICAgICAgICB0aGlzLl9yZXZpc2lvbkNhY2hlW3BhdGggKyBpdGVtXSA9IHIuYm9keS5pdGVtc1tpdGVtXS5FVGFnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaXRlbXNNYXAgPSByLmJvZHkuaXRlbXM7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIDwgMDIgc3BlY1xuICAgICAgICAgICAgT2JqZWN0LmtleXMoci5ib2R5KS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgICAgICAgdGhpcy5fcmV2aXNpb25DYWNoZVtwYXRoICsga2V5XSA9IHIuYm9keVtrZXldO1xuICAgICAgICAgICAgICBpdGVtc01hcFtrZXldID0geydFVGFnJzogci5ib2R5W2tleV19O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHIuYm9keSA9IGl0ZW1zTWFwO1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH0sXG5cbiAgcHV0OiBmdW5jdGlvbiAocGF0aDogc3RyaW5nLCBib2R5OiB1bmtub3duLCBjb250ZW50VHlwZTogc3RyaW5nLCBvcHRpb25zOiB7IGlmTWF0Y2g/OiBzdHJpbmc7IGlmTm9uZU1hdGNoPzogc3RyaW5nIH0gPSB7fSkge1xuICAgIGlmICghdGhpcy5jb25uZWN0ZWQpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgnbm90IGNvbm5lY3RlZCAocGF0aDogJyArIHBhdGggKyAnKScpO1xuICAgIH1cbiAgICBpZiAoKCFjb250ZW50VHlwZS5tYXRjaCgvY2hhcnNldD0vKSkgJiYgKGJvZHkgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlciB8fCBpc0FycmF5QnVmZmVyVmlldyhib2R5KSkpIHtcbiAgICAgIGNvbnRlbnRUeXBlICs9ICc7IGNoYXJzZXQ9YmluYXJ5JztcbiAgICB9XG4gICAgY29uc3QgaGVhZGVycyA9IHsnQ29udGVudC1UeXBlJzogY29udGVudFR5cGV9O1xuICAgIGlmICh0aGlzLnN1cHBvcnRzUmV2cykge1xuICAgICAgaWYgKG9wdGlvbnMuaWZNYXRjaCkge1xuICAgICAgICBoZWFkZXJzWydJZi1NYXRjaCddID0gYWRkUXVvdGVzKG9wdGlvbnMuaWZNYXRjaCk7XG4gICAgICB9XG4gICAgICBpZiAob3B0aW9ucy5pZk5vbmVNYXRjaCkge1xuICAgICAgICBoZWFkZXJzWydJZi1Ob25lLU1hdGNoJ10gPSBhZGRRdW90ZXMob3B0aW9ucy5pZk5vbmVNYXRjaCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KCdQVVQnLCB0aGlzLmhyZWYgKyBjbGVhblBhdGgocGF0aCksIHRoaXMudG9rZW4sXG4gICAgICBoZWFkZXJzLCBib2R5LCB0aGlzLnN1cHBvcnRzUmV2cyk7XG4gIH0sXG5cbiAgJ2RlbGV0ZSc6IGZ1bmN0aW9uIChwYXRoOiBzdHJpbmcsIG9wdGlvbnM6IHsgaWZNYXRjaD86IHN0cmluZyB9ID0ge30pIHtcbiAgICBpZiAoIXRoaXMuY29ubmVjdGVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ25vdCBjb25uZWN0ZWQgKHBhdGg6ICcgKyBwYXRoICsgJyknKTtcbiAgICB9XG4gICAgaWYgKCFvcHRpb25zKSB7XG4gICAgICBvcHRpb25zID0ge307XG4gICAgfVxuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBpZiAodGhpcy5zdXBwb3J0c1JldnMpIHtcbiAgICAgIGlmIChvcHRpb25zLmlmTWF0Y2gpIHtcbiAgICAgICAgaGVhZGVyc1snSWYtTWF0Y2gnXSA9IGFkZFF1b3RlcyhvcHRpb25zLmlmTWF0Y2gpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdCgnREVMRVRFJywgdGhpcy5ocmVmICsgY2xlYW5QYXRoKHBhdGgpLCB0aGlzLnRva2VuLFxuICAgICAgaGVhZGVycyxcbiAgICAgIHVuZGVmaW5lZCwgdGhpcy5zdXBwb3J0c1JldnMpO1xuICB9XG59O1xuXG4vLyBTaGFyZWQgaXNBcnJheUJ1ZmZlclZpZXcgdXNlZCBieSBXaXJlQ2xpZW50IGFuZCBEcm9wYm94XG5XaXJlQ2xpZW50LmlzQXJyYXlCdWZmZXJWaWV3ID0gaXNBcnJheUJ1ZmZlclZpZXc7XG5cbi8vIFRPRE8gYWRkIHByb3BlciBkZWZpbml0aW9uIGZvciBvcHRpb25zXG4vLyBTaGFyZWQgcmVxdWVzdCBmdW5jdGlvbiB1c2VkIGJ5IFdpcmVDbGllbnQsIEdvb2dsZURyaXZlIGFuZCBEcm9wYm94LlxuV2lyZUNsaWVudC5yZXF1ZXN0ID0gYXN5bmMgZnVuY3Rpb24gKG1ldGhvZDogc3RyaW5nLCB1cmw6IHN0cmluZywgb3B0aW9uczogdW5rbm93bik6IFByb21pc2U8WE1MSHR0cFJlcXVlc3QgfCBSZXNwb25zZT4ge1xuICBpZiAodHlwZW9mIGZldGNoID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIFdpcmVDbGllbnQuX2ZldGNoUmVxdWVzdChtZXRob2QsIHVybCwgb3B0aW9ucyk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIFhNTEh0dHBSZXF1ZXN0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIFdpcmVDbGllbnQuX3hoclJlcXVlc3QobWV0aG9kLCB1cmwsIG9wdGlvbnMpO1xuICB9IGVsc2Uge1xuICAgIGxvZygnW1dpcmVDbGllbnRdIFlvdSBuZWVkIHRvIGFkZCBhIHBvbHlmaWxsIGZvciBmZXRjaCBvciBYTUxIdHRwUmVxdWVzdCcpO1xuICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgnW1dpcmVDbGllbnRdIFlvdSBuZWVkIHRvIGFkZCBhIHBvbHlmaWxsIGZvciBmZXRjaCBvciBYTUxIdHRwUmVxdWVzdCcpO1xuICB9XG59O1xuXG4vKiogb3B0aW9ucyBpbmNsdWRlcyBib2R5LCBoZWFkZXJzIGFuZCByZXNwb25zZVR5cGUgKi9cbldpcmVDbGllbnQuX2ZldGNoUmVxdWVzdCA9IGZ1bmN0aW9uIChtZXRob2Q6IHN0cmluZywgdXJsOiBzdHJpbmcsIG9wdGlvbnMpOiBQcm9taXNlPFJlc3BvbnNlPiB7XG4gIGxldCBzeW50aGV0aWNYaHI7XG4gIGNvbnN0IHJlc3BvbnNlSGVhZGVycyA9IHt9O1xuICBsZXQgYWJvcnRDb250cm9sbGVyO1xuICBpZiAodHlwZW9mIEFib3J0Q29udHJvbGxlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGFib3J0Q29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgfVxuICBjb25zdCBuZXR3b3JrUHJvbWlzZTogUHJvbWlzZTxSZXNwb25zZT4gPSBmZXRjaCh1cmwsIHtcbiAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICBoZWFkZXJzOiBvcHRpb25zLmhlYWRlcnMsXG4gICAgYm9keTogb3B0aW9ucy5ib2R5LFxuICAgIHNpZ25hbDogYWJvcnRDb250cm9sbGVyID8gYWJvcnRDb250cm9sbGVyLnNpZ25hbCA6IHVuZGVmaW5lZFxuICB9KS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgIGxvZygnW1dpcmVDbGllbnQgZmV0Y2hdJywgcmVzcG9uc2UpO1xuXG4gICAgcmVzcG9uc2UuaGVhZGVycy5mb3JFYWNoKCh2YWx1ZTogc3RyaW5nLCBoZWFkZXJOYW1lOiBzdHJpbmcpID0+IHtcbiAgICAgIHJlc3BvbnNlSGVhZGVyc1toZWFkZXJOYW1lLnRvVXBwZXJDYXNlKCldID0gdmFsdWU7XG4gICAgfSk7XG5cbiAgICBzeW50aGV0aWNYaHIgPSB7XG4gICAgICByZWFkeVN0YXRlOiA0LFxuICAgICAgc3RhdHVzOiByZXNwb25zZS5zdGF0dXMsXG4gICAgICBzdGF0dXNUZXh0OiByZXNwb25zZS5zdGF0dXNUZXh0LFxuICAgICAgcmVzcG9uc2U6IHVuZGVmaW5lZCxcbiAgICAgIGdldFJlc3BvbnNlSGVhZGVyOiAoaGVhZGVyTmFtZTogc3RyaW5nKTogdW5rbm93biA9PiB7XG4gICAgICAgIHJldHVybiByZXNwb25zZUhlYWRlcnNbaGVhZGVyTmFtZS50b1VwcGVyQ2FzZSgpXSB8fCBudWxsO1xuICAgICAgfSxcbiAgICAgIC8vIHJlc3BvbnNlVGV4dDogJ2ZvbycsXG4gICAgICByZXNwb25zZVR5cGU6IG9wdGlvbnMucmVzcG9uc2VUeXBlLFxuICAgICAgcmVzcG9uc2VVUkw6IHVybCxcbiAgICB9O1xuICAgIHN3aXRjaCAob3B0aW9ucy5yZXNwb25zZVR5cGUpIHtcbiAgICAgIGNhc2UgJ2FycmF5YnVmZmVyJzpcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmFycmF5QnVmZmVyKCk7XG4gICAgICBjYXNlICdibG9iJzpcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmJsb2IoKTtcbiAgICAgIGNhc2UgJ2pzb24nOlxuICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgY2FzZSB1bmRlZmluZWQ6XG4gICAgICBjYXNlICcnOlxuICAgICAgY2FzZSAndGV4dCc6XG4gICAgICAgIHJldHVybiByZXNwb25zZS50ZXh0KCk7XG4gICAgICBkZWZhdWx0OiAgIC8vIGRvY3VtZW50XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcInJlc3BvbnNlVHlwZSAnZG9jdW1lbnQnIGlzIG5vdCBjdXJyZW50bHkgc3VwcG9ydGVkIHVzaW5nIGZldGNoXCIpO1xuICAgIH1cbiAgfSkudGhlbigocHJvY2Vzc2VkQm9keSkgPT4ge1xuICAgIHN5bnRoZXRpY1hoci5yZXNwb25zZSA9IHByb2Nlc3NlZEJvZHk7XG4gICAgaWYgKCFvcHRpb25zLnJlc3BvbnNlVHlwZSB8fCBvcHRpb25zLnJlc3BvbnNlVHlwZSA9PT0gJ3RleHQnKSB7XG4gICAgICBzeW50aGV0aWNYaHIucmVzcG9uc2VUZXh0ID0gcHJvY2Vzc2VkQm9keTtcbiAgICB9XG4gICAgcmV0dXJuIHN5bnRoZXRpY1hocjtcbiAgfSk7XG5cbiAgY29uc3QgdGltZW91dFByb21pc2U6IFByb21pc2U8UmVzcG9uc2U+ID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgcmVqZWN0KCd0aW1lb3V0Jyk7XG4gICAgICBpZiAoYWJvcnRDb250cm9sbGVyKSB7XG4gICAgICAgIGFib3J0Q29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgfVxuICAgIH0sIGNvbmZpZy5yZXF1ZXN0VGltZW91dCk7XG4gIH0pO1xuXG4gIHJldHVybiBQcm9taXNlLnJhY2UoW25ldHdvcmtQcm9taXNlLCB0aW1lb3V0UHJvbWlzZV0pO1xufTtcblxuV2lyZUNsaWVudC5feGhyUmVxdWVzdCA9IGZ1bmN0aW9uIChtZXRob2QsIHVybCwgb3B0aW9ucyk6IFByb21pc2U8WE1MSHR0cFJlcXVlc3Q+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblxuICAgIGxvZygnW1dpcmVDbGllbnRdJywgbWV0aG9kLCB1cmwpO1xuXG4gICAgbGV0IHRpbWVkT3V0ID0gZmFsc2U7XG5cbiAgICBjb25zdCB0aW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGltZWRPdXQgPSB0cnVlO1xuICAgICAgcmVqZWN0KCd0aW1lb3V0Jyk7XG4gICAgfSwgY29uZmlnLnJlcXVlc3RUaW1lb3V0KTtcblxuICAgIGNvbnN0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgIHhoci5vcGVuKG1ldGhvZCwgdXJsLCB0cnVlKTtcblxuICAgIGlmIChvcHRpb25zLnJlc3BvbnNlVHlwZSkge1xuICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9IG9wdGlvbnMucmVzcG9uc2VUeXBlO1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zLmhlYWRlcnMpIHtcbiAgICAgIGZvciAoY29uc3Qga2V5IGluIG9wdGlvbnMuaGVhZGVycykge1xuICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihrZXksIG9wdGlvbnMuaGVhZGVyc1trZXldKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB4aHIub25sb2FkID0gKCk6IHZvaWQgPT4ge1xuICAgICAgaWYgKHRpbWVkT3V0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgICByZXNvbHZlKHhocik7XG4gICAgfTtcblxuICAgIHhoci5vbmVycm9yID0gKGVycm9yKTogdm9pZCA9PiB7XG4gICAgICBpZiAodGltZWRPdXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICAgIHJlamVjdChlcnJvcik7XG4gICAgfTtcblxuICAgIGxldCBib2R5ID0gb3B0aW9ucy5ib2R5O1xuXG4gICAgaWYgKHR5cGVvZiAoYm9keSkgPT09ICdvYmplY3QnICYmICFpc0FycmF5QnVmZmVyVmlldyhib2R5KSAmJiBib2R5IGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcbiAgICAgIGJvZHkgPSBuZXcgVWludDhBcnJheShib2R5KTtcbiAgICB9XG4gICAgeGhyLnNlbmQoYm9keSk7XG4gIH0pO1xufTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KFdpcmVDbGllbnQucHJvdG90eXBlLCAnc3RvcmFnZVR5cGUnLCB7XG4gIGdldDogZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLnN0b3JhZ2VBcGkpIHtcbiAgICAgIGNvbnN0IHNwZWMgPSB0aGlzLnN0b3JhZ2VBcGkubWF0Y2goL2RyYWZ0LWRlam9uZy0ocmVtb3Rlc3RvcmFnZS1cXGRcXGQpLyk7XG4gICAgICByZXR1cm4gc3BlYyA/IHNwZWNbMV0gOiAnMjAxMi4wNCc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG59KTtcblxuXG5XaXJlQ2xpZW50Ll9yc19pbml0ID0gZnVuY3Rpb24gKHJlbW90ZVN0b3JhZ2UpOiB2b2lkIHtcbiAgaGFzTG9jYWxTdG9yYWdlID0gbG9jYWxTdG9yYWdlQXZhaWxhYmxlKCk7XG4gIHJlbW90ZVN0b3JhZ2UucmVtb3RlID0gbmV3IFdpcmVDbGllbnQocmVtb3RlU3RvcmFnZSk7XG4gIHRoaXMub25saW5lID0gdHJ1ZTtcbn07XG5cbldpcmVDbGllbnQuX3JzX3N1cHBvcnRlZCA9IGZ1bmN0aW9uICgpOiBib29sZWFuIHtcbiAgcmV0dXJuIHR5cGVvZiBmZXRjaCA9PT0gJ2Z1bmN0aW9uJyB8fCB0eXBlb2YgWE1MSHR0cFJlcXVlc3QgPT09ICdmdW5jdGlvbic7XG59O1xuXG5XaXJlQ2xpZW50Ll9yc19jbGVhbnVwID0gZnVuY3Rpb24gKCk6IHZvaWQge1xuICBpZiAoaGFzTG9jYWxTdG9yYWdlKSB7XG4gICAgZGVsZXRlIGxvY2FsU3RvcmFnZVtTRVRUSU5HU19LRVldO1xuICB9XG59O1xuXG5pbnRlcmZhY2UgV2lyZUNsaWVudCBleHRlbmRzIEV2ZW50SGFuZGxpbmcge307XG5hcHBseU1peGlucyhXaXJlQ2xpZW50LCBbRXZlbnRIYW5kbGluZ10pO1xuXG5leHBvcnQgZGVmYXVsdCBXaXJlQ2xpZW50O1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3luY0Vycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBvcmlnaW5hbEVycm9yOiBFcnJvclxuXG4gIGNvbnN0cnVjdG9yIChvcmlnaW5hbEVycm9yOiBzdHJpbmcgfCBFcnJvcikge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5uYW1lID0gJ1N5bmNFcnJvcic7XG4gICAgdGhpcy5tZXNzYWdlID0gJ1N5bmMgZmFpbGVkOiAnO1xuICAgIGlmICh0eXBlb2Ygb3JpZ2luYWxFcnJvciA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHRoaXMubWVzc2FnZSArPSBvcmlnaW5hbEVycm9yO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm1lc3NhZ2UgKz0gb3JpZ2luYWxFcnJvci5tZXNzYWdlO1xuICAgICAgdGhpcy5zdGFjayA9IG9yaWdpbmFsRXJyb3Iuc3RhY2s7XG4gICAgICB0aGlzLm9yaWdpbmFsRXJyb3IgPSBvcmlnaW5hbEVycm9yO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IEV2ZW50SGFuZGxpbmcgZnJvbSAnLi9ldmVudGhhbmRsaW5nJztcbmltcG9ydCBjb25maWcgZnJvbSAnLi9jb25maWcnO1xuaW1wb3J0IGxvZyBmcm9tICcuL2xvZyc7XG5pbXBvcnQge1xuICBhcHBseU1peGlucyxcbiAgZGVlcENsb25lLFxuICBlcXVhbCxcbiAgaXNEb2N1bWVudCxcbiAgaXNGb2xkZXIsXG4gIHBhdGhzRnJvbVJvb3Rcbn0gZnJvbSAnLi91dGlsJztcblxuLyoqXG4gKiBUaGlzIG1vZHVsZSBkZWZpbmVzIGZ1bmN0aW9ucyB0aGF0IGFyZSBtaXhlZCBpbnRvIHJlbW90ZVN0b3JhZ2UubG9jYWwgd2hlblxuICogaXQgaXMgaW5zdGFudGlhdGVkIChjdXJyZW50bHkgb25lIG9mIGluZGV4ZWRkYi5qcywgbG9jYWxzdG9yYWdlLmpzLCBvclxuICogaW5tZW1vcnlzdG9yYWdlLmpzKS5cbiAqXG4gKiBBbGwgcmVtb3RlU3RvcmFnZS5sb2NhbCBpbXBsZW1lbnRhdGlvbnMgc2hvdWxkIHRoZXJlZm9yZSBpbXBsZW1lbnRcbiAqIHRoaXMuZ2V0Tm9kZXMsIHRoaXMuc2V0Tm9kZXMsIGFuZCB0aGlzLmZvckFsbE5vZGVzLiBUaGUgcmVzdCBpcyBibGVuZGVkIGluXG4gKiBoZXJlIHRvIGNyZWF0ZSBhIEdQRCAoZ2V0L3B1dC9kZWxldGUpIGludGVyZmFjZSB3aGljaCB0aGUgQmFzZUNsaWVudCBjYW5cbiAqIHRhbGsgdG8uXG4gKlxuICogQGludGVyZmFjZVxuICovXG5cbmFic3RyYWN0IGNsYXNzIENhY2hpbmdMYXllciB7XG4gIC8vIEZJWE1FXG4gIC8vIHRoaXMgcHJvY2VzcyBvZiB1cGRhdGluZyBub2RlcyBuZWVkcyB0byBiZSBoZWF2aWx5IGRvY3VtZW50ZWQgZmlyc3QsIHRoZW5cbiAgLy8gcmVmYWN0b3JlZC4gUmlnaHQgbm93IGl0J3MgYWxtb3N0IGltcG9zc2libGUgdG8gcmVmYWN0b3IgYXMgdGhlcmUncyBub1xuICAvLyBleHBsYW5hdGlvbiBvZiB3aHkgdGhpbmdzIGFyZSBpbXBsZW1lbnRlZCBjZXJ0YWluIHdheXMgb3Igd2hhdCB0aGUgZ29hbChzKVxuICAvLyBvZiB0aGUgYmVoYXZpb3IgYXJlLiAtc2x2cmJja3QgKCsxIC1sZXMpXG4gIHByaXZhdGUgX3VwZGF0ZU5vZGVzUnVubmluZyA9IGZhbHNlO1xuICBwcml2YXRlIF91cGRhdGVOb2Rlc1F1ZXVlZCA9IFtdO1xuXG5cbiAgLy8gZnVuY3Rpb25zIHRoYXQgd2lsbCBiZSBvdmVyd3JpdHRlblxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIGFic3RyYWN0IGdldE5vZGVzKHBhdGhzOiBzdHJpbmdbXSk6IFByb21pc2U8UlNOb2Rlcz47XG5cbiAgYWJzdHJhY3QgZGlmZkhhbmRsZXIoLi4uYXJnczogYW55W10pO1xuXG4gIGFic3RyYWN0IGZvckFsbE5vZGVzKGNiOiAobm9kZSkgPT4gYW55KTogUHJvbWlzZTx2b2lkPjtcblxuICBhYnN0cmFjdCBzZXROb2Rlcyhub2RlczogUlNOb2Rlcyk6IFByb21pc2U8dm9pZD47XG5cblxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIC8vIFRPRE86IGltcHJvdmUgb3VyIGNvZGUgc3RydWN0dXJlIHNvIHRoYXQgdGhpcyBmdW5jdGlvblxuICAvLyBjb3VsZCBjYWxsIHN5bmMucXVldWVHZXRSZXF1ZXN0IGRpcmVjdGx5IGluc3RlYWQgb2YgbmVlZGluZ1xuICAvLyB0aGlzIGhhY2t5IHRoaXJkIHBhcmFtZXRlciBhcyBhIGNhbGxiYWNrXG4gIGdldCAocGF0aDogc3RyaW5nLCBtYXhBZ2U6IG51bWJlciwgcXVldWVHZXRSZXF1ZXN0OiAocGF0aDogc3RyaW5nKSA9PiBQcm9taXNlPFF1ZXVlZFJlcXVlc3RSZXNwb25zZT4pOiBQcm9taXNlPFF1ZXVlZFJlcXVlc3RSZXNwb25zZT4ge1xuXG4gICAgaWYgKHR5cGVvZiAobWF4QWdlKSA9PT0gJ251bWJlcicpIHtcblxuICAgICAgcmV0dXJuIHRoaXMuZ2V0Tm9kZXMocGF0aHNGcm9tUm9vdChwYXRoKSlcbiAgICAgICAgLnRoZW4oKG9ianMpID0+IHtcbiAgICAgICAgICBjb25zdCBub2RlOiBSU05vZGUgPSBnZXRMYXRlc3Qob2Jqc1twYXRoXSk7XG4gICAgICAgICAgaWYgKGlzT3V0ZGF0ZWQob2JqcywgbWF4QWdlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHF1ZXVlR2V0UmVxdWVzdChwYXRoKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKG5vZGUpIHtcbiAgICAgICAgICAgIHJldHVybiB7c3RhdHVzQ29kZTogMjAwLCBib2R5OiBub2RlLmJvZHkgfHwgbm9kZS5pdGVtc01hcCwgY29udGVudFR5cGU6IG5vZGUuY29udGVudFR5cGV9O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4ge3N0YXR1c0NvZGU6IDQwNH07XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0Tm9kZXMoW3BhdGhdKVxuICAgICAgICAudGhlbigob2JqcykgPT4ge1xuICAgICAgICAgIGNvbnN0IG5vZGUgPSBnZXRMYXRlc3Qob2Jqc1twYXRoXSk7XG4gICAgICAgICAgaWYgKG5vZGUpIHtcbiAgICAgICAgICAgIGlmIChpc0ZvbGRlcihwYXRoKSkge1xuICAgICAgICAgICAgICBmb3IgKGNvbnN0IGkgaW4gbm9kZS5pdGVtc01hcCkge1xuICAgICAgICAgICAgICAgIC8vIHRoZSBoYXNPd25Qcm9wZXJ0eSBjaGVjayBoZXJlIGlzIG9ubHkgYmVjYXVzZSBvdXIganNoaW50IHNldHRpbmdzIHJlcXVpcmUgaXQ6XG4gICAgICAgICAgICAgICAgaWYgKG5vZGUuaXRlbXNNYXAuaGFzT3duUHJvcGVydHkoaSkgJiYgbm9kZS5pdGVtc01hcFtpXSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgIGRlbGV0ZSBub2RlLml0ZW1zTWFwW2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHtzdGF0dXNDb2RlOiAyMDAsIGJvZHk6IG5vZGUuYm9keSB8fCBub2RlLml0ZW1zTWFwLCBjb250ZW50VHlwZTogbm9kZS5jb250ZW50VHlwZX07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7c3RhdHVzQ29kZTogNDA0fTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHB1dChwYXRoOiBzdHJpbmcsIGJvZHk6IGFueSwgY29udGVudFR5cGU6IHN0cmluZyk6IFByb21pc2U8UlNOb2Rlcz4ge1xuICAgIGNvbnN0IHBhdGhzID0gcGF0aHNGcm9tUm9vdChwYXRoKTtcblxuICAgIGZ1bmN0aW9uIF9wcm9jZXNzTm9kZXMobm9kZVBhdGhzLCBub2Rlcykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IG5vZGVQYXRocy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgIGNvbnN0IG5vZGVQYXRoID0gbm9kZVBhdGhzW2ldO1xuICAgICAgICAgIGxldCBub2RlID0gbm9kZXNbbm9kZVBhdGhdO1xuICAgICAgICAgIGxldCBwcmV2aW91cztcblxuICAgICAgICAgIGlmICghbm9kZSkge1xuICAgICAgICAgICAgbm9kZXNbbm9kZVBhdGhdID0gbm9kZSA9IG1ha2VOb2RlKG5vZGVQYXRoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBEb2N1bWVudFxuICAgICAgICAgIGlmIChpID09PSAwKSB7XG4gICAgICAgICAgICBwcmV2aW91cyA9IGdldExhdGVzdChub2RlKTtcbiAgICAgICAgICAgIG5vZGUubG9jYWwgPSB7XG4gICAgICAgICAgICAgIGJvZHk6IGJvZHksXG4gICAgICAgICAgICAgIGNvbnRlbnRUeXBlOiBjb250ZW50VHlwZSxcbiAgICAgICAgICAgICAgcHJldmlvdXNCb2R5OiAocHJldmlvdXMgPyBwcmV2aW91cy5ib2R5IDogdW5kZWZpbmVkKSxcbiAgICAgICAgICAgICAgcHJldmlvdXNDb250ZW50VHlwZTogKHByZXZpb3VzID8gcHJldmlvdXMuY29udGVudFR5cGUgOiB1bmRlZmluZWQpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gRm9sZGVyXG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBpdGVtTmFtZSA9IG5vZGVQYXRoc1tpIC0gMV0uc3Vic3RyaW5nKG5vZGVQYXRoLmxlbmd0aCk7XG4gICAgICAgICAgICBub2RlID0gdXBkYXRlRm9sZGVyTm9kZVdpdGhJdGVtTmFtZShub2RlLCBpdGVtTmFtZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBub2RlcztcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgbG9nKCdbQ2FjaGluZ2xheWVyXSBFcnJvciBkdXJpbmcgUFVUJywgbm9kZXMsIGUpO1xuICAgICAgICB0aHJvdyBlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl91cGRhdGVOb2RlcyhwYXRocywgX3Byb2Nlc3NOb2Rlcyk7XG4gIH1cblxuICBkZWxldGUocGF0aDogc3RyaW5nKTogdW5rbm93biB7XG4gICAgY29uc3QgcGF0aHMgPSBwYXRoc0Zyb21Sb290KHBhdGgpO1xuXG4gICAgcmV0dXJuIHRoaXMuX3VwZGF0ZU5vZGVzKHBhdGhzLCBmdW5jdGlvbiAobm9kZVBhdGhzLCBub2Rlcykge1xuICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IG5vZGVQYXRocy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBjb25zdCBub2RlUGF0aCA9IG5vZGVQYXRoc1tpXTtcbiAgICAgICAgY29uc3Qgbm9kZSA9IG5vZGVzW25vZGVQYXRoXTtcbiAgICAgICAgbGV0IHByZXZpb3VzO1xuXG4gICAgICAgIGlmICghbm9kZSkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Nhbm5vdCBkZWxldGUgbm9uLWV4aXN0aW5nIG5vZGUgJyArIG5vZGVQYXRoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpID09PSAwKSB7XG4gICAgICAgICAgLy8gRG9jdW1lbnRcbiAgICAgICAgICBwcmV2aW91cyA9IGdldExhdGVzdChub2RlKTtcbiAgICAgICAgICBub2RlLmxvY2FsID0ge1xuICAgICAgICAgICAgYm9keTogZmFsc2UsXG4gICAgICAgICAgICBwcmV2aW91c0JvZHk6IChwcmV2aW91cyA/IHByZXZpb3VzLmJvZHkgOiB1bmRlZmluZWQpLFxuICAgICAgICAgICAgcHJldmlvdXNDb250ZW50VHlwZTogKHByZXZpb3VzID8gcHJldmlvdXMuY29udGVudFR5cGUgOiB1bmRlZmluZWQpLFxuICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gRm9sZGVyXG4gICAgICAgICAgaWYgKCFub2RlLmxvY2FsKSB7XG4gICAgICAgICAgICBub2RlLmxvY2FsID0gZGVlcENsb25lKG5vZGUuY29tbW9uKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgaXRlbU5hbWUgPSBub2RlUGF0aHNbaSAtIDFdLnN1YnN0cmluZyhub2RlUGF0aC5sZW5ndGgpO1xuICAgICAgICAgIGRlbGV0ZSBub2RlLmxvY2FsLml0ZW1zTWFwW2l0ZW1OYW1lXTtcblxuICAgICAgICAgIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhub2RlLmxvY2FsLml0ZW1zTWFwKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAvLyBUaGlzIGZvbGRlciBzdGlsbCBjb250YWlucyBvdGhlciBpdGVtcywgZG9uJ3QgcmVtb3ZlIGFueSBmdXJ0aGVyIGFuY2VzdG9yc1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbm9kZXM7XG4gICAgfSk7XG4gIH1cblxuICBmbHVzaChwYXRoOiBzdHJpbmcpOiB1bmtub3duIHtcblxuICAgIHJldHVybiB0aGlzLl9nZXRBbGxEZXNjZW5kZW50UGF0aHMocGF0aCkudGhlbigocGF0aHMpID0+IHtcbiAgICAgIHJldHVybiB0aGlzLmdldE5vZGVzKHBhdGhzKTtcbiAgICB9KS50aGVuKChub2RlczogUlNOb2RlcykgPT4ge1xuICAgICAgZm9yIChjb25zdCBub2RlUGF0aCBpbiBub2Rlcykge1xuICAgICAgICBjb25zdCBub2RlID0gbm9kZXNbbm9kZVBhdGhdO1xuXG4gICAgICAgIGlmIChub2RlICYmIG5vZGUuY29tbW9uICYmIG5vZGUubG9jYWwpIHtcbiAgICAgICAgICB0aGlzLl9lbWl0Q2hhbmdlKHtcbiAgICAgICAgICAgIHBhdGg6IG5vZGUucGF0aCxcbiAgICAgICAgICAgIG9yaWdpbjogJ2xvY2FsJyxcbiAgICAgICAgICAgIG9sZFZhbHVlOiAobm9kZS5sb2NhbC5ib2R5ID09PSBmYWxzZSA/IHVuZGVmaW5lZCA6IG5vZGUubG9jYWwuYm9keSksXG4gICAgICAgICAgICBuZXdWYWx1ZTogKG5vZGUuY29tbW9uLmJvZHkgPT09IGZhbHNlID8gdW5kZWZpbmVkIDogbm9kZS5jb21tb24uYm9keSlcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBub2Rlc1tub2RlUGF0aF0gPSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLnNldE5vZGVzKG5vZGVzKTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgX2VtaXRDaGFuZ2Uob2JqOiBDaGFuZ2VPYmopIHtcbiAgICBpZiAoY29uZmlnLmNoYW5nZUV2ZW50c1tvYmoub3JpZ2luXSkge1xuICAgICAgdGhpcy5fZW1pdCgnY2hhbmdlJywgb2JqKTtcbiAgICB9XG4gIH1cblxuICBmaXJlSW5pdGlhbCgpIHtcbiAgICBpZiAoIWNvbmZpZy5jaGFuZ2VFdmVudHMubG9jYWwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmZvckFsbE5vZGVzKChub2RlKSA9PiB7XG5cbiAgICAgIGlmIChpc0RvY3VtZW50KG5vZGUucGF0aCkpIHtcbiAgICAgICAgY29uc3QgbGF0ZXN0ID0gZ2V0TGF0ZXN0KG5vZGUpO1xuICAgICAgICBpZiAobGF0ZXN0KSB7XG4gICAgICAgICAgdGhpcy5fZW1pdENoYW5nZSh7XG4gICAgICAgICAgICBwYXRoOiBub2RlLnBhdGgsXG4gICAgICAgICAgICBvcmlnaW46ICdsb2NhbCcsXG4gICAgICAgICAgICBvbGRWYWx1ZTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgb2xkQ29udGVudFR5cGU6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIG5ld1ZhbHVlOiBsYXRlc3QuYm9keSxcbiAgICAgICAgICAgIG5ld0NvbnRlbnRUeXBlOiBsYXRlc3QuY29udGVudFR5cGVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pLnRoZW4oKCkgPT4ge1xuICAgICAgdGhpcy5fZW1pdCgnbG9jYWwtZXZlbnRzLWRvbmUnKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIFRPRE8gYWRkIHByb3BlciB0eXBlXG4gIG9uRGlmZihkaWZmSGFuZGxlcjogYW55KSB7XG4gICAgdGhpcy5kaWZmSGFuZGxlciA9IGRpZmZIYW5kbGVyO1xuICB9XG5cbiAgbWlncmF0ZShub2RlOiBSU05vZGUpOiBSU05vZGUge1xuICAgIGlmICh0eXBlb2YgKG5vZGUpID09PSAnb2JqZWN0JyAmJiAhbm9kZS5jb21tb24pIHtcbiAgICAgIG5vZGUuY29tbW9uID0ge307XG4gICAgICBpZiAodHlwZW9mIChub2RlLnBhdGgpID09PSAnc3RyaW5nJykge1xuICAgICAgICBpZiAobm9kZS5wYXRoLnN1YnN0cigtMSkgPT09ICcvJyAmJiB0eXBlb2YgKG5vZGUuYm9keSkgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgbm9kZS5jb21tb24uaXRlbXNNYXAgPSBub2RlLmJvZHk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vc2F2ZSBsZWdhY3kgY29udGVudCBvZiBkb2N1bWVudCBub2RlIGFzIGxvY2FsIHZlcnNpb25cbiAgICAgICAgaWYgKCFub2RlLmxvY2FsKSB7XG4gICAgICAgICAgbm9kZS5sb2NhbCA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIG5vZGUubG9jYWwuYm9keSA9IG5vZGUuYm9keTtcbiAgICAgICAgbm9kZS5sb2NhbC5jb250ZW50VHlwZSA9IG5vZGUuY29udGVudFR5cGU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBub2RlO1xuICB9XG5cblxuICBwcml2YXRlIF91cGRhdGVOb2RlcyhwYXRoczogc3RyaW5nW10sIF9wcm9jZXNzTm9kZXMpOiBQcm9taXNlPFJTTm9kZXM+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgdGhpcy5fZG9VcGRhdGVOb2RlcyhwYXRocywgX3Byb2Nlc3NOb2Rlcywge1xuICAgICAgICByZXNvbHZlOiByZXNvbHZlLFxuICAgICAgICByZWplY3Q6IHJlamVjdFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIF9kb1VwZGF0ZU5vZGVzKHBhdGhzLCBfcHJvY2Vzc05vZGVzLCBwcm9taXNlKSB7XG4gICAgaWYgKHRoaXMuX3VwZGF0ZU5vZGVzUnVubmluZykge1xuICAgICAgdGhpcy5fdXBkYXRlTm9kZXNRdWV1ZWQucHVzaCh7XG4gICAgICAgIHBhdGhzOiBwYXRocyxcbiAgICAgICAgY2I6IF9wcm9jZXNzTm9kZXMsXG4gICAgICAgIHByb21pc2U6IHByb21pc2VcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl91cGRhdGVOb2Rlc1J1bm5pbmcgPSB0cnVlO1xuICAgIH1cblxuICAgIHRoaXMuZ2V0Tm9kZXMocGF0aHMpLnRoZW4oKG5vZGVzKSA9PiB7XG4gICAgICBjb25zdCBleGlzdGluZ05vZGVzID0gZGVlcENsb25lKG5vZGVzKTtcbiAgICAgIGNvbnN0IGNoYW5nZUV2ZW50cyA9IFtdO1xuXG4gICAgICBub2RlcyA9IF9wcm9jZXNzTm9kZXMocGF0aHMsIG5vZGVzKTtcblxuICAgICAgZm9yIChjb25zdCBwYXRoIGluIG5vZGVzKSB7XG4gICAgICAgIGNvbnN0IG5vZGUgPSBub2Rlc1twYXRoXTtcbiAgICAgICAgaWYgKGVxdWFsKG5vZGUsIGV4aXN0aW5nTm9kZXNbcGF0aF0pKSB7XG4gICAgICAgICAgZGVsZXRlIG5vZGVzW3BhdGhdO1xuICAgICAgICB9IGVsc2UgaWYgKGlzRG9jdW1lbnQocGF0aCkpIHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAhZXF1YWwobm9kZS5sb2NhbC5ib2R5LCBub2RlLmxvY2FsLnByZXZpb3VzQm9keSkgfHxcbiAgICAgICAgICAgIG5vZGUubG9jYWwuY29udGVudFR5cGUgIT09IG5vZGUubG9jYWwucHJldmlvdXNDb250ZW50VHlwZVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgY2hhbmdlRXZlbnRzLnB1c2goe1xuICAgICAgICAgICAgICBwYXRoOiBwYXRoLFxuICAgICAgICAgICAgICBvcmlnaW46ICd3aW5kb3cnLFxuICAgICAgICAgICAgICBvbGRWYWx1ZTogbm9kZS5sb2NhbC5wcmV2aW91c0JvZHksXG4gICAgICAgICAgICAgIG5ld1ZhbHVlOiBub2RlLmxvY2FsLmJvZHkgPT09IGZhbHNlID8gdW5kZWZpbmVkIDogbm9kZS5sb2NhbC5ib2R5LFxuICAgICAgICAgICAgICBvbGRDb250ZW50VHlwZTogbm9kZS5sb2NhbC5wcmV2aW91c0NvbnRlbnRUeXBlLFxuICAgICAgICAgICAgICBuZXdDb250ZW50VHlwZTogbm9kZS5sb2NhbC5jb250ZW50VHlwZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRlbGV0ZSBub2RlLmxvY2FsLnByZXZpb3VzQm9keTtcbiAgICAgICAgICBkZWxldGUgbm9kZS5sb2NhbC5wcmV2aW91c0NvbnRlbnRUeXBlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc2V0Tm9kZXMobm9kZXMpLnRoZW4oKCkgPT4ge1xuICAgICAgICB0aGlzLl9lbWl0Q2hhbmdlRXZlbnRzKGNoYW5nZUV2ZW50cyk7XG4gICAgICAgIHByb21pc2UucmVzb2x2ZSh7c3RhdHVzQ29kZTogMjAwfSk7XG4gICAgICB9KTtcbiAgICB9KS50aGVuKCgpID0+IHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9LCAoZXJyKSA9PiB7XG4gICAgICBwcm9taXNlLnJlamVjdChlcnIpO1xuICAgIH0pLnRoZW4oKCkgPT4ge1xuICAgICAgdGhpcy5fdXBkYXRlTm9kZXNSdW5uaW5nID0gZmFsc2U7XG4gICAgICBjb25zdCBuZXh0Sm9iID0gdGhpcy5fdXBkYXRlTm9kZXNRdWV1ZWQuc2hpZnQoKTtcbiAgICAgIGlmIChuZXh0Sm9iKSB7XG4gICAgICAgIHRoaXMuX2RvVXBkYXRlTm9kZXMobmV4dEpvYi5wYXRocywgbmV4dEpvYi5jYiwgbmV4dEpvYi5wcm9taXNlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgX2VtaXRDaGFuZ2VFdmVudHMoZXZlbnRzOiBSU0V2ZW50W10pIHtcbiAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gZXZlbnRzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICB0aGlzLl9lbWl0Q2hhbmdlKGV2ZW50c1tpXSk7XG4gICAgICBpZiAodGhpcy5kaWZmSGFuZGxlcikge1xuICAgICAgICB0aGlzLmRpZmZIYW5kbGVyKGV2ZW50c1tpXS5wYXRoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF9nZXRBbGxEZXNjZW5kZW50UGF0aHMocGF0aDogc3RyaW5nKSB7XG4gICAgaWYgKGlzRm9sZGVyKHBhdGgpKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXROb2RlcyhbcGF0aF0pLnRoZW4oKG5vZGVzKSA9PiB7XG4gICAgICAgIGNvbnN0IGFsbFBhdGhzID0gW3BhdGhdO1xuICAgICAgICBjb25zdCBsYXRlc3QgPSBnZXRMYXRlc3Qobm9kZXNbcGF0aF0pO1xuXG4gICAgICAgIGNvbnN0IGl0ZW1OYW1lcyA9IE9iamVjdC5rZXlzKGxhdGVzdC5pdGVtc01hcCk7XG4gICAgICAgIGNvbnN0IGNhbGxzID0gaXRlbU5hbWVzLm1hcCgoaXRlbU5hbWUpID0+IHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5fZ2V0QWxsRGVzY2VuZGVudFBhdGhzKHBhdGggKyBpdGVtTmFtZSkudGhlbigocGF0aHMpID0+IHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBwYXRocy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICBhbGxQYXRocy5wdXNoKHBhdGhzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbChjYWxscykudGhlbigoKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGFsbFBhdGhzO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFtwYXRoXSk7XG4gICAgfVxuICB9XG5cbiAgLy8gdHJlYXRlZCBhcyBwcml2YXRlIGJ1dCBtYWRlIHB1YmxpYyBmb3IgdW5pdCB0ZXN0aW5nXG4gIF9nZXRJbnRlcm5hbHMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGdldExhdGVzdDogZ2V0TGF0ZXN0LFxuICAgICAgbWFrZU5vZGU6IG1ha2VOb2RlLFxuICAgICAgaXNPdXRkYXRlZDogaXNPdXRkYXRlZFxuICAgIH07XG4gIH1cbn1cblxuXG5mdW5jdGlvbiBnZXRMYXRlc3Qobm9kZTogUlNOb2RlKTogYW55IHtcbiAgaWYgKHR5cGVvZiAobm9kZSkgIT09ICdvYmplY3QnIHx8IHR5cGVvZiAobm9kZS5wYXRoKSAhPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKGlzRm9sZGVyKG5vZGUucGF0aCkpIHtcbiAgICBpZiAobm9kZS5sb2NhbCAmJiBub2RlLmxvY2FsLml0ZW1zTWFwKSB7XG4gICAgICByZXR1cm4gbm9kZS5sb2NhbDtcbiAgICB9XG4gICAgaWYgKG5vZGUuY29tbW9uICYmIG5vZGUuY29tbW9uLml0ZW1zTWFwKSB7XG4gICAgICByZXR1cm4gbm9kZS5jb21tb247XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChub2RlLmxvY2FsKSB7XG4gICAgICBpZiAobm9kZS5sb2NhbC5ib2R5ICYmIG5vZGUubG9jYWwuY29udGVudFR5cGUpIHtcbiAgICAgICAgcmV0dXJuIG5vZGUubG9jYWw7XG4gICAgICB9XG4gICAgICBpZiAobm9kZS5sb2NhbC5ib2R5ID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChub2RlLmNvbW1vbiAmJiBub2RlLmNvbW1vbi5ib2R5ICYmIG5vZGUuY29tbW9uLmNvbnRlbnRUeXBlKSB7XG4gICAgICByZXR1cm4gbm9kZS5jb21tb247XG4gICAgfVxuICAgIC8vIE1pZ3JhdGlvbiBjb2RlISBPbmNlIGFsbCBhcHBzIHVzZSBhdCBsZWFzdCB0aGlzIHZlcnNpb24gb2YgdGhlIGxpYiwgd2VcbiAgICAvLyBjYW4gcHVibGlzaCBjbGVhbi11cCBjb2RlIHRoYXQgbWlncmF0ZXMgb3ZlciBhbnkgb2xkLWZvcm1hdCBkYXRhLCBhbmRcbiAgICAvLyBzdG9wIHN1cHBvcnRpbmcgaXQuIEZvciBub3csIG5ldyBhcHBzIHdpbGwgc3VwcG9ydCBkYXRhIGluIGJvdGhcbiAgICAvLyBmb3JtYXRzLCB0aGFua3MgdG8gdGhpczpcbiAgICBpZiAobm9kZS5ib2R5ICYmIG5vZGUuY29udGVudFR5cGUpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGJvZHk6IG5vZGUuYm9keSxcbiAgICAgICAgY29udGVudFR5cGU6IG5vZGUuY29udGVudFR5cGVcbiAgICAgIH07XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGlzT3V0ZGF0ZWQobm9kZXM6IFJTTm9kZXMsIG1heEFnZTogbnVtYmVyKTogYm9vbGVhbiB7XG4gIGZvciAoY29uc3QgcGF0aCBpbiBub2Rlcykge1xuICAgIGlmIChub2Rlc1twYXRoXSAmJiBub2Rlc1twYXRoXS5yZW1vdGUpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBjb25zdCBub2RlVmVyc2lvbiA9IGdldExhdGVzdChub2Rlc1twYXRoXSk7XG4gICAgaWYgKG5vZGVWZXJzaW9uICYmIG5vZGVWZXJzaW9uLnRpbWVzdGFtcCAmJiAobmV3IERhdGUoKS5nZXRUaW1lKCkpIC0gbm9kZVZlcnNpb24udGltZXN0YW1wIDw9IG1heEFnZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gZWxzZSBpZiAoIW5vZGVWZXJzaW9uKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cblxuZnVuY3Rpb24gbWFrZU5vZGUocGF0aDogc3RyaW5nKTogUlNOb2RlIHtcbiAgY29uc3Qgbm9kZTogUlNOb2RlID0ge3BhdGg6IHBhdGgsIGNvbW1vbjoge319O1xuXG4gIGlmIChpc0ZvbGRlcihwYXRoKSkge1xuICAgIG5vZGUuY29tbW9uLml0ZW1zTWFwID0ge307XG4gIH1cbiAgcmV0dXJuIG5vZGU7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUZvbGRlck5vZGVXaXRoSXRlbU5hbWUobm9kZTogUlNOb2RlLCBpdGVtTmFtZTogc3RyaW5nKTogUlNOb2RlIHtcbiAgaWYgKCFub2RlLmNvbW1vbikge1xuICAgIG5vZGUuY29tbW9uID0ge1xuICAgICAgaXRlbXNNYXA6IHt9XG4gICAgfTtcbiAgfVxuICBpZiAoIW5vZGUuY29tbW9uLml0ZW1zTWFwKSB7XG4gICAgbm9kZS5jb21tb24uaXRlbXNNYXAgPSB7fTtcbiAgfVxuICBpZiAoIW5vZGUubG9jYWwpIHtcbiAgICBub2RlLmxvY2FsID0gZGVlcENsb25lKG5vZGUuY29tbW9uKTtcbiAgfVxuICBpZiAoIW5vZGUubG9jYWwuaXRlbXNNYXApIHtcbiAgICBub2RlLmxvY2FsLml0ZW1zTWFwID0gbm9kZS5jb21tb24uaXRlbXNNYXA7XG4gIH1cbiAgbm9kZS5sb2NhbC5pdGVtc01hcFtpdGVtTmFtZV0gPSB0cnVlO1xuXG4gIHJldHVybiBub2RlO1xufVxuXG5pbnRlcmZhY2UgQ2FjaGluZ0xheWVyIGV4dGVuZHMgRXZlbnRIYW5kbGluZyB7fTtcbmFwcGx5TWl4aW5zKENhY2hpbmdMYXllciwgW0V2ZW50SGFuZGxpbmddKTtcblxuZXhwb3J0IGRlZmF1bHQgQ2FjaGluZ0xheWVyO1xuIiwiLy8gVE9ETyBtYXliZSBtb3ZlIHRvIGNvbW1vbiBpbnRlcmZhY2VzICYgdHlwZXMgZmlsZVxuLy8gYWxzbyB3b3J0aCBjb25zaWRlcmluZyBlbnVtc1xudHlwZSBBY2Nlc3NNb2RlID0gJ3InIHwgJ3J3JztcbnR5cGUgQWNjZXNzU2NvcGUgPSBzdHJpbmc7XG5cbmludGVyZmFjZSBTY29wZUVudHJ5IHtcbiAgbmFtZTogc3RyaW5nO1xuICBtb2RlOiBBY2Nlc3NNb2RlO1xufVxuXG5pbnRlcmZhY2UgU2NvcGVNb2RlTWFwIHtcbiAgLy8gTk9URToga2V5IGlzIGFjdHVhbGx5IEFjY2Vzc1Njb3BlXG4gIFtrZXk6IHN0cmluZ106IEFjY2Vzc01vZGU7XG59XG5cbi8qKlxuICogQGNsYXNzIEFjY2Vzc1xuICpcbiAqIEtlZXBzIHRyYWNrIG9mIGNsYWltZWQgYWNjZXNzIGFuZCBzY29wZXMuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFjY2VzcyB7XG4gIHNjb3BlTW9kZU1hcDogU2NvcGVNb2RlTWFwO1xuICByb290UGF0aHM6IHN0cmluZ1tdO1xuICBzdG9yYWdlVHlwZTogc3RyaW5nO1xuXG4gIC8vIFRPRE8gY3JlYXRlIGN1c3RvbSB0eXBlIGZvciBpbml0IGZ1bmN0aW9uXG4gIHN0YXRpYyBfcnNfaW5pdCgpOiB2b2lkIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnJlc2V0KCk7XG4gIH1cblxuICAvKipcbiAgICogUHJvcGVydHk6IHNjb3Blc1xuICAgKlxuICAgKiBIb2xkcyBhbiBhcnJheSBvZiBjbGFpbWVkIHNjb3BlcyBpbiB0aGUgZm9ybVxuICAgKiA+IHsgbmFtZTogXCI8c2NvcGUtbmFtZT5cIiwgbW9kZTogXCI8bW9kZT5cIiB9XG4gICAqL1xuICBnZXQgc2NvcGVzKCk6IFNjb3BlRW50cnlbXSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuc2NvcGVNb2RlTWFwKS5tYXAoKGtleSkgPT4ge1xuICAgICAgcmV0dXJuIHsgbmFtZToga2V5LCBtb2RlOiB0aGlzLnNjb3BlTW9kZU1hcFtrZXldIH07XG4gICAgfSk7XG4gIH1cblxuICBnZXQgc2NvcGVQYXJhbWV0ZXIoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5zY29wZXMubWFwKChzY29wZSkgPT4ge1xuICAgICAgcmV0dXJuIGAke3RoaXMuX3Njb3BlTmFtZUZvclBhcmFtZXRlcihzY29wZSl9OiR7c2NvcGUubW9kZX1gO1xuICAgIH0pLmpvaW4oJyAnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbGFpbSBhY2Nlc3Mgb24gYSBnaXZlbiBzY29wZSB3aXRoIGdpdmVuIG1vZGUuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzY29wZSAtIEFuIGFjY2VzcyBzY29wZSwgc3VjaCBhcyBcImNvbnRhY3RzXCIgb3IgXCJjYWxlbmRhclwiXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBtb2RlIC0gQWNjZXNzIG1vZGUuIEVpdGhlciBcInJcIiBmb3IgcmVhZC1vbmx5IG9yIFwicndcIiBmb3IgcmVhZC93cml0ZVxuICAgKi9cbiAgY2xhaW0gKHNjb3BlOiBBY2Nlc3NTY29wZSwgbW9kZTogQWNjZXNzTW9kZSk6IHZvaWQge1xuICAgIGlmICh0eXBlb2YgKHNjb3BlKSAhPT0gJ3N0cmluZycgfHwgc2NvcGUuaW5kZXhPZignLycpICE9PSAtMSB8fCBzY29wZS5sZW5ndGggPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignU2NvcGUgc2hvdWxkIGJlIGEgbm9uLWVtcHR5IHN0cmluZyB3aXRob3V0IGZvcndhcmQgc2xhc2hlcycpO1xuICAgIH1cbiAgICBpZiAoIW1vZGUubWF0Y2goL15ydz8kLykpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTW9kZSBzaG91bGQgYmUgZWl0aGVyIFxcJ3JcXCcgb3IgXFwncndcXCcnKTtcbiAgICB9XG4gICAgdGhpcy5fYWRqdXN0Um9vdFBhdGhzKHNjb3BlKTtcbiAgICB0aGlzLnNjb3BlTW9kZU1hcFtzY29wZV0gPSBtb2RlO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgYWNjZXNzIG1vZGUgZm9yIGEgZ2l2ZW4gc2NvcGUuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzY29wZSAtIEFjY2VzcyBzY29wZVxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBBY2Nlc3MgbW9kZVxuICAgKi9cbiAgZ2V0IChzY29wZTogQWNjZXNzU2NvcGUpOiBBY2Nlc3NNb2RlIHtcbiAgICByZXR1cm4gdGhpcy5zY29wZU1vZGVNYXBbc2NvcGVdO1xuICB9XG5cblxuICAvKipcbiAgICogUmVtb3ZlIGFjY2VzcyBmb3IgdGhlIGdpdmVuIHNjb3BlLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gc2NvcGUgLSBBY2Nlc3Mgc2NvcGVcbiAgICovXG4gIHJlbW92ZSAoc2NvcGU6IEFjY2Vzc1Njb3BlKTogdm9pZCB7XG4gICAgY29uc3Qgc2F2ZWRNYXA6IFNjb3BlTW9kZU1hcCA9IHt9O1xuICAgIGZvciAoY29uc3QgbmFtZSBpbiB0aGlzLnNjb3BlTW9kZU1hcCkge1xuICAgICAgc2F2ZWRNYXBbbmFtZV0gPSB0aGlzLnNjb3BlTW9kZU1hcFtuYW1lXTtcbiAgICB9XG4gICAgdGhpcy5yZXNldCgpO1xuICAgIGRlbGV0ZSBzYXZlZE1hcFtzY29wZV07XG4gICAgZm9yIChjb25zdCBuYW1lIGluIHNhdmVkTWFwKSB7XG4gICAgICB0aGlzLmNsYWltKG5hbWUgYXMgQWNjZXNzU2NvcGUsIHNhdmVkTWFwW25hbWVdKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVmVyaWZ5IHBlcm1pc3Npb24gZm9yIGEgZ2l2ZW4gc2NvcGUuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzY29wZSAtIEFjY2VzcyBzY29wZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gbW9kZSAtIEFjY2VzcyBtb2RlXG4gICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlmIHRoZSByZXF1ZXN0ZWQgYWNjZXNzIG1vZGUgaXMgYWN0aXZlLCBmYWxzZSBvdGhlcndpc2VcbiAgICovXG4gIGNoZWNrUGVybWlzc2lvbiAoc2NvcGU6IEFjY2Vzc1Njb3BlLCBtb2RlOiBBY2Nlc3NNb2RlKTogYm9vbGVhbiB7XG4gICAgY29uc3QgYWN0dWFsTW9kZSA9IHRoaXMuZ2V0KHNjb3BlKTtcbiAgICByZXR1cm4gYWN0dWFsTW9kZSAmJiAobW9kZSA9PT0gJ3InIHx8IGFjdHVhbE1vZGUgPT09ICdydycpO1xuICB9XG5cbiAgLyoqXG4gICAqIFZlcmlmeSBwZXJtaXNzaW9uIGZvciBhIGdpdmVuIHBhdGguXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIC0gUGF0aFxuICAgKiBAcGFyYW0ge3N0cmluZ30gbW9kZSAtIEFjY2VzcyBtb2RlXG4gICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlmIHRoZSByZXF1ZXN0ZWQgYWNjZXNzIG1vZGUgaXMgYWN0aXZlLCBmYWxzZSBvdGhlcndpc2VcbiAgICovXG4gIGNoZWNrUGF0aFBlcm1pc3Npb24gKHBhdGg6IHN0cmluZywgbW9kZTogQWNjZXNzTW9kZSk6IGJvb2xlYW4ge1xuICAgIGlmICh0aGlzLmNoZWNrUGVybWlzc2lvbignKicsIG1vZGUpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLy8gVE9ETyBjaGVjayBpZiB0aGlzIGlzIHJlbGlhYmxlXG4gICAgY29uc3Qgc2NvcGUgPSB0aGlzLl9nZXRNb2R1bGVOYW1lKHBhdGgpIGFzIEFjY2Vzc1Njb3BlO1xuICAgIHJldHVybiAhIXRoaXMuY2hlY2tQZXJtaXNzaW9uKHNjb3BlLCBtb2RlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXNldCBhbGwgYWNjZXNzIHBlcm1pc3Npb25zLlxuICAgKi9cbiAgcmVzZXQoKTogdm9pZCB7XG4gICAgdGhpcy5yb290UGF0aHMgPSBbXTtcbiAgICB0aGlzLnNjb3BlTW9kZU1hcCA9IHt9O1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgbW9kdWxlIG5hbWUgZm9yIGEgZ2l2ZW4gcGF0aC5cbiAgICovXG4gIHByaXZhdGUgX2dldE1vZHVsZU5hbWUgKHBhdGgpOiBzdHJpbmcge1xuICAgIGlmIChwYXRoWzBdICE9PSAnLycpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignUGF0aCBzaG91bGQgc3RhcnQgd2l0aCBhIHNsYXNoJyk7XG4gICAgfVxuICAgIGNvbnN0IG1vZHVsZU1hdGNoID0gcGF0aC5yZXBsYWNlKC9eXFwvcHVibGljLywgJycpLm1hdGNoKC9eXFwvKFteL10qKVxcLy8pO1xuICAgIHJldHVybiBtb2R1bGVNYXRjaCA/IG1vZHVsZU1hdGNoWzFdIDogJyonO1xuICB9XG5cbiAgLyoqXG4gICAqIFRPRE86IGRvY3VtZW50XG4gICAqL1xuICBwcml2YXRlIF9hZGp1c3RSb290UGF0aHMgKG5ld1Njb3BlOiBBY2Nlc3NTY29wZSk6IHZvaWQge1xuICAgIGlmICgnKicgaW4gdGhpcy5zY29wZU1vZGVNYXAgfHwgbmV3U2NvcGUgPT09ICcqJykge1xuICAgICAgdGhpcy5yb290UGF0aHMgPSBbJy8nXTtcbiAgICB9IGVsc2UgaWYgKCEobmV3U2NvcGUgaW4gdGhpcy5zY29wZU1vZGVNYXApKSB7XG4gICAgICB0aGlzLnJvb3RQYXRocy5wdXNoKCcvJyArIG5ld1Njb3BlICsgJy8nKTtcbiAgICAgIHRoaXMucm9vdFBhdGhzLnB1c2goJy9wdWJsaWMvJyArIG5ld1Njb3BlICsgJy8nKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVE9ETzogZG9jdW1lbnRcbiAgICovXG4gIHByaXZhdGUgX3Njb3BlTmFtZUZvclBhcmFtZXRlciAoc2NvcGU6IFNjb3BlRW50cnkpOiBzdHJpbmcge1xuICAgIGlmIChzY29wZS5uYW1lID09PSAnKicgJiYgdGhpcy5zdG9yYWdlVHlwZSkge1xuICAgICAgaWYgKHRoaXMuc3RvcmFnZVR5cGUgPT09ICcyMDEyLjA0Jykge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuc3RvcmFnZVR5cGUubWF0Y2goL3JlbW90ZXN0b3JhZ2UtMFswMV0vKSkge1xuICAgICAgICByZXR1cm4gJ3Jvb3QnO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc2NvcGUubmFtZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHN0b3JhZ2UgdHlwZSBvZiB0aGUgcmVtb3RlLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIFN0b3JhZ2UgdHlwZVxuICAgKi9cbiAgc2V0U3RvcmFnZVR5cGUgKHR5cGU6IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMuc3RvcmFnZVR5cGUgPSB0eXBlO1xuICB9XG59XG4iLCJpbXBvcnQgeyBjb250YWluaW5nRm9sZGVyLCBpc0ZvbGRlciB9IGZyb20gJy4vdXRpbCc7XG5pbXBvcnQgeyBDYWNoaW5nU3RyYXRlZ3kgfSBmcm9tICcuL2ludGVyZmFjZXMvY2FjaGluZyc7XG5pbXBvcnQgbG9nIGZyb20gJy4vbG9nJztcblxuLyoqXG4gKiBAY2xhc3MgQ2FjaGluZ1xuICpcbiAqIEhvbGRzL21hbmFnZXMgY2FjaGluZyBjb25maWd1cmF0aW9uLlxuICoqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FjaGluZyB7XG4gIHBlbmRpbmdBY3RpdmF0aW9uczogc3RyaW5nW10gPSBbXTtcbiAgLy8gVE9ETyBhZGQgY29ycmVjdCB0eXBlXG4gIGFjdGl2YXRlSGFuZGxlcjogRnVuY3Rpb247XG5cbiAgcHJpdmF0ZSBfcm9vdFBhdGhzOiBvYmplY3Q7XG5cbiAgY29uc3RydWN0b3IgKCkge1xuICAgIHRoaXMucmVzZXQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb25maWd1cmUgY2FjaGluZyBmb3IgYSBnaXZlbiBwYXRoIGV4cGxpY2l0bHkuXG4gICAqXG4gICAqIE5vdCBuZWVkZWQgd2hlbiB1c2luZyBgYGVuYWJsZWBgL2BgZGlzYWJsZWBgLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCAtIFBhdGggdG8gY2FjaGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmF0ZWd5IC0gQ2FjaGluZyBzdHJhdGVneS4gT25lIG9mICdBTEwnLCAnU0VFTicsIG9yICdGTFVTSCcuXG4gICAqL1xuICBzZXQgKHBhdGg6IHN0cmluZywgc3RyYXRlZ3k6IENhY2hpbmdTdHJhdGVneSk6IHZvaWQge1xuICAgIGlmICh0eXBlb2YgcGF0aCAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcigncGF0aCBzaG91bGQgYmUgYSBzdHJpbmcnKTtcbiAgICB9XG4gICAgaWYgKCFpc0ZvbGRlcihwYXRoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdwYXRoIHNob3VsZCBiZSBhIGZvbGRlcicpO1xuICAgIH1cbiAgICAvLyBGSVhNRSBXZSBuZWVkIHRvIGdldCB0byB0aGUgYWNjZXNzIGluc3RhbmNlIHNvbWVob3cuICBCdXQgSSdtIG5vdCBzdXJlXG4gICAgLy8gdGhpcyBjaGVjayBpcyBldmVuIG5lY2Vzc2FyeSBpbiB0aGUgZmlyc3QgcGxhY2UuIC1yYXVjYW9cbiAgICAvLyBpZiAoIXRoaXMuX3JlbW90ZVN0b3JhZ2UuYWNjZXNzLmNoZWNrUGF0aFBlcm1pc3Npb24ocGF0aCwgJ3InKSkge1xuICAgIC8vICAgdGhyb3cgbmV3IEVycm9yKCdObyBhY2Nlc3MgdG8gcGF0aCBcIicgKyBwYXRoICsgJ1wiLiBZb3UgaGF2ZSB0byBjbGFpbSBhY2Nlc3MgdG8gaXQgZmlyc3QuJyk7XG4gICAgLy8gfVxuICAgIGlmICghc3RyYXRlZ3kubWF0Y2goL14oRkxVU0h8U0VFTnxBTEwpJC8pKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJzdHJhdGVneSBzaG91bGQgYmUgJ0ZMVVNIJywgJ1NFRU4nLCBvciAnQUxMJ1wiKTtcbiAgICB9XG5cbiAgICB0aGlzLl9yb290UGF0aHNbcGF0aF0gPSBzdHJhdGVneTtcblxuICAgIGlmIChzdHJhdGVneSA9PT0gJ0FMTCcpIHtcbiAgICAgIGlmICh0aGlzLmFjdGl2YXRlSGFuZGxlcikge1xuICAgICAgICB0aGlzLmFjdGl2YXRlSGFuZGxlcihwYXRoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucGVuZGluZ0FjdGl2YXRpb25zLnB1c2gocGF0aCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEVuYWJsZSBjYWNoaW5nIGZvciBhIGdpdmVuIHBhdGguXG4gICAqXG4gICAqIFVzZXMgY2FjaGluZyBzdHJhdGVneSBgYEFMTGBgLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCAtIFBhdGggdG8gZW5hYmxlIGNhY2hpbmcgZm9yXG4gICAqL1xuICBlbmFibGUgKHBhdGg6IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMuc2V0KHBhdGgsICdBTEwnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNhYmxlIGNhY2hpbmcgZm9yIGEgZ2l2ZW4gcGF0aC5cbiAgICpcbiAgICogVXNlcyBjYWNoaW5nIHN0cmF0ZWd5IGBgRkxVU0hgYCAobWVhbmluZyBpdGVtcyBhcmUgb25seSBjYWNoZWQgdW50aWxcbiAgICogc3VjY2Vzc2Z1bGx5IHB1c2hlZCB0byB0aGUgcmVtb3RlKS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggLSBQYXRoIHRvIGRpc2FibGUgY2FjaGluZyBmb3JcbiAgICovXG4gIGRpc2FibGUgKHBhdGg6IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMuc2V0KHBhdGgsICdGTFVTSCcpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCBhIGNhbGxiYWNrIGZvciB3aGVuIGNhY2hpbmcgaXMgYWN0aXZhdGVkIGZvciBhIHBhdGguXG4gICAqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNiIC0gQ2FsbGJhY2sgZnVuY3Rpb25cbiAgICovXG4gIG9uQWN0aXZhdGUgKGNiOiAoZmlyc3RQZW5kaW5nOiBzdHJpbmcpID0+IHZvaWQpOiB2b2lkIHtcbiAgICBsb2coJ1tDYWNoaW5nXSBTZXR0aW5nIGFjdGl2YXRlIGhhbmRsZXInLCBjYiwgdGhpcy5wZW5kaW5nQWN0aXZhdGlvbnMpO1xuICAgIHRoaXMuYWN0aXZhdGVIYW5kbGVyID0gY2I7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnBlbmRpbmdBY3RpdmF0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgY2IodGhpcy5wZW5kaW5nQWN0aXZhdGlvbnNbaV0pO1xuICAgIH1cbiAgICBkZWxldGUgdGhpcy5wZW5kaW5nQWN0aXZhdGlvbnM7XG4gIH1cblxuICAvKipcbiAgICogUmV0cmlldmUgY2FjaGluZyBzZXR0aW5nIGZvciBhIGdpdmVuIHBhdGgsIG9yIGl0cyBuZXh0IHBhcmVudFxuICAgKiB3aXRoIGEgY2FjaGluZyBzdHJhdGVneSBzZXQuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIC0gUGF0aCB0byByZXRyaWV2ZSBzZXR0aW5nIGZvclxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBjYWNoaW5nIHN0cmF0ZWd5IGZvciB0aGUgcGF0aFxuICAgKiovXG4gIGNoZWNrUGF0aCAocGF0aDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBpZiAodGhpcy5fcm9vdFBhdGhzW3BhdGhdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiB0aGlzLl9yb290UGF0aHNbcGF0aF07XG4gICAgfSBlbHNlIGlmIChwYXRoID09PSAnLycpIHtcbiAgICAgIHJldHVybiAnU0VFTic7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLmNoZWNrUGF0aChjb250YWluaW5nRm9sZGVyKHBhdGgpKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVzZXQgdGhlIHN0YXRlIG9mIGNhY2hpbmcgYnkgZGVsZXRpbmcgYWxsIGNhY2hpbmcgaW5mb3JtYXRpb24uXG4gICAqKi9cbiAgcmVzZXQgKCk6IHZvaWQge1xuICAgIHRoaXMuX3Jvb3RQYXRocyA9IHt9O1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHVwIGZ1bmN0aW9uIHRoYXQgaXMgY2FsbGVkIG9uIGluaXRpYWxpemF0aW9uLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiovXG4gIHN0YXRpYyBfcnNfaW5pdCAoLypyZW1vdGVTdG9yYWdlKi8pOiB2b2lkIHtcbiAgICByZXR1cm47XG4gIH1cbn1cbiIsIi8qKlxuICogQGNsYXNzIEdvb2dsZURyaXZlXG4gKlxuICogVG8gdXNlIHRoaXMgYmFja2VuZCwgeW91IG5lZWQgdG8gc3BlY2lmeSB0aGUgYXBwJ3MgY2xpZW50IElEIGxpa2Ugc286XG4gKlxuICogQGV4YW1wbGVcbiAqIHJlbW90ZVN0b3JhZ2Uuc2V0QXBpS2V5cyh7XG4gKiAgIGdvb2dsZWRyaXZlOiAneW91ci1jbGllbnQtaWQnXG4gKiB9KTtcbiAqXG4gKiBBIGNsaWVudCBJRCBjYW4gYmUgb2J0YWluZWQgYnkgcmVnaXN0ZXJpbmcgeW91ciBhcHAgaW4gdGhlIEdvb2dsZVxuICogRGV2ZWxvcGVycyBDb25zb2xlOiBodHRwczovL2NvbnNvbGUuZGV2ZWxvcGVycy5nb29nbGUuY29tL2Zsb3dzL2VuYWJsZWFwaT9hcGlpZD1kcml2ZVxuICpcbiAqIERvY3M6IGh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL2RyaXZlL3YzL3dlYi9xdWlja3N0YXJ0L2pzXG4qKi9cblxuaW1wb3J0IEJhc2VDbGllbnQgZnJvbSAnLi9iYXNlY2xpZW50JztcbmltcG9ydCBXaXJlQ2xpZW50IGZyb20gJy4vd2lyZWNsaWVudCc7XG5pbXBvcnQgRXZlbnRIYW5kbGluZyBmcm9tICcuL2V2ZW50aGFuZGxpbmcnO1xuaW1wb3J0IHtcbiAgYXBwbHlNaXhpbnMsXG4gIGlzRm9sZGVyLFxuICBjbGVhblBhdGgsXG4gIHNob3VsZEJlVHJlYXRlZEFzQmluYXJ5LFxuICBnZXRKU09ORnJvbUxvY2FsU3RvcmFnZSxcbiAgZ2V0VGV4dEZyb21BcnJheUJ1ZmZlcixcbiAgbG9jYWxTdG9yYWdlQXZhaWxhYmxlXG59IGZyb20gJy4vdXRpbCc7XG5cbmNvbnN0IEJBU0VfVVJMID0gJ2h0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tJztcbmNvbnN0IEFVVEhfVVJMID0gJ2h0dHBzOi8vYWNjb3VudHMuZ29vZ2xlLmNvbS9vL29hdXRoMi9hdXRoJztcbmNvbnN0IEFVVEhfU0NPUEUgPSAnaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vYXV0aC9kcml2ZSc7XG5jb25zdCBTRVRUSU5HU19LRVkgPSAncmVtb3Rlc3RvcmFnZTpnb29nbGVkcml2ZSc7XG5jb25zdCBQQVRIX1BSRUZJWCA9ICcvcmVtb3Rlc3RvcmFnZSc7XG5cbmNvbnN0IEdEX0RJUl9NSU1FX1RZUEUgPSAnYXBwbGljYXRpb24vdm5kLmdvb2dsZS1hcHBzLmZvbGRlcic7XG5jb25zdCBSU19ESVJfTUlNRV9UWVBFID0gJ2FwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9VVRGLTgnO1xuXG5sZXQgaGFzTG9jYWxTdG9yYWdlO1xuXG4vKipcbiAqIFByb2R1Y2UgYSB0aXRsZSBmcm9tIGEgZmlsZW5hbWUgZm9yIG1ldGFkYXRhLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBmaWxlbmFtZVxuICogQHJldHVybnMge3N0cmluZ30gdGl0bGVcbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBtZXRhVGl0bGVGcm9tRmlsZU5hbWUgKGZpbGVuYW1lOiBzdHJpbmcpOiBzdHJpbmcge1xuICBpZiAoZmlsZW5hbWUuc3Vic3RyKC0xKSA9PT0gJy8nKSB7XG4gICAgZmlsZW5hbWUgPSBmaWxlbmFtZS5zdWJzdHIoMCwgZmlsZW5hbWUubGVuZ3RoIC0gMSk7XG4gIH1cblxuICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGZpbGVuYW1lKTtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIHBhcmVudCBkaXJlY3RvcnkgZm9yIHRoZSBnaXZlbiBwYXRoLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBwYXJlbnQgZGlyZWN0b3J5XG4gKlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gcGFyZW50UGF0aCAocGF0aDogc3RyaW5nKTogc3RyaW5nIHtcbiAgcmV0dXJuIHBhdGgucmVwbGFjZSgvW15cXC9dK1xcLz8kLywgJycpO1xufVxuXG4vKipcbiAqIEdldCBvbmx5IHRoZSBmaWxlbmFtZSBmcm9tIGEgZnVsbCBwYXRoLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBmaWxlbmFtZVxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGJhc2VOYW1lIChwYXRoOiBzdHJpbmcpOiBzdHJpbmcge1xuICBjb25zdCBwYXJ0cyA9IHBhdGguc3BsaXQoJy8nKTtcbiAgaWYgKHBhdGguc3Vic3RyKC0xKSA9PT0gJy8nKSB7XG4gICAgcmV0dXJuIHBhcnRzW3BhcnRzLmxlbmd0aC0yXSsnLyc7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHBhcnRzW3BhcnRzLmxlbmd0aC0xXTtcbiAgfVxufVxuXG4vKipcbiAqIFByZXBlbmQgdGhlIHBhdGggd2l0aCB0aGUgcmVtb3RlU3RvcmFnZSBiYXNlIGRpcmVjdG9yeS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gcGF0aCAtIFBhdGhcbiAqIEByZXR1cm5zIHtzdHJpbmd9IEFjdHVhbCBwYXRoIG9uIEdvb2dsZSBEcml2ZVxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGdvb2dsZURyaXZlUGF0aCAocGF0aDogc3RyaW5nKTogc3RyaW5nIHtcbiAgcmV0dXJuIGNsZWFuUGF0aChgJHtQQVRIX1BSRUZJWH0vJHtwYXRofWApO1xufVxuXG4vKipcbiAqIFJlbW92ZSBzdXJyb3VuZGluZyBxdW90ZXMgZnJvbSBhIHN0cmluZy5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIC0gc3RyaW5nIHdpdGggc3Vycm91bmRpbmcgcXVvdGVzXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBzdHJpbmcgd2l0aG91dCBzdXJyb3VuZGluZyBxdW90ZXNcbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiByZW1vdmVRdW90ZXMgKHN0cjogc3RyaW5nKTogc3RyaW5nIHtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9eW1wiJ10oLiopW1wiJ10kLywgXCIkMVwiKTtcbn1cblxuLyoqXG4gKiBJbnRlcm5hbCBjYWNoZSBvYmplY3QgZm9yIHN0b3JpbmcgR29vZ2xlIGZpbGUgSURzLlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXhBZ2UgLSBNYXhpbXVtIGFnZSAoaW4gc2Vjb25kcykgdGhlIGNvbnRlbnQgc2hvdWxkIGJlIGNhY2hlZCBmb3JcbiAqL1xuY2xhc3MgRmlsZUlkQ2FjaGUge1xuICBtYXhBZ2U6IG51bWJlcjtcbiAgX2l0ZW1zID0ge31cblxuICBjb25zdHJ1Y3RvcihtYXhBZ2U/OiBudW1iZXIpIHtcbiAgICB0aGlzLm1heEFnZSA9IG1heEFnZTtcbiAgICB0aGlzLl9pdGVtcyA9IHt9O1xuICB9XG5cbiAgZ2V0IChrZXkpOiBudW1iZXIgfCB1bmRlZmluZWQge1xuICAgIGNvbnN0IGl0ZW0gPSB0aGlzLl9pdGVtc1trZXldO1xuICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgIHJldHVybiAoaXRlbSAmJiBpdGVtLnQgPj0gKG5vdyAtIHRoaXMubWF4QWdlKSkgPyBpdGVtLnYgOiB1bmRlZmluZWQ7XG4gIH1cblxuICBzZXQgKGtleSwgdmFsdWUpOiB2b2lkIHtcbiAgICB0aGlzLl9pdGVtc1trZXldID0ge1xuICAgICAgdjogdmFsdWUsXG4gICAgICB0OiBuZXcgRGF0ZSgpLmdldFRpbWUoKVxuICAgIH07XG4gIH1cbn07XG5cbmNvbnN0IEdvb2dsZURyaXZlID0gZnVuY3Rpb24gKHJlbW90ZVN0b3JhZ2UsIGNsaWVudElkKSB7XG5cbiAgdGhpcy5hZGRFdmVudHMoWydjb25uZWN0ZWQnLCAnbm90LWNvbm5lY3RlZCddKTtcblxuICB0aGlzLnJzID0gcmVtb3RlU3RvcmFnZTtcbiAgdGhpcy5jbGllbnRJZCA9IGNsaWVudElkO1xuXG4gIHRoaXMuX2ZpbGVJZENhY2hlID0gbmV3IEZpbGVJZENhY2hlKDYwICogNSk7IC8vIElEcyBleHBpcmUgYWZ0ZXIgNSBtaW51dGVzIChpcyB0aGlzIGEgZ29vZCBpZGVhPylcblxuICBoYXNMb2NhbFN0b3JhZ2UgPSBsb2NhbFN0b3JhZ2VBdmFpbGFibGUoKTtcblxuICBpZiAoaGFzTG9jYWxTdG9yYWdlKXtcbiAgICBjb25zdCBzZXR0aW5ncyA9IGdldEpTT05Gcm9tTG9jYWxTdG9yYWdlKFNFVFRJTkdTX0tFWSk7XG4gICAgaWYgKHNldHRpbmdzKSB7XG4gICAgICB0aGlzLmNvbmZpZ3VyZShzZXR0aW5ncyk7XG4gICAgfVxuICB9XG5cbn07XG5cbkdvb2dsZURyaXZlLnByb3RvdHlwZSA9IHtcbiAgY29ubmVjdGVkOiBmYWxzZSxcbiAgb25saW5lOiB0cnVlLFxuXG4gIC8qKlxuICAgKiBDb25maWd1cmUgdGhlIEdvb2dsZSBEcml2ZSBiYWNrZW5kLlxuICAgKlxuICAgKiBGZXRjaGVzIHRoZSB1c2VyIGluZm8gZnJvbSBHb29nbGUgd2hlbiBubyBgYHVzZXJBZGRyZXNzYGAgaXMgZ2l2ZW4uXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBzZXR0aW5nc1xuICAgKiBAcGFyYW0ge3N0cmluZ30gW3NldHRpbmdzLnVzZXJBZGRyZXNzXSAtIFRoZSB1c2VyJ3MgZW1haWwgYWRkcmVzc1xuICAgKiBAcGFyYW0ge3N0cmluZ30gW3NldHRpbmdzLnRva2VuXSAtIEF1dGhvcml6YXRpb24gdG9rZW5cbiAgICpcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgY29uZmlndXJlOiBmdW5jdGlvbiAoc2V0dGluZ3MpIHsgLy8gU2V0dGluZ3MgcGFyYW1ldGVyIGNvbXBhdGlibGUgd2l0aCBXaXJlQ2xpZW50XG4gICAgLy8gV2Ugb25seSB1cGRhdGUgdGhpcy51c2VyQWRkcmVzcyBpZiBzZXR0aW5ncy51c2VyQWRkcmVzcyBpcyBzZXQgdG8gYSBzdHJpbmcgb3IgdG8gbnVsbFxuICAgIGlmICh0eXBlb2Ygc2V0dGluZ3MudXNlckFkZHJlc3MgIT09ICd1bmRlZmluZWQnKSB7IHRoaXMudXNlckFkZHJlc3MgPSBzZXR0aW5ncy51c2VyQWRkcmVzczsgfVxuICAgIC8vIFNhbWUgZm9yIHRoaXMudG9rZW4uIElmIG9ubHkgb25lIG9mIHRoZXNlIHR3byBpcyBzZXQsIHdlIGxlYXZlIHRoZSBvdGhlciBvbmUgYXQgaXRzIGV4aXN0aW5nIHZhbHVlXG4gICAgaWYgKHR5cGVvZiBzZXR0aW5ncy50b2tlbiAhPT0gJ3VuZGVmaW5lZCcpIHsgdGhpcy50b2tlbiA9IHNldHRpbmdzLnRva2VuOyB9XG5cbiAgICBjb25zdCB3cml0ZVNldHRpbmdzVG9DYWNoZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKGhhc0xvY2FsU3RvcmFnZSkge1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShTRVRUSU5HU19LRVksIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICB1c2VyQWRkcmVzczogdGhpcy51c2VyQWRkcmVzcyxcbiAgICAgICAgICB0b2tlbjogdGhpcy50b2tlblxuICAgICAgICB9KSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZUVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLmNvbm5lY3RlZCA9IGZhbHNlO1xuICAgICAgZGVsZXRlIHRoaXMudG9rZW47XG4gICAgICBpZiAoaGFzTG9jYWxTdG9yYWdlKSB7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFNFVFRJTkdTX0tFWSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGlmICh0aGlzLnRva2VuKSB7XG4gICAgICB0aGlzLmNvbm5lY3RlZCA9IHRydWU7XG5cbiAgICAgIGlmICh0aGlzLnVzZXJBZGRyZXNzKSB7XG4gICAgICAgIHRoaXMuX2VtaXQoJ2Nvbm5lY3RlZCcpO1xuICAgICAgICB3cml0ZVNldHRpbmdzVG9DYWNoZS5hcHBseSh0aGlzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuaW5mbygpLnRoZW4oKGluZm8pID0+IHtcbiAgICAgICAgICB0aGlzLnVzZXJBZGRyZXNzID0gaW5mby51c2VyLmVtYWlsQWRkcmVzcztcbiAgICAgICAgICB0aGlzLl9lbWl0KCdjb25uZWN0ZWQnKTtcbiAgICAgICAgICB3cml0ZVNldHRpbmdzVG9DYWNoZS5hcHBseSh0aGlzKTtcbiAgICAgICAgfSkuY2F0Y2goKCkgPT4ge1xuICAgICAgICAgIGhhbmRsZUVycm9yLmFwcGx5KHRoaXMpO1xuICAgICAgICAgIHRoaXMucnMuX2VtaXQoJ2Vycm9yJywgbmV3IEVycm9yKCdDb3VsZCBub3QgZmV0Y2ggdXNlciBpbmZvLicpKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGhhbmRsZUVycm9yLmFwcGx5KHRoaXMpO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogSW5pdGlhdGUgdGhlIGF1dGhvcml6YXRpb24gZmxvdydzIE9BdXRoIGRhbmNlLlxuICAgKi9cbiAgY29ubmVjdDogZnVuY3Rpb24gKCk6IHZvaWQge1xuICAgIHRoaXMucnMuc2V0QmFja2VuZCgnZ29vZ2xlZHJpdmUnKTtcbiAgICB0aGlzLnJzLmF1dGhvcml6ZSh7IGF1dGhVUkw6IEFVVEhfVVJMLCBzY29wZTogQVVUSF9TQ09QRSwgY2xpZW50SWQ6IHRoaXMuY2xpZW50SWQgfSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFN0b3AgdGhlIGF1dGhvcml6YXRpb24gcHJvY2Vzcy5cbiAgICpcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgc3RvcFdhaXRpbmdGb3JUb2tlbjogZnVuY3Rpb24gKCk6IHZvaWQge1xuICAgIGlmICghdGhpcy5jb25uZWN0ZWQpIHtcbiAgICAgIHRoaXMuX2VtaXQoJ25vdC1jb25uZWN0ZWQnKTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJlcXVlc3QgYSByZXNvdXJjZSAoZmlsZSBvciBkaXJlY3RvcnkpLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCAtIFBhdGggb2YgdGhlIHJlc291cmNlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gUmVxdWVzdCBvcHRpb25zXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSBSZXNvbHZlcyB3aXRoIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBzdGF0dXMgY29kZSxcbiAgICogICAgICAgICAgICAgICAgICAgIGJvZHksIGNvbnRlbnQtdHlwZSBhbmQgcmV2aXNpb25cbiAgICpcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgZ2V0OiBmdW5jdGlvbiAocGF0aCwgb3B0aW9ucykge1xuICAgIGlmIChwYXRoLnN1YnN0cigtMSkgPT09ICcvJykge1xuICAgICAgcmV0dXJuIHRoaXMuX2dldEZvbGRlcihnb29nbGVEcml2ZVBhdGgocGF0aCksIG9wdGlvbnMpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5fZ2V0RmlsZShnb29nbGVEcml2ZVBhdGgocGF0aCksIG9wdGlvbnMpO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogQ3JlYXRlIG9yIHVwZGF0ZSBhIGZpbGUuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIC0gRmlsZSBwYXRoXG4gICAqIEBwYXJhbSBib2R5IC0gRmlsZSBjb250ZW50XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjb250ZW50VHlwZSAtIEZpbGUgY29udGVudC10eXBlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25zLmlmTm9uZU1hdGNoIC0gT25seSBjcmVhdGUgb2YgdXBkYXRlIHRoZSBmaWxlIGlmIHRoZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgRVRhZyBkb2Vzbid0IG1hdGNoIHRoaXMgc3RyaW5nXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSBSZXNvbHZlcyB3aXRoIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBzdGF0dXMgY29kZSxcbiAgICogICAgICAgICAgICAgICAgICAgIGNvbnRlbnQtdHlwZSBhbmQgcmV2aXNpb25cbiAgICpcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgcHV0OiBmdW5jdGlvbiAocGF0aCwgYm9keSwgY29udGVudFR5cGUsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBmdWxsUGF0aCA9IGdvb2dsZURyaXZlUGF0aChwYXRoKTtcblxuICAgIGZ1bmN0aW9uIHB1dERvbmUocmVzcG9uc2UpIHtcbiAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPj0gMjAwICYmIHJlc3BvbnNlLnN0YXR1cyA8IDMwMCkge1xuICAgICAgICBjb25zdCBtZXRhID0gSlNPTi5wYXJzZShyZXNwb25zZS5yZXNwb25zZVRleHQpO1xuICAgICAgICBjb25zdCBldGFnV2l0aG91dFF1b3RlcyA9IHJlbW92ZVF1b3RlcyhtZXRhLmV0YWcpO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtzdGF0dXNDb2RlOiAyMDAsIGNvbnRlbnRUeXBlOiBtZXRhLm1pbWVUeXBlLCByZXZpc2lvbjogZXRhZ1dpdGhvdXRRdW90ZXN9KTtcbiAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MTIpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7c3RhdHVzQ29kZTogNDEyLCByZXZpc2lvbjogJ2NvbmZsaWN0J30pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFwiUFVUIGZhaWxlZCB3aXRoIHN0YXR1cyBcIiArIHJlc3BvbnNlLnN0YXR1cyArIFwiIChcIiArIHJlc3BvbnNlLnJlc3BvbnNlVGV4dCArIFwiKVwiKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5fZ2V0RmlsZUlkKGZ1bGxQYXRoKS50aGVuKChpZCkgPT4ge1xuICAgICAgaWYgKGlkKSB7XG4gICAgICAgIGlmIChvcHRpb25zICYmIChvcHRpb25zLmlmTm9uZU1hdGNoID09PSAnKicpKSB7XG4gICAgICAgICAgcmV0dXJuIHB1dERvbmUoeyBzdGF0dXM6IDQxMiB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fdXBkYXRlRmlsZShpZCwgZnVsbFBhdGgsIGJvZHksIGNvbnRlbnRUeXBlLCBvcHRpb25zKS50aGVuKHB1dERvbmUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NyZWF0ZUZpbGUoZnVsbFBhdGgsIGJvZHksIGNvbnRlbnRUeXBlLCBvcHRpb25zKS50aGVuKHB1dERvbmUpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuXG4gIC8qKlxuICAgKiBEZWxldGUgYSBmaWxlLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCAtIEZpbGUgcGF0aFxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy5pZk1hdGNoIC0gb25seSBkZWxldGUgdGhlIGZpbGUgaWYgaXQncyBFVGFnXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGVzIHRoaXMgc3RyaW5nXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSBSZXNvbHZlcyB3aXRoIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBzdGF0dXMgY29kZVxuICAgKlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICAnZGVsZXRlJzogZnVuY3Rpb24gKHBhdGgsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBmdWxsUGF0aCA9IGdvb2dsZURyaXZlUGF0aChwYXRoKTtcblxuICAgIHJldHVybiB0aGlzLl9nZXRGaWxlSWQoZnVsbFBhdGgpLnRoZW4oKGlkKSA9PiB7XG4gICAgICBpZiAoIWlkKSB7XG4gICAgICAgIC8vIEZpbGUgZG9lc24ndCBleGlzdC4gSWdub3JlLlxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtzdGF0dXNDb2RlOiAyMDB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuX2dldE1ldGEoaWQpLnRoZW4oKG1ldGEpID0+IHtcbiAgICAgICAgbGV0IGV0YWdXaXRob3V0UXVvdGVzO1xuICAgICAgICBpZiAoKHR5cGVvZiBtZXRhID09PSAnb2JqZWN0JykgJiYgKHR5cGVvZiBtZXRhLmV0YWcgPT09ICdzdHJpbmcnKSkge1xuICAgICAgICAgIGV0YWdXaXRob3V0UXVvdGVzID0gcmVtb3ZlUXVvdGVzKG1ldGEuZXRhZyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5pZk1hdGNoICYmIChvcHRpb25zLmlmTWF0Y2ggIT09IGV0YWdXaXRob3V0UXVvdGVzKSkge1xuICAgICAgICAgIHJldHVybiB7c3RhdHVzQ29kZTogNDEyLCByZXZpc2lvbjogZXRhZ1dpdGhvdXRRdW90ZXN9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoJ0RFTEVURScsIEJBU0VfVVJMICsgJy9kcml2ZS92Mi9maWxlcy8nICsgaWQsIHt9KS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwMCB8fCByZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgcmV0dXJuIHtzdGF0dXNDb2RlOiAyMDB9O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXCJEZWxldGUgZmFpbGVkOiBcIiArIHJlc3BvbnNlLnN0YXR1cyArIFwiIChcIiArIHJlc3BvbnNlLnJlc3BvbnNlVGV4dCArIFwiKVwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEZldGNoIHRoZSB1c2VyJ3MgaW5mbyBmcm9tIEdvb2dsZS5cbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2V9IHJlc29sdmVzIHdpdGggdGhlIHVzZXIncyBpbmZvLlxuICAgKlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBpbmZvOiBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgdXJsID0gQkFTRV9VUkwgKyAnL2RyaXZlL3YyL2Fib3V0P2ZpZWxkcz11c2VyJztcbiAgICAvLyByZXF1ZXN0aW5nIHVzZXIgaW5mbyhtYWlubHkgZm9yIHVzZXJBZHJlc3MpXG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoJ0dFVCcsIHVybCwge30pLnRoZW4oZnVuY3Rpb24gKHJlc3Ape1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgaW5mbyA9IEpTT04ucGFyc2UocmVzcC5yZXNwb25zZVRleHQpO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGluZm8pO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFVwZGF0ZSBhbiBleGlzdGluZyBmaWxlLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgLSBGaWxlIElEXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIC0gRmlsZSBwYXRoXG4gICAqIEBwYXJhbSBib2R5IC0gRmlsZSBjb250ZW50XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjb250ZW50VHlwZSAtIEZpbGUgY29udGVudC10eXBlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25zLmlmTWF0Y2ggLSBPbmx5IHVwZGF0ZSB0aGUgZmlsZSBpZiBpdHMgRVRhZ1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hlcyB0aGlzIHN0cmluZ1xuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gUmVzb2x2ZXMgd2l0aCB0aGUgcmVzcG9uc2Ugb2YgdGhlIG5ldHdvcmsgcmVxdWVzdFxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3VwZGF0ZUZpbGU6IGZ1bmN0aW9uIChpZCwgcGF0aCwgYm9keSwgY29udGVudFR5cGUsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBtZXRhZGF0YSA9IHtcbiAgICAgIG1pbWVUeXBlOiBjb250ZW50VHlwZVxuICAgIH07XG4gICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD1VVEYtOCdcbiAgICB9O1xuXG4gICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5pZk1hdGNoKSB7XG4gICAgICBoZWFkZXJzWydJZi1NYXRjaCddID0gJ1wiJyArIG9wdGlvbnMuaWZNYXRjaCArICdcIic7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoJ1BVVCcsIEJBU0VfVVJMICsgJy91cGxvYWQvZHJpdmUvdjIvZmlsZXMvJyArIGlkICsgJz91cGxvYWRUeXBlPXJlc3VtYWJsZScsIHtcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KG1ldGFkYXRhKSxcbiAgICAgIGhlYWRlcnM6IGhlYWRlcnNcbiAgICB9KS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDEyKSB7XG4gICAgICAgIHJldHVybiAocmVzcG9uc2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoJ1BVVCcsIHJlc3BvbnNlLmdldFJlc3BvbnNlSGVhZGVyKCdMb2NhdGlvbicpLCB7XG4gICAgICAgICAgYm9keTogY29udGVudFR5cGUubWF0Y2goL15hcHBsaWNhdGlvblxcL2pzb24vKSA/IEpTT04uc3RyaW5naWZ5KGJvZHkpIDogYm9keVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcblxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IGZpbGUuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIC0gRmlsZSBwYXRoXG4gICAqIEBwYXJhbSBib2R5IC0gRmlsZSBjb250ZW50XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjb250ZW50VHlwZSAtIEZpbGUgY29udGVudC10eXBlXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSBSZXNvbHZlcyB3aXRoIHRoZSByZXNwb25zZSBvZiB0aGUgbmV0d29yayByZXF1ZXN0XG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfY3JlYXRlRmlsZTogZnVuY3Rpb24gKHBhdGgsIGJvZHksIGNvbnRlbnRUeXBlLyosIG9wdGlvbnMqLykge1xuICAgIHJldHVybiB0aGlzLl9nZXRQYXJlbnRJZChwYXRoKS50aGVuKChwYXJlbnRJZCkgPT4ge1xuICAgICAgY29uc3QgZmlsZU5hbWUgPSBiYXNlTmFtZShwYXRoKTtcbiAgICAgIGNvbnN0IG1ldGFkYXRhID0ge1xuICAgICAgICB0aXRsZTogbWV0YVRpdGxlRnJvbUZpbGVOYW1lKGZpbGVOYW1lKSxcbiAgICAgICAgbWltZVR5cGU6IGNvbnRlbnRUeXBlLFxuICAgICAgICBwYXJlbnRzOiBbe1xuICAgICAgICAgIGtpbmQ6IFwiZHJpdmUjZmlsZUxpbmtcIixcbiAgICAgICAgICBpZDogcGFyZW50SWRcbiAgICAgICAgfV1cbiAgICAgIH07XG4gICAgICByZXR1cm4gdGhpcy5fcmVxdWVzdCgnUE9TVCcsIEJBU0VfVVJMICsgJy91cGxvYWQvZHJpdmUvdjIvZmlsZXM/dXBsb2FkVHlwZT1yZXN1bWFibGUnLCB7XG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KG1ldGFkYXRhKSxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD1VVEYtOCdcbiAgICAgICAgfVxuICAgICAgfSkudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoJ1BPU1QnLCByZXNwb25zZS5nZXRSZXNwb25zZUhlYWRlcignTG9jYXRpb24nKSwge1xuICAgICAgICAgIGJvZHk6IGNvbnRlbnRUeXBlLm1hdGNoKC9eYXBwbGljYXRpb25cXC9qc29uLykgPyBKU09OLnN0cmluZ2lmeShib2R5KSA6IGJvZHlcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSxcblxuICAvKipcbiAgICogUmVxdWVzdCBhIGZpbGUuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIC0gRmlsZSBwYXRoXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5pZk5vbmVNYXRoXSAtIE9ubHkgcmV0dXJuIHRoZSBmaWxlIGlmIGl0cyBFVGFnXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvZXNuJ3QgbWF0Y2ggdGhlIGdpdmVuIHN0cmluZ1xuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gUmVzb2x2ZXMgd2l0aCBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgc3RhdHVzIGNvZGUsXG4gICAqICAgICAgICAgICAgICAgICAgICBib2R5LCBjb250ZW50LXR5cGUgYW5kIHJldmlzaW9uXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZ2V0RmlsZTogZnVuY3Rpb24gKHBhdGgsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5fZ2V0RmlsZUlkKHBhdGgpLnRoZW4oKGlkKSA9PiB7XG4gICAgICByZXR1cm4gdGhpcy5fZ2V0TWV0YShpZCkudGhlbigobWV0YSkgPT4ge1xuICAgICAgICBsZXQgZXRhZ1dpdGhvdXRRdW90ZXM7XG4gICAgICAgIGlmICh0eXBlb2YobWV0YSkgPT09ICdvYmplY3QnICYmIHR5cGVvZihtZXRhLmV0YWcpID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIGV0YWdXaXRob3V0UXVvdGVzID0gcmVtb3ZlUXVvdGVzKG1ldGEuZXRhZyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmlmTm9uZU1hdGNoICYmIChldGFnV2l0aG91dFF1b3RlcyA9PT0gb3B0aW9ucy5pZk5vbmVNYXRjaCkpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtzdGF0dXNDb2RlOiAzMDR9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghbWV0YS5kb3dubG9hZFVybCkge1xuICAgICAgICAgIGlmIChtZXRhLmV4cG9ydExpbmtzICYmIG1ldGEuZXhwb3J0TGlua3NbJ3RleHQvaHRtbCddKSB7XG4gICAgICAgICAgICAvLyBEb2N1bWVudHMgdGhhdCB3ZXJlIGdlbmVyYXRlZCBpbnNpZGUgR29vZ2xlRG9jcyBoYXZlIG5vXG4gICAgICAgICAgICAvLyBkb3dubG9hZFVybCwgYnV0IHlvdSBjYW4gZXhwb3J0IHRoZW0gdG8gdGV4dC9odG1sIGluc3RlYWQ6XG4gICAgICAgICAgICBtZXRhLm1pbWVUeXBlICs9ICc7ZXhwb3J0PXRleHQvaHRtbCc7XG4gICAgICAgICAgICBtZXRhLmRvd25sb2FkVXJsID0gbWV0YS5leHBvcnRMaW5rc1sndGV4dC9odG1sJ107XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGVtcHR5IGZpbGVcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe3N0YXR1c0NvZGU6IDIwMCwgYm9keTogJycsIGNvbnRlbnRUeXBlOiBtZXRhLm1pbWVUeXBlLCByZXZpc2lvbjogZXRhZ1dpdGhvdXRRdW90ZXN9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICAgICAgcmVzcG9uc2VUeXBlOiAnYXJyYXlidWZmZXInXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KCdHRVQnLCBtZXRhLmRvd25sb2FkVXJsLCBwYXJhbXMpLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgLy9maXJzdCBlbmNvZGUgdGhlIHJlc3BvbnNlIGFzIHRleHQsIGFuZCBsYXRlciBjaGVjayBpZlxuICAgICAgICAgIC8vdGV4dCBhcHBlYXJzIHRvIGFjdHVhbGx5IGJlIGJpbmFyeSBkYXRhXG4gICAgICAgICAgcmV0dXJuIGdldFRleHRGcm9tQXJyYXlCdWZmZXIocmVzcG9uc2UucmVzcG9uc2UsICdVVEYtOCcpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlVGV4dCkge1xuICAgICAgICAgICAgbGV0IGJvZHkgPSByZXNwb25zZVRleHQ7XG4gICAgICAgICAgICBpZiAobWV0YS5taW1lVHlwZS5tYXRjaCgvXmFwcGxpY2F0aW9uXFwvanNvbi8pKSB7XG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgYm9keSA9IEpTT04ucGFyc2UoYm9keSBhcyBzdHJpbmcpO1xuICAgICAgICAgICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgICAgICAgICAvLyBib2R5IGNvdWxkbid0IGJlIHBhcnNlZCBhcyBKU09OLCBzbyB3ZSdsbCBqdXN0IHJldHVybiBpdCBhcyBpc1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHNob3VsZEJlVHJlYXRlZEFzQmluYXJ5KHJlc3BvbnNlVGV4dCwgbWV0YS5taW1lVHlwZSkpIHtcbiAgICAgICAgICAgICAgLy9yZXR1cm4gdW5wcm9jZXNzZWQgcmVzcG9uc2VcbiAgICAgICAgICAgICAgYm9keSA9IHJlc3BvbnNlLnJlc3BvbnNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICBzdGF0dXNDb2RlOiAyMDAsXG4gICAgICAgICAgICAgIGJvZHk6IGJvZHksXG4gICAgICAgICAgICAgIGNvbnRlbnRUeXBlOiBtZXRhLm1pbWVUeXBlLFxuICAgICAgICAgICAgICByZXZpc2lvbjogZXRhZ1dpdGhvdXRRdW90ZXNcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJlcXVlc3QgYSBkaXJlY3RvcnkuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIC0gRGlyZWN0b3J5IHBhdGhcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybnMge1Byb21pc2V9IFJlc29sdmVzIHdpdGggYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIHN0YXR1cyBjb2RlLFxuICAgKiAgICAgICAgICAgICAgICAgICAgYm9keSBhbmQgY29udGVudC10eXBlXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZ2V0Rm9sZGVyOiBmdW5jdGlvbiAocGF0aC8qLCBvcHRpb25zKi8pIHtcbiAgICByZXR1cm4gdGhpcy5fZ2V0RmlsZUlkKHBhdGgpLnRoZW4oKGlkKSA9PiB7XG4gICAgICBsZXQgZGF0YSwgZXRhZ1dpdGhvdXRRdW90ZXMsIGl0ZW1zTWFwO1xuICAgICAgaWYgKCEgaWQpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7c3RhdHVzQ29kZTogNDA0fSk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHF1ZXJ5ID0gJ1xcJycgKyBpZCArICdcXCcgaW4gcGFyZW50cyc7XG4gICAgICBjb25zdCBmaWVsZHMgPSAnaXRlbXMoZG93bmxvYWRVcmwsZXRhZyxmaWxlU2l6ZSxpZCxtaW1lVHlwZSx0aXRsZSknO1xuICAgICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoJ0dFVCcsIEJBU0VfVVJMICsgJy9kcml2ZS92Mi9maWxlcz8nXG4gICAgICAgICAgKyAncT0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHF1ZXJ5KVxuICAgICAgICAgICsgJyZmaWVsZHM9JyArIGVuY29kZVVSSUNvbXBvbmVudChmaWVsZHMpXG4gICAgICAgICAgKyAnJm1heFJlc3VsdHM9MTAwMCcsXG4gICAgICAgICAge30pXG4gICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyAhPT0gMjAwKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdyZXF1ZXN0IGZhaWxlZCBvciBzb21ldGhpbmc6ICcgKyByZXNwb25zZS5zdGF0dXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBkYXRhID0gSlNPTi5wYXJzZShyZXNwb25zZS5yZXNwb25zZVRleHQpO1xuICAgICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoJ25vbi1KU09OIHJlc3BvbnNlIGZyb20gR29vZ2xlRHJpdmUnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGl0ZW1zTWFwID0ge307XG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBkYXRhLml0ZW1zKSB7XG4gICAgICAgICAgZXRhZ1dpdGhvdXRRdW90ZXMgPSByZW1vdmVRdW90ZXMoaXRlbS5ldGFnKTtcbiAgICAgICAgICBpZiAoaXRlbS5taW1lVHlwZSA9PT0gR0RfRElSX01JTUVfVFlQRSkge1xuICAgICAgICAgICAgdGhpcy5fZmlsZUlkQ2FjaGUuc2V0KHBhdGggKyBjbGVhblBhdGgoaXRlbS50aXRsZSkgKyAnLycsIGl0ZW0uaWQpO1xuICAgICAgICAgICAgaXRlbXNNYXBbaXRlbS50aXRsZSArICcvJ10gPSB7XG4gICAgICAgICAgICAgIEVUYWc6IGV0YWdXaXRob3V0UXVvdGVzXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9maWxlSWRDYWNoZS5zZXQocGF0aCArIGNsZWFuUGF0aChpdGVtLnRpdGxlKSwgaXRlbS5pZCk7XG4gICAgICAgICAgICBpdGVtc01hcFtpdGVtLnRpdGxlXSA9IHtcbiAgICAgICAgICAgICAgRVRhZzogZXRhZ1dpdGhvdXRRdW90ZXMsXG4gICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiBpdGVtLm1pbWVUeXBlLFxuICAgICAgICAgICAgICAnQ29udGVudC1MZW5ndGgnOiBpdGVtLmZpbGVTaXplXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZJWE1FOiBhZGQgcmV2aXNpb24gb2YgZm9sZGVyIVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtzdGF0dXNDb2RlOiAyMDAsIGJvZHk6IGl0ZW1zTWFwLCBjb250ZW50VHlwZTogUlNfRElSX01JTUVfVFlQRSwgcmV2aXNpb246IHVuZGVmaW5lZH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldCB0aGUgSUQgb2YgYSBwYXJlbnQgcGF0aC5cbiAgICpcbiAgICogQ3JlYXRlcyB0aGUgZGlyZWN0b3J5IGlmIGl0IGRvZXNuJ3QgZXhpc3QgeWV0LlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCAtIEZ1bGwgcGF0aCBvZiBhIGRpcmVjdG9yeSBvciBmaWxlXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSBSZXNvbHZlcyB3aXRoIElEIG9mIHRoZSBwYXJlbnQgZGlyZWN0b3J5LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2dldFBhcmVudElkOiBmdW5jdGlvbiAocGF0aCkge1xuICAgIGNvbnN0IGZvbGRlcm5hbWUgPSBwYXJlbnRQYXRoKHBhdGgpO1xuXG4gICAgcmV0dXJuIHRoaXMuX2dldEZpbGVJZChmb2xkZXJuYW1lKS50aGVuKChwYXJlbnRJZCkgPT4ge1xuICAgICAgaWYgKHBhcmVudElkKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocGFyZW50SWQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NyZWF0ZUZvbGRlcihmb2xkZXJuYW1lKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcblxuICAvKipcbiAgICogQ3JlYXRlIGEgZGlyZWN0b3J5LlxuICAgKlxuICAgKiBDcmVhdGVzIGFsbCBwYXJlbnQgZGlyZWN0b3JpZXMgYXMgd2VsbCBpZiBhbnkgb2YgdGhlbSBkaWRuJ3QgZXhpc3QgeWV0LlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCAtIERpcmVjdG9yeSBwYXRoXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSBSZXNvbHZlcyB3aXRoIHRoZSBJRCBvZiB0aGUgbmV3IGRpcmVjdG9yeVxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2NyZWF0ZUZvbGRlcjogZnVuY3Rpb24gKHBhdGgpIHtcbiAgICByZXR1cm4gdGhpcy5fZ2V0UGFyZW50SWQocGF0aCkudGhlbigocGFyZW50SWQpID0+IHtcbiAgICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KCdQT1NUJywgQkFTRV9VUkwgKyAnL2RyaXZlL3YyL2ZpbGVzJywge1xuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgdGl0bGU6IG1ldGFUaXRsZUZyb21GaWxlTmFtZShiYXNlTmFtZShwYXRoKSksXG4gICAgICAgICAgbWltZVR5cGU6IEdEX0RJUl9NSU1FX1RZUEUsXG4gICAgICAgICAgcGFyZW50czogW3tcbiAgICAgICAgICAgIGlkOiBwYXJlbnRJZFxuICAgICAgICAgIH1dXG4gICAgICAgIH0pLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PVVURi04J1xuICAgICAgICB9XG4gICAgICB9KS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICBjb25zdCBtZXRhID0gSlNPTi5wYXJzZShyZXNwb25zZS5yZXNwb25zZVRleHQpO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG1ldGEuaWQpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldCB0aGUgSUQgb2YgYSBmaWxlLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCAtIEZpbGUgcGF0aFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gUmVzb2x2ZXMgd2l0aCB0aGUgSURcbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9nZXRGaWxlSWQ6IGZ1bmN0aW9uIChwYXRoKSB7XG4gICAgbGV0IGlkO1xuXG4gICAgaWYgKHBhdGggPT09ICcvJykge1xuICAgICAgLy8gXCJyb290XCIgaXMgYSBzcGVjaWFsIGFsaWFzIGZvciB0aGUgZmlsZUlkIG9mIHRoZSByb290IGZvbGRlclxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgncm9vdCcpO1xuICAgIH0gZWxzZSBpZiAoKGlkID0gdGhpcy5fZmlsZUlkQ2FjaGUuZ2V0KHBhdGgpKSkge1xuICAgICAgLy8gaWQgaXMgY2FjaGVkLlxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShpZCk7XG4gICAgfVxuICAgIC8vIGlkIGlzIG5vdCBjYWNoZWQgKG9yIGZpbGUgZG9lc24ndCBleGlzdCkuXG4gICAgLy8gbG9hZCBwYXJlbnQgZm9sZGVyIGxpc3RpbmcgdG8gcHJvcGFnYXRlIC8gdXBkYXRlIGlkIGNhY2hlLlxuICAgIHJldHVybiB0aGlzLl9nZXRGb2xkZXIocGFyZW50UGF0aChwYXRoKSkudGhlbigoKSA9PiB7XG4gICAgICBpZCA9IHRoaXMuX2ZpbGVJZENhY2hlLmdldChwYXRoKTtcbiAgICAgIGlmICghaWQpIHtcbiAgICAgICAgaWYgKHBhdGguc3Vic3RyKC0xKSA9PT0gJy8nKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX2NyZWF0ZUZvbGRlcihwYXRoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9nZXRGaWxlSWQocGF0aCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGlkKTtcbiAgICB9KTtcbiAgfSxcblxuICAvKipcbiAgICogR2V0IHRoZSBtZXRhZGF0YSBmb3IgYSBnaXZlbiBmaWxlIElELlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgLSBGaWxlIElEXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSBSZXNvbHZlcyB3aXRoIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBtZXRhZGF0YVxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2dldE1ldGE6IGZ1bmN0aW9uIChpZCkge1xuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KCdHRVQnLCBCQVNFX1VSTCArICcvZHJpdmUvdjIvZmlsZXMvJyArIGlkLCB7fSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKEpTT04ucGFyc2UocmVzcG9uc2UucmVzcG9uc2VUZXh0KSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXCJyZXF1ZXN0IChnZXR0aW5nIG1ldGFkYXRhIGZvciBcIiArIGlkICsgXCIpIGZhaWxlZCB3aXRoIHN0YXR1czogXCIgKyByZXNwb25zZS5zdGF0dXMpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuXG4gIC8qKlxuICAgKiBNYWtlIGEgbmV0d29yayByZXF1ZXN0LlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kIC0gUmVxdWVzdCBtZXRob2RcbiAgICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFRhcmdldCBVUkxcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBSZXF1ZXN0IG9wdGlvbnNcbiAgICogQHJldHVybnMge1Byb21pc2V9IFJlc29sdmVzIHdpdGggdGhlIHJlc3BvbnNlIG9mIHRoZSBuZXR3b3JrIHJlcXVlc3RcbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9yZXF1ZXN0OiBmdW5jdGlvbiAobWV0aG9kLCB1cmwsIG9wdGlvbnMpIHtcbiAgICBpZiAoISBvcHRpb25zLmhlYWRlcnMpIHsgb3B0aW9ucy5oZWFkZXJzID0ge307IH1cbiAgICBvcHRpb25zLmhlYWRlcnNbJ0F1dGhvcml6YXRpb24nXSA9ICdCZWFyZXIgJyArIHRoaXMudG9rZW47XG5cbiAgICB0aGlzLnJzLl9lbWl0KCd3aXJlLWJ1c3knLCB7XG4gICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgIGlzRm9sZGVyOiBpc0ZvbGRlcih1cmwpXG4gICAgfSk7XG5cbiAgICByZXR1cm4gV2lyZUNsaWVudC5yZXF1ZXN0LmNhbGwodGhpcywgbWV0aG9kLCB1cmwsIG9wdGlvbnMpLnRoZW4oKHhocikgPT4ge1xuICAgICAgLy8gR29vZ2xlIHRva2VucyBleHBpcmUgZnJvbSB0aW1lIHRvIHRpbWUuLi5cbiAgICAgIGlmICh4aHIgJiYgeGhyLnN0YXR1cyA9PT0gNDAxKSB7XG4gICAgICAgIHRoaXMuY29ubmVjdCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIXRoaXMub25saW5lKSB7XG4gICAgICAgICAgdGhpcy5vbmxpbmUgPSB0cnVlO1xuICAgICAgICAgIHRoaXMucnMuX2VtaXQoJ25ldHdvcmstb25saW5lJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ycy5fZW1pdCgnd2lyZS1kb25lJywge1xuICAgICAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgICAgIGlzRm9sZGVyOiBpc0ZvbGRlcih1cmwpLFxuICAgICAgICAgIHN1Y2Nlc3M6IHRydWVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh4aHIpO1xuICAgICAgfVxuICAgIH0sIChlcnJvcikgPT4ge1xuICAgICAgaWYgKHRoaXMub25saW5lKSB7XG4gICAgICAgIHRoaXMub25saW5lID0gZmFsc2U7XG4gICAgICAgIHRoaXMucnMuX2VtaXQoJ25ldHdvcmstb2ZmbGluZScpO1xuICAgICAgfVxuICAgICAgdGhpcy5ycy5fZW1pdCgnd2lyZS1kb25lJywge1xuICAgICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgICAgaXNGb2xkZXI6IGlzRm9sZGVyKHVybCksXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlXG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgICB9KTtcbiAgfVxufTtcblxuLyoqXG4gKiBPdmVyd3JpdGUgQmFzZUNsaWVudCdzIGdldEl0ZW1VUkwgd2l0aCBvdXIgb3duIGltcGxlbWVudGF0aW9uXG4gKlxuICogVE9ETzogU3RpbGwgbmVlZHMgdG8gYmUgaW1wbGVtZW50ZWQuIEF0IHRoZSBtb21lbnQgaXQganVzdCB0aHJvd3NcbiAqIGFuZCBlcnJvciBzYXlpbmcgdGhhdCBpdCdzIG5vdCBpbXBsZW1lbnRlZCB5ZXQuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IHJzIC0gUmVtb3RlU3RvcmFnZSBpbnN0YW5jZVxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGhvb2tHZXRJdGVtVVJMIChycyk6IHZvaWQge1xuICBpZiAocnMuX29yaWdCYXNlQ2xpZW50R2V0SXRlbVVSTCkgeyByZXR1cm47IH1cbiAgcnMuX29yaWdCYXNlQ2xpZW50R2V0SXRlbVVSTCA9IEJhc2VDbGllbnQucHJvdG90eXBlLmdldEl0ZW1VUkw7XG4gIEJhc2VDbGllbnQucHJvdG90eXBlLmdldEl0ZW1VUkwgPSBmdW5jdGlvbiAoLyogcGF0aCAqLyk6IG5ldmVyIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2dldEl0ZW1VUkwgaXMgbm90IGltcGxlbWVudGVkIGZvciBHb29nbGUgRHJpdmUgeWV0Jyk7XG4gIH07XG59XG5cbi8qKlxuICogUmVzdG9yZSBCYXNlQ2xpZW50J3MgZ2V0SXRlbVVSTCBvcmlnaW5hbCBpbXBsZW1lbnRhdGlvblxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBycyAtIFJlbW90ZVN0b3JhZ2UgaW5zdGFuY2VcbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiB1bkhvb2tHZXRJdGVtVVJMIChycyk6IHZvaWQge1xuICBpZiAoIXJzLl9vcmlnQmFzZUNsaWVudEdldEl0ZW1VUkwpIHsgcmV0dXJuOyB9XG4gIEJhc2VDbGllbnQucHJvdG90eXBlLmdldEl0ZW1VUkwgPSBycy5fb3JpZ0Jhc2VDbGllbnRHZXRJdGVtVVJMO1xuICBkZWxldGUgcnMuX29yaWdCYXNlQ2xpZW50R2V0SXRlbVVSTDtcbn1cblxuLyoqXG4gKiBJbml0aWFsaXplIHRoZSBHb29nbGUgRHJpdmUgYmFja2VuZC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gcmVtb3RlU3RvcmFnZSAtIFJlbW90ZVN0b3JhZ2UgaW5zdGFuY2VcbiAqXG4gKiBAcHJvdGVjdGVkXG4gKi9cbkdvb2dsZURyaXZlLl9yc19pbml0ID0gZnVuY3Rpb24gKHJlbW90ZVN0b3JhZ2UpOiB2b2lkIHtcbiAgY29uc3QgY29uZmlnID0gcmVtb3RlU3RvcmFnZS5hcGlLZXlzLmdvb2dsZWRyaXZlO1xuICBpZiAoY29uZmlnKSB7XG4gICAgcmVtb3RlU3RvcmFnZS5nb29nbGVkcml2ZSA9IG5ldyBHb29nbGVEcml2ZShyZW1vdGVTdG9yYWdlLCBjb25maWcuY2xpZW50SWQpO1xuICAgIGlmIChyZW1vdGVTdG9yYWdlLmJhY2tlbmQgPT09ICdnb29nbGVkcml2ZScpIHtcbiAgICAgIHJlbW90ZVN0b3JhZ2UuX29yaWdSZW1vdGUgPSByZW1vdGVTdG9yYWdlLnJlbW90ZTtcbiAgICAgIHJlbW90ZVN0b3JhZ2UucmVtb3RlID0gcmVtb3RlU3RvcmFnZS5nb29nbGVkcml2ZTtcblxuICAgICAgaG9va0dldEl0ZW1VUkwocmVtb3RlU3RvcmFnZSk7XG4gICAgfVxuICB9XG59O1xuXG4vKipcbiAqIEluZm9ybSBhYm91dCB0aGUgYXZhaWxhYmlsaXR5IG9mIHRoZSBHb29nbGUgRHJpdmUgYmFja2VuZC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gcnMgLSBSZW1vdGVTdG9yYWdlIGluc3RhbmNlXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAqXG4gKiBAcHJvdGVjdGVkXG4gKi9cbkdvb2dsZURyaXZlLl9yc19zdXBwb3J0ZWQgPSBmdW5jdGlvbiAoKTogYm9vbGVhbiB7XG4gIHJldHVybiB0cnVlO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgR29vZ2xlIERyaXZlIGFzIGEgYmFja2VuZC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gcmVtb3RlU3RvcmFnZSAtIFJlbW90ZVN0b3JhZ2UgaW5zdGFuY2VcbiAqXG4gKiBAcHJvdGVjdGVkXG4gKi9cbkdvb2dsZURyaXZlLl9yc19jbGVhbnVwID0gZnVuY3Rpb24gKHJlbW90ZVN0b3JhZ2UpOiB2b2lkIHtcbiAgcmVtb3RlU3RvcmFnZS5zZXRCYWNrZW5kKHVuZGVmaW5lZCk7XG4gIGlmIChyZW1vdGVTdG9yYWdlLl9vcmlnUmVtb3RlKSB7XG4gICAgcmVtb3RlU3RvcmFnZS5yZW1vdGUgPSByZW1vdGVTdG9yYWdlLl9vcmlnUmVtb3RlO1xuICAgIGRlbGV0ZSByZW1vdGVTdG9yYWdlLl9vcmlnUmVtb3RlO1xuICB9XG4gIHVuSG9va0dldEl0ZW1VUkwocmVtb3RlU3RvcmFnZSk7XG59O1xuXG5pbnRlcmZhY2UgR29vZ2xlRHJpdmUgZXh0ZW5kcyBFdmVudEhhbmRsaW5nIHt9O1xuYXBwbHlNaXhpbnMoR29vZ2xlRHJpdmUsIFtFdmVudEhhbmRsaW5nXSk7XG5cbmV4cG9ydCBkZWZhdWx0IEdvb2dsZURyaXZlO1xuIiwiaW1wb3J0IEV2ZW50SGFuZGxpbmcgZnJvbSAnLi9ldmVudGhhbmRsaW5nJztcbmltcG9ydCBXaXJlQ2xpZW50IGZyb20gJy4vd2lyZWNsaWVudCc7XG5pbXBvcnQgQmFzZUNsaWVudCBmcm9tICcuL2Jhc2VjbGllbnQnO1xuaW1wb3J0IFJldmlzaW9uQ2FjaGUgZnJvbSAnLi9yZXZpc2lvbmNhY2hlJztcbmltcG9ydCBTeW5jRXJyb3IgZnJvbSAnLi9zeW5jLWVycm9yJztcbmltcG9ydCBVbmF1dGhvcml6ZWRFcnJvciBmcm9tICcuL3VuYXV0aG9yaXplZC1lcnJvcic7XG5pbXBvcnQge1xuICBhcHBseU1peGlucyxcbiAgY2xlYW5QYXRoLFxuICBpc0ZvbGRlcixcbiAgc2hvdWxkQmVUcmVhdGVkQXNCaW5hcnksXG4gIGdldEpTT05Gcm9tTG9jYWxTdG9yYWdlLFxuICBnZXRUZXh0RnJvbUFycmF5QnVmZmVyLFxuICBsb2NhbFN0b3JhZ2VBdmFpbGFibGVcbn0gZnJvbSAnLi91dGlsJztcblxuLyoqXG4gKiBXT1JLIElOIFBST0dSRVNTLCBOT1QgUkVDT01NRU5ERUQgRk9SIFBST0RVQ1RJT04gVVNFXG4gKlxuICogRHJvcGJveCBiYWNrZW5kIGZvciBSZW1vdGVTdG9yYWdlLmpzXG4gKiBUaGlzIGZpbGUgZXhwb3NlcyBhIGdldC9wdXQvZGVsZXRlIGludGVyZmFjZSB3aGljaCBpcyBjb21wYXRpYmxlIHdpdGhcbiAqIDxXaXJlQ2xpZW50Pi5cbiAqXG4gKiBXaGVuIHJlbW90ZVN0b3JhZ2UuYmFja2VuZCBpcyBzZXQgdG8gJ2Ryb3Bib3gnLCB0aGlzIGJhY2tlbmQgd2lsbFxuICogaW5pdGlhbGl6ZSBhbmQgcmVwbGFjZSByZW1vdGVTdG9yYWdlLnJlbW90ZSB3aXRoIHJlbW90ZVN0b3JhZ2UuZHJvcGJveC5cbiAqXG4gKiBJbiBvcmRlciB0byBlbnN1cmUgY29tcGF0aWJpbGl0eSB3aXRoIHRoZSBwdWJsaWMgZm9sZGVyLCA8QmFzZUNsaWVudC5nZXRJdGVtVVJMPlxuICogZ2V0cyBoaWphY2tlZCB0byByZXR1cm4gdGhlIERyb3Bib3ggcHVibGljIHNoYXJlIFVSTC5cbiAqXG4gKiBUbyB1c2UgdGhpcyBiYWNrZW5kLCB5b3UgbmVlZCB0byBzcGVjaWZ5IHRoZSBEcm9wYm94IGFwcCBrZXkgbGlrZSBzbzpcbiAqXG4gKiBAZXhhbXBsZVxuICogcmVtb3RlU3RvcmFnZS5zZXRBcGlLZXlzKHtcbiAqICAgZHJvcGJveDogJ3lvdXItYXBwLWtleSdcbiAqIH0pO1xuICpcbiAqIEFuIGFwcCBrZXkgY2FuIGJlIG9idGFpbmVkIGJ5IHJlZ2lzdGVyaW5nIHlvdXIgYXBwIGF0IGh0dHBzOi8vd3d3LmRyb3Bib3guY29tL2RldmVsb3BlcnMvYXBwc1xuICpcbiAqIEtub3duIGlzc3VlczpcbiAqXG4gKiAgIC0gU3RvcmluZyBmaWxlcyBsYXJnZXIgdGhhbiAxNTBNQiBpcyBub3QgeWV0IHN1cHBvcnRlZFxuICogICAtIExpc3RpbmcgYW5kIGRlbGV0aW5nIGZvbGRlcnMgd2l0aCBtb3JlIHRoYW4gMTAnMDAwIGZpbGVzIHdpbGwgY2F1c2UgcHJvYmxlbXNcbiAqICAgLSBDb250ZW50LVR5cGUgaXMgbm90IGZ1bGx5IHN1cHBvcnRlZCBkdWUgdG8gbGltaXRhdGlvbnMgb2YgdGhlIERyb3Bib3ggQVBJXG4gKiAgIC0gRHJvcGJveCBwcmVzZXJ2ZXMgY2FzZXMgYnV0IGlzIG5vdCBjYXNlLXNlbnNpdGl2ZVxuICogICAtIGdldEl0ZW1VUkwgaXMgYXN5bmNocm9ub3VzIHdoaWNoIG1lYW5zIGl0IHJldHVybnMgdXNlZnVsIHZhbHVlc1xuICogICAgIGFmdGVyIHRoZSBzeW5jQ3ljbGVcbiAqL1xuXG5sZXQgaGFzTG9jYWxTdG9yYWdlO1xuY29uc3QgQVVUSF9VUkwgPSAnaHR0cHM6Ly93d3cuZHJvcGJveC5jb20vb2F1dGgyL2F1dGhvcml6ZSc7XG5jb25zdCBTRVRUSU5HU19LRVkgPSAncmVtb3Rlc3RvcmFnZTpkcm9wYm94JztcbmNvbnN0IFBBVEhfUFJFRklYID0gJy9yZW1vdGVzdG9yYWdlJztcblxuLyoqXG4gKiBNYXAgYSBsb2NhbCBwYXRoIHRvIGEgcGF0aCBpbiBEcm9wYm94LlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIC0gUGF0aFxuICogQHJldHVybnMge3N0cmluZ30gQWN0dWFsIHBhdGggaW4gRHJvcGJveFxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGdldERyb3Bib3hQYXRoIChwYXRoOiBzdHJpbmcpOiBzdHJpbmcge1xuICByZXR1cm4gY2xlYW5QYXRoKFBBVEhfUFJFRklYICsgJy8nICsgcGF0aCkucmVwbGFjZSgvXFwvJC8sICcnKTtcbn07XG5cbmZ1bmN0aW9uIGNvbXBhcmVBcGlFcnJvciAocmVzcG9uc2UsIGV4cGVjdCkge1xuICByZXR1cm4gbmV3IFJlZ0V4cCgnXicgKyBleHBlY3Quam9pbignXFxcXC8nKSArICcoXFxcXC98JCknKS50ZXN0KHJlc3BvbnNlLmVycm9yX3N1bW1hcnkpO1xufTtcblxuZnVuY3Rpb24gaXNCaW5hcnlEYXRhIChkYXRhKSB7XG4gIHJldHVybiBkYXRhIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIgfHwgV2lyZUNsaWVudC5pc0FycmF5QnVmZmVyVmlldyhkYXRhKTtcbn07XG5cbi8qKlxuICogQGNsYXNzXG4gKi9cbmNsYXNzIERyb3Bib3gge1xuICByczogYW55O1xuICBjb25uZWN0ZWQ6IGJvb2xlYW47XG4gIG9ubGluZTogYm9vbGVhbjtcbiAgY2xpZW50SWQ6IHN0cmluZztcbiAgdG9rZW46IHN0cmluZztcbiAgdXNlckFkZHJlc3M6IHN0cmluZztcblxuICBfaW5pdGlhbEZldGNoRG9uZTogYm9vbGVhbjtcbiAgX3JldkNhY2hlOiBSZXZpc2lvbkNhY2hlO1xuICBfZmV0Y2hEZWx0YUN1cnNvcjogYW55O1xuICBfZmV0Y2hEZWx0YVByb21pc2U6IGFueTtcbiAgX2l0ZW1SZWZzOiBhbnk7XG5cbiAgLy8gVE9ETyByZW1vdmUgd2hlbiByZWZhY3RvcmluZyBldmVudGhhbmRsaW5nXG4gIF9lbWl0OiBhbnk7XG5cbiAgY29uc3RydWN0b3IgKHJzKSB7XG4gICAgdGhpcy5ycyA9IHJzO1xuICAgIHRoaXMuY29ubmVjdGVkID0gZmFsc2U7XG4gICAgdGhpcy5vbmxpbmUgPSB0cnVlOyAvLyBUT0RPIGltcGxlbWVudCBvZmZsaW5lIGRldGVjdGlvbiBvbiBmYWlsZWQgcmVxdWVzdFxuICAgIHRoaXMuX2luaXRpYWxGZXRjaERvbmUgPSBmYWxzZTtcblxuICAgIHRoaXMuYWRkRXZlbnRzKFsnY29ubmVjdGVkJywgJ25vdC1jb25uZWN0ZWQnXSk7XG5cbiAgICB0aGlzLmNsaWVudElkID0gcnMuYXBpS2V5cy5kcm9wYm94LmFwcEtleTtcbiAgICB0aGlzLl9yZXZDYWNoZSA9IG5ldyBSZXZpc2lvbkNhY2hlKCdyZXYnKTtcbiAgICB0aGlzLl9mZXRjaERlbHRhQ3Vyc29yID0gbnVsbDtcbiAgICB0aGlzLl9mZXRjaERlbHRhUHJvbWlzZSA9IG51bGw7XG4gICAgdGhpcy5faXRlbVJlZnMgPSB7fTtcblxuICAgIGhhc0xvY2FsU3RvcmFnZSA9IGxvY2FsU3RvcmFnZUF2YWlsYWJsZSgpO1xuXG4gICAgaWYgKGhhc0xvY2FsU3RvcmFnZSl7XG4gICAgICBjb25zdCBzZXR0aW5ncyA9IGdldEpTT05Gcm9tTG9jYWxTdG9yYWdlKFNFVFRJTkdTX0tFWSk7XG4gICAgICBpZiAoc2V0dGluZ3MpIHtcbiAgICAgICAgdGhpcy5jb25maWd1cmUoc2V0dGluZ3MpO1xuICAgICAgfVxuICAgICAgdGhpcy5faXRlbVJlZnMgPSBnZXRKU09ORnJvbUxvY2FsU3RvcmFnZShgJHtTRVRUSU5HU19LRVl9OnNoYXJlc2ApIHx8IHt9O1xuICAgIH1cbiAgICBpZiAodGhpcy5jb25uZWN0ZWQpIHtcbiAgICAgIHNldFRpbWVvdXQodGhpcy5fZW1pdC5iaW5kKHRoaXMpLCAwLCAnY29ubmVjdGVkJyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgYmFja2VkIHRvICdkcm9wYm94JyBhbmQgc3RhcnQgdGhlIGF1dGhlbnRpY2F0aW9uIGZsb3cgaW4gb3JkZXJcbiAgICogdG8gb2J0YWluIGFuIEFQSSB0b2tlbiBmcm9tIERyb3Bib3guXG4gICAqL1xuICBjb25uZWN0ICgpIHtcbiAgICAvLyBUT0RPIGhhbmRsaW5nIHdoZW4gdG9rZW4gaXMgYWxyZWFkeSBwcmVzZW50XG4gICAgdGhpcy5ycy5zZXRCYWNrZW5kKCdkcm9wYm94Jyk7XG4gICAgaWYgKHRoaXMudG9rZW4pe1xuICAgICAgaG9va0l0KHRoaXMucnMpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJzLmF1dGhvcml6ZSh7IGF1dGhVUkw6IEFVVEhfVVJMLCBzY29wZTogJycsIGNsaWVudElkOiB0aGlzLmNsaWVudElkIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBjb25uZWN0ZWQgZmxhZ1xuICAgKiBBY2NlcHRzIGl0cyBwYXJhbWV0ZXJzIGFjY29yZGluZyB0byB0aGUgPFdpcmVDbGllbnQ+LlxuICAgKiBAcGFyYW0ge09iamVjdH0gc2V0dGluZ3NcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtzZXR0aW5ncy51c2VyQWRkcmVzc10gLSBUaGUgdXNlcidzIGVtYWlsIGFkZHJlc3NcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtzZXR0aW5ncy50b2tlbl0gLSBBdXRob3JpemF0aW9uIHRva2VuXG4gICAqXG4gICAqIEBwcm90ZWN0ZWRcbiAgICoqL1xuICBjb25maWd1cmUgKHNldHRpbmdzKSB7XG4gICAgLy8gV2Ugb25seSB1cGRhdGUgdGhpcy51c2VyQWRkcmVzcyBpZiBzZXR0aW5ncy51c2VyQWRkcmVzcyBpcyBzZXQgdG8gYSBzdHJpbmcgb3IgdG8gbnVsbDpcbiAgICBpZiAodHlwZW9mIHNldHRpbmdzLnVzZXJBZGRyZXNzICE9PSAndW5kZWZpbmVkJykgeyB0aGlzLnVzZXJBZGRyZXNzID0gc2V0dGluZ3MudXNlckFkZHJlc3M7IH1cbiAgICAvLyBTYW1lIGZvciB0aGlzLnRva2VuLiBJZiBvbmx5IG9uZSBvZiB0aGVzZSB0d28gaXMgc2V0LCB3ZSBsZWF2ZSB0aGUgb3RoZXIgb25lIGF0IGl0cyBleGlzdGluZyB2YWx1ZTpcbiAgICBpZiAodHlwZW9mIHNldHRpbmdzLnRva2VuICE9PSAndW5kZWZpbmVkJykgeyB0aGlzLnRva2VuID0gc2V0dGluZ3MudG9rZW47IH1cblxuICAgIGNvbnN0IHdyaXRlU2V0dGluZ3NUb0NhY2hlID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoaGFzTG9jYWxTdG9yYWdlKSB7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFNFVFRJTkdTX0tFWSwgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIHVzZXJBZGRyZXNzOiB0aGlzLnVzZXJBZGRyZXNzLFxuICAgICAgICAgIHRva2VuOiB0aGlzLnRva2VuXG4gICAgICAgIH0pKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlRXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuY29ubmVjdGVkID0gZmFsc2U7XG4gICAgICBpZiAoaGFzTG9jYWxTdG9yYWdlKSB7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFNFVFRJTkdTX0tFWSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGlmICh0aGlzLnRva2VuKSB7XG4gICAgICB0aGlzLmNvbm5lY3RlZCA9IHRydWU7XG4gICAgICBpZiAodGhpcy51c2VyQWRkcmVzcykge1xuICAgICAgICB0aGlzLl9lbWl0KCdjb25uZWN0ZWQnKTtcbiAgICAgICAgd3JpdGVTZXR0aW5nc1RvQ2FjaGUuYXBwbHkodGhpcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmluZm8oKS50aGVuKGZ1bmN0aW9uIChpbmZvKXtcbiAgICAgICAgICB0aGlzLnVzZXJBZGRyZXNzID0gaW5mby5lbWFpbDtcbiAgICAgICAgICB0aGlzLl9lbWl0KCdjb25uZWN0ZWQnKTtcbiAgICAgICAgICB3cml0ZVNldHRpbmdzVG9DYWNoZS5hcHBseSh0aGlzKTtcbiAgICAgICAgfS5iaW5kKHRoaXMpKS5jYXRjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICBoYW5kbGVFcnJvci5hcHBseSh0aGlzKTtcbiAgICAgICAgICB0aGlzLnJzLl9lbWl0KCdlcnJvcicsIG5ldyBFcnJvcignQ291bGQgbm90IGZldGNoIHVzZXIgaW5mby4nKSk7XG4gICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGhhbmRsZUVycm9yLmFwcGx5KHRoaXMpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTdG9wIHdhaXRpbmcgZm9yIHRoZSB0b2tlbiBhbmQgZW1pdCBub3QtY29ubmVjdGVkXG4gICAqXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIHN0b3BXYWl0aW5nRm9yVG9rZW4gKCkge1xuICAgIGlmICghdGhpcy5jb25uZWN0ZWQpIHtcbiAgICAgIHRoaXMuX2VtaXQoJ25vdC1jb25uZWN0ZWQnKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IGFsbCBpdGVtcyBpbiBhIGZvbGRlci5cbiAgICpcbiAgICogQHBhcmFtIHBhdGgge3N0cmluZ30gLSBwYXRoIG9mIHRoZSBmb2xkZXIgdG8gZ2V0LCB3aXRoIGxlYWRpbmcgc2xhc2hcbiAgICogQHJldHVybiB7T2JqZWN0fVxuICAgKiAgICAgICAgIHN0YXR1c0NvZGUgLSBIVFRQIHN0YXR1cyBjb2RlXG4gICAqICAgICAgICAgYm9keSAtIGFycmF5IG9mIHRoZSBpdGVtcyBmb3VuZFxuICAgKiAgICAgICAgIGNvbnRlbnRUeXBlIC0gJ2FwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9VVRGLTgnXG4gICAqICAgICAgICAgcmV2aXNpb24gLSByZXZpc2lvbiBvZiB0aGUgZm9sZGVyXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZ2V0Rm9sZGVyIChwYXRoKSB7XG4gICAgY29uc3QgdXJsID0gJ2h0dHBzOi8vYXBpLmRyb3Bib3hhcGkuY29tLzIvZmlsZXMvbGlzdF9mb2xkZXInO1xuICAgIGNvbnN0IHJldkNhY2hlID0gdGhpcy5fcmV2Q2FjaGU7XG5cbiAgICBjb25zdCBwcm9jZXNzUmVzcG9uc2UgPSAocmVzcCkgPT4ge1xuICAgICAgbGV0IGJvZHk7XG5cbiAgICAgIGlmIChyZXNwLnN0YXR1cyAhPT0gMjAwICYmIHJlc3Auc3RhdHVzICE9PSA0MDkpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdVbmV4cGVjdGVkIHJlc3BvbnNlIHN0YXR1czogJyArIHJlc3Auc3RhdHVzKTtcbiAgICAgIH1cblxuICAgICAgdHJ5IHtcbiAgICAgICAgYm9keSA9IEpTT04ucGFyc2UocmVzcC5yZXNwb25zZVRleHQpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChyZXNwLnN0YXR1cyA9PT0gNDA5KSB7XG4gICAgICAgIGlmIChjb21wYXJlQXBpRXJyb3IoYm9keSwgWydwYXRoJywgJ25vdF9mb3VuZCddKSkge1xuICAgICAgICAgIC8vIGlmIHRoZSBmb2xkZXIgaXMgbm90IGZvdW5kLCBoYW5kbGUgaXQgYXMgYW4gZW1wdHkgZm9sZGVyXG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7fSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdBUEkgcmV0dXJuZWQgYW4gZXJyb3I6ICcgKyBib2R5LmVycm9yX3N1bW1hcnkpKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgbGlzdGluZyA9IGJvZHkuZW50cmllcy5yZWR1Y2UoKG1hcCwgaXRlbSkgPT4ge1xuICAgICAgICBjb25zdCBpc0RpciA9IGl0ZW1bJy50YWcnXSA9PT0gJ2ZvbGRlcic7XG4gICAgICAgIGNvbnN0IGl0ZW1OYW1lID0gaXRlbS5wYXRoX2xvd2VyLnNwbGl0KCcvJykuc2xpY2UoLTEpWzBdICsgKGlzRGlyID8gJy8nIDogJycpO1xuICAgICAgICBpZiAoaXNEaXIpe1xuICAgICAgICAgIG1hcFtpdGVtTmFtZV0gPSB7IEVUYWc6IHJldkNhY2hlLmdldChwYXRoK2l0ZW1OYW1lKSB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1hcFtpdGVtTmFtZV0gPSB7IEVUYWc6IGl0ZW0ucmV2IH07XG4gICAgICAgICAgdGhpcy5fcmV2Q2FjaGUuc2V0KHBhdGgraXRlbU5hbWUsIGl0ZW0ucmV2KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWFwO1xuICAgICAgfSwge30pO1xuXG4gICAgICBpZiAoYm9keS5oYXNfbW9yZSkge1xuICAgICAgICByZXR1cm4gbG9hZE5leHQoYm9keS5jdXJzb3IpLnRoZW4oZnVuY3Rpb24gKG5leHRMaXN0aW5nKSB7XG4gICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24obGlzdGluZywgbmV4dExpc3RpbmcpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShsaXN0aW5nKTtcbiAgICB9O1xuXG4gICAgY29uc3QgbG9hZE5leHQgPSAoY3Vyc29yKSA9PiB7XG4gICAgICBjb25zdCBjb250aW51ZVVSTCA9ICdodHRwczovL2FwaS5kcm9wYm94YXBpLmNvbS8yL2ZpbGVzL2xpc3RfZm9sZGVyL2NvbnRpbnVlJztcbiAgICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgICAgYm9keTogeyBjdXJzb3I6IGN1cnNvciB9XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gdGhpcy5fcmVxdWVzdCgnUE9TVCcsIGNvbnRpbnVlVVJMLCBwYXJhbXMpLnRoZW4ocHJvY2Vzc1Jlc3BvbnNlKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoJ1BPU1QnLCB1cmwsIHtcbiAgICAgIGJvZHk6IHtcbiAgICAgICAgcGF0aDogZ2V0RHJvcGJveFBhdGgocGF0aClcbiAgICAgIH1cbiAgICB9KS50aGVuKHByb2Nlc3NSZXNwb25zZSkudGhlbihmdW5jdGlvbiAobGlzdGluZykge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgIHN0YXR1c0NvZGU6IDIwMCxcbiAgICAgICAgYm9keTogbGlzdGluZyxcbiAgICAgICAgY29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PVVURi04JyxcbiAgICAgICAgcmV2aXNpb246IHJldkNhY2hlLmdldChwYXRoKVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGZvciB0aGUgcGF0aCBpbiBgYF9yZXZDYWNoZWBgIGFuZCBkZWNpZGVzIGJhc2VkIG9uIHRoYXQgaWYgZmlsZVxuICAgKiBoYXMgY2hhbmdlZC4gQ2FsbHMgYGBfZ2V0Rm9sZGVyYGAgaXMgdGhlIHBhdGggcG9pbnRzIHRvIGEgZm9sZGVyLlxuICAgKlxuICAgKiBDYWxscyBgYERyb3Bib3guc2hhcmVgYCBhZnRlcndhcmRzIHRvIGZpbGwgYGBfaXRlbVJlZnNgYC5cbiAgICpcbiAgICogQ29tcGF0aWJsZSB3aXRoIGBgV2lyZUNsaWVudC5nZXRgYFxuICAgKlxuICAgKiBAcGFyYW0gcGF0aCB7c3RyaW5nfSAtIHBhdGggb2YgdGhlIGZvbGRlciB0byBnZXQsIHdpdGggbGVhZGluZyBzbGFzaFxuICAgKiBAcGFyYW0gb3B0aW9ucyB7T2JqZWN0fVxuICAgKlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBnZXQgKHBhdGgsIG9wdGlvbnMpIHtcbiAgICBpZiAoISB0aGlzLmNvbm5lY3RlZCkgeyByZXR1cm4gUHJvbWlzZS5yZWplY3QoXCJub3QgY29ubmVjdGVkIChwYXRoOiBcIiArIHBhdGggKyBcIilcIik7IH1cbiAgICBjb25zdCB1cmwgPSAnaHR0cHM6Ly9jb250ZW50LmRyb3Bib3hhcGkuY29tLzIvZmlsZXMvZG93bmxvYWQnO1xuXG4gICAgY29uc3Qgc2F2ZWRSZXYgPSB0aGlzLl9yZXZDYWNoZS5nZXQocGF0aCk7XG4gICAgaWYgKHNhdmVkUmV2ID09PSBudWxsKSB7XG4gICAgICAvLyBmaWxlIHdhcyBkZWxldGVkIHNlcnZlciBzaWRlXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtzdGF0dXNDb2RlOiA0MDR9KTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5pZk5vbmVNYXRjaCkge1xuICAgICAgLy8gV2UgbXVzdCB3YWl0IGZvciBsb2NhbCByZXZpc2lvbiBjYWNoZSB0byBiZSBpbml0aWFsaXplZCBiZWZvcmVcbiAgICAgIC8vIGNoZWNraW5nIGlmIGxvY2FsIHJldmlzaW9uIGlzIG91dGRhdGVkXG4gICAgICBpZiAoISB0aGlzLl9pbml0aWFsRmV0Y2hEb25lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZldGNoRGVsdGEoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5nZXQocGF0aCwgb3B0aW9ucyk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoc2F2ZWRSZXYgJiYgKHNhdmVkUmV2ID09PSBvcHRpb25zLmlmTm9uZU1hdGNoKSkge1xuICAgICAgICAvLyBub3RoaW5nIGNoYW5nZWQuXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe3N0YXR1c0NvZGU6IDMwNH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIHVzZSBfZ2V0Rm9sZGVyIGZvciBmb2xkZXJzXG4gICAgaWYgKHBhdGguc3Vic3RyKC0xKSA9PT0gJy8nKSB7XG4gICAgICByZXR1cm4gdGhpcy5fZ2V0Rm9sZGVyKHBhdGgpO1xuICAgIH1cblxuICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ0Ryb3Bib3gtQVBJLUFyZyc6IEpTT04uc3RyaW5naWZ5KHtwYXRoOiBnZXREcm9wYm94UGF0aChwYXRoKX0pLFxuICAgICAgfSxcbiAgICAgIHJlc3BvbnNlVHlwZTogJ2FycmF5YnVmZmVyJ1xuICAgIH07XG4gICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5pZk5vbmVNYXRjaCkge1xuICAgICAgcGFyYW1zLmhlYWRlcnNbJ0lmLU5vbmUtTWF0Y2gnXSA9IG9wdGlvbnMuaWZOb25lTWF0Y2g7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoJ0dFVCcsIHVybCwgcGFyYW1zKS50aGVuKHJlc3AgPT4ge1xuICAgICAgY29uc3Qgc3RhdHVzID0gcmVzcC5zdGF0dXM7XG4gICAgICBsZXQgbWV0YSwgYm9keSwgbWltZSwgcmV2O1xuICAgICAgaWYgKHN0YXR1cyAhPT0gMjAwICYmIHN0YXR1cyAhPT0gNDA5KSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe3N0YXR1c0NvZGU6IHN0YXR1c30pO1xuICAgICAgfVxuICAgICAgbWV0YSA9IHJlc3AuZ2V0UmVzcG9uc2VIZWFkZXIoJ0Ryb3Bib3gtQVBJLVJlc3VsdCcpO1xuICAgICAgLy9maXJzdCBlbmNvZGUgdGhlIHJlc3BvbnNlIGFzIHRleHQsIGFuZCBsYXRlciBjaGVjayBpZiBcbiAgICAgIC8vdGV4dCBhcHBlYXJzIHRvIGFjdHVhbGx5IGJlIGJpbmFyeSBkYXRhXG4gICAgICByZXR1cm4gZ2V0VGV4dEZyb21BcnJheUJ1ZmZlcihyZXNwLnJlc3BvbnNlLCAnVVRGLTgnKS50aGVuKHJlc3BvbnNlVGV4dCA9PiB7XG4gICAgICAgIGJvZHkgPSByZXNwb25zZVRleHQ7XG4gICAgICAgIGlmIChzdGF0dXMgPT09IDQwOSkge1xuICAgICAgICAgIG1ldGEgPSBib2R5O1xuICAgICAgICB9XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBtZXRhID0gSlNPTi5wYXJzZShtZXRhKTtcbiAgICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHN0YXR1cyA9PT0gNDA5KSB7XG4gICAgICAgICAgaWYgKGNvbXBhcmVBcGlFcnJvcihtZXRhLCBbJ3BhdGgnLCAnbm90X2ZvdW5kJ10pKSB7XG4gICAgICAgICAgICByZXR1cm4ge3N0YXR1c0NvZGU6IDQwNH07XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ0FQSSBlcnJvciB3aGlsZSBkb3dubG9hZGluZyBmaWxlIChcIicgKyBwYXRoICsgJ1wiKTogJyArIG1ldGEuZXJyb3Jfc3VtbWFyeSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgbWltZSA9IHJlc3AuZ2V0UmVzcG9uc2VIZWFkZXIoJ0NvbnRlbnQtVHlwZScpO1xuICAgICAgICByZXYgPSBtZXRhLnJldjtcbiAgICAgICAgdGhpcy5fcmV2Q2FjaGUuc2V0KHBhdGgsIHJldik7XG4gICAgICAgIHRoaXMuX3NoYXJlSWZOZWVkZWQocGF0aCk7XG5cbiAgICAgICAgaWYgKHNob3VsZEJlVHJlYXRlZEFzQmluYXJ5KHJlc3BvbnNlVGV4dCwgbWltZSkpIHtcbiAgICAgICAgICAvLyByZXR1cm4gdW5wcm9jZXNzZWQgcmVzcG9uc2VcbiAgICAgICAgICBib2R5ID0gcmVzcC5yZXNwb25zZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBoYW5kbGluZyBqc29uIChhbHdheXMgdHJ5KVxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBib2R5ID0gSlNPTi5wYXJzZShib2R5KTtcbiAgICAgICAgICAgIG1pbWUgPSAnYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD1VVEYtOCc7XG4gICAgICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgICAgICAvL0ZhaWxlZCBwYXJzaW5nIEpzb24sIGFzc3VtZSBpdCBpcyBzb21ldGhpbmcgZWxzZSB0aGVuXG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzdGF0dXNDb2RlOiBzdGF0dXMsXG4gICAgICAgICAgYm9keTogYm9keSxcbiAgICAgICAgICBjb250ZW50VHlwZTogbWltZSxcbiAgICAgICAgICByZXZpc2lvbjogcmV2XG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgZm9yIHRoZSBwYXRoIGluIGBgX3JldkNhY2hlYGAgYW5kIGRlY2lkZXMgYmFzZWQgb24gdGhhdCBpZiBmaWxlXG4gICAqIGhhcyBjaGFuZ2VkLlxuICAgKlxuICAgKiBDb21wYXRpYmxlIHdpdGggYGBXaXJlQ2xpZW50YGBcbiAgICpcbiAgICogQ2FsbHMgYGBEcm9wYm94LnNoYXJlYGAgYWZ0ZXJ3YXJkcyB0byBmaWxsIGBgX2l0ZW1SZWZzYGAuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIC0gcGF0aCBvZiB0aGUgZm9sZGVyIHRvIHB1dCwgd2l0aCBsZWFkaW5nIHNsYXNoXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25zLmlmTm9uZU1hdGNoIC0gT25seSBjcmVhdGUgb2YgdXBkYXRlIHRoZSBmaWxlIGlmIHRoZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgRVRhZyBkb2Vzbid0IG1hdGNoIHRoaXMgc3RyaW5nXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSBSZXNvbHZlcyB3aXRoIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBzdGF0dXMgY29kZSxcbiAgICogICAgICAgICAgICAgICAgICAgIGNvbnRlbnQtdHlwZSBhbmQgcmV2aXNpb25cbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgcHV0IChwYXRoLCBib2R5LCBjb250ZW50VHlwZSwgb3B0aW9ucykge1xuICAgIGlmICghdGhpcy5jb25uZWN0ZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vdCBjb25uZWN0ZWQgKHBhdGg6IFwiICsgcGF0aCArIFwiKVwiKTtcbiAgICB9XG5cbiAgICAvLyBjaGVjayBpZiBmaWxlIGhhcyBjaGFuZ2VkIGFuZCByZXR1cm4gNDEyXG4gICAgY29uc3Qgc2F2ZWRSZXYgPSB0aGlzLl9yZXZDYWNoZS5nZXQocGF0aCk7XG4gICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5pZk1hdGNoICYmXG4gICAgICAgIHNhdmVkUmV2ICYmIChzYXZlZFJldiAhPT0gb3B0aW9ucy5pZk1hdGNoKSkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7c3RhdHVzQ29kZTogNDEyLCByZXZpc2lvbjogc2F2ZWRSZXZ9KTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMgJiYgKG9wdGlvbnMuaWZOb25lTWF0Y2ggPT09ICcqJykgJiZcbiAgICAgICAgc2F2ZWRSZXYgJiYgKHNhdmVkUmV2ICE9PSAncmV2JykpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe3N0YXR1c0NvZGU6IDQxMiwgcmV2aXNpb246IHNhdmVkUmV2fSk7XG4gICAgfVxuXG4gICAgaWYgKCghY29udGVudFR5cGUubWF0Y2goL2NoYXJzZXQ9LykpICYmIGlzQmluYXJ5RGF0YShib2R5KSkge1xuICAgICAgY29udGVudFR5cGUgKz0gJzsgY2hhcnNldD1iaW5hcnknO1xuICAgIH1cblxuICAgIGlmIChib2R5Lmxlbmd0aCA+IDE1MCAqIDEwMjQgKiAxMDI0KSB7XG4gICAgICAvL2h0dHBzOi8vd3d3LmRyb3Bib3guY29tL2RldmVsb3BlcnMvY29yZS9kb2NzI2NodW5rZWQtdXBsb2FkXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiQ2Fubm90IHVwbG9hZCBmaWxlIGxhcmdlciB0aGFuIDE1ME1CXCIpKTtcbiAgICB9XG5cbiAgICBsZXQgcmVzdWx0O1xuICAgIGNvbnN0IG5lZWRzTWV0YWRhdGEgPSBvcHRpb25zICYmIChvcHRpb25zLmlmTWF0Y2ggfHwgKG9wdGlvbnMuaWZOb25lTWF0Y2ggPT09ICcqJykpO1xuICAgIGNvbnN0IHVwbG9hZFBhcmFtcyA9IHtcbiAgICAgIGJvZHk6IGJvZHksXG4gICAgICBjb250ZW50VHlwZTogY29udGVudFR5cGUsXG4gICAgICBwYXRoOiBwYXRoXG4gICAgfTtcblxuICAgIGlmIChuZWVkc01ldGFkYXRhKSB7XG4gICAgICByZXN1bHQgPSB0aGlzLl9nZXRNZXRhZGF0YShwYXRoKS50aGVuKG1ldGFkYXRhID0+IHtcbiAgICAgICAgaWYgKG9wdGlvbnMgJiYgKG9wdGlvbnMuaWZOb25lTWF0Y2ggPT09ICcqJykgJiYgbWV0YWRhdGEpIHtcbiAgICAgICAgICAvLyBpZiAhIW1ldGFkYXRhID09PSB0cnVlLCB0aGUgZmlsZSBleGlzdHNcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICAgIHN0YXR1c0NvZGU6IDQxMixcbiAgICAgICAgICAgIHJldmlzaW9uOiBtZXRhZGF0YS5yZXZcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuaWZNYXRjaCAmJiBtZXRhZGF0YSAmJiAobWV0YWRhdGEucmV2ICE9PSBvcHRpb25zLmlmTWF0Y2gpKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgICAgICBzdGF0dXNDb2RlOiA0MTIsXG4gICAgICAgICAgICByZXZpc2lvbjogbWV0YWRhdGEucmV2XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5fdXBsb2FkU2ltcGxlKHVwbG9hZFBhcmFtcyk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0ID0gdGhpcy5fdXBsb2FkU2ltcGxlKHVwbG9hZFBhcmFtcyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdC50aGVuKHJlcyA9PiB7XG4gICAgICB0aGlzLl9zaGFyZUlmTmVlZGVkKHBhdGgpO1xuICAgICAgcmV0dXJuIHJlcztcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgZm9yIHRoZSBwYXRoIGluIGBgX3JldkNhY2hlYGAgYW5kIGRlY2lkZXMgYmFzZWQgb24gdGhhdCBpZiBmaWxlXG4gICAqIGhhcyBjaGFuZ2VkLlxuICAgKlxuICAgKiBDb21wYXRpYmxlIHdpdGggYGBXaXJlQ2xpZW50LmRlbGV0ZWBgXG4gICAqXG4gICAqIENhbGxzIGBgRHJvcGJveC5zaGFyZWBgIGFmdGVyd2FyZHMgdG8gZmlsbCBgYF9pdGVtUmVmc2BgLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCAtIHBhdGggb2YgdGhlIGZvbGRlciB0byBkZWxldGUsIHdpdGggbGVhZGluZyBzbGFzaFxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICAnZGVsZXRlJyAocGF0aCwgb3B0aW9ucykge1xuICAgIGlmICghdGhpcy5jb25uZWN0ZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vdCBjb25uZWN0ZWQgKHBhdGg6IFwiICsgcGF0aCArIFwiKVwiKTtcbiAgICB9XG5cbiAgICAvLyBjaGVjayBpZiBmaWxlIGhhcyBjaGFuZ2VkIGFuZCByZXR1cm4gNDEyXG4gICAgY29uc3Qgc2F2ZWRSZXYgPSB0aGlzLl9yZXZDYWNoZS5nZXQocGF0aCk7XG4gICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5pZk1hdGNoICYmIHNhdmVkUmV2ICYmIChvcHRpb25zLmlmTWF0Y2ggIT09IHNhdmVkUmV2KSkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7IHN0YXR1c0NvZGU6IDQxMiwgcmV2aXNpb246IHNhdmVkUmV2IH0pO1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuaWZNYXRjaCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2dldE1ldGFkYXRhKHBhdGgpLnRoZW4oKG1ldGFkYXRhKSA9PiB7XG4gICAgICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuaWZNYXRjaCAmJiBtZXRhZGF0YSAmJiAobWV0YWRhdGEucmV2ICE9PSBvcHRpb25zLmlmTWF0Y2gpKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgICAgICBzdGF0dXNDb2RlOiA0MTIsXG4gICAgICAgICAgICByZXZpc2lvbjogbWV0YWRhdGEucmV2XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5fZGVsZXRlU2ltcGxlKHBhdGgpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX2RlbGV0ZVNpbXBsZShwYXRoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxscyBzaGFyZSwgaWYgdGhlIHByb3ZpZGVkIHBhdGggcmVzaWRlcyBpbiBhIHB1YmxpYyBmb2xkZXIuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfc2hhcmVJZk5lZWRlZCAocGF0aCkge1xuICAgIGlmIChwYXRoLm1hdGNoKC9eXFwvcHVibGljXFwvLipbXi9dJC8pICYmIHRoaXMuX2l0ZW1SZWZzW3BhdGhdID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuc2hhcmUocGF0aCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgYSBwdWJsaWNseS1hY2Nlc3NpYmxlIFVSTCBmb3IgdGhlIHBhdGggZnJvbSBEcm9wYm94IGFuZCBzdG9yZXMgaXRcbiAgICogaW4gYGBfaXRlbVJlZnNgYC5cbiAgICpcbiAgICogQHJldHVybiB7UHJvbWlzZX0gYSBwcm9taXNlIGZvciB0aGUgVVJMXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBzaGFyZSAocGF0aCkge1xuICAgIGNvbnN0IHVybCA9ICdodHRwczovL2FwaS5kcm9wYm94YXBpLmNvbS8yL3NoYXJpbmcvY3JlYXRlX3NoYXJlZF9saW5rX3dpdGhfc2V0dGluZ3MnO1xuICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICBib2R5OiB7cGF0aDogZ2V0RHJvcGJveFBhdGgocGF0aCl9XG4gICAgfTtcblxuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KCdQT1NUJywgdXJsLCBvcHRpb25zKS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyAhPT0gMjAwICYmIHJlc3BvbnNlLnN0YXR1cyAhPT0gNDA5KSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ0ludmFsaWQgcmVzcG9uc2Ugc3RhdHVzOicgKyByZXNwb25zZS5zdGF0dXMpKTtcbiAgICAgIH1cblxuICAgICAgbGV0IGJvZHk7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGJvZHkgPSBKU09OLnBhcnNlKHJlc3BvbnNlLnJlc3BvbnNlVGV4dCk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ0ludmFsaWQgcmVzcG9uc2UgYm9keTogJyArIHJlc3BvbnNlLnJlc3BvbnNlVGV4dCkpO1xuICAgICAgfVxuXG4gICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDkpIHtcbiAgICAgICAgaWYgKGNvbXBhcmVBcGlFcnJvcihib2R5LCBbJ3NoYXJlZF9saW5rX2FscmVhZHlfZXhpc3RzJ10pKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX2dldFNoYXJlZExpbmsocGF0aCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdBUEkgZXJyb3I6ICcgKyBib2R5LmVycm9yX3N1bW1hcnkpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShib2R5LnVybCk7XG4gICAgfSkudGhlbigobGluaykgPT4ge1xuICAgICAgdGhpcy5faXRlbVJlZnNbcGF0aF0gPSBsaW5rO1xuXG4gICAgICBpZiAoaGFzTG9jYWxTdG9yYWdlKSB7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFNFVFRJTkdTX0tFWSsnOnNoYXJlcycsIEpTT04uc3RyaW5naWZ5KHRoaXMuX2l0ZW1SZWZzKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobGluayk7XG4gICAgfSwgKGVycm9yKSA9PiB7XG4gICAgICBlcnJvci5tZXNzYWdlID0gJ1NoYXJpbmcgRHJvcGJveCBmaWxlIG9yIGZvbGRlciAoXCInICsgcGF0aCArICdcIikgZmFpbGVkOiAnICsgZXJyb3IubWVzc2FnZTtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogRmV0Y2hlcyB0aGUgdXNlcidzIGluZm8gZnJvbSBkcm9wYm94IGFuZCByZXR1cm5zIGEgcHJvbWlzZSBmb3IgaXQuXG4gICAqXG4gICAqIEByZXR1cm4ge1Byb21pc2V9IGEgcHJvbWlzZSBmb3IgdXNlciBpbmZvIG9iamVjdCAoZW1haWwgLSB0aGUgdXNlcidzIGVtYWlsIGFkZHJlc3MpXG4gICAqXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIGluZm8gKCkge1xuICAgIGNvbnN0IHVybCA9ICdodHRwczovL2FwaS5kcm9wYm94YXBpLmNvbS8yL3VzZXJzL2dldF9jdXJyZW50X2FjY291bnQnO1xuXG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoJ1BPU1QnLCB1cmwsIHt9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgbGV0IGluZm8gPSByZXNwb25zZS5yZXNwb25zZVRleHQ7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGluZm8gPSBKU09OLnBhcnNlKGluZm8pO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdDb3VsZCBub3QgcXVlcnkgY3VycmVudCBhY2NvdW50IGluZm86IEludmFsaWQgQVBJIHJlc3BvbnNlOiAnICsgaW5mbykpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgZW1haWw6IGluZm8uZW1haWxcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIE1ha2UgYSBuZXR3b3JrIHJlcXVlc3QuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2QgLSBSZXF1ZXN0IG1ldGhvZFxuICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVGFyZ2V0IFVSTFxuICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyAtIFJlcXVlc3Qgb3B0aW9uc1xuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gUmVzb2x2ZXMgd2l0aCB0aGUgcmVzcG9uc2Ugb2YgdGhlIG5ldHdvcmsgcmVxdWVzdFxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3JlcXVlc3QgKG1ldGhvZCwgdXJsLCBvcHRpb25zKSB7XG4gICAgaWYgKCFvcHRpb25zLmhlYWRlcnMpIHsgb3B0aW9ucy5oZWFkZXJzID0ge307IH1cbiAgICBvcHRpb25zLmhlYWRlcnNbJ0F1dGhvcml6YXRpb24nXSA9ICdCZWFyZXIgJyArIHRoaXMudG9rZW47XG5cbiAgICBpZiAodHlwZW9mIG9wdGlvbnMuYm9keSA9PT0gJ29iamVjdCcgJiYgIWlzQmluYXJ5RGF0YShvcHRpb25zLmJvZHkpKSB7XG4gICAgICBvcHRpb25zLmJvZHkgPSBKU09OLnN0cmluZ2lmeShvcHRpb25zLmJvZHkpO1xuICAgICAgb3B0aW9ucy5oZWFkZXJzWydDb250ZW50LVR5cGUnXSA9ICdhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PVVURi04JztcbiAgICB9XG5cbiAgICB0aGlzLnJzLl9lbWl0KCd3aXJlLWJ1c3knLCB7XG4gICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgIGlzRm9sZGVyOiBpc0ZvbGRlcih1cmwpXG4gICAgfSk7XG5cbiAgICByZXR1cm4gV2lyZUNsaWVudC5yZXF1ZXN0LmNhbGwodGhpcywgbWV0aG9kLCB1cmwsIG9wdGlvbnMpLnRoZW4oeGhyID0+IHtcbiAgICAgIC8vIDUwMyBtZWFucyByZXRyeSB0aGlzIGxhdGVyXG4gICAgICBpZiAoeGhyICYmIHhoci5zdGF0dXMgPT09IDUwMykge1xuICAgICAgICBpZiAodGhpcy5vbmxpbmUpIHtcbiAgICAgICAgICB0aGlzLm9ubGluZSA9IGZhbHNlO1xuICAgICAgICAgIHRoaXMucnMuX2VtaXQoJ25ldHdvcmstb2ZmbGluZScpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KHRoaXMuX3JlcXVlc3QobWV0aG9kLCB1cmwsIG9wdGlvbnMpLCAzMjEwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghdGhpcy5vbmxpbmUpIHtcbiAgICAgICAgICB0aGlzLm9ubGluZSA9IHRydWU7XG4gICAgICAgICAgdGhpcy5ycy5fZW1pdCgnbmV0d29yay1vbmxpbmUnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJzLl9lbWl0KCd3aXJlLWRvbmUnLCB7XG4gICAgICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICAgICAgaXNGb2xkZXI6IGlzRm9sZGVyKHVybCksXG4gICAgICAgICAgc3VjY2VzczogdHJ1ZVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHhocik7XG4gICAgICB9XG4gICAgfSwgZXJyb3IgPT4ge1xuICAgICAgaWYgKHRoaXMub25saW5lKSB7XG4gICAgICAgIHRoaXMub25saW5lID0gZmFsc2U7XG4gICAgICAgIHRoaXMucnMuX2VtaXQoJ25ldHdvcmstb2ZmbGluZScpO1xuICAgICAgfVxuICAgICAgdGhpcy5ycy5fZW1pdCgnd2lyZS1kb25lJywge1xuICAgICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgICAgaXNGb2xkZXI6IGlzRm9sZGVyKHVybCksXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlXG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGZXRjaGVzIHRoZSByZXZpc2lvbiBvZiBhbGwgdGhlIGZpbGVzIGZyb20gZHJvcGJveCBBUEkgYW5kIHB1dHMgdGhlbVxuICAgKiBpbnRvIGBgX3JldkNhY2hlYGAuIFRoZXNlIHZhbHVlcyBjYW4gdGhlbiBiZSB1c2VkIHRvIGRldGVybWluZSBpZlxuICAgKiBzb21ldGhpbmcgaGFzIGNoYW5nZWQuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBmZXRjaERlbHRhICguLi5hcmdzKSB7XG4gICAgLy8gSWYgZmV0Y2hEZWx0YSB3YXMgYWxyZWFkeSBjYWxsZWQsIGFuZCBkaWRuJ3QgZmluaXNoLCByZXR1cm4gdGhlIGV4aXN0aW5nXG4gICAgLy8gcHJvbWlzZSBpbnN0ZWFkIG9mIGNhbGxpbmcgRHJvcGJveCBBUEkgYWdhaW5cbiAgICBpZiAodGhpcy5fZmV0Y2hEZWx0YVByb21pc2UpIHtcbiAgICAgIHJldHVybiB0aGlzLl9mZXRjaERlbHRhUHJvbWlzZTtcbiAgICB9XG5cbiAgICBjb25zdCBmZXRjaCA9IChjdXJzb3IpID0+IHtcbiAgICAgIGxldCB1cmwgPSAnaHR0cHM6Ly9hcGkuZHJvcGJveGFwaS5jb20vMi9maWxlcy9saXN0X2ZvbGRlcic7XG4gICAgICBsZXQgcmVxdWVzdEJvZHk7XG5cbiAgICAgIGlmICh0eXBlb2YgY3Vyc29yID09PSAnc3RyaW5nJykge1xuICAgICAgICB1cmwgKz0gJy9jb250aW51ZSc7XG4gICAgICAgIHJlcXVlc3RCb2R5ID0geyBjdXJzb3IgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlcXVlc3RCb2R5ID0ge1xuICAgICAgICAgIHBhdGg6IFBBVEhfUFJFRklYLFxuICAgICAgICAgIHJlY3Vyc2l2ZTogdHJ1ZSxcbiAgICAgICAgICBpbmNsdWRlX2RlbGV0ZWQ6IHRydWVcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoJ1BPU1QnLCB1cmwsIHsgYm9keTogcmVxdWVzdEJvZHkgfSkudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwMSkge1xuICAgICAgICAgIHRoaXMucnMuX2VtaXQoJ2Vycm9yJywgbmV3IFVuYXV0aG9yaXplZEVycm9yKCkpO1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoYXJncyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzICE9PSAyMDAgJiYgcmVzcG9uc2Uuc3RhdHVzICE9PSA0MDkpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdJbnZhbGlkIHJlc3BvbnNlIHN0YXR1czogJyArIHJlc3BvbnNlLnN0YXR1cykpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHJlc3BvbnNlQm9keTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgIHJlc3BvbnNlQm9keSA9IEpTT04ucGFyc2UocmVzcG9uc2UucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ0ludmFsaWQgcmVzcG9uc2UgYm9keTogJyArIHJlc3BvbnNlLnJlc3BvbnNlVGV4dCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5KSB7XG4gICAgICAgICAgaWYgKGNvbXBhcmVBcGlFcnJvcihyZXNwb25zZUJvZHksIFsncGF0aCcsICdub3RfZm91bmQnXSkpIHtcbiAgICAgICAgICAgIHJlc3BvbnNlQm9keSA9IHtcbiAgICAgICAgICAgICAgY3Vyc29yOiBudWxsLFxuICAgICAgICAgICAgICBlbnRyaWVzOiBbXSxcbiAgICAgICAgICAgICAgaGFzX21vcmU6IGZhbHNlXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdBUEkgcmV0dXJuZWQgYW4gZXJyb3I6ICcgKyByZXNwb25zZUJvZHkuZXJyb3Jfc3VtbWFyeSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghY3Vyc29yKSB7XG4gICAgICAgICAgLy93ZSBhcmUgZG9pbmcgYSBjb21wbGV0ZSBmZXRjaCwgc28gcHJvcGFnYXRpb24gd291bGQgaW50cm9kdWNlIHVubmVjZXNzYXJ5IG92ZXJoZWFkXG4gICAgICAgICAgdGhpcy5fcmV2Q2FjaGUuZGVhY3RpdmF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXNwb25zZUJvZHkuZW50cmllcy5mb3JFYWNoKGVudHJ5ID0+IHtcbiAgICAgICAgICBjb25zdCBwYXRoID0gZW50cnkucGF0aF9sb3dlci5zdWJzdHIoUEFUSF9QUkVGSVgubGVuZ3RoKTtcblxuICAgICAgICAgIGlmIChlbnRyeVsnLnRhZyddID09PSAnZGVsZXRlZCcpIHtcbiAgICAgICAgICAgIC8vIHRoZXJlJ3Mgbm8gd2F5IHRvIGtub3cgd2hldGhlciB0aGUgZW50cnkgd2FzIGEgZmlsZSBvciBhIGZvbGRlclxuICAgICAgICAgICAgdGhpcy5fcmV2Q2FjaGUuZGVsZXRlKHBhdGgpO1xuICAgICAgICAgICAgdGhpcy5fcmV2Q2FjaGUuZGVsZXRlKHBhdGggKyAnLycpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoZW50cnlbJy50YWcnXSA9PT0gJ2ZpbGUnKSB7XG4gICAgICAgICAgICB0aGlzLl9yZXZDYWNoZS5zZXQocGF0aCwgZW50cnkucmV2KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuX2ZldGNoRGVsdGFDdXJzb3IgPSByZXNwb25zZUJvZHkuY3Vyc29yO1xuICAgICAgICBpZiAocmVzcG9uc2VCb2R5Lmhhc19tb3JlKSB7XG4gICAgICAgICAgcmV0dXJuIGZldGNoKHJlc3BvbnNlQm9keS5jdXJzb3IpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuX3JldkNhY2hlLmFjdGl2YXRlUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICB0aGlzLl9pbml0aWFsRmV0Y2hEb25lID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSkuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICBpZiAoZXJyb3IgPT09ICd0aW1lb3V0JyB8fCBlcnJvciBpbnN0YW5jZW9mIFByb2dyZXNzRXZlbnQpIHtcbiAgICAgICAgICAvLyBPZmZsaW5lIGlzIGhhbmRsZWQgZWxzZXdoZXJlIGFscmVhZHksIGp1c3QgaWdub3JlIGl0IGhlcmVcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHRoaXMuX2ZldGNoRGVsdGFQcm9taXNlID0gZmV0Y2godGhpcy5fZmV0Y2hEZWx0YUN1cnNvcikuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgaWYgKHR5cGVvZihlcnJvcikgPT09ICdvYmplY3QnICYmICdtZXNzYWdlJyBpbiBlcnJvcikge1xuICAgICAgICBlcnJvci5tZXNzYWdlID0gJ0Ryb3Bib3g6IGZldGNoRGVsdGE6ICcgKyBlcnJvci5tZXNzYWdlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZXJyb3IgPSBgRHJvcGJveDogZmV0Y2hEZWx0YTogJHtlcnJvcn1gO1xuICAgICAgfVxuICAgICAgdGhpcy5fZmV0Y2hEZWx0YVByb21pc2UgPSBudWxsO1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgICB9KS50aGVuKCgpID0+IHtcbiAgICAgIHRoaXMuX2ZldGNoRGVsdGFQcm9taXNlID0gbnVsbDtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoYXJncyk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gdGhpcy5fZmV0Y2hEZWx0YVByb21pc2U7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyBtZXRhZGF0YSBmb3IgYSBwYXRoIChjYW4gcG9pbnQgdG8gZWl0aGVyIGEgZmlsZSBvciBhIGZvbGRlcikuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIC0gdGhlIHBhdGggdG8gZ2V0IG1ldGFkYXRhIGZvclxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gQSBwcm9taXNlIGZvciB0aGUgbWV0YWRhdGFcbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9nZXRNZXRhZGF0YSAocGF0aCkge1xuICAgIGNvbnN0IHVybCA9ICdodHRwczovL2FwaS5kcm9wYm94YXBpLmNvbS8yL2ZpbGVzL2dldF9tZXRhZGF0YSc7XG4gICAgY29uc3QgcmVxdWVzdEJvZHkgPSB7XG4gICAgICBwYXRoOiBnZXREcm9wYm94UGF0aChwYXRoKVxuICAgIH07XG5cbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdCgnUE9TVCcsIHVybCwgeyBib2R5OiByZXF1ZXN0Qm9keSB9KS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyAhPT0gMjAwICYmIHJlc3BvbnNlLnN0YXR1cyAhPT0gNDA5KSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ0ludmFsaWQgcmVzcG9uc2Ugc3RhdHVzOicgKyByZXNwb25zZS5zdGF0dXMpKTtcbiAgICAgIH1cblxuICAgICAgbGV0IHJlc3BvbnNlQm9keTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgcmVzcG9uc2VCb2R5ID0gSlNPTi5wYXJzZShyZXNwb25zZS5yZXNwb25zZVRleHQpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdJbnZhbGlkIHJlc3BvbnNlIGJvZHk6ICcgKyByZXNwb25zZS5yZXNwb25zZVRleHQpKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5KSB7XG4gICAgICAgIGlmIChjb21wYXJlQXBpRXJyb3IocmVzcG9uc2VCb2R5LCBbJ3BhdGgnLCAnbm90X2ZvdW5kJ10pKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignQVBJIGVycm9yOiAnICsgcmVzcG9uc2VCb2R5LmVycm9yX3N1bW1hcnkpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZXNwb25zZUJvZHkpO1xuICAgIH0pLnRoZW4odW5kZWZpbmVkLCAoZXJyb3IpID0+IHtcbiAgICAgIGVycm9yLm1lc3NhZ2UgPSAnQ291bGQgbm90IGxvYWQgbWV0YWRhdGEgZm9yIGZpbGUgb3IgZm9sZGVyIChcIicgKyBwYXRoICsgJ1wiKTogJyArIGVycm9yLm1lc3NhZ2U7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwbG9hZCBhIHNpbXBsZSBmaWxlICh0aGUgc2l6ZSBpcyBubyBtb3JlIHRoYW4gMTUwTUIpLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW1zXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25zLmlmTWF0Y2ggLSBPbmx5IHVwZGF0ZSB0aGUgZmlsZSBpZiBpdHMgRVRhZ1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hlcyB0aGlzIHN0cmluZ1xuICAgKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy5wYXRoIC0gcGF0aCBvZiB0aGUgZmlsZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy5ib2R5IC0gY29udGVudHMgb2YgdGhlIGZpbGUgdG8gdXBsb2FkXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25zLmNvbnRlbnRUeXBlIC0gbWltZSB0eXBlIG9mIHRoZSBmaWxlXG4gICAqXG4gICAqIEByZXR1cm4ge1Byb21pc2V9IEEgcHJvbWlzZSBmb3IgYW4gb2JqZWN0IHdpdGggdGhlIGZvbGxvd2luZyBzdHJ1Y3R1cmU6XG4gICAqICAgICAgICAgc3RhdHVzQ29kZSAtIEhUVFAgc3RhdHVzIGNvZGVcbiAgICogICAgICAgICByZXZpc2lvbiAtIHJldmlzaW9uIG9mIHRoZSBuZXdseS1jcmVhdGVkIGZpbGUsIGlmIGFueVxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3VwbG9hZFNpbXBsZSAocGFyYW1zKSB7XG4gICAgY29uc3QgdXJsID0gJ2h0dHBzOi8vY29udGVudC5kcm9wYm94YXBpLmNvbS8yL2ZpbGVzL3VwbG9hZCc7XG4gICAgY29uc3QgYXJncyA9IHtcbiAgICAgIHBhdGg6IGdldERyb3Bib3hQYXRoKHBhcmFtcy5wYXRoKSxcbiAgICAgIG1vZGU6IHsgJy50YWcnOiAnb3ZlcndyaXRlJywgdXBkYXRlOiB1bmRlZmluZWQgfSxcbiAgICAgIG11dGU6IHRydWVcbiAgICB9O1xuXG4gICAgaWYgKHBhcmFtcy5pZk1hdGNoKSB7XG4gICAgICBhcmdzLm1vZGUgPSB7ICcudGFnJzogJ3VwZGF0ZScsIHVwZGF0ZTogcGFyYW1zLmlmTWF0Y2ggfTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdCgnUE9TVCcsIHVybCwge1xuICAgICAgYm9keTogcGFyYW1zLmJvZHksXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtJyxcbiAgICAgICAgJ0Ryb3Bib3gtQVBJLUFyZyc6IEpTT04uc3RyaW5naWZ5KGFyZ3MpXG4gICAgICB9XG4gICAgfSkudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzICE9PSAyMDAgJiYgcmVzcG9uc2Uuc3RhdHVzICE9PSA0MDkpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7c3RhdHVzQ29kZTogcmVzcG9uc2Uuc3RhdHVzfSk7XG4gICAgICB9XG5cbiAgICAgIGxldCBib2R5ID0gcmVzcG9uc2UucmVzcG9uc2VUZXh0O1xuXG4gICAgICB0cnkge1xuICAgICAgICBib2R5ID0gSlNPTi5wYXJzZShib2R5KTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignSW52YWxpZCBBUEkgcmVzdWx0OiAnICsgYm9keSkpO1xuICAgICAgfVxuXG4gICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDkpIHtcbiAgICAgICAgaWYgKGNvbXBhcmVBcGlFcnJvcihib2R5LCBbJ3BhdGgnLCAnY29uZmxpY3QnXSkpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5fZ2V0TWV0YWRhdGEocGFyYW1zLnBhdGgpLnRoZW4oZnVuY3Rpb24gKG1ldGFkYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICAgICAgc3RhdHVzQ29kZTogNDEyLFxuICAgICAgICAgICAgICByZXZpc2lvbjogbWV0YWRhdGEucmV2XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdBUEkgZXJyb3I6ICcgKyBib2R5LmVycm9yX3N1bW1hcnkpKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fcmV2Q2FjaGUuc2V0KHBhcmFtcy5wYXRoLCBib2R5LnJldik7XG5cbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoeyBzdGF0dXNDb2RlOiByZXNwb25zZS5zdGF0dXMsIHJldmlzaW9uOiBib2R5LnJldiB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWxldGVzIGEgZmlsZSBvciBhIGZvbGRlci5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggLSB0aGUgcGF0aCB0byBkZWxldGVcbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2V9IEEgcHJvbWlzZSBmb3IgYW4gb2JqZWN0IHdpdGggdGhlIGZvbGxvd2luZyBzdHJ1Y3R1cmU6XG4gICAqICAgICAgICAgIHN0YXR1c0NvZGUgLSBIVFRQIHN0YXR1cyBjb2RlXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZGVsZXRlU2ltcGxlIChwYXRoKSB7XG4gICAgY29uc3QgdXJsID0gJ2h0dHBzOi8vYXBpLmRyb3Bib3hhcGkuY29tLzIvZmlsZXMvZGVsZXRlJztcbiAgICBjb25zdCByZXF1ZXN0Qm9keSA9IHsgcGF0aDogZ2V0RHJvcGJveFBhdGgocGF0aCkgfTtcblxuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KCdQT1NUJywgdXJsLCB7IGJvZHk6IHJlcXVlc3RCb2R5IH0pLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzICE9PSAyMDAgJiYgcmVzcG9uc2Uuc3RhdHVzICE9PSA0MDkpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7c3RhdHVzQ29kZTogcmVzcG9uc2Uuc3RhdHVzfSk7XG4gICAgICB9XG5cbiAgICAgIGxldCByZXNwb25zZUJvZHkgPSByZXNwb25zZS5yZXNwb25zZVRleHQ7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIHJlc3BvbnNlQm9keSA9IEpTT04ucGFyc2UocmVzcG9uc2VCb2R5KTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignSW52YWxpZCByZXNwb25zZSBib2R5OiAnICsgcmVzcG9uc2VCb2R5KSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwOSkge1xuICAgICAgICBpZiAoY29tcGFyZUFwaUVycm9yKHJlc3BvbnNlQm9keSwgWydwYXRoX2xvb2t1cCcsICdub3RfZm91bmQnXSkpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtzdGF0dXNDb2RlOiA0MDR9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdBUEkgZXJyb3I6ICcgKyByZXNwb25zZUJvZHkuZXJyb3Jfc3VtbWFyeSkpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtzdGF0dXNDb2RlOiAyMDB9KTtcbiAgICB9KS50aGVuKHJlc3VsdCA9PiB7XG4gICAgICBpZiAocmVzdWx0LnN0YXR1c0NvZGUgPT09IDIwMCB8fCByZXN1bHQuc3RhdHVzQ29kZSA9PT0gNDA0KSB7XG4gICAgICAgIHRoaXMuX3JldkNhY2hlLmRlbGV0ZShwYXRoKTtcbiAgICAgICAgZGVsZXRlIHRoaXMuX2l0ZW1SZWZzW3BhdGhdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZXN1bHQpO1xuICAgIH0sIChlcnJvcikgPT4ge1xuICAgICAgZXJyb3IubWVzc2FnZSA9ICdDb3VsZCBub3QgZGVsZXRlIERyb3Bib3ggZmlsZSBvciBmb2xkZXIgKFwiJyArIHBhdGggKyAnXCIpOiAnICsgZXJyb3IubWVzc2FnZTtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmVxdWVzdHMgdGhlIGxpbmsgZm9yIGFuIGFscmVhZHktc2hhcmVkIGZpbGUgb3IgZm9sZGVyLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCAtIHBhdGggdG8gdGhlIGZpbGUgb3IgZm9sZGVyXG4gICAqXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSBBIHByb21pc2UgZm9yIHRoZSBzaGFyZWQgbGlua1xuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgYXN5bmMgX2dldFNoYXJlZExpbmsgKHBhdGg6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgY29uc3QgdXJsID0gJ2h0dHBzOi8vYXBpLmRyb3Bib3guY29tLzIvc2hhcmluZy9saXN0X3NoYXJlZF9saW5rcyc7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgIGJvZHk6IHtcbiAgICAgICAgcGF0aDogZ2V0RHJvcGJveFBhdGgocGF0aCksXG4gICAgICAgIGRpcmVjdF9vbmx5OiB0cnVlXG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KCdQT1NUJywgdXJsLCBvcHRpb25zKS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyAhPT0gMjAwICYmIHJlc3BvbnNlLnN0YXR1cyAhPT0gNDA5KSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ0ludmFsaWQgcmVzcG9uc2Ugc3RhdHVzOiAnICsgcmVzcG9uc2Uuc3RhdHVzKSk7XG4gICAgICB9XG5cbiAgICAgIGxldCBib2R5O1xuXG4gICAgICB0cnkge1xuICAgICAgICBib2R5ID0gSlNPTi5wYXJzZShyZXNwb25zZS5yZXNwb25zZVRleHQpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdJbnZhbGlkIHJlc3BvbnNlIGJvZHk6ICcgKyByZXNwb25zZS5yZXNwb25zZVRleHQpKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5KSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ0FQSSBlcnJvcjogJyArIHJlc3BvbnNlLmVycm9yX3N1bW1hcnkpKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFib2R5LmxpbmtzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdObyBsaW5rcyByZXR1cm5lZCcpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShib2R5LmxpbmtzWzBdLnVybCk7XG4gICAgfSwgZXJyb3IgPT4ge1xuICAgICAgZXJyb3IubWVzc2FnZSA9ICdDb3VsZCBub3QgZ2V0IGxpbmsgdG8gYSBzaGFyZWQgZmlsZSBvciBmb2xkZXIgKFwiJyArIHBhdGggKyAnXCIpOiAnICsgZXJyb3IubWVzc2FnZTtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZSB0aGUgRHJvcGJveCBiYWNrZW5kLlxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gcmVtb3RlU3RvcmFnZSAtIFJlbW90ZVN0b3JhZ2UgaW5zdGFuY2VcbiAgICpcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgc3RhdGljIF9yc19pbml0IChycyk6IHZvaWQge1xuICAgIGhhc0xvY2FsU3RvcmFnZSA9IGxvY2FsU3RvcmFnZUF2YWlsYWJsZSgpO1xuICAgIGlmICggcnMuYXBpS2V5cy5kcm9wYm94ICkge1xuICAgICAgcnMuZHJvcGJveCA9IG5ldyBEcm9wYm94KHJzKTtcbiAgICB9XG4gICAgaWYgKHJzLmJhY2tlbmQgPT09ICdkcm9wYm94Jykge1xuICAgICAgaG9va0l0KHJzKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSW5mb3JtIGFib3V0IHRoZSBhdmFpbGFiaWxpdHkgb2YgdGhlIERyb3Bib3ggYmFja2VuZC5cbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IHJzIC0gUmVtb3RlU3RvcmFnZSBpbnN0YW5jZVxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAgICpcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgc3RhdGljIF9yc19zdXBwb3J0ZWQgKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBEcm9wYm94IGFzIGEgYmFja2VuZC5cbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IHJlbW90ZVN0b3JhZ2UgLSBSZW1vdGVTdG9yYWdlIGluc3RhbmNlXG4gICAqXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIHN0YXRpYyBfcnNfY2xlYW51cCAocnMpOiB2b2lkIHtcbiAgICB1bkhvb2tJdChycyk7XG4gICAgaWYgKGhhc0xvY2FsU3RvcmFnZSl7XG4gICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShTRVRUSU5HU19LRVkpO1xuICAgIH1cbiAgICBycy5zZXRCYWNrZW5kKHVuZGVmaW5lZCk7XG4gIH1cbn1cblxuLyoqXG4gKiBIb29raW5nIHRoZSBzeW5jXG4gKlxuICogVE9ETzogZG9jdW1lbnRcbiAqL1xuZnVuY3Rpb24gaG9va1N5bmMocnMsIC4uLmFyZ3MpIHtcbiAgaWYgKHJzLl9kcm9wYm94T3JpZ1N5bmMpIHsgcmV0dXJuOyB9IC8vIGFscmVhZHkgaG9va2VkXG4gIHJzLl9kcm9wYm94T3JpZ1N5bmMgPSBycy5zeW5jLnN5bmMuYmluZChycy5zeW5jKTtcbiAgcnMuc3luYy5zeW5jID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmRyb3Bib3guZmV0Y2hEZWx0YShycywgLi4uYXJncykuXG4gICAgICB0aGVuKHJzLl9kcm9wYm94T3JpZ1N5bmMsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgcnMuX2VtaXQoJ2Vycm9yJywgbmV3IFN5bmNFcnJvcihlcnIpKTtcbiAgICAgICAgcnMuX2VtaXQoJ3N5bmMtZG9uZScpO1xuICAgICAgfSk7XG4gIH0uYmluZChycyk7XG59XG5cbi8qKlxuICogVW5ob29raW5nIHRoZSBzeW5jXG4gKlxuICogVE9ETzogZG9jdW1lbnRcbiAqL1xuZnVuY3Rpb24gdW5Ib29rU3luYyhycykge1xuICBpZiAoISBycy5fZHJvcGJveE9yaWdTeW5jKSB7IHJldHVybjsgfSAvLyBub3QgaG9va2VkXG4gIHJzLnN5bmMuc3luYyA9IHJzLl9kcm9wYm94T3JpZ1N5bmM7XG4gIGRlbGV0ZSBycy5fZHJvcGJveE9yaWdTeW5jO1xufVxuXG4vKipcbiAqIEhvb2sgUmVtb3RlU3RvcmFnZS5zeW5jQ3ljbGUgYXMgaXQncyB0aGUgZmlyc3QgZnVuY3Rpb24gY2FsbGVkXG4gKiBhZnRlciBSZW1vdGVTdG9yYWdlLnN5bmMgaXMgaW5pdGlhbGl6ZWQsIHNvIHdlIGNhbiB0aGVuIGhvb2tcbiAqIHRoZSBzeW5jIGZ1bmN0aW9uXG4gKiBAcGFyYW0ge29iamVjdH0gcnMgUmVtb3RlU3RvcmFnZSBpbnN0YW5jZVxuICovXG5mdW5jdGlvbiBob29rU3luY0N5Y2xlKHJzLCAuLi5hcmdzKSB7XG4gIGlmIChycy5fZHJvcGJveE9yaWdTeW5jQ3ljbGUpIHsgcmV0dXJuOyB9IC8vIGFscmVhZHkgaG9va2VkXG4gIHJzLl9kcm9wYm94T3JpZ1N5bmNDeWNsZSA9IHJzLnN5bmNDeWNsZTtcbiAgcnMuc3luY0N5Y2xlID0gKCkgPT4ge1xuICAgIGlmIChycy5zeW5jKSB7XG4gICAgICBob29rU3luYyhycyk7XG4gICAgICBycy5fZHJvcGJveE9yaWdTeW5jQ3ljbGUocnMsIC4uLmFyZ3MpO1xuICAgICAgdW5Ib29rU3luY0N5Y2xlKHJzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdleHBlY3RlZCBzeW5jIHRvIGJlIGluaXRpYWxpemVkIGJ5IG5vdycpO1xuICAgIH1cbiAgfTtcbn1cblxuLyoqXG4gKiBSZXN0b3JlIFJlbW90ZVN0b3JhZ2UncyBzeW5jQ3ljbGUgb3JpZ2luYWwgaW1wbGVtZW50YXRpb25cbiAqIEBwYXJhbSB7b2JqZWN0fSBycyBSZW1vdGVTdG9yYWdlIGluc3RhbmNlXG4gKi9cbmZ1bmN0aW9uIHVuSG9va1N5bmNDeWNsZShycykge1xuICBpZiAoIXJzLl9kcm9wYm94T3JpZ1N5bmNDeWNsZSkgeyByZXR1cm47IH0gLy8gbm90IGhvb2tlZFxuICBycy5zeW5jQ3ljbGUgPSBycy5fZHJvcGJveE9yaWdTeW5jQ3ljbGU7XG4gIGRlbGV0ZSBycy5fZHJvcGJveE9yaWdTeW5jQ3ljbGU7XG59XG5cbi8qKlxuICogT3ZlcndyaXRlIEJhc2VDbGllbnQncyBnZXRJdGVtVVJMIHdpdGggb3VyIG93biBpbXBsZW1lbnRhdGlvblxuICpcbiAqIFRPRE86IGdldEl0ZW1VUkwgc3RpbGwgbmVlZHMgdG8gYmUgaW1wbGVtZW50ZWRcbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gcnMgLSBSZW1vdGVTdG9yYWdlIGluc3RhbmNlXG4gKlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gaG9va0dldEl0ZW1VUkwgKHJzKSB7XG4gIGlmIChycy5fb3JpZ0Jhc2VDbGllbnRHZXRJdGVtVVJMKSB7IHJldHVybjsgfVxuICBycy5fb3JpZ0Jhc2VDbGllbnRHZXRJdGVtVVJMID0gQmFzZUNsaWVudC5wcm90b3R5cGUuZ2V0SXRlbVVSTDtcbiAgQmFzZUNsaWVudC5wcm90b3R5cGUuZ2V0SXRlbVVSTCA9IGZ1bmN0aW9uICgvKnBhdGgqLykge1xuICAgIHRocm93IG5ldyBFcnJvcignZ2V0SXRlbVVSTCBpcyBub3QgaW1wbGVtZW50ZWQgZm9yIERyb3Bib3ggeWV0Jyk7XG4gIH07XG59XG5cbi8qKlxuICogUmVzdG9yZSBCYXNlQ2xpZW50J3MgZ2V0SXRlbVVSTCBvcmlnaW5hbCBpbXBsZW1lbnRhdGlvblxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBycyAtIFJlbW90ZVN0b3JhZ2UgaW5zdGFuY2VcbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiB1bkhvb2tHZXRJdGVtVVJMKHJzKXtcbiAgaWYgKCEgcnMuX29yaWdCYXNlQ2xpZW50R2V0SXRlbVVSTCkgeyByZXR1cm47IH1cbiAgQmFzZUNsaWVudC5wcm90b3R5cGUuZ2V0SXRlbVVSTCA9IHJzLl9vcmlnQmFzZUNsaWVudEdldEl0ZW1VUkw7XG4gIGRlbGV0ZSBycy5fb3JpZ0Jhc2VDbGllbnRHZXRJdGVtVVJMO1xufVxuXG4vKipcbiAqIFRPRE86IGRvY3VtZW50XG4gKi9cbmZ1bmN0aW9uIGhvb2tSZW1vdGUocnMpe1xuICBpZiAocnMuX29yaWdSZW1vdGUpIHsgcmV0dXJuOyB9XG4gIHJzLl9vcmlnUmVtb3RlID0gcnMucmVtb3RlO1xuICBycy5yZW1vdGUgPSBycy5kcm9wYm94O1xufVxuXG4vKipcbiAqIFRPRE86IGRvY3VtZW50XG4gKi9cbmZ1bmN0aW9uIHVuSG9va1JlbW90ZShycyl7XG4gIGlmIChycy5fb3JpZ1JlbW90ZSkge1xuICAgIHJzLnJlbW90ZSA9IHJzLl9vcmlnUmVtb3RlO1xuICAgIGRlbGV0ZSBycy5fb3JpZ1JlbW90ZTtcbiAgfVxufVxuXG4vKipcbiAqIFRPRE86IGRvY3VtZW50XG4gKi9cbmZ1bmN0aW9uIGhvb2tJdChycyl7XG4gIGhvb2tSZW1vdGUocnMpO1xuICBpZiAocnMuc3luYykge1xuICAgIGhvb2tTeW5jKHJzKTtcbiAgfSBlbHNlIHtcbiAgICAvLyB3aGVuIHN5bmMgaXMgbm90IGF2YWlsYWJsZSB5ZXQsIHdlIGhvb2sgdGhlIHN5bmNDeWNsZSBmdW5jdGlvbiB3aGljaCBpcyBjYWxsZWRcbiAgICAvLyByaWdodCBhZnRlciBzeW5jIGlzIGluaXRpYWxpemVkXG4gICAgaG9va1N5bmNDeWNsZShycyk7XG4gIH1cbiAgaG9va0dldEl0ZW1VUkwocnMpO1xufVxuXG4vKipcbiAqIFRPRE86IGRvY3VtZW50XG4gKi9cbmZ1bmN0aW9uIHVuSG9va0l0KHJzKXtcbiAgdW5Ib29rUmVtb3RlKHJzKTtcbiAgdW5Ib29rU3luYyhycyk7XG4gIHVuSG9va0dldEl0ZW1VUkwocnMpO1xuICB1bkhvb2tTeW5jQ3ljbGUocnMpO1xufVxuXG5pbnRlcmZhY2UgRHJvcGJveCBleHRlbmRzIEV2ZW50SGFuZGxpbmcge307XG5hcHBseU1peGlucyhEcm9wYm94LCBbRXZlbnRIYW5kbGluZ10pO1xuXG5leHBvcnQgZGVmYXVsdCBEcm9wYm94O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgV2ViRmluZ2VyIGZyb20gJ3dlYmZpbmdlci5qcyc7XG5pbXBvcnQgbG9nIGZyb20gJy4vbG9nJztcbmltcG9ydCB7IGdsb2JhbENvbnRleHQsIGxvY2FsU3RvcmFnZUF2YWlsYWJsZSB9IGZyb20gJy4vdXRpbCc7XG5cbi8vIGZlYXR1cmUgZGV0ZWN0aW9uIGZsYWdzXG5sZXQgaGF2ZVhNTEh0dHBSZXF1ZXN0LCBoYXNMb2NhbFN0b3JhZ2U7XG5cbi8vIHVzZWQgdG8gc3RvcmUgc2V0dGluZ3MgaW4gbG9jYWxTdG9yYWdlXG5jb25zdCBTRVRUSU5HU19LRVkgPSAncmVtb3Rlc3RvcmFnZTpkaXNjb3Zlcic7XG5cbi8vIGNhY2hlIGxvYWRlZCBmcm9tIGxvY2FsU3RvcmFnZVxuLy8gVE9ETyB1c2UgY2xhc3MgcHJvcGVydHlcbmxldCBjYWNoZWRJbmZvID0ge307XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBkZWFscyB3aXRoIHRoZSBXZWJmaW5nZXIgbG9va3VwLCBkaXNjb3ZlcmluZyBhIGNvbm5lY3RpbmdcbiAqIHVzZXIncyBzdG9yYWdlIGRldGFpbHMuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHVzZXJBZGRyZXNzIC0gdXNlckBob3N0XG4gKlxuICogQHJldHVybnMge1Byb21pc2V9IEEgcHJvbWlzZSBmb3IgYW4gb2JqZWN0IHdpdGggdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzLlxuICogICAgICAgICAgaHJlZiAtIFN0b3JhZ2UgYmFzZSBVUkwsXG4gKiAgICAgICAgICBzdG9yYWdlQXBpIC0gUlMgcHJvdG9jb2wgdmVyc2lvbixcbiAqICAgICAgICAgIGF1dGhVcmwgLSBPQXV0aCBVUkwsXG4gKiAgICAgICAgICBwcm9wZXJ0aWVzIC0gV2ViZmluZ2VyIGxpbmsgcHJvcGVydGllc1xuICoqL1xuXG5jb25zdCBEaXNjb3ZlciA9IGZ1bmN0aW9uIERpc2NvdmVyKHVzZXJBZGRyZXNzOiBzdHJpbmcpOiBQcm9taXNlPFN0b3JhZ2VJbmZvPiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cbiAgICBpZiAodXNlckFkZHJlc3MgaW4gY2FjaGVkSW5mbykge1xuICAgICAgcmV0dXJuIHJlc29sdmUoY2FjaGVkSW5mb1t1c2VyQWRkcmVzc10pO1xuICAgIH1cblxuICAgIGNvbnN0IHdlYkZpbmdlciA9IG5ldyBXZWJGaW5nZXIoe1xuICAgICAgdGxzX29ubHk6IGZhbHNlLFxuICAgICAgdXJpX2ZhbGxiYWNrOiB0cnVlLFxuICAgICAgcmVxdWVzdF90aW1lb3V0OiA1MDAwXG4gICAgfSk7XG5cbiAgICByZXR1cm4gd2ViRmluZ2VyLmxvb2t1cCh1c2VyQWRkcmVzcywgZnVuY3Rpb24gKGVyciwgcmVzcG9uc2UpIHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIHJlamVjdChlcnIpO1xuICAgICAgfSBlbHNlIGlmICgodHlwZW9mIHJlc3BvbnNlLmlkeC5saW5rcy5yZW1vdGVzdG9yYWdlICE9PSAnb2JqZWN0JykgfHxcbiAgICAgICAgICAgICAgICAgKHR5cGVvZiByZXNwb25zZS5pZHgubGlua3MucmVtb3Rlc3RvcmFnZS5sZW5ndGggIT09ICdudW1iZXInKSB8fFxuICAgICAgICAgICAgICAgICAocmVzcG9uc2UuaWR4LmxpbmtzLnJlbW90ZXN0b3JhZ2UubGVuZ3RoIDw9IDApKSB7XG4gICAgICAgIGxvZyhcIltEaXNjb3Zlcl0gV2ViRmluZ2VyIHJlY29yZCBmb3IgXCIgKyB1c2VyQWRkcmVzcyArIFwiIGRvZXMgbm90IGhhdmUgcmVtb3Rlc3RvcmFnZSBkZWZpbmVkIGluIHRoZSBsaW5rcyBzZWN0aW9uIFwiLCBKU09OLnN0cmluZ2lmeShyZXNwb25zZS5qc29uKSk7XG4gICAgICAgIHJldHVybiByZWplY3QoXCJXZWJGaW5nZXIgcmVjb3JkIGZvciBcIiArIHVzZXJBZGRyZXNzICsgXCIgZG9lcyBub3QgaGF2ZSByZW1vdGVzdG9yYWdlIGRlZmluZWQgaW4gdGhlIGxpbmtzIHNlY3Rpb24uXCIpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBycyA9IHJlc3BvbnNlLmlkeC5saW5rcy5yZW1vdGVzdG9yYWdlWzBdO1xuICAgICAgY29uc3QgYXV0aFVSTCA9IHJzLnByb3BlcnRpZXNbJ2h0dHA6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzY3NDkjc2VjdGlvbi00LjInXSB8fFxuICAgICAgICAgICAgICAgICAgICBycy5wcm9wZXJ0aWVzWydhdXRoLWVuZHBvaW50J107XG4gICAgICBjb25zdCBzdG9yYWdlQXBpID0gcnMucHJvcGVydGllc1snaHR0cDovL3JlbW90ZXN0b3JhZ2UuaW8vc3BlYy92ZXJzaW9uJ10gfHxcbiAgICAgICAgICAgICAgICAgICAgICAgcnMudHlwZTtcblxuICAgICAgLy8gY2FjaGUgZmV0Y2hlZCBkYXRhXG4gICAgICBjYWNoZWRJbmZvW3VzZXJBZGRyZXNzXSA9IHtcbiAgICAgICAgaHJlZjogcnMuaHJlZixcbiAgICAgICAgc3RvcmFnZUFwaTogc3RvcmFnZUFwaSxcbiAgICAgICAgYXV0aFVSTDogYXV0aFVSTCxcbiAgICAgICAgcHJvcGVydGllczogcnMucHJvcGVydGllc1xuICAgICAgfTtcblxuICAgICAgaWYgKGhhc0xvY2FsU3RvcmFnZSkge1xuICAgICAgICBsb2NhbFN0b3JhZ2VbU0VUVElOR1NfS0VZXSA9IEpTT04uc3RyaW5naWZ5KHsgY2FjaGU6IGNhY2hlZEluZm8gfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXNvbHZlKGNhY2hlZEluZm9bdXNlckFkZHJlc3NdKTtcbiAgICB9KTtcbiAgfSk7XG59O1xuXG5EaXNjb3Zlci5EaXNjb3ZlcnlFcnJvciA9IGZ1bmN0aW9uKG1lc3NhZ2UpIHtcbiAgdGhpcy5uYW1lID0gJ0Rpc2NvdmVyeUVycm9yJztcbiAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgdGhpcy5zdGFjayA9IChuZXcgRXJyb3IoKSkuc3RhY2s7XG59O1xuRGlzY292ZXIuRGlzY292ZXJ5RXJyb3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpO1xuRGlzY292ZXIuRGlzY292ZXJ5RXJyb3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gRGlzY292ZXIuRGlzY292ZXJ5RXJyb3I7XG5cbkRpc2NvdmVyLl9yc19pbml0ID0gZnVuY3Rpb24gKC8qcmVtb3RlU3RvcmFnZSovKTogdm9pZCB7XG4gIGhhc0xvY2FsU3RvcmFnZSA9IGxvY2FsU3RvcmFnZUF2YWlsYWJsZSgpO1xuICBpZiAoaGFzTG9jYWxTdG9yYWdlKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHNldHRpbmdzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2VbU0VUVElOR1NfS0VZXSk7XG4gICAgICBjYWNoZWRJbmZvID0gc2V0dGluZ3MuY2FjaGU7XG4gICAgfSBjYXRjaChlKSB7XG4gICAgICAvKiBlbXB0eSAqL1xuICAgIH1cbiAgfVxufTtcblxuRGlzY292ZXIuX3JzX3N1cHBvcnRlZCA9IGZ1bmN0aW9uICgpOiBib29sZWFuIHtcbiAgaGF2ZVhNTEh0dHBSZXF1ZXN0ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGdsb2JhbENvbnRleHQsICdYTUxIdHRwUmVxdWVzdCcpO1xuICByZXR1cm4gaGF2ZVhNTEh0dHBSZXF1ZXN0O1xufTtcblxuRGlzY292ZXIuX3JzX2NsZWFudXAgPSBmdW5jdGlvbiAoKTogdm9pZCB7XG4gIGlmIChoYXNMb2NhbFN0b3JhZ2UpIHtcbiAgICBkZWxldGUgbG9jYWxTdG9yYWdlW1NFVFRJTkdTX0tFWV07XG4gIH1cbn07XG5cblxuZXhwb3J0IGRlZmF1bHQgRGlzY292ZXI7XG4iLCJpbXBvcnQgRXZlbnRIYW5kbGluZyBmcm9tICcuL2V2ZW50aGFuZGxpbmcnO1xuaW1wb3J0IHsgYXBwbHlNaXhpbnMgfSBmcm9tICcuL3V0aWwnO1xuXG5jbGFzcyBFbnYge1xuICBoaWRkZW5Qcm9wZXJ0eTogXCJoaWRkZW5cIiB8IFwibW96SGlkZGVuXCIgfCBcIm1zSGlkZGVuXCIgfCBcIndlYmtpdEhpZGRlblwiO1xuICB2aXNpYmlsaXR5Q2hhbmdlRXZlbnQ6IFwidmlzaWJpbGl0eWNoYW5nZVwiIHwgXCJtb3p2aXNpYmlsaXR5Y2hhbmdlXCIgfCBcIm1zdmlzaWJpbGl0eWNoYW5nZVwiIHwgXCJ3ZWJraXR2aXNpYmlsaXR5Y2hhbmdlXCI7XG4gIG1vZGU6IFwiYnJvd3NlclwiIHwgXCJub2RlXCI7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5hZGRFdmVudHMoW1wiYmFja2dyb3VuZFwiLCBcImZvcmVncm91bmRcIl0pO1xuXG4gICAgdGhpcy5tb2RlID0gdHlwZW9mKHdpbmRvdykgIT09ICd1bmRlZmluZWQnID8gJ2Jyb3dzZXInIDogJ25vZGUnO1xuXG4gICAgaWYgKHRoaXMubW9kZSA9PT0gJ2Jyb3dzZXInKSB7XG4gICAgICB0aGlzLnNldEJyb3dzZXJQcmVmaXhlZE5hbWVzKCk7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKHRoaXMudmlzaWJpbGl0eUNoYW5nZUV2ZW50LCB0aGlzLnNldFZpc2liaWxpdHkuYmluZCh0aGlzKSwgZmFsc2UpO1xuICAgICAgdGhpcy5zZXRWaXNpYmlsaXR5KCk7XG4gICAgfVxuICB9XG5cbiAgc2V0QnJvd3NlclByZWZpeGVkTmFtZXMgKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLm1vZGUgIT09ICdicm93c2VyJykgeyByZXR1cm47IH1cblxuICAgIGlmICh0eXBlb2YgZG9jdW1lbnQuaGlkZGVuICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICB0aGlzLmhpZGRlblByb3BlcnR5ID0gXCJoaWRkZW5cIjtcbiAgICAgIHRoaXMudmlzaWJpbGl0eUNoYW5nZUV2ZW50ID0gXCJ2aXNpYmlsaXR5Y2hhbmdlXCI7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZG9jdW1lbnRbXCJtb3pIaWRkZW5cIl0gIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHRoaXMuaGlkZGVuUHJvcGVydHkgPSBcIm1vekhpZGRlblwiO1xuICAgICAgdGhpcy52aXNpYmlsaXR5Q2hhbmdlRXZlbnQgPSBcIm1venZpc2liaWxpdHljaGFuZ2VcIjtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBkb2N1bWVudFtcIm1zSGlkZGVuXCJdICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICB0aGlzLmhpZGRlblByb3BlcnR5ID0gXCJtc0hpZGRlblwiO1xuICAgICAgdGhpcy52aXNpYmlsaXR5Q2hhbmdlRXZlbnQgPSBcIm1zdmlzaWJpbGl0eWNoYW5nZVwiO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGRvY3VtZW50W1wid2Via2l0SGlkZGVuXCJdICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICB0aGlzLmhpZGRlblByb3BlcnR5ID0gXCJ3ZWJraXRIaWRkZW5cIjtcbiAgICAgIHRoaXMudmlzaWJpbGl0eUNoYW5nZUV2ZW50ID0gXCJ3ZWJraXR2aXNpYmlsaXR5Y2hhbmdlXCI7XG4gICAgfVxuICB9XG5cbiAgc2V0VmlzaWJpbGl0eSAoKTogdm9pZCB7XG4gICAgaWYgKGRvY3VtZW50W3RoaXMuaGlkZGVuUHJvcGVydHldKSB7XG4gICAgICB0aGlzLmdvQmFja2dyb3VuZCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmdvRm9yZWdyb3VuZCgpO1xuICAgIH1cbiAgfVxuXG4gIGlzQnJvd3NlciAoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMubW9kZSA9PT0gXCJicm93c2VyXCI7XG4gIH1cblxuICBpc05vZGUgKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLm1vZGUgPT09IFwibm9kZVwiO1xuICB9XG5cbiAgZ29CYWNrZ3JvdW5kICgpOiB2b2lkIHtcbiAgICB0aGlzLl9lbWl0KFwiYmFja2dyb3VuZFwiKTtcbiAgfVxuXG4gIGdvRm9yZWdyb3VuZCAoKTogdm9pZCB7XG4gICAgdGhpcy5fZW1pdChcImZvcmVncm91bmRcIik7XG4gIH1cblxuICBzdGF0aWMgX3JzX2luaXQgKC8qIHJlbW90ZVN0b3JhZ2UgKi8pOiB2b2lkIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBzdGF0aWMgX3JzX2NsZWFudXAgKC8qIHJlbW90ZVN0b3JhZ2UgKi8pOiB2b2lkIHtcbiAgICByZXR1cm47XG4gIH1cbn07XG5cbmludGVyZmFjZSBFbnYgZXh0ZW5kcyBFdmVudEhhbmRsaW5nIHt9O1xuYXBwbHlNaXhpbnMoRW52LCBbRXZlbnRIYW5kbGluZ10pO1xuXG5leHBvcnQgZGVmYXVsdCBFbnY7XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBjb25maWcgZnJvbSAnLi9jb25maWcnO1xuaW1wb3J0IGxvZyBmcm9tICcuL2xvZyc7XG5pbXBvcnQge1xuICBhcHBseU1peGlucyxcbiAgZ2V0R2xvYmFsQ29udGV4dCxcbiAgZ2V0SlNPTkZyb21Mb2NhbFN0b3JhZ2UsXG4gIGV4dGVuZCxcbiAgbG9jYWxTdG9yYWdlQXZhaWxhYmxlXG59IGZyb20gJy4vdXRpbCc7XG5cbmltcG9ydCBBY2Nlc3MgZnJvbSAnLi9hY2Nlc3MnO1xuaW1wb3J0IEF1dGhvcml6ZSBmcm9tICcuL2F1dGhvcml6ZSc7XG5pbXBvcnQgQmFzZUNsaWVudCBmcm9tICcuL2Jhc2VjbGllbnQnO1xuaW1wb3J0IENhY2hpbmcgZnJvbSAnLi9jYWNoaW5nJztcbmltcG9ydCBFdmVudEhhbmRsaW5nIGZyb20gJy4vZXZlbnRoYW5kbGluZyc7XG5pbXBvcnQgR29vZ2xlRHJpdmUgZnJvbSAnLi9nb29nbGVkcml2ZSc7XG5pbXBvcnQgRHJvcGJveCBmcm9tICcuL2Ryb3Bib3gnO1xuaW1wb3J0IERpc2NvdmVyIGZyb20gJy4vZGlzY292ZXInO1xuaW1wb3J0IFN5bmNFcnJvciBmcm9tICcuL3N5bmMtZXJyb3InO1xuaW1wb3J0IFVuYXV0aG9yaXplZEVycm9yIGZyb20gJy4vdW5hdXRob3JpemVkLWVycm9yJztcbmltcG9ydCBGZWF0dXJlcyBmcm9tICcuL2ZlYXR1cmVzJztcblxuLy8gVE9ETyB0aGlzIGlzIGFzc2lnbmVkIHRvIFJlbW90ZVN0b3JhZ2UudXRpbCBsYXRlcjsgY2hlY2sgaWYgc3RpbGwgbmVlZGVkXG5pbXBvcnQgKiBhcyB1dGlsIGZyb20gJy4vdXRpbCc7XG5cbmludGVyZmFjZSBSU01vZHVsZSB7XG4gIG5hbWU6IHN0cmluZztcbiAgYnVpbGRlcjogRnVuY3Rpb247IC8vIFRPRE8gZGV0YWlsZWQgdHlwZVxufVxuXG5jb25zdCBnbG9iYWxDb250ZXh0ID0gZ2V0R2xvYmFsQ29udGV4dCgpO1xuLy8gZGVjbGFyZSBnbG9iYWwge1xuLy8gICBpbnRlcmZhY2UgV2luZG93IHsgY29yZG92YTogYW55IH07XG4vLyB9XG5cbmxldCBoYXNMb2NhbFN0b3JhZ2U6IGJvb2xlYW47XG5cbi8vIFRPRE8gZG9jdW1lbnQgYW5kL29yIHJlZmFjdG9yIChzZWVtcyB3ZWlyZClcbmZ1bmN0aW9uIGVtaXRVbmF1dGhvcml6ZWQocikge1xuICBpZiAoci5zdGF0dXNDb2RlID09PSA0MDMgIHx8IHIuc3RhdHVzQ29kZSA9PT0gNDAxKSB7XG4gICAgdGhpcy5fZW1pdCgnZXJyb3InLCBuZXcgVW5hdXRob3JpemVkRXJyb3IoKSk7XG4gIH1cbiAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyKTtcbn1cblxuLyoqXG4gKiBDb25zdHJ1Y3RvciBmb3IgdGhlIHJlbW90ZVN0b3JhZ2Ugb2JqZWN0LlxuICpcbiAqIFRoaXMgY2xhc3MgcHJpbWFyaWx5IGNvbnRhaW5zIGZlYXR1cmUgZGV0ZWN0aW9uIGNvZGUgYW5kIGNvbnZlbmllbmNlIEFQSS5cbiAqXG4gKiBEZXBlbmRpbmcgb24gd2hpY2ggZmVhdHVyZXMgYXJlIGJ1aWx0IGluLCBpdCBjb250YWlucyBkaWZmZXJlbnQgYXR0cmlidXRlc1xuICogYW5kIGZ1bmN0aW9ucy4gU2VlIHRoZSBpbmRpdmlkdWFsIGZlYXR1cmVzIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBjb25maWcgLSBhbiBvcHRpb25hbCBjb25maWd1cmF0aW9uIG9iamVjdFxuICogQGNsYXNzXG4gKi9cbmNvbnN0IFJlbW90ZVN0b3JhZ2UgPSBmdW5jdGlvbiAoY2ZnKSB7XG5cbiAgLy8gSW5pdGlhbCBjb25maWd1cmF0aW9uIHByb3BlcnR5IHNldHRpbmdzLlxuICBpZiAodHlwZW9mIGNmZyA9PT0gJ29iamVjdCcpIHtcbiAgICBleHRlbmQoY29uZmlnLCBjZmcpO1xuICB9XG5cbiAgdGhpcy5hZGRFdmVudHMoW1xuICAgICdyZWFkeScsICdhdXRoaW5nJywgJ2Nvbm5lY3RpbmcnLCAnY29ubmVjdGVkJywgJ2Rpc2Nvbm5lY3RlZCcsXG4gICAgJ25vdC1jb25uZWN0ZWQnLCAnY29uZmxpY3QnLCAnZXJyb3InLCAnZmVhdHVyZXMtbG9hZGVkJyxcbiAgICAnc3luYy1pbnRlcnZhbC1jaGFuZ2UnLCAnc3luYy1yZXEtZG9uZScsICdzeW5jLWRvbmUnLFxuICAgICd3aXJlLWJ1c3knLCAnd2lyZS1kb25lJywgJ25ldHdvcmstb2ZmbGluZScsICduZXR3b3JrLW9ubGluZSdcbiAgXSk7XG5cbiAgLyoqXG4gICAqIFBlbmRpbmcgZ2V0L3B1dC9kZWxldGUgY2FsbHNcbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMuX3BlbmRpbmcgPSBbXTtcblxuICAvKipcbiAgICogVE9ETzogZG9jdW1lbnRcbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMuX3NldEdQRCh7XG4gICAgZ2V0OiB0aGlzLl9wZW5kaW5nR1BEKCdnZXQnKSxcbiAgICBwdXQ6IHRoaXMuX3BlbmRpbmdHUEQoJ3B1dCcpLFxuICAgIGRlbGV0ZTogdGhpcy5fcGVuZGluZ0dQRCgnZGVsZXRlJylcbiAgfSk7XG5cbiAgLyoqXG4gICAqIFRPRE86IGRvY3VtZW50XG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLl9jbGVhbnVwcyA9IFtdO1xuXG4gIC8qKlxuICAgKiBUT0RPOiBkb2N1bWVudFxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5fcGF0aEhhbmRsZXJzID0geyBjaGFuZ2U6IHt9IH07XG5cbiAgLyoqXG4gICAqIEhvbGRzIE9BdXRoIGFwcCBrZXlzIGZvciBEcm9wYm94LCBHb29nbGUgRHJpdmVcbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMuYXBpS2V5cyA9IHt9O1xuXG4gIGhhc0xvY2FsU3RvcmFnZSA9IGxvY2FsU3RvcmFnZUF2YWlsYWJsZSgpO1xuXG4gIGlmIChoYXNMb2NhbFN0b3JhZ2UpIHtcbiAgICB0aGlzLmFwaUtleXMgPSBnZXRKU09ORnJvbUxvY2FsU3RvcmFnZSgncmVtb3Rlc3RvcmFnZTphcGkta2V5cycpIHx8IHt9O1xuICAgIHRoaXMuc2V0QmFja2VuZChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncmVtb3Rlc3RvcmFnZTpiYWNrZW5kJykgfHwgJ3JlbW90ZXN0b3JhZ2UnKTtcbiAgfVxuXG4gIC8vIEtlZXAgYSByZWZlcmVuY2UgdG8gdGhlIG9yZ2luYWwgYG9uYCBmdW5jdGlvblxuICBjb25zdCBvcmlnT24gPSB0aGlzLm9uO1xuXG4gIC8qKlxuICAgKiBSZWdpc3RlciBhbiBldmVudCBoYW5kbGVyLiBTZWUgOnJlZjpgcnMtZXZlbnRzYCBmb3IgYXZhaWxhYmxlIGV2ZW50IG5hbWVzLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnROYW1lIC0gTmFtZSBvZiB0aGUgZXZlbnRcbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gaGFuZGxlciAtIEV2ZW50IGhhbmRsZXJcbiAgICovXG4gIHRoaXMub24gPSBmdW5jdGlvbiAoZXZlbnROYW1lOiBzdHJpbmcsIGhhbmRsZXI6IEZ1bmN0aW9uKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuX2FsbExvYWRlZCkge1xuICAgICAgLy8gY2hlY2sgaWYgdGhlIGhhbmRsZXIgc2hvdWxkIGJlIGNhbGxlZCBpbW1lZGlhdGVseSwgYmVjYXVzZSB0aGVcbiAgICAgIC8vIGV2ZW50IGhhcyBoYXBwZW5lZCBhbHJlYWR5XG4gICAgICBzd2l0Y2goZXZlbnROYW1lKSB7XG4gICAgICAgIGNhc2UgJ2ZlYXR1cmVzLWxvYWRlZCc6XG4gICAgICAgICAgc2V0VGltZW91dChoYW5kbGVyLCAwKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAncmVhZHknOlxuICAgICAgICAgIGlmICh0aGlzLnJlbW90ZSkge1xuICAgICAgICAgICAgc2V0VGltZW91dChoYW5kbGVyLCAwKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2Nvbm5lY3RlZCc6XG4gICAgICAgICAgaWYgKHRoaXMucmVtb3RlICYmIHRoaXMucmVtb3RlLmNvbm5lY3RlZCkge1xuICAgICAgICAgICAgc2V0VGltZW91dChoYW5kbGVyLCAwKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ25vdC1jb25uZWN0ZWQnOlxuICAgICAgICAgIGlmICh0aGlzLnJlbW90ZSAmJiAhdGhpcy5yZW1vdGUuY29ubmVjdGVkKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGhhbmRsZXIsIDApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gb3JpZ09uLmNhbGwodGhpcywgZXZlbnROYW1lLCBoYW5kbGVyKTtcbiAgfTtcblxuICAvLyBsb2FkIGFsbCBmZWF0dXJlcyBhbmQgZW1pdCBgcmVhZHlgXG4gIHRoaXMuX2luaXQoKTtcblxuICAvKipcbiAgICogVE9ETzogZG9jdW1lbnRcbiAgICovXG4gIHRoaXMuZmlyZUluaXRpYWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMubG9jYWwpIHtcbiAgICAgIHNldFRpbWVvdXQodGhpcy5sb2NhbC5maXJlSW5pdGlhbC5iaW5kKHRoaXMubG9jYWwpLCAwKTtcbiAgICB9XG4gIH0uYmluZCh0aGlzKTtcblxuICB0aGlzLm9uKCdyZWFkeScsIHRoaXMuZmlyZUluaXRpYWwuYmluZCh0aGlzKSk7XG4gIHRoaXMubG9hZE1vZHVsZXMoKTtcbn07XG5cbi8vIEZJWE1FOiBJbnN0ZWFkIG9mIGRvaW5nIHRoaXMsIHdvdWxkIGJlIGJldHRlciB0byBvbmx5XG4vLyBleHBvcnQgc2V0QXV0aFVSTCAvIGdldEF1dGhVUkwgZnJvbSBSZW1vdGVTdG9yYWdlIHByb3RvdHlwZVxuUmVtb3RlU3RvcmFnZS5BdXRob3JpemUgPSBBdXRob3JpemU7XG5cblJlbW90ZVN0b3JhZ2UuU3luY0Vycm9yID0gU3luY0Vycm9yO1xuUmVtb3RlU3RvcmFnZS5VbmF1dGhvcml6ZWQgPSBVbmF1dGhvcml6ZWRFcnJvcjtcblJlbW90ZVN0b3JhZ2UuRGlzY292ZXJ5RXJyb3IgPSBEaXNjb3Zlci5EaXNjb3ZlcnlFcnJvcjtcblxuUmVtb3RlU3RvcmFnZS5wcm90b3R5cGUgPSB7XG5cbiAgLyoqXG4gICAqIExvYWQgYWxsIG1vZHVsZXMgcGFzc2VkIGFzIGFyZ3VtZW50c1xuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgbG9hZE1vZHVsZXM6IGZ1bmN0aW9uIGxvYWRNb2R1bGVzKCk6IHZvaWQge1xuICAgIGNvbmZpZy5tb2R1bGVzLmZvckVhY2godGhpcy5hZGRNb2R1bGUuYmluZCh0aGlzKSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEluaXRpYXRlIHRoZSBPQXV0aCBhdXRob3JpemF0aW9uIGZsb3cuXG4gICAqXG4gICAqIFRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIGJ5IGN1c3RvbSBzdG9yYWdlIGJhY2tlbmQgaW1wbGVtZW50YXRpb25zXG4gICAqIChlLmcuIERyb3Bib3ggb3IgR29vZ2xlIERyaXZlKS5cbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnNcbiAgICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMuYXV0aFVSTCAtIFVSTCBvZiB0aGUgYXV0aG9yaXphdGlvbiBlbmRwb2ludFxuICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuc2NvcGVdIC0gYWNjZXNzIHNjb3BlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5jbGllbnRJZF0gLSBjbGllbnQgaWRlbnRpZmllciAoZGVmYXVsdHMgdG8gdGhlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW4gb2YgdGhlIHJlZGlyZWN0VXJpKVxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgYXV0aG9yaXplIChvcHRpb25zOiB7IGF1dGhVUkw6IHN0cmluZzsgc2NvcGU/OiBzdHJpbmc7IGNsaWVudElkPzogc3RyaW5nOyByZWRpcmVjdFVyaTogc3RyaW5nIH0pOiB2b2lkIHtcbiAgICB0aGlzLmFjY2Vzcy5zZXRTdG9yYWdlVHlwZSh0aGlzLnJlbW90ZS5zdG9yYWdlQXBpKTtcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMuc2NvcGUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBvcHRpb25zLnNjb3BlID0gdGhpcy5hY2Nlc3Muc2NvcGVQYXJhbWV0ZXI7XG4gICAgfVxuXG4gICAgb3B0aW9ucy5yZWRpcmVjdFVyaSA9IGdsb2JhbENvbnRleHQuY29yZG92YSA/IGNvbmZpZy5jb3Jkb3ZhUmVkaXJlY3RVcmkgOiBTdHJpbmcoQXV0aG9yaXplLmdldExvY2F0aW9uKCkpO1xuXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLmNsaWVudElkID09PSAndW5kZWZpbmVkJykge1xuICAgICAgb3B0aW9ucy5jbGllbnRJZCA9IG9wdGlvbnMucmVkaXJlY3RVcmkubWF0Y2goL14oaHR0cHM/OlxcL1xcL1teL10rKS8pWzBdO1xuICAgIH1cblxuICAgIEF1dGhvcml6ZS5hdXRob3JpemUodGhpcywgb3B0aW9ucyk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFRPRE86IGRvY3VtZW50XG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBpbXBsaWVkYXV0aDogZnVuY3Rpb24gKHN0b3JhZ2VBcGksIHJlZGlyZWN0VXJpKTogdm9pZCB7XG4gICAgLy8gVE9ETyBzaG91bGRuJ3QgdGhlc2UgYmUgZGVmYXVsdCBhcmd1bWVudCB2YWx1ZXM/XG4gICAgc3RvcmFnZUFwaSA9IHRoaXMucmVtb3RlLnN0b3JhZ2VBcGk7XG4gICAgcmVkaXJlY3RVcmkgPSAgU3RyaW5nKGRvY3VtZW50LmxvY2F0aW9uKTtcblxuICAgIGxvZygnSW1wbGllZEF1dGggcHJvY2VlZGluZyBkdWUgdG8gYWJzZW50IGF1dGhVUkw7IHN0b3JhZ2VBcGkgPSAnICsgc3RvcmFnZUFwaSArICcgcmVkaXJlY3RVcmkgPSAnICsgcmVkaXJlY3RVcmkpO1xuICAgIC8vIFNldCBhIGZpeGVkIGFjY2VzcyB0b2tlbiwgc2lnbmFsbGluZyB0byBub3Qgc2VuZCBpdCBhcyBCZWFyZXJcbiAgICB0aGlzLnJlbW90ZS5jb25maWd1cmUoe1xuICAgICAgdG9rZW46IEF1dGhvcml6ZS5JTVBMSUVEX0ZBS0VfVE9LRU5cbiAgICB9KTtcbiAgICBkb2N1bWVudC5sb2NhdGlvbiA9IHJlZGlyZWN0VXJpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAcHJvcGVydHkge29iamVjdH0gcmVtb3RlXG4gICAqXG4gICAqIERlcGVuZGluZyBvbiB0aGUgY2hvc2VuIGJhY2tlbmQsIHRoaXMgaXMgZWl0aGVyIGFuIGluc3RhbmNlIG9mIGBgV2lyZUNsaWVudGBgLFxuICAgKiBgYERyb3Bib3hgYCBvciBgYEdvb2dsZURyaXZlYGAuXG4gICAqXG4gICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gcmVtb3RlLmNvbm5lY3RlZCAtIFdoZXRoZXIgb3Igbm90IGEgcmVtb3RlIHN0b3JlIGlzIGNvbm5lY3RlZFxuICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IHJlbW90ZS5vbmxpbmUgLSBXaGV0aGVyIGxhc3Qgc3luYyBhY3Rpb24gd2FzIHN1Y2Nlc3NmdWwgb3Igbm90XG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSByZW1vdGUudXNlckFkZHJlc3MgLSBUaGUgdXNlciBhZGRyZXNzIG9mIHRoZSBjb25uZWN0ZWQgdXNlclxuICAgKiBAcHJvcGVydHkge3N0cmluZ30gcmVtb3RlLnByb3BlcnRpZXMgLSBUaGUgcHJvcGVydGllcyBvZiB0aGUgV2ViRmluZ2VyIGxpbmtcbiAgICovXG5cbiAgLyoqXG4gICAqIENvbm5lY3QgdG8gYSByZW1vdGVTdG9yYWdlIHNlcnZlci5cbiAgICpcbiAgICogRGlzY292ZXJzIHRoZSBXZWJGaW5nZXIgcHJvZmlsZSBvZiB0aGUgZ2l2ZW4gdXNlciBhZGRyZXNzIGFuZCBpbml0aWF0ZXNcbiAgICogdGhlIE9BdXRoIGRhbmNlLlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCBtdXN0IGJlIGNhbGxlZCAqYWZ0ZXIqIGFsbCByZXF1aXJlZCBhY2Nlc3MgaGFzIGJlZW4gY2xhaW1lZC5cbiAgICogV2hlbiB1c2luZyB0aGUgY29ubmVjdCB3aWRnZXQsIGl0IHdpbGwgY2FsbCB0aGlzIG1ldGhvZCBpdHNlbGYuXG4gICAqXG4gICAqIFNwZWNpYWwgY2FzZXM6XG4gICAqXG4gICAqIDEuIElmIGEgYmVhcmVyIHRva2VuIGlzIHN1cHBsaWVkIGFzIHNlY29uZCBhcmd1bWVudCwgdGhlIE9BdXRoIGRhbmNlXG4gICAqICAgIHdpbGwgYmUgc2tpcHBlZCBhbmQgdGhlIHN1cHBsaWVkIHRva2VuIGJlIHVzZWQgaW5zdGVhZC4gVGhpcyBpc1xuICAgKiAgICB1c2VmdWwgb3V0c2lkZSBvZiBicm93c2VyIGVudmlyb25tZW50cywgd2hlcmUgdGhlIHRva2VuIGhhcyBiZWVuXG4gICAqICAgIGFjcXVpcmVkIGluIGEgZGlmZmVyZW50IHdheS5cbiAgICpcbiAgICogMi4gSWYgdGhlIFdlYmZpbmdlciBwcm9maWxlIGZvciB0aGUgZ2l2ZW4gdXNlciBhZGRyZXNzIGRvZXNuJ3QgY29udGFpblxuICAgKiAgICBhbiBhdXRoIFVSTCwgdGhlIGxpYnJhcnkgd2lsbCBhc3N1bWUgdGhhdCBjbGllbnQgYW5kIHNlcnZlciBoYXZlXG4gICAqICAgIGVzdGFibGlzaGVkIGF1dGhvcml6YXRpb24gYW1vbmcgdGhlbXNlbHZlcywgd2hpY2ggd2lsbCBvbWl0IGJlYXJlclxuICAgKiAgICB0b2tlbnMgaW4gYWxsIHJlcXVlc3RzIGxhdGVyIG9uLiBUaGlzIGlzIHVzZWZ1bCBmb3IgZXhhbXBsZSB3aGVuIHVzaW5nXG4gICAqICAgIEtlcmJlcm9zIGFuZCBzaW1pbGFyIHByb3RvY29scy5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHVzZXJBZGRyZXNzIC0gVGhlIHVzZXIgYWRkcmVzcyAodXNlckBob3N0KSB0byBjb25uZWN0IHRvLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdG9rZW4gICAgICAgLSAob3B0aW9uYWwpIEEgYmVhcmVyIHRva2VuIGFjcXVpcmVkIGJlZm9yZWhhbmRcbiAgICovXG4gIGNvbm5lY3Q6IGZ1bmN0aW9uICh1c2VyQWRkcmVzczogc3RyaW5nLCB0b2tlbj86IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMuc2V0QmFja2VuZCgncmVtb3Rlc3RvcmFnZScpO1xuICAgIGlmICh1c2VyQWRkcmVzcy5pbmRleE9mKCdAJykgPCAwKSB7XG4gICAgICB0aGlzLl9lbWl0KCdlcnJvcicsIG5ldyBSZW1vdGVTdG9yYWdlLkRpc2NvdmVyeUVycm9yKFwiVXNlciBhZGRyZXNzIGRvZXNuJ3QgY29udGFpbiBhbiBALlwiKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGdsb2JhbENvbnRleHQuY29yZG92YSkge1xuICAgICAgaWYgKHR5cGVvZiBjb25maWcuY29yZG92YVJlZGlyZWN0VXJpICE9PSAnc3RyaW5nJykge1xuICAgICAgICB0aGlzLl9lbWl0KCdlcnJvcicsIG5ldyBSZW1vdGVTdG9yYWdlLkRpc2NvdmVyeUVycm9yKFwiUGxlYXNlIHN1cHBseSBhIGN1c3RvbSBIVFRQUyByZWRpcmVjdCBVUkkgZm9yIHlvdXIgQ29yZG92YSBhcHBcIikpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIWdsb2JhbENvbnRleHQuY29yZG92YS5JbkFwcEJyb3dzZXIpIHtcbiAgICAgICAgdGhpcy5fZW1pdCgnZXJyb3InLCBuZXcgUmVtb3RlU3RvcmFnZS5EaXNjb3ZlcnlFcnJvcihcIlBsZWFzZSBpbmNsdWRlIHRoZSBJbkFwcEJyb3dzZXIgQ29yZG92YSBwbHVnaW4gdG8gZW5hYmxlIE9BdXRoXCIpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMucmVtb3RlLmNvbmZpZ3VyZSh7XG4gICAgICB1c2VyQWRkcmVzczogdXNlckFkZHJlc3NcbiAgICB9KTtcbiAgICB0aGlzLl9lbWl0KCdjb25uZWN0aW5nJyk7XG5cbiAgICBjb25zdCBkaXNjb3ZlcnlUaW1lb3V0ID0gc2V0VGltZW91dCgoKTogdm9pZCA9PiB7XG4gICAgICB0aGlzLl9lbWl0KCdlcnJvcicsIG5ldyBSZW1vdGVTdG9yYWdlLkRpc2NvdmVyeUVycm9yKFwiTm8gc3RvcmFnZSBpbmZvcm1hdGlvbiBmb3VuZCBmb3IgdGhpcyB1c2VyIGFkZHJlc3MuXCIpKTtcbiAgICB9LCBjb25maWcuZGlzY292ZXJ5VGltZW91dCk7XG5cbiAgICBEaXNjb3Zlcih1c2VyQWRkcmVzcykudGhlbigoaW5mbzogU3RvcmFnZUluZm8pOiB2b2lkID0+IHtcbiAgICAgIGNsZWFyVGltZW91dChkaXNjb3ZlcnlUaW1lb3V0KTtcbiAgICAgIHRoaXMuX2VtaXQoJ2F1dGhpbmcnKTtcbiAgICAgIGluZm8udXNlckFkZHJlc3MgPSB1c2VyQWRkcmVzcztcbiAgICAgIHRoaXMucmVtb3RlLmNvbmZpZ3VyZShpbmZvKTtcbiAgICAgIGlmICghIHRoaXMucmVtb3RlLmNvbm5lY3RlZCkge1xuICAgICAgICBpZiAoaW5mby5hdXRoVVJMKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiB0b2tlbiA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIC8vIE5vcm1hbCBhdXRob3JpemF0aW9uIHN0ZXA7IHRoZSBkZWZhdWx0IHdheSB0byBjb25uZWN0XG4gICAgICAgICAgICB0aGlzLmF1dGhvcml6ZSh7IGF1dGhVUkw6IGluZm8uYXV0aFVSTCB9KTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB0b2tlbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIC8vIFRva2VuIHN1cHBsaWVkIGRpcmVjdGx5IGJ5IGFwcC9kZXZlbG9wZXIvdXNlclxuICAgICAgICAgICAgbG9nKCdTa2lwcGluZyBhdXRob3JpemF0aW9uIHNlcXVlbmNlIGFuZCBjb25uZWN0aW5nIHdpdGgga25vd24gdG9rZW4nKTtcbiAgICAgICAgICAgIHRoaXMucmVtb3RlLmNvbmZpZ3VyZSh7IHRva2VuOiB0b2tlbiB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU3VwcGxpZWQgYmVhcmVyIHRva2VuIG11c3QgYmUgYSBzdHJpbmdcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIEluIGxpZXUgb2YgYW4gZXhjcGxpY2l0IGF1dGhVUkwsIGFzc3VtZSB0aGF0IHRoZSBicm93c2VyIGFuZFxuICAgICAgICAgIC8vIHNlcnZlciBoYW5kbGUgYW55IGF1dGhvcml6YXRpb24gbmVlZHM7IGZvciBpbnN0YW5jZSwgVExTIG1heVxuICAgICAgICAgIC8vIHRyaWdnZXIgdGhlIGJyb3dzZXIgdG8gdXNlIGEgY2xpZW50IGNlcnRpZmljYXRlLCBvciBhIDQwMSBOb3RcbiAgICAgICAgICAvLyBBdXRob3JpemVkIHJlc3BvbnNlIG1heSBtYWtlIHRoZSBicm93c2VyIHNlbmQgYSBLZXJiZXJvcyB0aWNrZXRcbiAgICAgICAgICAvLyB1c2luZyB0aGUgU1BORUdPIG1ldGhvZC5cbiAgICAgICAgICB0aGlzLmltcGxpZWRhdXRoKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCAoLyplcnIqLykgPT4ge1xuICAgICAgY2xlYXJUaW1lb3V0KGRpc2NvdmVyeVRpbWVvdXQpO1xuICAgICAgdGhpcy5fZW1pdCgnZXJyb3InLCBuZXcgUmVtb3RlU3RvcmFnZS5EaXNjb3ZlcnlFcnJvcihcIk5vIHN0b3JhZ2UgaW5mb3JtYXRpb24gZm91bmQgZm9yIHRoaXMgdXNlciBhZGRyZXNzLlwiKSk7XG4gICAgfSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJlY29ubmVjdCB0aGUgcmVtb3RlIHNlcnZlciB0byBnZXQgYSBuZXcgYXV0aG9yaXphdGlvbi5cbiAgICovXG4gIHJlY29ubmVjdDogZnVuY3Rpb24gKCk6IHZvaWQge1xuICAgIHRoaXMucmVtb3RlLmNvbmZpZ3VyZSh7IHRva2VuOiBudWxsIH0pO1xuXG4gICAgaWYgKHRoaXMuYmFja2VuZCA9PT0gJ3JlbW90ZXN0b3JhZ2UnKSB7XG4gICAgICB0aGlzLmNvbm5lY3QodGhpcy5yZW1vdGUudXNlckFkZHJlc3MpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJlbW90ZS5jb25uZWN0KCk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBcIkRpc2Nvbm5lY3RcIiBmcm9tIHJlbW90ZSBzZXJ2ZXIgdG8gdGVybWluYXRlIGN1cnJlbnQgc2Vzc2lvbi5cbiAgICpcbiAgICogVGhpcyBtZXRob2QgY2xlYXJzIGFsbCBzdG9yZWQgc2V0dGluZ3MgYW5kIGRlbGV0ZXMgdGhlIGVudGlyZSBsb2NhbFxuICAgKiBjYWNoZS5cbiAgICovXG4gIGRpc2Nvbm5lY3Q6IGZ1bmN0aW9uICgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5yZW1vdGUpIHtcbiAgICAgIHRoaXMucmVtb3RlLmNvbmZpZ3VyZSh7XG4gICAgICAgIHVzZXJBZGRyZXNzOiBudWxsLFxuICAgICAgICBocmVmOiBudWxsLFxuICAgICAgICBzdG9yYWdlQXBpOiBudWxsLFxuICAgICAgICB0b2tlbjogbnVsbCxcbiAgICAgICAgcHJvcGVydGllczogbnVsbFxuICAgICAgfSk7XG4gICAgfVxuICAgIHRoaXMuX3NldEdQRCh7XG4gICAgICBnZXQ6IHRoaXMuX3BlbmRpbmdHUEQoJ2dldCcpLFxuICAgICAgcHV0OiB0aGlzLl9wZW5kaW5nR1BEKCdwdXQnKSxcbiAgICAgIGRlbGV0ZTogdGhpcy5fcGVuZGluZ0dQRCgnZGVsZXRlJylcbiAgICB9KTtcbiAgICBjb25zdCBuID0gdGhpcy5fY2xlYW51cHMubGVuZ3RoO1xuICAgIGxldCBpID0gMDtcblxuICAgIGNvbnN0IG9uZURvbmUgPSAoKTogdm9pZCA9PiB7XG4gICAgICBpKys7XG4gICAgICBpZiAoaSA+PSBuKSB7XG4gICAgICAgIHRoaXMuX2luaXQoKTtcbiAgICAgICAgLy8gRklYTUUgUmUtZW5hYmxlIHdoZW4gbW9kdWxlcyBhcmUgYWxsIGltcG9ydHNcbiAgICAgICAgLy8gbG9nKCdEb25lIGNsZWFuaW5nIHVwLCBlbWl0dGluZyBkaXNjb25uZWN0ZWQgYW5kIGRpc2Nvbm5lY3QgZXZlbnRzJyk7XG4gICAgICAgIHRoaXMuX2VtaXQoJ2Rpc2Nvbm5lY3RlZCcpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBpZiAobiA+IDApIHtcbiAgICAgIHRoaXMuX2NsZWFudXBzLmZvckVhY2goKGNsZWFudXA6IEZ1bmN0aW9uKSA9PiB7XG4gICAgICAgIGNvbnN0IGNsZWFudXBSZXN1bHQgPSBjbGVhbnVwKHRoaXMpO1xuICAgICAgICBpZiAodHlwZW9mKGNsZWFudXBSZXN1bHQpID09PSAnb2JqZWN0JyAmJiB0eXBlb2YoY2xlYW51cFJlc3VsdC50aGVuKSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIGNsZWFudXBSZXN1bHQudGhlbihvbmVEb25lKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvbmVEb25lKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBvbmVEb25lKCk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBUT0RPOiBkb2N1bWVudFxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgc2V0QmFja2VuZDogZnVuY3Rpb24gKHdoYXQpOiB2b2lkIHtcbiAgICB0aGlzLmJhY2tlbmQgPSB3aGF0O1xuICAgIGlmIChoYXNMb2NhbFN0b3JhZ2UpIHtcbiAgICAgIGlmICh3aGF0KSB7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdyZW1vdGVzdG9yYWdlOmJhY2tlbmQnLCB3aGF0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdyZW1vdGVzdG9yYWdlOmJhY2tlbmQnKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIEFkZCBhIFwiY2hhbmdlXCIgZXZlbnQgaGFuZGxlciB0byB0aGUgZ2l2ZW4gcGF0aC4gV2hlbmV2ZXIgYSBcImNoYW5nZVwiXG4gICAqIGhhcHBlbnMgKGFzIGRldGVybWluZWQgYnkgdGhlIGJhY2tlbmQsIHN1Y2ggYXMgZS5nLlxuICAgKiA8UmVtb3RlU3RvcmFnZS5JbmRleGVkREI+KSBhbmQgdGhlIGFmZmVjdGVkIHBhdGggaXMgZXF1YWwgdG8gb3IgYmVsb3cgdGhlXG4gICAqIGdpdmVuICdwYXRoJywgdGhlIGdpdmVuIGhhbmRsZXIgaXMgY2FsbGVkLlxuICAgKlxuICAgKiBZb3Ugc2hvdWxkIHVzdWFsbHkgbm90IHVzZSB0aGlzIG1ldGhvZCBkaXJlY3RseSwgYnV0IGluc3RlYWQgdXNlIHRoZVxuICAgKiBcImNoYW5nZVwiIGV2ZW50cyBwcm92aWRlZCBieSA6ZG9jOmBCYXNlQ2xpZW50IDwvanMtYXBpL2Jhc2UtY2xpZW50PmBcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggLSBBYnNvbHV0ZSBwYXRoIHRvIGF0dGFjaCBoYW5kbGVyIHRvXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IGhhbmRsZXIgLSBIYW5kbGVyIGZ1bmN0aW9uXG4gICAqL1xuICBvbkNoYW5nZTogZnVuY3Rpb24gKHBhdGg6IHN0cmluZywgaGFuZGxlcjogRnVuY3Rpb24pOiB2b2lkIHtcbiAgICBpZiAoISB0aGlzLl9wYXRoSGFuZGxlcnMuY2hhbmdlW3BhdGhdKSB7XG4gICAgICB0aGlzLl9wYXRoSGFuZGxlcnMuY2hhbmdlW3BhdGhdID0gW107XG4gICAgfVxuICAgIHRoaXMuX3BhdGhIYW5kbGVycy5jaGFuZ2VbcGF0aF0ucHVzaChoYW5kbGVyKTtcbiAgfSxcblxuICAvKipcbiAgICogVE9ETzogZG8gd2Ugc3RpbGwgbmVlZCB0aGlzLCBub3cgdGhhdCB3ZSBhbHdheXMgaW5zdGFudGlhdGUgdGhlIHByb3RvdHlwZT9cbiAgICpcbiAgICogRW5hYmxlIHJlbW90ZVN0b3JhZ2UgbG9nZ2luZy5cbiAgICovXG4gIGVuYWJsZUxvZzogZnVuY3Rpb24gKCk6IHZvaWQge1xuICAgIGNvbmZpZy5sb2dnaW5nID0gdHJ1ZTtcbiAgfSxcblxuICAvKipcbiAgICogVE9ETzogZG8gd2Ugc3RpbGwgbmVlZCB0aGlzLCBub3cgdGhhdCB3ZSBhbHdheXMgaW5zdGFudGlhdGUgdGhlIHByb3RvdHlwZT9cbiAgICpcbiAgICogRGlzYWJsZSByZW1vdGVTdG9yYWdlIGxvZ2dpbmdcbiAgICovXG4gIGRpc2FibGVMb2c6IGZ1bmN0aW9uICgpOiB2b2lkIHtcbiAgICBjb25maWcubG9nZ2luZyA9IGZhbHNlO1xuICB9LFxuXG4gIC8qKlxuICAgKiBsb2dcbiAgICpcbiAgICogVGhlIHNhbWUgYXMgPFJlbW90ZVN0b3JhZ2UubG9nPi5cbiAgICovXG4gIGxvZzogZnVuY3Rpb24gKC4uLmFyZ3MpOiB2b2lkIHtcbiAgICBsb2cuYXBwbHkoUmVtb3RlU3RvcmFnZSwgYXJncyk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFNldCB0aGUgT0F1dGgga2V5L0lEIGZvciBlaXRoZXIgR29vZ2xlRHJpdmUgb3IgRHJvcGJveCBiYWNrZW5kIHN1cHBvcnQuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhcGlLZXlzIC0gQSBjb25maWcgb2JqZWN0IHdpdGggdGhlc2UgcHJvcGVydGllczpcbiAgICogQHBhcmFtIHtzdHJpbmd9IFthcGlLZXlzLnR5cGVdIC0gQmFja2VuZCB0eXBlOiAnZ29vZ2xlZHJpdmUnIG9yICdkcm9wYm94J1xuICAgKiBAcGFyYW0ge3N0cmluZ30gW2FwaUtleXMua2V5XSAtIENsaWVudCBJRCBmb3IgR29vZ2xlRHJpdmUsIG9yIGFwcCBrZXkgZm9yIERyb3Bib3hcbiAgICovXG4gIHNldEFwaUtleXM6IGZ1bmN0aW9uIChhcGlLZXlzOiB7IHR5cGU6IHN0cmluZzsga2V5OiBzdHJpbmcgfSk6IHZvaWQgfCBib29sZWFuIHtcbiAgICBjb25zdCB2YWxpZFR5cGVzID0gWydnb29nbGVkcml2ZScsICdkcm9wYm94J107XG4gICAgaWYgKHR5cGVvZiBhcGlLZXlzICE9PSAnb2JqZWN0JyB8fCAhT2JqZWN0LmtleXMoYXBpS2V5cykuZXZlcnkodHlwZSA9PiB2YWxpZFR5cGVzLmluY2x1ZGVzKHR5cGUpKSkge1xuICAgICAgY29uc29sZS5lcnJvcignc2V0QXBpS2V5cygpIHdhcyBjYWxsZWQgd2l0aCBpbnZhbGlkIGFyZ3VtZW50cycpIDtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBPYmplY3Qua2V5cyhhcGlLZXlzKS5mb3JFYWNoKHR5cGUgPT4ge1xuICAgICAgY29uc3Qga2V5ID0gYXBpS2V5c1t0eXBlXTtcbiAgICAgIGlmICgha2V5KSB7IGRlbGV0ZSB0aGlzLmFwaUtleXNbdHlwZV07IHJldHVybjsgfVxuXG4gICAgICBzd2l0Y2godHlwZSkge1xuICAgICAgICBjYXNlICdkcm9wYm94JzpcbiAgICAgICAgICB0aGlzLmFwaUtleXNbJ2Ryb3Bib3gnXSA9IHsgYXBwS2V5OiBrZXkgfTtcbiAgICAgICAgICBpZiAodHlwZW9mIHRoaXMuZHJvcGJveCA9PT0gJ3VuZGVmaW5lZCcgfHxcbiAgICAgICAgICAgICAgdGhpcy5kcm9wYm94LmNsaWVudElkICE9PSBrZXkpIHtcbiAgICAgICAgICAgIERyb3Bib3guX3JzX2luaXQodGhpcyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdnb29nbGVkcml2ZSc6XG4gICAgICAgICAgdGhpcy5hcGlLZXlzWydnb29nbGVkcml2ZSddID0geyBjbGllbnRJZDoga2V5IH07XG4gICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLmdvb2dsZWRyaXZlID09PSAndW5kZWZpbmVkJyB8fFxuICAgICAgICAgICAgdGhpcy5nb29nbGVkcml2ZS5jbGllbnRJZCAhPT0ga2V5KSB7XG4gICAgICAgICAgICBHb29nbGVEcml2ZS5fcnNfaW5pdCh0aGlzKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9KTtcblxuICAgIGlmIChoYXNMb2NhbFN0b3JhZ2UpIHtcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdyZW1vdGVzdG9yYWdlOmFwaS1rZXlzJywgSlNPTi5zdHJpbmdpZnkodGhpcy5hcGlLZXlzKSk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBTZXQgcmVkaXJlY3QgVVJJIHRvIGJlIHVzZWQgZm9yIHRoZSBPQXV0aCByZWRpcmVjdCB3aXRoaW4gdGhlXG4gICAqIGluLWFwcC1icm93c2VyIHdpbmRvdyBpbiBDb3Jkb3ZhIGFwcHMuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1cmkgLSBBIHZhbGlkIEhUVFAoUykgVVJJXG4gICAqL1xuICBzZXRDb3Jkb3ZhUmVkaXJlY3RVcmk6IGZ1bmN0aW9uICh1cmk6IHVua25vd24pOiB2b2lkIHtcbiAgICBpZiAodHlwZW9mIHVyaSAhPT0gJ3N0cmluZycgfHwgIXVyaS5tYXRjaCgvaHR0cChzKT86XFwvXFwvLykpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvcmRvdmEgcmVkaXJlY3QgVVJJIG11c3QgYmUgYSBVUkkgc3RyaW5nXCIpO1xuICAgIH1cbiAgICBjb25maWcuY29yZG92YVJlZGlyZWN0VXJpID0gdXJpO1xuICB9LFxuXG5cbiAgLy9cbiAgLy8gRkVBVFVSRVMgSU5JVElBTElaQVRJT05cbiAgLy9cblxuICBfaW5pdDogRmVhdHVyZXMubG9hZEZlYXR1cmVzLFxuICBmZWF0dXJlczogRmVhdHVyZXMuZmVhdHVyZXMsXG4gIGxvYWRGZWF0dXJlOiBGZWF0dXJlcy5sb2FkRmVhdHVyZSxcbiAgZmVhdHVyZVN1cHBvcnRlZDogRmVhdHVyZXMuZmVhdHVyZVN1cHBvcnRlZCxcbiAgZmVhdHVyZURvbmU6IEZlYXR1cmVzLmZlYXR1cmVEb25lLFxuICBmZWF0dXJlc0RvbmU6IEZlYXR1cmVzLmZlYXR1cmVzRG9uZSxcbiAgZmVhdHVyZXNMb2FkZWQ6IEZlYXR1cmVzLmZlYXR1cmVzTG9hZGVkLFxuICBmZWF0dXJlSW5pdGlhbGl6ZWQ6IEZlYXR1cmVzLmZlYXR1cmVJbml0aWFsaXplZCxcbiAgZmVhdHVyZUZhaWxlZDogRmVhdHVyZXMuZmVhdHVyZUZhaWxlZCxcbiAgaGFzRmVhdHVyZTogRmVhdHVyZXMuaGFzRmVhdHVyZSxcbiAgX3NldENhY2hpbmdNb2R1bGU6IEZlYXR1cmVzLl9zZXRDYWNoaW5nTW9kdWxlLFxuICBfY29sbGVjdENsZWFudXBGdW5jdGlvbnM6IEZlYXR1cmVzLl9jb2xsZWN0Q2xlYW51cEZ1bmN0aW9ucyxcbiAgX2ZpcmVSZWFkeTogRmVhdHVyZXMuX2ZpcmVSZWFkeSxcbiAgaW5pdEZlYXR1cmU6IEZlYXR1cmVzLmluaXRGZWF0dXJlLFxuXG4gIC8vXG4gIC8vIEdFVC9QVVQvREVMRVRFIElOVEVSRkFDRSBIRUxQRVJTXG4gIC8vXG5cbiAgLyoqXG4gICAqIFRPRE86IGRvY3VtZW50XG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfc2V0R1BEOiBmdW5jdGlvbiAoaW1wbCwgY29udGV4dCkge1xuICAgIGZ1bmN0aW9uIHdyYXAoZnVuYykge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgICAgIHJldHVybiBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpXG4gICAgICAgICAgLnRoZW4oZW1pdFVuYXV0aG9yaXplZC5iaW5kKHRoaXMpKTtcbiAgICAgIH07XG4gICAgfVxuICAgIHRoaXMuZ2V0ID0gd3JhcChpbXBsLmdldCk7XG4gICAgdGhpcy5wdXQgPSB3cmFwKGltcGwucHV0KTtcbiAgICB0aGlzLmRlbGV0ZSA9IHdyYXAoaW1wbC5kZWxldGUpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBUT0RPOiBkb2N1bWVudFxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3BlbmRpbmdHUEQ6IGZ1bmN0aW9uIChtZXRob2ROYW1lKTogRnVuY3Rpb24ge1xuICAgIHJldHVybiAoLi4uYXJncykgPT4ge1xuICAgICAgY29uc3QgbWV0aG9kQXJndW1lbnRzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJncyk7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICB0aGlzLl9wZW5kaW5nLnB1c2goe1xuICAgICAgICAgIG1ldGhvZDogbWV0aG9kTmFtZSxcbiAgICAgICAgICBhcmdzOiBtZXRob2RBcmd1bWVudHMsXG4gICAgICAgICAgcHJvbWlzZToge1xuICAgICAgICAgICAgcmVzb2x2ZTogcmVzb2x2ZSxcbiAgICAgICAgICAgIHJlamVjdDogcmVqZWN0XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH07XG4gIH0sXG5cbiAgLyoqXG4gICAqIFRPRE86IGRvY3VtZW50XG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfcHJvY2Vzc1BlbmRpbmc6IGZ1bmN0aW9uICgpOiB2b2lkIHtcbiAgICB0aGlzLl9wZW5kaW5nLmZvckVhY2goKHBlbmRpbmcpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXNbcGVuZGluZy5tZXRob2RdKC4uLnBlbmRpbmcuYXJncykudGhlbihwZW5kaW5nLnByb21pc2UucmVzb2x2ZSwgcGVuZGluZy5wcm9taXNlLnJlamVjdCk7XG4gICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgcGVuZGluZy5wcm9taXNlLnJlamVjdChlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLl9wZW5kaW5nID0gW107XG4gIH0sXG5cbiAgLy9cbiAgLy8gQ0hBTkdFIEVWRU5UIEhBTkRMSU5HXG4gIC8vXG5cbiAgLyoqXG4gICAqIFRPRE86IGRvY3VtZW50XG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfYmluZENoYW5nZTogZnVuY3Rpb24gKG9iamVjdDogeyBvbjogRnVuY3Rpb24gfSk6IHZvaWQge1xuICAgIG9iamVjdC5vbignY2hhbmdlJywgdGhpcy5fZGlzcGF0Y2hFdmVudC5iaW5kKHRoaXMsICdjaGFuZ2UnKSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFRPRE86IGRvY3VtZW50XG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZGlzcGF0Y2hFdmVudDogZnVuY3Rpb24gKGV2ZW50TmFtZTogc3RyaW5nLCBldmVudCk6IHZvaWQge1xuICAgIE9iamVjdC5rZXlzKHRoaXMuX3BhdGhIYW5kbGVyc1tldmVudE5hbWVdKS5mb3JFYWNoKChwYXRoOiBzdHJpbmcpID0+IHtcbiAgICAgIGNvbnN0IHBsID0gcGF0aC5sZW5ndGg7XG4gICAgICBpZiAoZXZlbnQucGF0aC5zdWJzdHIoMCwgcGwpID09PSBwYXRoKSB7XG4gICAgICAgIHRoaXMuX3BhdGhIYW5kbGVyc1tldmVudE5hbWVdW3BhdGhdLmZvckVhY2goKGhhbmRsZXI6IEZ1bmN0aW9uKSA9PiB7XG4gICAgICAgICAgY29uc3QgZXY6IHsgcmVsYXRpdmVQYXRoPzogc3RyaW5nIH0gPSB7fTtcbiAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBldmVudCkgeyBldltrZXldID0gZXZlbnRba2V5XTsgfVxuICAgICAgICAgIGV2LnJlbGF0aXZlUGF0aCA9IGV2ZW50LnBhdGgucmVwbGFjZShuZXcgUmVnRXhwKCdeJyArIHBhdGgpLCAnJyk7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGhhbmRsZXIoZXYpO1xuICAgICAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIidjaGFuZ2UnIGhhbmRsZXIgZmFpbGVkOiBcIiwgZSwgZS5zdGFjayk7XG4gICAgICAgICAgICB0aGlzLl9lbWl0KCdlcnJvcicsIGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFRoaXMgbWV0aG9kIGVuYWJsZXMgeW91IHRvIHF1aWNrbHkgaW5zdGFudGlhdGUgYSBCYXNlQ2xpZW50LCB3aGljaCB5b3UgY2FuXG4gICAqIHVzZSB0byBkaXJlY3RseSByZWFkIGFuZCBtYW5pcHVsYXRlIGRhdGEgaW4gdGhlIGNvbm5lY3RlZCBzdG9yYWdlIGFjY291bnQuXG4gICAqXG4gICAqIFBsZWFzZSB1c2UgdGhpcyBtZXRob2Qgb25seSBmb3IgZGVidWdnaW5nIGFuZCBkZXZlbG9wbWVudCwgYW5kIGNob29zZSBvclxuICAgKiBjcmVhdGUgYSA6ZG9jOmBkYXRhIG1vZHVsZSA8L2RhdGEtbW9kdWxlcz5gIGZvciB5b3VyIGFwcCB0byB1c2UuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIC0gVGhlIGJhc2UgZGlyZWN0b3J5IG9mIHRoZSBCYXNlQ2xpZW50IHRoYXQgd2lsbCBiZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5lZCAod2l0aCBhIGxlYWRpbmcgYW5kIGEgdHJhaWxpbmcgc2xhc2gpXG4gICAqXG4gICAqIEByZXR1cm5zIHtCYXNlQ2xpZW50fSBBIGNsaWVudCB3aXRoIHRoZSBzcGVjaWZpZWQgc2NvcGUgKGNhdGVnb3J5L2Jhc2UgZGlyZWN0b3J5KVxuICAgKi9cbiAgc2NvcGU6IGZ1bmN0aW9uIChwYXRoOiBzdHJpbmcpOiBGdW5jdGlvbiB7XG4gICAgaWYgKHR5cGVvZihwYXRoKSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93ICdBcmd1bWVudCBcXCdwYXRoXFwnIG9mIGJhc2VDbGllbnQuc2NvcGUgbXVzdCBiZSBhIHN0cmluZyc7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLmFjY2Vzcy5jaGVja1BhdGhQZXJtaXNzaW9uKHBhdGgsICdyJykpIHtcbiAgICAgIGNvbnN0IGVzY2FwZWRQYXRoID0gcGF0aC5yZXBsYWNlKC8oWydcXFxcXSkvZywgJ1xcXFwkMScpO1xuICAgICAgY29uc29sZS53YXJuKCdXQVJOSU5HOiBwbGVhc2UgY2FsbCByZW1vdGVTdG9yYWdlLmFjY2Vzcy5jbGFpbShcXCcnICsgZXNjYXBlZFBhdGggKyAnXFwnLCBcXCdyXFwnKSAocmVhZCBvbmx5KSBvciByZW1vdGVTdG9yYWdlLmFjY2Vzcy5jbGFpbShcXCcnICsgZXNjYXBlZFBhdGggKyAnXFwnLCBcXCdyd1xcJykgKHJlYWQvd3JpdGUpIGZpcnN0Jyk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgQmFzZUNsaWVudCh0aGlzLCBwYXRoKTtcbiAgfSxcblxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHZhbHVlIG9mIHRoZSBzeW5jIGludGVydmFsIHdoZW4gYXBwbGljYXRpb24gaXMgaW4gdGhlIGZvcmVncm91bmRcbiAgICpcbiAgICogQHJldHVybnMge251bWJlcn0gQSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzXG4gICAqL1xuICBnZXRTeW5jSW50ZXJ2YWw6IGZ1bmN0aW9uICgpOiBudW1iZXIge1xuICAgIHJldHVybiBjb25maWcuc3luY0ludGVydmFsO1xuICB9LFxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHZhbHVlIG9mIHRoZSBzeW5jIGludGVydmFsIHdoZW4gYXBwbGljYXRpb24gaXMgaW4gdGhlIGZvcmVncm91bmRcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IGludGVydmFsIC0gU3luYyBpbnRlcnZhbCBpbiBtaWxsaXNlY29uZHMgKGJldHdlZW4gMTAwMCBhbmQgMzYwMDAwMClcbiAgICovXG4gIHNldFN5bmNJbnRlcnZhbDogZnVuY3Rpb24gKGludGVydmFsOiB1bmtub3duKTogdm9pZCB7XG4gICAgaWYgKCFpc1ZhbGlkSW50ZXJ2YWwoaW50ZXJ2YWwpKSB7XG4gICAgICB0aHJvdyBpbnRlcnZhbCArIFwiIGlzIG5vdCBhIHZhbGlkIHN5bmMgaW50ZXJ2YWxcIjtcbiAgICB9XG4gICAgY29uc3Qgb2xkVmFsdWUgPSBjb25maWcuc3luY0ludGVydmFsO1xuICAgIGNvbmZpZy5zeW5jSW50ZXJ2YWwgPSBpbnRlcnZhbDtcbiAgICB0aGlzLl9lbWl0KCdzeW5jLWludGVydmFsLWNoYW5nZScsIHtvbGRWYWx1ZTogb2xkVmFsdWUsIG5ld1ZhbHVlOiBpbnRlcnZhbH0pO1xuICB9LFxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHZhbHVlIG9mIHRoZSBzeW5jIGludGVydmFsIHdoZW4gYXBwbGljYXRpb24gaXMgaW4gdGhlIGJhY2tncm91bmRcbiAgICpcbiAgICogQHJldHVybnMge251bWJlcn0gQSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzXG4gICAqL1xuICBnZXRCYWNrZ3JvdW5kU3luY0ludGVydmFsOiBmdW5jdGlvbiAoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gY29uZmlnLmJhY2tncm91bmRTeW5jSW50ZXJ2YWw7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFNldCB0aGUgdmFsdWUgb2YgdGhlIHN5bmMgaW50ZXJ2YWwgd2hlbiB0aGUgYXBwbGljYXRpb24gaXMgaW4gdGhlXG4gICAqIGJhY2tncm91bmRcbiAgICpcbiAgICogQHBhcmFtIGludGVydmFsIC0gU3luYyBpbnRlcnZhbCBpbiBtaWxsaXNlY29uZHMgKGJldHdlZW4gMTAwMCBhbmQgMzYwMDAwMClcbiAgICovXG4gIHNldEJhY2tncm91bmRTeW5jSW50ZXJ2YWw6IGZ1bmN0aW9uIChpbnRlcnZhbDogdW5rbm93bik6IHZvaWQge1xuICAgIGlmICghaXNWYWxpZEludGVydmFsKGludGVydmFsKSkge1xuICAgICAgdGhyb3cgaW50ZXJ2YWwgKyBcIiBpcyBub3QgYSB2YWxpZCBzeW5jIGludGVydmFsXCI7XG4gICAgfVxuICAgIGNvbnN0IG9sZFZhbHVlID0gY29uZmlnLmJhY2tncm91bmRTeW5jSW50ZXJ2YWw7XG4gICAgY29uZmlnLmJhY2tncm91bmRTeW5jSW50ZXJ2YWwgPSBpbnRlcnZhbDtcbiAgICB0aGlzLl9lbWl0KCdzeW5jLWludGVydmFsLWNoYW5nZScsIHtvbGRWYWx1ZTogb2xkVmFsdWUsIG5ld1ZhbHVlOiBpbnRlcnZhbH0pO1xuICB9LFxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHZhbHVlIG9mIHRoZSBjdXJyZW50IHN5bmMgaW50ZXJ2YWwuIENhbiBiZSBiYWNrZ3JvdW5kIG9yXG4gICAqIGZvcmVncm91bmQsIGN1c3RvbSBvciBkZWZhdWx0LlxuICAgKlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBBIG51bWJlciBvZiBtaWxsaXNlY29uZHNcbiAgICovXG4gIGdldEN1cnJlbnRTeW5jSW50ZXJ2YWw6IGZ1bmN0aW9uICgpOiBudW1iZXIge1xuICAgIHJldHVybiBjb25maWcuaXNCYWNrZ3JvdW5kID8gY29uZmlnLmJhY2tncm91bmRTeW5jSW50ZXJ2YWwgOiBjb25maWcuc3luY0ludGVydmFsO1xuICB9LFxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHZhbHVlIG9mIHRoZSBjdXJyZW50IG5ldHdvcmsgcmVxdWVzdCB0aW1lb3V0XG4gICAqXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IEEgbnVtYmVyIG9mIG1pbGxpc2Vjb25kc1xuICAgKi9cbiAgZ2V0UmVxdWVzdFRpbWVvdXQ6IGZ1bmN0aW9uICgpOiBudW1iZXIge1xuICAgIHJldHVybiBjb25maWcucmVxdWVzdFRpbWVvdXQ7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFNldCB0aGUgdGltZW91dCBmb3IgbmV0d29yayByZXF1ZXN0cy5cbiAgICpcbiAgICogQHBhcmFtIHRpbWVvdXQgLSBUaW1lb3V0IGluIG1pbGxpc2Vjb25kc1xuICAgKi9cbiAgc2V0UmVxdWVzdFRpbWVvdXQ6IGZ1bmN0aW9uICh0aW1lb3V0OiB1bmtub3duKTogdm9pZCB7XG4gICAgaWYgKHR5cGVvZiB0aW1lb3V0ICE9PSAnbnVtYmVyJykge1xuICAgICAgdGhyb3cgdGltZW91dCArIFwiIGlzIG5vdCBhIHZhbGlkIHJlcXVlc3QgdGltZW91dFwiO1xuICAgIH1cbiAgICBjb25maWcucmVxdWVzdFRpbWVvdXQgPSB0aW1lb3V0O1xuICB9LFxuXG4gIC8qKlxuICAgKiBUT0RPOiBkb2N1bWVudFxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgc3luY0N5Y2xlOiBmdW5jdGlvbiAoKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLnN5bmMgfHwgdGhpcy5zeW5jLnN0b3BwZWQpIHsgcmV0dXJuOyB9XG5cbiAgICB0aGlzLm9uKCdzeW5jLWRvbmUnLCAoKTogdm9pZCA9PiB7XG4gICAgICAvLyBGSVhNRSBSZS1lbmFibGUgd2hlbiBtb2R1bGVzIGFyZSBhbGwgaW1wb3J0c1xuICAgICAgLy8gbG9nKCdbU3luY10gU3luYyBkb25lLiBTZXR0aW5nIHRpbWVyIHRvJywgdGhpcy5nZXRDdXJyZW50U3luY0ludGVydmFsKCkpO1xuICAgICAgaWYgKHRoaXMuc3luYyAmJiAhdGhpcy5zeW5jLnN0b3BwZWQpIHtcbiAgICAgICAgaWYgKHRoaXMuX3N5bmNUaW1lcikge1xuICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9zeW5jVGltZXIpO1xuICAgICAgICAgIHRoaXMuX3N5bmNUaW1lciA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zeW5jVGltZXIgPSBzZXRUaW1lb3V0KHRoaXMuc3luYy5zeW5jLmJpbmQodGhpcy5zeW5jKSwgdGhpcy5nZXRDdXJyZW50U3luY0ludGVydmFsKCkpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5zeW5jLnN5bmMoKTtcbiAgfSxcblxuICAvKipcbiAgICogU3RhcnQgc3luY2hyb25pemF0aW9uIHdpdGggcmVtb3RlIHN0b3JhZ2UsIGRvd25sb2FkaW5nIGFuZCB1cGxvYWRpbmcgYW55XG4gICAqIGNoYW5nZXMgd2l0aGluIHRoZSBjYWNoZWQgcGF0aHMuXG4gICAqXG4gICAqIFBsZWFzZSBjb25zaWRlcjogbG9jYWwgY2hhbmdlcyB3aWxsIGF0dGVtcHQgc3luYyBpbW1lZGlhdGVseSwgYW5kIHJlbW90ZVxuICAgKiBjaGFuZ2VzIHNob3VsZCBhbHNvIGJlIHN5bmNlZCB0aW1lbHkgd2hlbiB1c2luZyBsaWJyYXJ5IGRlZmF1bHRzLiBTb1xuICAgKiB0aGlzIGlzIG1vc3RseSB1c2VmdWwgZm9yIGxldHRpbmcgdXNlcnMgc3luYyBtYW51YWxseSwgd2hlbiBwcmVzc2luZyBhXG4gICAqIHN5bmMgYnV0dG9uIGZvciBleGFtcGxlLiBUaGlzIG1pZ2h0IGZlZWwgc2FmZXIgdG8gdGhlbSBzb21ldGltZXMsIGVzcC5cbiAgICogd2hlbiBzaGlmdGluZyBiZXR3ZWVuIG9mZmxpbmUgYW5kIG9ubGluZSBhIGxvdC5cbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2V9IEEgUHJvbWlzZSB3aGljaCByZXNvbHZlcyB3aGVuIHRoZSBzeW5jIGhhcyBmaW5pc2hlZFxuICAgKi9cbiAgc3RhcnRTeW5jOiBmdW5jdGlvbiAoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKCFjb25maWcuY2FjaGUpIHtcbiAgICAgIGNvbnNvbGUud2FybignTm90aGluZyB0byBzeW5jLCBiZWNhdXNlIGNhY2hpbmcgaXMgZGlzYWJsZWQuJyk7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuICAgIHRoaXMuc3luYy5zdG9wcGVkID0gZmFsc2U7XG4gICAgdGhpcy5zeW5jU3RvcHBlZCA9IGZhbHNlO1xuICAgIHJldHVybiB0aGlzLnN5bmMuc3luYygpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBTdG9wIHRoZSBwZXJpb2RpYyBzeW5jaHJvbml6YXRpb24uXG4gICAqL1xuICBzdG9wU3luYzogZnVuY3Rpb24gKCk6IHZvaWQge1xuICAgIGNsZWFyVGltZW91dCh0aGlzLl9zeW5jVGltZXIpO1xuICAgIHRoaXMuX3N5bmNUaW1lciA9IHVuZGVmaW5lZDtcblxuICAgIGlmICh0aGlzLnN5bmMpIHtcbiAgICAgIC8vIEZJWE1FIFJlLWVuYWJsZSB3aGVuIG1vZHVsZXMgYXJlIGFsbCBpbXBvcnRzXG4gICAgICAvLyBsb2coJ1tTeW5jXSBTdG9wcGluZyBzeW5jJyk7XG4gICAgICB0aGlzLnN5bmMuc3RvcHBlZCA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFRoZSBzeW5jIGNsYXNzIGhhcyBub3QgYmVlbiBpbml0aWFsaXplZCB5ZXQsIHNvIHdlIG1ha2Ugc3VyZSBpdCB3aWxsXG4gICAgICAvLyBub3Qgc3RhcnQgdGhlIHN5bmNpbmcgcHJvY2VzcyBhcyBzb29uIGFzIGl0J3MgaW5pdGlhbGl6ZWQuXG4gICAgICAvLyBGSVhNRSBSZS1lbmFibGUgd2hlbiBtb2R1bGVzIGFyZSBhbGwgaW1wb3J0c1xuICAgICAgLy8gbG9nKCdbU3luY10gV2lsbCBpbnN0YW50aWF0ZSBzeW5jIHN0b3BwZWQnKTtcbiAgICAgIHRoaXMuc3luY1N0b3BwZWQgPSB0cnVlO1xuICAgIH1cbiAgfSxcblxuICAvKlxuICAgKiBBZGQgcmVtb3RlU3RvcmFnZSBkYXRhIG1vZHVsZVxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gbW9kdWxlIC0gbW9kdWxlIG9iamVjdCBuZWVkcyBmb2xsb3dpbmcgcHJvcGVyaWVzOlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW21vZHVsZS5uYW1lXSAtIE5hbWUgb2YgdGhlIG1vZHVsZVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbbW9kdWxlLmJ1aWxkZXJdIC0gQnVpbGRlciBmdW5jdGlvbiBkZWZpbmluZyB0aGUgbW9kdWxlXG4gICAqXG4gICAqIFRoZSBtb2R1bGUgYnVpbGRlciBmdW5jdGlvbiBzaG91bGQgcmV0dXJuIGFuIG9iamVjdCBjb250YWluaW5nIGFub3RoZXJcbiAgICogb2JqZWN0IGNhbGxlZCBleHBvcnRzLCB3aGljaCB3aWxsIGJlIGV4cG9ydGVkIHRvIHRoaXMgPFJlbW90ZVN0b3JhZ2U+XG4gICAqIGluc3RhbmNlIHVuZGVyIHRoZSBtb2R1bGUncyBuYW1lLiBTbyB3aGVuIGRlZmluaW5nIGEgbG9jYXRpb25zIG1vZHVsZSxcbiAgICogbGlrZSBpbiB0aGUgZXhhbXBsZSBiZWxvdywgaXQgd291bGQgYmUgYWNjZXNzaWJsZSB2aWFcbiAgICogYHJlbW90ZVN0b3JhZ2UubG9jYXRpb25zYCwgd2hpY2ggd291bGQgaW4gdHVybiBoYXZlIGEgYGZlYXR1cmVzYCBhbmQgYVxuICAgKiBgY29sbGVjdGlvbnNgIHByb3BlcnR5LlxuICAgKlxuICAgKiBUaGUgZnVuY3Rpb24gcmVjZWl2ZXMgYSBwcml2YXRlIGFuZCBhIHB1YmxpYyBjbGllbnQsIHdoaWNoIGFyZSBib3RoXG4gICAqIGluc3RhbmNlcyBvZiA8UmVtb3RlU3RvcmFnZS5CYXNlQ2xpZW50Pi4gSW4gdGhlIGZvbGxvd2luZyBleGFtcGxlLCB0aGVcbiAgICogc2NvcGUgb2YgcHJpdmF0ZUNsaWVudCBpcyBgL2xvY2F0aW9uc2AgYW5kIHRoZSBzY29wZSBvZiBwdWJsaWNDbGllbnQgaXNcbiAgICogYC9wdWJsaWMvbG9jYXRpb25zYC5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogICBSZW1vdGVTdG9yYWdlLmFkZE1vZHVsZSh7bmFtZTogJ2xvY2F0aW9ucycsIGJ1aWxkZXI6IGZ1bmN0aW9uIChwcml2YXRlQ2xpZW50LCBwdWJsaWNDbGllbnQpIHtcbiAgICogICAgIHJldHVybiB7XG4gICAqICAgICAgIGV4cG9ydHM6IHtcbiAgICogICAgICAgICBmZWF0dXJlczogcHJpdmF0ZUNsaWVudC5zY29wZSgnZmVhdHVyZXMvJykuZGVmYXVsdFR5cGUoJ2ZlYXR1cmUnKSxcbiAgICogICAgICAgICBjb2xsZWN0aW9uczogcHJpdmF0ZUNsaWVudC5zY29wZSgnY29sbGVjdGlvbnMvJykuZGVmYXVsdFR5cGUoJ2ZlYXR1cmUtY29sbGVjdGlvbicpXG4gICAqICAgICAgIH1cbiAgICogICAgIH07XG4gICAqICAgfX0pO1xuICAqL1xuICBhZGRNb2R1bGU6IGZ1bmN0aW9uIChtb2R1bGU6IFJTTW9kdWxlKTogdm9pZCB7XG4gICAgY29uc3QgbW9kdWxlTmFtZSA9IG1vZHVsZS5uYW1lO1xuICAgIGNvbnN0IG1vZHVsZUJ1aWxkZXIgPSBtb2R1bGUuYnVpbGRlcjtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBtb2R1bGVOYW1lLCB7XG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc3QgaW5zdGFuY2UgPSB0aGlzLl9sb2FkTW9kdWxlKG1vZHVsZU5hbWUsIG1vZHVsZUJ1aWxkZXIpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgbW9kdWxlTmFtZSwge1xuICAgICAgICAgIHZhbHVlOiBpbnN0YW5jZVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGluc3RhbmNlO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKG1vZHVsZU5hbWUuaW5kZXhPZignLScpICE9PSAtMSkge1xuICAgICAgY29uc3QgY2FtZWxpemVkTmFtZSA9IG1vZHVsZU5hbWUucmVwbGFjZSgvXFwtW2Etel0vZywgZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgcmV0dXJuIHNbMV0udG9VcHBlckNhc2UoKTtcbiAgICAgIH0pO1xuXG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgY2FtZWxpemVkTmFtZSwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gdGhpc1ttb2R1bGVOYW1lXTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9LFxuXG4gIC8qXG4gICAqIExvYWQgbW9kdWxlXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqXG4gICAqL1xuICBfbG9hZE1vZHVsZTogZnVuY3Rpb24gKG1vZHVsZU5hbWU6IHN0cmluZywgbW9kdWxlQnVpbGRlcjogRnVuY3Rpb24pOiB7IFtrZXk6IHN0cmluZ106IHVua25vd24gfSAge1xuICAgIGlmIChtb2R1bGVCdWlsZGVyKSB7XG4gICAgICBjb25zdCBtb2R1bGUgPSBtb2R1bGVCdWlsZGVyKFxuICAgICAgICBuZXcgQmFzZUNsaWVudCh0aGlzLCAnLycgKyBtb2R1bGVOYW1lICsgJy8nKSxcbiAgICAgICAgbmV3IEJhc2VDbGllbnQodGhpcywgJy9wdWJsaWMvJyArIG1vZHVsZU5hbWUgKyAnLycpXG4gICAgICApO1xuICAgICAgcmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBcIlVua25vd24gbW9kdWxlOiBcIiArIG1vZHVsZU5hbWU7XG4gICAgfVxuICB9XG59O1xuXG4vKipcbiogQ2hlY2sgaWYgaW50ZXJ2YWwgaXMgdmFsaWQ6IG51bWVyaWMgYW5kIGJldHdlZW4gMTAwMG1zIGFuZCAzNjAwMDAwbXNcbipcbiogQHByaXZhdGVcbiovXG5mdW5jdGlvbiBpc1ZhbGlkSW50ZXJ2YWwoaW50ZXJ2YWw6IHVua25vd24pOiBpbnRlcnZhbCBpcyBudW1iZXIge1xuICByZXR1cm4gKHR5cGVvZiBpbnRlcnZhbCA9PT0gJ251bWJlcicgJiZcbiAgICAgICAgICBpbnRlcnZhbCA+IDEwMDAgJiZcbiAgICAgICAgICBpbnRlcnZhbCA8IDM2MDAwMDApO1xufVxuXG5SZW1vdGVTdG9yYWdlLnV0aWwgPSB1dGlsO1xuXG4vKipcbiAqIEBwcm9wZXJ0eSBjb25uZWN0ZWRcbiAqXG4gKiBCb29sZWFuIHByb3BlcnR5IGluZGljYXRpbmcgaWYgcmVtb3RlU3RvcmFnZSBpcyBjdXJyZW50bHkgY29ubmVjdGVkLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoUmVtb3RlU3RvcmFnZS5wcm90b3R5cGUsICdjb25uZWN0ZWQnLCB7XG4gIGdldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnJlbW90ZS5jb25uZWN0ZWQ7XG4gIH1cbn0pO1xuXG4vKipcbiAqIEBwcm9wZXJ0eSBhY2Nlc3NcbiAqXG4gKiBUcmFja2luZyBjbGFpbWVkIGFjY2VzcyBzY29wZXMuIEEgPFJlbW90ZVN0b3JhZ2UuQWNjZXNzPiBpbnN0YW5jZS5cbiovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoUmVtb3RlU3RvcmFnZS5wcm90b3R5cGUsICdhY2Nlc3MnLCB7XG4gIGdldDogZnVuY3Rpb24oKSB7XG4gICAgY29uc3QgYWNjZXNzID0gbmV3IEFjY2VzcygpO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnYWNjZXNzJywge1xuICAgICAgdmFsdWU6IGFjY2Vzc1xuICAgIH0pO1xuICAgIHJldHVybiBhY2Nlc3M7XG4gIH0sXG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZVxufSk7XG5cbi8vIFRPRE8gQ2xlYW4gdXAvaGFybW9uaXplIGhvdyBtb2R1bGVzIGFyZSBsb2FkZWQgYW5kL29yIGRvY3VtZW50IHRoaXMgYXJjaGl0ZWN0dXJlIHByb3Blcmx5XG4vL1xuLy8gQXQgdGhpcyBwb2ludCB0aGUgcmVtb3RlU3RvcmFnZSBvYmplY3QgaGFzIG5vdCBiZWVuIGNyZWF0ZWQgeWV0LlxuLy8gT25seSBpdHMgcHJvdG90eXBlIGV4aXN0cyBzbyBmYXIsIHNvIHdlIGRlZmluZSBhIHNlbGYtY29uc3RydWN0aW5nXG4vLyBwcm9wZXJ0eSBvbiB0aGVyZTpcblxuLyoqXG4gKiBQcm9wZXJ0eTogY2FjaGluZ1xuICpcbiAqIENhY2hpbmcgc2V0dGluZ3MuIEEgPFJlbW90ZVN0b3JhZ2UuQ2FjaGluZz4gaW5zdGFuY2UuXG4gKi9cbi8vIEZJWE1FIFdhcyBpbiByc19pbml0IG9mIENhY2hpbmcgYnV0IGRvbid0IHdhbnQgdG8gcmVxdWlyZSBSZW1vdGVTdG9yYWdlIGZyb20gdGhlcmUuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoUmVtb3RlU3RvcmFnZS5wcm90b3R5cGUsICdjYWNoaW5nJywge1xuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IGNhY2hpbmcgPSBuZXcgQ2FjaGluZygpO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnY2FjaGluZycsIHtcbiAgICAgIHZhbHVlOiBjYWNoaW5nXG4gICAgfSk7XG4gICAgcmV0dXJuIGNhY2hpbmc7XG4gIH1cbn0pO1xuXG4vKlxuICogQHByb3BlcnR5IGxvY2FsXG4gKlxuICogQWNjZXNzIHRvIHRoZSBsb2NhbCBjYWNoaW5nIGJhY2tlbmQgdXNlZC4gVXN1YWxseSBlaXRoZXIgYVxuICogPFJlbW90ZVN0b3JhZ2UuSW5kZXhlZERCPiBvciA8UmVtb3RlU3RvcmFnZS5Mb2NhbFN0b3JhZ2U+IGluc3RhbmNlLlxuICpcbiAqIE5vdCBhdmFpbGFibGUsIHdoZW4gY2FjaGluZyBpcyB0dXJuZWQgb2ZmLlxuICovXG5cbmludGVyZmFjZSBSZW1vdGVTdG9yYWdlIGV4dGVuZHMgRXZlbnRIYW5kbGluZyB7fTtcbmFwcGx5TWl4aW5zKFJlbW90ZVN0b3JhZ2UsIFtFdmVudEhhbmRsaW5nXSk7XG5cbmV4cG9ydCBkZWZhdWx0IFJlbW90ZVN0b3JhZ2U7XG4iLCIvKiFcbiAqIFRoZSBidWZmZXIgbW9kdWxlIGZyb20gbm9kZS5qcywgZm9yIHRoZSBicm93c2VyLlxuICpcbiAqIEBhdXRob3IgICBGZXJvc3MgQWJvdWtoYWRpamVoIDxodHRwOi8vZmVyb3NzLm9yZz5cbiAqIEBsaWNlbnNlICBNSVRcbiAqL1xuLyogZXNsaW50LWRpc2FibGUgbm8tcHJvdG8gKi9cblxuJ3VzZSBzdHJpY3QnXG5cbnZhciBiYXNlNjQgPSByZXF1aXJlKCdiYXNlNjQtanMnKVxudmFyIGllZWU3NTQgPSByZXF1aXJlKCdpZWVlNzU0JylcbnZhciBpc0FycmF5ID0gcmVxdWlyZSgnaXNhcnJheScpXG5cbmV4cG9ydHMuQnVmZmVyID0gQnVmZmVyXG5leHBvcnRzLlNsb3dCdWZmZXIgPSBTbG93QnVmZmVyXG5leHBvcnRzLklOU1BFQ1RfTUFYX0JZVEVTID0gNTBcblxuLyoqXG4gKiBJZiBgQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlRgOlxuICogICA9PT0gdHJ1ZSAgICBVc2UgVWludDhBcnJheSBpbXBsZW1lbnRhdGlvbiAoZmFzdGVzdClcbiAqICAgPT09IGZhbHNlICAgVXNlIE9iamVjdCBpbXBsZW1lbnRhdGlvbiAobW9zdCBjb21wYXRpYmxlLCBldmVuIElFNilcbiAqXG4gKiBCcm93c2VycyB0aGF0IHN1cHBvcnQgdHlwZWQgYXJyYXlzIGFyZSBJRSAxMCssIEZpcmVmb3ggNCssIENocm9tZSA3KywgU2FmYXJpIDUuMSssXG4gKiBPcGVyYSAxMS42KywgaU9TIDQuMisuXG4gKlxuICogRHVlIHRvIHZhcmlvdXMgYnJvd3NlciBidWdzLCBzb21ldGltZXMgdGhlIE9iamVjdCBpbXBsZW1lbnRhdGlvbiB3aWxsIGJlIHVzZWQgZXZlblxuICogd2hlbiB0aGUgYnJvd3NlciBzdXBwb3J0cyB0eXBlZCBhcnJheXMuXG4gKlxuICogTm90ZTpcbiAqXG4gKiAgIC0gRmlyZWZveCA0LTI5IGxhY2tzIHN1cHBvcnQgZm9yIGFkZGluZyBuZXcgcHJvcGVydGllcyB0byBgVWludDhBcnJheWAgaW5zdGFuY2VzLFxuICogICAgIFNlZTogaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9Njk1NDM4LlxuICpcbiAqICAgLSBDaHJvbWUgOS0xMCBpcyBtaXNzaW5nIHRoZSBgVHlwZWRBcnJheS5wcm90b3R5cGUuc3ViYXJyYXlgIGZ1bmN0aW9uLlxuICpcbiAqICAgLSBJRTEwIGhhcyBhIGJyb2tlbiBgVHlwZWRBcnJheS5wcm90b3R5cGUuc3ViYXJyYXlgIGZ1bmN0aW9uIHdoaWNoIHJldHVybnMgYXJyYXlzIG9mXG4gKiAgICAgaW5jb3JyZWN0IGxlbmd0aCBpbiBzb21lIHNpdHVhdGlvbnMuXG5cbiAqIFdlIGRldGVjdCB0aGVzZSBidWdneSBicm93c2VycyBhbmQgc2V0IGBCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVGAgdG8gYGZhbHNlYCBzbyB0aGV5XG4gKiBnZXQgdGhlIE9iamVjdCBpbXBsZW1lbnRhdGlvbiwgd2hpY2ggaXMgc2xvd2VyIGJ1dCBiZWhhdmVzIGNvcnJlY3RseS5cbiAqL1xuQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQgPSBnbG9iYWwuVFlQRURfQVJSQVlfU1VQUE9SVCAhPT0gdW5kZWZpbmVkXG4gID8gZ2xvYmFsLlRZUEVEX0FSUkFZX1NVUFBPUlRcbiAgOiB0eXBlZEFycmF5U3VwcG9ydCgpXG5cbi8qXG4gKiBFeHBvcnQga01heExlbmd0aCBhZnRlciB0eXBlZCBhcnJheSBzdXBwb3J0IGlzIGRldGVybWluZWQuXG4gKi9cbmV4cG9ydHMua01heExlbmd0aCA9IGtNYXhMZW5ndGgoKVxuXG5mdW5jdGlvbiB0eXBlZEFycmF5U3VwcG9ydCAoKSB7XG4gIHRyeSB7XG4gICAgdmFyIGFyciA9IG5ldyBVaW50OEFycmF5KDEpXG4gICAgYXJyLl9fcHJvdG9fXyA9IHtfX3Byb3RvX186IFVpbnQ4QXJyYXkucHJvdG90eXBlLCBmb286IGZ1bmN0aW9uICgpIHsgcmV0dXJuIDQyIH19XG4gICAgcmV0dXJuIGFyci5mb28oKSA9PT0gNDIgJiYgLy8gdHlwZWQgYXJyYXkgaW5zdGFuY2VzIGNhbiBiZSBhdWdtZW50ZWRcbiAgICAgICAgdHlwZW9mIGFyci5zdWJhcnJheSA9PT0gJ2Z1bmN0aW9uJyAmJiAvLyBjaHJvbWUgOS0xMCBsYWNrIGBzdWJhcnJheWBcbiAgICAgICAgYXJyLnN1YmFycmF5KDEsIDEpLmJ5dGVMZW5ndGggPT09IDAgLy8gaWUxMCBoYXMgYnJva2VuIGBzdWJhcnJheWBcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG59XG5cbmZ1bmN0aW9uIGtNYXhMZW5ndGggKCkge1xuICByZXR1cm4gQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlRcbiAgICA/IDB4N2ZmZmZmZmZcbiAgICA6IDB4M2ZmZmZmZmZcbn1cblxuZnVuY3Rpb24gY3JlYXRlQnVmZmVyICh0aGF0LCBsZW5ndGgpIHtcbiAgaWYgKGtNYXhMZW5ndGgoKSA8IGxlbmd0aCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbnZhbGlkIHR5cGVkIGFycmF5IGxlbmd0aCcpXG4gIH1cbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgLy8gUmV0dXJuIGFuIGF1Z21lbnRlZCBgVWludDhBcnJheWAgaW5zdGFuY2UsIGZvciBiZXN0IHBlcmZvcm1hbmNlXG4gICAgdGhhdCA9IG5ldyBVaW50OEFycmF5KGxlbmd0aClcbiAgICB0aGF0Ll9fcHJvdG9fXyA9IEJ1ZmZlci5wcm90b3R5cGVcbiAgfSBlbHNlIHtcbiAgICAvLyBGYWxsYmFjazogUmV0dXJuIGFuIG9iamVjdCBpbnN0YW5jZSBvZiB0aGUgQnVmZmVyIGNsYXNzXG4gICAgaWYgKHRoYXQgPT09IG51bGwpIHtcbiAgICAgIHRoYXQgPSBuZXcgQnVmZmVyKGxlbmd0aClcbiAgICB9XG4gICAgdGhhdC5sZW5ndGggPSBsZW5ndGhcbiAgfVxuXG4gIHJldHVybiB0aGF0XG59XG5cbi8qKlxuICogVGhlIEJ1ZmZlciBjb25zdHJ1Y3RvciByZXR1cm5zIGluc3RhbmNlcyBvZiBgVWludDhBcnJheWAgdGhhdCBoYXZlIHRoZWlyXG4gKiBwcm90b3R5cGUgY2hhbmdlZCB0byBgQnVmZmVyLnByb3RvdHlwZWAuIEZ1cnRoZXJtb3JlLCBgQnVmZmVyYCBpcyBhIHN1YmNsYXNzIG9mXG4gKiBgVWludDhBcnJheWAsIHNvIHRoZSByZXR1cm5lZCBpbnN0YW5jZXMgd2lsbCBoYXZlIGFsbCB0aGUgbm9kZSBgQnVmZmVyYCBtZXRob2RzXG4gKiBhbmQgdGhlIGBVaW50OEFycmF5YCBtZXRob2RzLiBTcXVhcmUgYnJhY2tldCBub3RhdGlvbiB3b3JrcyBhcyBleHBlY3RlZCAtLSBpdFxuICogcmV0dXJucyBhIHNpbmdsZSBvY3RldC5cbiAqXG4gKiBUaGUgYFVpbnQ4QXJyYXlgIHByb3RvdHlwZSByZW1haW5zIHVubW9kaWZpZWQuXG4gKi9cblxuZnVuY3Rpb24gQnVmZmVyIChhcmcsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aCkge1xuICBpZiAoIUJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUICYmICEodGhpcyBpbnN0YW5jZW9mIEJ1ZmZlcikpIHtcbiAgICByZXR1cm4gbmV3IEJ1ZmZlcihhcmcsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbiAgfVxuXG4gIC8vIENvbW1vbiBjYXNlLlxuICBpZiAodHlwZW9mIGFyZyA9PT0gJ251bWJlcicpIHtcbiAgICBpZiAodHlwZW9mIGVuY29kaW5nT3JPZmZzZXQgPT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdJZiBlbmNvZGluZyBpcyBzcGVjaWZpZWQgdGhlbiB0aGUgZmlyc3QgYXJndW1lbnQgbXVzdCBiZSBhIHN0cmluZydcbiAgICAgIClcbiAgICB9XG4gICAgcmV0dXJuIGFsbG9jVW5zYWZlKHRoaXMsIGFyZylcbiAgfVxuICByZXR1cm4gZnJvbSh0aGlzLCBhcmcsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbn1cblxuQnVmZmVyLnBvb2xTaXplID0gODE5MiAvLyBub3QgdXNlZCBieSB0aGlzIGltcGxlbWVudGF0aW9uXG5cbi8vIFRPRE86IExlZ2FjeSwgbm90IG5lZWRlZCBhbnltb3JlLiBSZW1vdmUgaW4gbmV4dCBtYWpvciB2ZXJzaW9uLlxuQnVmZmVyLl9hdWdtZW50ID0gZnVuY3Rpb24gKGFycikge1xuICBhcnIuX19wcm90b19fID0gQnVmZmVyLnByb3RvdHlwZVxuICByZXR1cm4gYXJyXG59XG5cbmZ1bmN0aW9uIGZyb20gKHRoYXQsIHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcInZhbHVlXCIgYXJndW1lbnQgbXVzdCBub3QgYmUgYSBudW1iZXInKVxuICB9XG5cbiAgaWYgKHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcgJiYgdmFsdWUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgIHJldHVybiBmcm9tQXJyYXlCdWZmZXIodGhhdCwgdmFsdWUsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbiAgfVxuXG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIGZyb21TdHJpbmcodGhhdCwgdmFsdWUsIGVuY29kaW5nT3JPZmZzZXQpXG4gIH1cblxuICByZXR1cm4gZnJvbU9iamVjdCh0aGF0LCB2YWx1ZSlcbn1cblxuLyoqXG4gKiBGdW5jdGlvbmFsbHkgZXF1aXZhbGVudCB0byBCdWZmZXIoYXJnLCBlbmNvZGluZykgYnV0IHRocm93cyBhIFR5cGVFcnJvclxuICogaWYgdmFsdWUgaXMgYSBudW1iZXIuXG4gKiBCdWZmZXIuZnJvbShzdHJbLCBlbmNvZGluZ10pXG4gKiBCdWZmZXIuZnJvbShhcnJheSlcbiAqIEJ1ZmZlci5mcm9tKGJ1ZmZlcilcbiAqIEJ1ZmZlci5mcm9tKGFycmF5QnVmZmVyWywgYnl0ZU9mZnNldFssIGxlbmd0aF1dKVxuICoqL1xuQnVmZmVyLmZyb20gPSBmdW5jdGlvbiAodmFsdWUsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gZnJvbShudWxsLCB2YWx1ZSwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKVxufVxuXG5pZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgQnVmZmVyLnByb3RvdHlwZS5fX3Byb3RvX18gPSBVaW50OEFycmF5LnByb3RvdHlwZVxuICBCdWZmZXIuX19wcm90b19fID0gVWludDhBcnJheVxuICBpZiAodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnNwZWNpZXMgJiZcbiAgICAgIEJ1ZmZlcltTeW1ib2wuc3BlY2llc10gPT09IEJ1ZmZlcikge1xuICAgIC8vIEZpeCBzdWJhcnJheSgpIGluIEVTMjAxNi4gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vZmVyb3NzL2J1ZmZlci9wdWxsLzk3XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJ1ZmZlciwgU3ltYm9sLnNwZWNpZXMsIHtcbiAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSlcbiAgfVxufVxuXG5mdW5jdGlvbiBhc3NlcnRTaXplIChzaXplKSB7XG4gIGlmICh0eXBlb2Ygc2l6ZSAhPT0gJ251bWJlcicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcInNpemVcIiBhcmd1bWVudCBtdXN0IGJlIGEgbnVtYmVyJylcbiAgfSBlbHNlIGlmIChzaXplIDwgMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdcInNpemVcIiBhcmd1bWVudCBtdXN0IG5vdCBiZSBuZWdhdGl2ZScpXG4gIH1cbn1cblxuZnVuY3Rpb24gYWxsb2MgKHRoYXQsIHNpemUsIGZpbGwsIGVuY29kaW5nKSB7XG4gIGFzc2VydFNpemUoc2l6ZSlcbiAgaWYgKHNpemUgPD0gMCkge1xuICAgIHJldHVybiBjcmVhdGVCdWZmZXIodGhhdCwgc2l6ZSlcbiAgfVxuICBpZiAoZmlsbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gT25seSBwYXkgYXR0ZW50aW9uIHRvIGVuY29kaW5nIGlmIGl0J3MgYSBzdHJpbmcuIFRoaXNcbiAgICAvLyBwcmV2ZW50cyBhY2NpZGVudGFsbHkgc2VuZGluZyBpbiBhIG51bWJlciB0aGF0IHdvdWxkXG4gICAgLy8gYmUgaW50ZXJwcmV0dGVkIGFzIGEgc3RhcnQgb2Zmc2V0LlxuICAgIHJldHVybiB0eXBlb2YgZW5jb2RpbmcgPT09ICdzdHJpbmcnXG4gICAgICA/IGNyZWF0ZUJ1ZmZlcih0aGF0LCBzaXplKS5maWxsKGZpbGwsIGVuY29kaW5nKVxuICAgICAgOiBjcmVhdGVCdWZmZXIodGhhdCwgc2l6ZSkuZmlsbChmaWxsKVxuICB9XG4gIHJldHVybiBjcmVhdGVCdWZmZXIodGhhdCwgc2l6ZSlcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IGZpbGxlZCBCdWZmZXIgaW5zdGFuY2UuXG4gKiBhbGxvYyhzaXplWywgZmlsbFssIGVuY29kaW5nXV0pXG4gKiovXG5CdWZmZXIuYWxsb2MgPSBmdW5jdGlvbiAoc2l6ZSwgZmlsbCwgZW5jb2RpbmcpIHtcbiAgcmV0dXJuIGFsbG9jKG51bGwsIHNpemUsIGZpbGwsIGVuY29kaW5nKVxufVxuXG5mdW5jdGlvbiBhbGxvY1Vuc2FmZSAodGhhdCwgc2l6ZSkge1xuICBhc3NlcnRTaXplKHNpemUpXG4gIHRoYXQgPSBjcmVhdGVCdWZmZXIodGhhdCwgc2l6ZSA8IDAgPyAwIDogY2hlY2tlZChzaXplKSB8IDApXG4gIGlmICghQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNpemU7ICsraSkge1xuICAgICAgdGhhdFtpXSA9IDBcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRoYXRcbn1cblxuLyoqXG4gKiBFcXVpdmFsZW50IHRvIEJ1ZmZlcihudW0pLCBieSBkZWZhdWx0IGNyZWF0ZXMgYSBub24temVyby1maWxsZWQgQnVmZmVyIGluc3RhbmNlLlxuICogKi9cbkJ1ZmZlci5hbGxvY1Vuc2FmZSA9IGZ1bmN0aW9uIChzaXplKSB7XG4gIHJldHVybiBhbGxvY1Vuc2FmZShudWxsLCBzaXplKVxufVxuLyoqXG4gKiBFcXVpdmFsZW50IHRvIFNsb3dCdWZmZXIobnVtKSwgYnkgZGVmYXVsdCBjcmVhdGVzIGEgbm9uLXplcm8tZmlsbGVkIEJ1ZmZlciBpbnN0YW5jZS5cbiAqL1xuQnVmZmVyLmFsbG9jVW5zYWZlU2xvdyA9IGZ1bmN0aW9uIChzaXplKSB7XG4gIHJldHVybiBhbGxvY1Vuc2FmZShudWxsLCBzaXplKVxufVxuXG5mdW5jdGlvbiBmcm9tU3RyaW5nICh0aGF0LCBzdHJpbmcsIGVuY29kaW5nKSB7XG4gIGlmICh0eXBlb2YgZW5jb2RpbmcgIT09ICdzdHJpbmcnIHx8IGVuY29kaW5nID09PSAnJykge1xuICAgIGVuY29kaW5nID0gJ3V0ZjgnXG4gIH1cblxuICBpZiAoIUJ1ZmZlci5pc0VuY29kaW5nKGVuY29kaW5nKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wiZW5jb2RpbmdcIiBtdXN0IGJlIGEgdmFsaWQgc3RyaW5nIGVuY29kaW5nJylcbiAgfVxuXG4gIHZhciBsZW5ndGggPSBieXRlTGVuZ3RoKHN0cmluZywgZW5jb2RpbmcpIHwgMFxuICB0aGF0ID0gY3JlYXRlQnVmZmVyKHRoYXQsIGxlbmd0aClcblxuICB2YXIgYWN0dWFsID0gdGhhdC53cml0ZShzdHJpbmcsIGVuY29kaW5nKVxuXG4gIGlmIChhY3R1YWwgIT09IGxlbmd0aCkge1xuICAgIC8vIFdyaXRpbmcgYSBoZXggc3RyaW5nLCBmb3IgZXhhbXBsZSwgdGhhdCBjb250YWlucyBpbnZhbGlkIGNoYXJhY3RlcnMgd2lsbFxuICAgIC8vIGNhdXNlIGV2ZXJ5dGhpbmcgYWZ0ZXIgdGhlIGZpcnN0IGludmFsaWQgY2hhcmFjdGVyIHRvIGJlIGlnbm9yZWQuIChlLmcuXG4gICAgLy8gJ2FieHhjZCcgd2lsbCBiZSB0cmVhdGVkIGFzICdhYicpXG4gICAgdGhhdCA9IHRoYXQuc2xpY2UoMCwgYWN0dWFsKVxuICB9XG5cbiAgcmV0dXJuIHRoYXRcbn1cblxuZnVuY3Rpb24gZnJvbUFycmF5TGlrZSAodGhhdCwgYXJyYXkpIHtcbiAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCA8IDAgPyAwIDogY2hlY2tlZChhcnJheS5sZW5ndGgpIHwgMFxuICB0aGF0ID0gY3JlYXRlQnVmZmVyKHRoYXQsIGxlbmd0aClcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuICAgIHRoYXRbaV0gPSBhcnJheVtpXSAmIDI1NVxuICB9XG4gIHJldHVybiB0aGF0XG59XG5cbmZ1bmN0aW9uIGZyb21BcnJheUJ1ZmZlciAodGhhdCwgYXJyYXksIGJ5dGVPZmZzZXQsIGxlbmd0aCkge1xuICBhcnJheS5ieXRlTGVuZ3RoIC8vIHRoaXMgdGhyb3dzIGlmIGBhcnJheWAgaXMgbm90IGEgdmFsaWQgQXJyYXlCdWZmZXJcblxuICBpZiAoYnl0ZU9mZnNldCA8IDAgfHwgYXJyYXkuYnl0ZUxlbmd0aCA8IGJ5dGVPZmZzZXQpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignXFwnb2Zmc2V0XFwnIGlzIG91dCBvZiBib3VuZHMnKVxuICB9XG5cbiAgaWYgKGFycmF5LmJ5dGVMZW5ndGggPCBieXRlT2Zmc2V0ICsgKGxlbmd0aCB8fCAwKSkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdcXCdsZW5ndGhcXCcgaXMgb3V0IG9mIGJvdW5kcycpXG4gIH1cblxuICBpZiAoYnl0ZU9mZnNldCA9PT0gdW5kZWZpbmVkICYmIGxlbmd0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgYXJyYXkgPSBuZXcgVWludDhBcnJheShhcnJheSlcbiAgfSBlbHNlIGlmIChsZW5ndGggPT09IHVuZGVmaW5lZCkge1xuICAgIGFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXksIGJ5dGVPZmZzZXQpXG4gIH0gZWxzZSB7XG4gICAgYXJyYXkgPSBuZXcgVWludDhBcnJheShhcnJheSwgYnl0ZU9mZnNldCwgbGVuZ3RoKVxuICB9XG5cbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgLy8gUmV0dXJuIGFuIGF1Z21lbnRlZCBgVWludDhBcnJheWAgaW5zdGFuY2UsIGZvciBiZXN0IHBlcmZvcm1hbmNlXG4gICAgdGhhdCA9IGFycmF5XG4gICAgdGhhdC5fX3Byb3RvX18gPSBCdWZmZXIucHJvdG90eXBlXG4gIH0gZWxzZSB7XG4gICAgLy8gRmFsbGJhY2s6IFJldHVybiBhbiBvYmplY3QgaW5zdGFuY2Ugb2YgdGhlIEJ1ZmZlciBjbGFzc1xuICAgIHRoYXQgPSBmcm9tQXJyYXlMaWtlKHRoYXQsIGFycmF5KVxuICB9XG4gIHJldHVybiB0aGF0XG59XG5cbmZ1bmN0aW9uIGZyb21PYmplY3QgKHRoYXQsIG9iaikge1xuICBpZiAoQnVmZmVyLmlzQnVmZmVyKG9iaikpIHtcbiAgICB2YXIgbGVuID0gY2hlY2tlZChvYmoubGVuZ3RoKSB8IDBcbiAgICB0aGF0ID0gY3JlYXRlQnVmZmVyKHRoYXQsIGxlbilcblxuICAgIGlmICh0aGF0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHRoYXRcbiAgICB9XG5cbiAgICBvYmouY29weSh0aGF0LCAwLCAwLCBsZW4pXG4gICAgcmV0dXJuIHRoYXRcbiAgfVxuXG4gIGlmIChvYmopIHtcbiAgICBpZiAoKHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgb2JqLmJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB8fCAnbGVuZ3RoJyBpbiBvYmopIHtcbiAgICAgIGlmICh0eXBlb2Ygb2JqLmxlbmd0aCAhPT0gJ251bWJlcicgfHwgaXNuYW4ob2JqLmxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUJ1ZmZlcih0aGF0LCAwKVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZyb21BcnJheUxpa2UodGhhdCwgb2JqKVxuICAgIH1cblxuICAgIGlmIChvYmoudHlwZSA9PT0gJ0J1ZmZlcicgJiYgaXNBcnJheShvYmouZGF0YSkpIHtcbiAgICAgIHJldHVybiBmcm9tQXJyYXlMaWtlKHRoYXQsIG9iai5kYXRhKVxuICAgIH1cbiAgfVxuXG4gIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBzdHJpbmcsIEJ1ZmZlciwgQXJyYXlCdWZmZXIsIEFycmF5LCBvciBhcnJheS1saWtlIG9iamVjdC4nKVxufVxuXG5mdW5jdGlvbiBjaGVja2VkIChsZW5ndGgpIHtcbiAgLy8gTm90ZTogY2Fubm90IHVzZSBgbGVuZ3RoIDwga01heExlbmd0aCgpYCBoZXJlIGJlY2F1c2UgdGhhdCBmYWlscyB3aGVuXG4gIC8vIGxlbmd0aCBpcyBOYU4gKHdoaWNoIGlzIG90aGVyd2lzZSBjb2VyY2VkIHRvIHplcm8uKVxuICBpZiAobGVuZ3RoID49IGtNYXhMZW5ndGgoKSkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdBdHRlbXB0IHRvIGFsbG9jYXRlIEJ1ZmZlciBsYXJnZXIgdGhhbiBtYXhpbXVtICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICdzaXplOiAweCcgKyBrTWF4TGVuZ3RoKCkudG9TdHJpbmcoMTYpICsgJyBieXRlcycpXG4gIH1cbiAgcmV0dXJuIGxlbmd0aCB8IDBcbn1cblxuZnVuY3Rpb24gU2xvd0J1ZmZlciAobGVuZ3RoKSB7XG4gIGlmICgrbGVuZ3RoICE9IGxlbmd0aCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGVxZXFlcVxuICAgIGxlbmd0aCA9IDBcbiAgfVxuICByZXR1cm4gQnVmZmVyLmFsbG9jKCtsZW5ndGgpXG59XG5cbkJ1ZmZlci5pc0J1ZmZlciA9IGZ1bmN0aW9uIGlzQnVmZmVyIChiKSB7XG4gIHJldHVybiAhIShiICE9IG51bGwgJiYgYi5faXNCdWZmZXIpXG59XG5cbkJ1ZmZlci5jb21wYXJlID0gZnVuY3Rpb24gY29tcGFyZSAoYSwgYikge1xuICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihhKSB8fCAhQnVmZmVyLmlzQnVmZmVyKGIpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnRzIG11c3QgYmUgQnVmZmVycycpXG4gIH1cblxuICBpZiAoYSA9PT0gYikgcmV0dXJuIDBcblxuICB2YXIgeCA9IGEubGVuZ3RoXG4gIHZhciB5ID0gYi5sZW5ndGhcblxuICBmb3IgKHZhciBpID0gMCwgbGVuID0gTWF0aC5taW4oeCwgeSk7IGkgPCBsZW47ICsraSkge1xuICAgIGlmIChhW2ldICE9PSBiW2ldKSB7XG4gICAgICB4ID0gYVtpXVxuICAgICAgeSA9IGJbaV1cbiAgICAgIGJyZWFrXG4gICAgfVxuICB9XG5cbiAgaWYgKHggPCB5KSByZXR1cm4gLTFcbiAgaWYgKHkgPCB4KSByZXR1cm4gMVxuICByZXR1cm4gMFxufVxuXG5CdWZmZXIuaXNFbmNvZGluZyA9IGZ1bmN0aW9uIGlzRW5jb2RpbmcgKGVuY29kaW5nKSB7XG4gIHN3aXRjaCAoU3RyaW5nKGVuY29kaW5nKS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgY2FzZSAnaGV4JzpcbiAgICBjYXNlICd1dGY4JzpcbiAgICBjYXNlICd1dGYtOCc6XG4gICAgY2FzZSAnYXNjaWknOlxuICAgIGNhc2UgJ2xhdGluMSc6XG4gICAgY2FzZSAnYmluYXJ5JzpcbiAgICBjYXNlICdiYXNlNjQnOlxuICAgIGNhc2UgJ3VjczInOlxuICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICBjYXNlICd1dGYxNmxlJzpcbiAgICBjYXNlICd1dGYtMTZsZSc6XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZmFsc2VcbiAgfVxufVxuXG5CdWZmZXIuY29uY2F0ID0gZnVuY3Rpb24gY29uY2F0IChsaXN0LCBsZW5ndGgpIHtcbiAgaWYgKCFpc0FycmF5KGxpc3QpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJsaXN0XCIgYXJndW1lbnQgbXVzdCBiZSBhbiBBcnJheSBvZiBCdWZmZXJzJylcbiAgfVxuXG4gIGlmIChsaXN0Lmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBCdWZmZXIuYWxsb2MoMClcbiAgfVxuXG4gIHZhciBpXG4gIGlmIChsZW5ndGggPT09IHVuZGVmaW5lZCkge1xuICAgIGxlbmd0aCA9IDBcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7ICsraSkge1xuICAgICAgbGVuZ3RoICs9IGxpc3RbaV0ubGVuZ3RoXG4gICAgfVxuICB9XG5cbiAgdmFyIGJ1ZmZlciA9IEJ1ZmZlci5hbGxvY1Vuc2FmZShsZW5ndGgpXG4gIHZhciBwb3MgPSAwXG4gIGZvciAoaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgKytpKSB7XG4gICAgdmFyIGJ1ZiA9IGxpc3RbaV1cbiAgICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihidWYpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImxpc3RcIiBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIEJ1ZmZlcnMnKVxuICAgIH1cbiAgICBidWYuY29weShidWZmZXIsIHBvcylcbiAgICBwb3MgKz0gYnVmLmxlbmd0aFxuICB9XG4gIHJldHVybiBidWZmZXJcbn1cblxuZnVuY3Rpb24gYnl0ZUxlbmd0aCAoc3RyaW5nLCBlbmNvZGluZykge1xuICBpZiAoQnVmZmVyLmlzQnVmZmVyKHN0cmluZykpIHtcbiAgICByZXR1cm4gc3RyaW5nLmxlbmd0aFxuICB9XG4gIGlmICh0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBBcnJheUJ1ZmZlci5pc1ZpZXcgPT09ICdmdW5jdGlvbicgJiZcbiAgICAgIChBcnJheUJ1ZmZlci5pc1ZpZXcoc3RyaW5nKSB8fCBzdHJpbmcgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikpIHtcbiAgICByZXR1cm4gc3RyaW5nLmJ5dGVMZW5ndGhcbiAgfVxuICBpZiAodHlwZW9mIHN0cmluZyAhPT0gJ3N0cmluZycpIHtcbiAgICBzdHJpbmcgPSAnJyArIHN0cmluZ1xuICB9XG5cbiAgdmFyIGxlbiA9IHN0cmluZy5sZW5ndGhcbiAgaWYgKGxlbiA9PT0gMCkgcmV0dXJuIDBcblxuICAvLyBVc2UgYSBmb3IgbG9vcCB0byBhdm9pZCByZWN1cnNpb25cbiAgdmFyIGxvd2VyZWRDYXNlID0gZmFsc2VcbiAgZm9yICg7Oykge1xuICAgIHN3aXRjaCAoZW5jb2RpbmcpIHtcbiAgICAgIGNhc2UgJ2FzY2lpJzpcbiAgICAgIGNhc2UgJ2xhdGluMSc6XG4gICAgICBjYXNlICdiaW5hcnknOlxuICAgICAgICByZXR1cm4gbGVuXG4gICAgICBjYXNlICd1dGY4JzpcbiAgICAgIGNhc2UgJ3V0Zi04JzpcbiAgICAgIGNhc2UgdW5kZWZpbmVkOlxuICAgICAgICByZXR1cm4gdXRmOFRvQnl0ZXMoc3RyaW5nKS5sZW5ndGhcbiAgICAgIGNhc2UgJ3VjczInOlxuICAgICAgY2FzZSAndWNzLTInOlxuICAgICAgY2FzZSAndXRmMTZsZSc6XG4gICAgICBjYXNlICd1dGYtMTZsZSc6XG4gICAgICAgIHJldHVybiBsZW4gKiAyXG4gICAgICBjYXNlICdoZXgnOlxuICAgICAgICByZXR1cm4gbGVuID4+PiAxXG4gICAgICBjYXNlICdiYXNlNjQnOlxuICAgICAgICByZXR1cm4gYmFzZTY0VG9CeXRlcyhzdHJpbmcpLmxlbmd0aFxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKGxvd2VyZWRDYXNlKSByZXR1cm4gdXRmOFRvQnl0ZXMoc3RyaW5nKS5sZW5ndGggLy8gYXNzdW1lIHV0ZjhcbiAgICAgICAgZW5jb2RpbmcgPSAoJycgKyBlbmNvZGluZykudG9Mb3dlckNhc2UoKVxuICAgICAgICBsb3dlcmVkQ2FzZSA9IHRydWVcbiAgICB9XG4gIH1cbn1cbkJ1ZmZlci5ieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aFxuXG5mdW5jdGlvbiBzbG93VG9TdHJpbmcgKGVuY29kaW5nLCBzdGFydCwgZW5kKSB7XG4gIHZhciBsb3dlcmVkQ2FzZSA9IGZhbHNlXG5cbiAgLy8gTm8gbmVlZCB0byB2ZXJpZnkgdGhhdCBcInRoaXMubGVuZ3RoIDw9IE1BWF9VSU5UMzJcIiBzaW5jZSBpdCdzIGEgcmVhZC1vbmx5XG4gIC8vIHByb3BlcnR5IG9mIGEgdHlwZWQgYXJyYXkuXG5cbiAgLy8gVGhpcyBiZWhhdmVzIG5laXRoZXIgbGlrZSBTdHJpbmcgbm9yIFVpbnQ4QXJyYXkgaW4gdGhhdCB3ZSBzZXQgc3RhcnQvZW5kXG4gIC8vIHRvIHRoZWlyIHVwcGVyL2xvd2VyIGJvdW5kcyBpZiB0aGUgdmFsdWUgcGFzc2VkIGlzIG91dCBvZiByYW5nZS5cbiAgLy8gdW5kZWZpbmVkIGlzIGhhbmRsZWQgc3BlY2lhbGx5IGFzIHBlciBFQ01BLTI2MiA2dGggRWRpdGlvbixcbiAgLy8gU2VjdGlvbiAxMy4zLjMuNyBSdW50aW1lIFNlbWFudGljczogS2V5ZWRCaW5kaW5nSW5pdGlhbGl6YXRpb24uXG4gIGlmIChzdGFydCA9PT0gdW5kZWZpbmVkIHx8IHN0YXJ0IDwgMCkge1xuICAgIHN0YXJ0ID0gMFxuICB9XG4gIC8vIFJldHVybiBlYXJseSBpZiBzdGFydCA+IHRoaXMubGVuZ3RoLiBEb25lIGhlcmUgdG8gcHJldmVudCBwb3RlbnRpYWwgdWludDMyXG4gIC8vIGNvZXJjaW9uIGZhaWwgYmVsb3cuXG4gIGlmIChzdGFydCA+IHRoaXMubGVuZ3RoKSB7XG4gICAgcmV0dXJuICcnXG4gIH1cblxuICBpZiAoZW5kID09PSB1bmRlZmluZWQgfHwgZW5kID4gdGhpcy5sZW5ndGgpIHtcbiAgICBlbmQgPSB0aGlzLmxlbmd0aFxuICB9XG5cbiAgaWYgKGVuZCA8PSAwKSB7XG4gICAgcmV0dXJuICcnXG4gIH1cblxuICAvLyBGb3JjZSBjb2Vyc2lvbiB0byB1aW50MzIuIFRoaXMgd2lsbCBhbHNvIGNvZXJjZSBmYWxzZXkvTmFOIHZhbHVlcyB0byAwLlxuICBlbmQgPj4+PSAwXG4gIHN0YXJ0ID4+Pj0gMFxuXG4gIGlmIChlbmQgPD0gc3RhcnQpIHtcbiAgICByZXR1cm4gJydcbiAgfVxuXG4gIGlmICghZW5jb2RpbmcpIGVuY29kaW5nID0gJ3V0ZjgnXG5cbiAgd2hpbGUgKHRydWUpIHtcbiAgICBzd2l0Y2ggKGVuY29kaW5nKSB7XG4gICAgICBjYXNlICdoZXgnOlxuICAgICAgICByZXR1cm4gaGV4U2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAndXRmOCc6XG4gICAgICBjYXNlICd1dGYtOCc6XG4gICAgICAgIHJldHVybiB1dGY4U2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAnYXNjaWknOlxuICAgICAgICByZXR1cm4gYXNjaWlTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICdsYXRpbjEnOlxuICAgICAgY2FzZSAnYmluYXJ5JzpcbiAgICAgICAgcmV0dXJuIGxhdGluMVNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgICAgIHJldHVybiBiYXNlNjRTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICd1Y3MyJzpcbiAgICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICAgIGNhc2UgJ3V0ZjE2bGUnOlxuICAgICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgICByZXR1cm4gdXRmMTZsZVNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmIChsb3dlcmVkQ2FzZSkgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBlbmNvZGluZzogJyArIGVuY29kaW5nKVxuICAgICAgICBlbmNvZGluZyA9IChlbmNvZGluZyArICcnKS50b0xvd2VyQ2FzZSgpXG4gICAgICAgIGxvd2VyZWRDYXNlID0gdHJ1ZVxuICAgIH1cbiAgfVxufVxuXG4vLyBUaGUgcHJvcGVydHkgaXMgdXNlZCBieSBgQnVmZmVyLmlzQnVmZmVyYCBhbmQgYGlzLWJ1ZmZlcmAgKGluIFNhZmFyaSA1LTcpIHRvIGRldGVjdFxuLy8gQnVmZmVyIGluc3RhbmNlcy5cbkJ1ZmZlci5wcm90b3R5cGUuX2lzQnVmZmVyID0gdHJ1ZVxuXG5mdW5jdGlvbiBzd2FwIChiLCBuLCBtKSB7XG4gIHZhciBpID0gYltuXVxuICBiW25dID0gYlttXVxuICBiW21dID0gaVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnN3YXAxNiA9IGZ1bmN0aW9uIHN3YXAxNiAoKSB7XG4gIHZhciBsZW4gPSB0aGlzLmxlbmd0aFxuICBpZiAobGVuICUgMiAhPT0gMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgMTYtYml0cycpXG4gIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkgKz0gMikge1xuICAgIHN3YXAodGhpcywgaSwgaSArIDEpXG4gIH1cbiAgcmV0dXJuIHRoaXNcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5zd2FwMzIgPSBmdW5jdGlvbiBzd2FwMzIgKCkge1xuICB2YXIgbGVuID0gdGhpcy5sZW5ndGhcbiAgaWYgKGxlbiAlIDQgIT09IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDMyLWJpdHMnKVxuICB9XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpICs9IDQpIHtcbiAgICBzd2FwKHRoaXMsIGksIGkgKyAzKVxuICAgIHN3YXAodGhpcywgaSArIDEsIGkgKyAyKVxuICB9XG4gIHJldHVybiB0aGlzXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuc3dhcDY0ID0gZnVuY3Rpb24gc3dhcDY0ICgpIHtcbiAgdmFyIGxlbiA9IHRoaXMubGVuZ3RoXG4gIGlmIChsZW4gJSA4ICE9PSAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0J1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA2NC1iaXRzJylcbiAgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSArPSA4KSB7XG4gICAgc3dhcCh0aGlzLCBpLCBpICsgNylcbiAgICBzd2FwKHRoaXMsIGkgKyAxLCBpICsgNilcbiAgICBzd2FwKHRoaXMsIGkgKyAyLCBpICsgNSlcbiAgICBzd2FwKHRoaXMsIGkgKyAzLCBpICsgNClcbiAgfVxuICByZXR1cm4gdGhpc1xufVxuXG5CdWZmZXIucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcgKCkge1xuICB2YXIgbGVuZ3RoID0gdGhpcy5sZW5ndGggfCAwXG4gIGlmIChsZW5ndGggPT09IDApIHJldHVybiAnJ1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHV0ZjhTbGljZSh0aGlzLCAwLCBsZW5ndGgpXG4gIHJldHVybiBzbG93VG9TdHJpbmcuYXBwbHkodGhpcywgYXJndW1lbnRzKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIGVxdWFscyAoYikge1xuICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihiKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlcicpXG4gIGlmICh0aGlzID09PSBiKSByZXR1cm4gdHJ1ZVxuICByZXR1cm4gQnVmZmVyLmNvbXBhcmUodGhpcywgYikgPT09IDBcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5pbnNwZWN0ID0gZnVuY3Rpb24gaW5zcGVjdCAoKSB7XG4gIHZhciBzdHIgPSAnJ1xuICB2YXIgbWF4ID0gZXhwb3J0cy5JTlNQRUNUX01BWF9CWVRFU1xuICBpZiAodGhpcy5sZW5ndGggPiAwKSB7XG4gICAgc3RyID0gdGhpcy50b1N0cmluZygnaGV4JywgMCwgbWF4KS5tYXRjaCgvLnsyfS9nKS5qb2luKCcgJylcbiAgICBpZiAodGhpcy5sZW5ndGggPiBtYXgpIHN0ciArPSAnIC4uLiAnXG4gIH1cbiAgcmV0dXJuICc8QnVmZmVyICcgKyBzdHIgKyAnPidcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5jb21wYXJlID0gZnVuY3Rpb24gY29tcGFyZSAodGFyZ2V0LCBzdGFydCwgZW5kLCB0aGlzU3RhcnQsIHRoaXNFbmQpIHtcbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIodGFyZ2V0KSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXInKVxuICB9XG5cbiAgaWYgKHN0YXJ0ID09PSB1bmRlZmluZWQpIHtcbiAgICBzdGFydCA9IDBcbiAgfVxuICBpZiAoZW5kID09PSB1bmRlZmluZWQpIHtcbiAgICBlbmQgPSB0YXJnZXQgPyB0YXJnZXQubGVuZ3RoIDogMFxuICB9XG4gIGlmICh0aGlzU3RhcnQgPT09IHVuZGVmaW5lZCkge1xuICAgIHRoaXNTdGFydCA9IDBcbiAgfVxuICBpZiAodGhpc0VuZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhpc0VuZCA9IHRoaXMubGVuZ3RoXG4gIH1cblxuICBpZiAoc3RhcnQgPCAwIHx8IGVuZCA+IHRhcmdldC5sZW5ndGggfHwgdGhpc1N0YXJ0IDwgMCB8fCB0aGlzRW5kID4gdGhpcy5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignb3V0IG9mIHJhbmdlIGluZGV4JylcbiAgfVxuXG4gIGlmICh0aGlzU3RhcnQgPj0gdGhpc0VuZCAmJiBzdGFydCA+PSBlbmQpIHtcbiAgICByZXR1cm4gMFxuICB9XG4gIGlmICh0aGlzU3RhcnQgPj0gdGhpc0VuZCkge1xuICAgIHJldHVybiAtMVxuICB9XG4gIGlmIChzdGFydCA+PSBlbmQpIHtcbiAgICByZXR1cm4gMVxuICB9XG5cbiAgc3RhcnQgPj4+PSAwXG4gIGVuZCA+Pj49IDBcbiAgdGhpc1N0YXJ0ID4+Pj0gMFxuICB0aGlzRW5kID4+Pj0gMFxuXG4gIGlmICh0aGlzID09PSB0YXJnZXQpIHJldHVybiAwXG5cbiAgdmFyIHggPSB0aGlzRW5kIC0gdGhpc1N0YXJ0XG4gIHZhciB5ID0gZW5kIC0gc3RhcnRcbiAgdmFyIGxlbiA9IE1hdGgubWluKHgsIHkpXG5cbiAgdmFyIHRoaXNDb3B5ID0gdGhpcy5zbGljZSh0aGlzU3RhcnQsIHRoaXNFbmQpXG4gIHZhciB0YXJnZXRDb3B5ID0gdGFyZ2V0LnNsaWNlKHN0YXJ0LCBlbmQpXG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgIGlmICh0aGlzQ29weVtpXSAhPT0gdGFyZ2V0Q29weVtpXSkge1xuICAgICAgeCA9IHRoaXNDb3B5W2ldXG4gICAgICB5ID0gdGFyZ2V0Q29weVtpXVxuICAgICAgYnJlYWtcbiAgICB9XG4gIH1cblxuICBpZiAoeCA8IHkpIHJldHVybiAtMVxuICBpZiAoeSA8IHgpIHJldHVybiAxXG4gIHJldHVybiAwXG59XG5cbi8vIEZpbmRzIGVpdGhlciB0aGUgZmlyc3QgaW5kZXggb2YgYHZhbGAgaW4gYGJ1ZmZlcmAgYXQgb2Zmc2V0ID49IGBieXRlT2Zmc2V0YCxcbi8vIE9SIHRoZSBsYXN0IGluZGV4IG9mIGB2YWxgIGluIGBidWZmZXJgIGF0IG9mZnNldCA8PSBgYnl0ZU9mZnNldGAuXG4vL1xuLy8gQXJndW1lbnRzOlxuLy8gLSBidWZmZXIgLSBhIEJ1ZmZlciB0byBzZWFyY2hcbi8vIC0gdmFsIC0gYSBzdHJpbmcsIEJ1ZmZlciwgb3IgbnVtYmVyXG4vLyAtIGJ5dGVPZmZzZXQgLSBhbiBpbmRleCBpbnRvIGBidWZmZXJgOyB3aWxsIGJlIGNsYW1wZWQgdG8gYW4gaW50MzJcbi8vIC0gZW5jb2RpbmcgLSBhbiBvcHRpb25hbCBlbmNvZGluZywgcmVsZXZhbnQgaXMgdmFsIGlzIGEgc3RyaW5nXG4vLyAtIGRpciAtIHRydWUgZm9yIGluZGV4T2YsIGZhbHNlIGZvciBsYXN0SW5kZXhPZlxuZnVuY3Rpb24gYmlkaXJlY3Rpb25hbEluZGV4T2YgKGJ1ZmZlciwgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZGlyKSB7XG4gIC8vIEVtcHR5IGJ1ZmZlciBtZWFucyBubyBtYXRjaFxuICBpZiAoYnVmZmVyLmxlbmd0aCA9PT0gMCkgcmV0dXJuIC0xXG5cbiAgLy8gTm9ybWFsaXplIGJ5dGVPZmZzZXRcbiAgaWYgKHR5cGVvZiBieXRlT2Zmc2V0ID09PSAnc3RyaW5nJykge1xuICAgIGVuY29kaW5nID0gYnl0ZU9mZnNldFxuICAgIGJ5dGVPZmZzZXQgPSAwXG4gIH0gZWxzZSBpZiAoYnl0ZU9mZnNldCA+IDB4N2ZmZmZmZmYpIHtcbiAgICBieXRlT2Zmc2V0ID0gMHg3ZmZmZmZmZlxuICB9IGVsc2UgaWYgKGJ5dGVPZmZzZXQgPCAtMHg4MDAwMDAwMCkge1xuICAgIGJ5dGVPZmZzZXQgPSAtMHg4MDAwMDAwMFxuICB9XG4gIGJ5dGVPZmZzZXQgPSArYnl0ZU9mZnNldCAgLy8gQ29lcmNlIHRvIE51bWJlci5cbiAgaWYgKGlzTmFOKGJ5dGVPZmZzZXQpKSB7XG4gICAgLy8gYnl0ZU9mZnNldDogaXQgaXQncyB1bmRlZmluZWQsIG51bGwsIE5hTiwgXCJmb29cIiwgZXRjLCBzZWFyY2ggd2hvbGUgYnVmZmVyXG4gICAgYnl0ZU9mZnNldCA9IGRpciA/IDAgOiAoYnVmZmVyLmxlbmd0aCAtIDEpXG4gIH1cblxuICAvLyBOb3JtYWxpemUgYnl0ZU9mZnNldDogbmVnYXRpdmUgb2Zmc2V0cyBzdGFydCBmcm9tIHRoZSBlbmQgb2YgdGhlIGJ1ZmZlclxuICBpZiAoYnl0ZU9mZnNldCA8IDApIGJ5dGVPZmZzZXQgPSBidWZmZXIubGVuZ3RoICsgYnl0ZU9mZnNldFxuICBpZiAoYnl0ZU9mZnNldCA+PSBidWZmZXIubGVuZ3RoKSB7XG4gICAgaWYgKGRpcikgcmV0dXJuIC0xXG4gICAgZWxzZSBieXRlT2Zmc2V0ID0gYnVmZmVyLmxlbmd0aCAtIDFcbiAgfSBlbHNlIGlmIChieXRlT2Zmc2V0IDwgMCkge1xuICAgIGlmIChkaXIpIGJ5dGVPZmZzZXQgPSAwXG4gICAgZWxzZSByZXR1cm4gLTFcbiAgfVxuXG4gIC8vIE5vcm1hbGl6ZSB2YWxcbiAgaWYgKHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnKSB7XG4gICAgdmFsID0gQnVmZmVyLmZyb20odmFsLCBlbmNvZGluZylcbiAgfVxuXG4gIC8vIEZpbmFsbHksIHNlYXJjaCBlaXRoZXIgaW5kZXhPZiAoaWYgZGlyIGlzIHRydWUpIG9yIGxhc3RJbmRleE9mXG4gIGlmIChCdWZmZXIuaXNCdWZmZXIodmFsKSkge1xuICAgIC8vIFNwZWNpYWwgY2FzZTogbG9va2luZyBmb3IgZW1wdHkgc3RyaW5nL2J1ZmZlciBhbHdheXMgZmFpbHNcbiAgICBpZiAodmFsLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIC0xXG4gICAgfVxuICAgIHJldHVybiBhcnJheUluZGV4T2YoYnVmZmVyLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCBkaXIpXG4gIH0gZWxzZSBpZiAodHlwZW9mIHZhbCA9PT0gJ251bWJlcicpIHtcbiAgICB2YWwgPSB2YWwgJiAweEZGIC8vIFNlYXJjaCBmb3IgYSBieXRlIHZhbHVlIFswLTI1NV1cbiAgICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQgJiZcbiAgICAgICAgdHlwZW9mIFVpbnQ4QXJyYXkucHJvdG90eXBlLmluZGV4T2YgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGlmIChkaXIpIHtcbiAgICAgICAgcmV0dXJuIFVpbnQ4QXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbChidWZmZXIsIHZhbCwgYnl0ZU9mZnNldClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBVaW50OEFycmF5LnByb3RvdHlwZS5sYXN0SW5kZXhPZi5jYWxsKGJ1ZmZlciwgdmFsLCBieXRlT2Zmc2V0KVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYXJyYXlJbmRleE9mKGJ1ZmZlciwgWyB2YWwgXSwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGRpcilcbiAgfVxuXG4gIHRocm93IG5ldyBUeXBlRXJyb3IoJ3ZhbCBtdXN0IGJlIHN0cmluZywgbnVtYmVyIG9yIEJ1ZmZlcicpXG59XG5cbmZ1bmN0aW9uIGFycmF5SW5kZXhPZiAoYXJyLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCBkaXIpIHtcbiAgdmFyIGluZGV4U2l6ZSA9IDFcbiAgdmFyIGFyckxlbmd0aCA9IGFyci5sZW5ndGhcbiAgdmFyIHZhbExlbmd0aCA9IHZhbC5sZW5ndGhcblxuICBpZiAoZW5jb2RpbmcgIT09IHVuZGVmaW5lZCkge1xuICAgIGVuY29kaW5nID0gU3RyaW5nKGVuY29kaW5nKS50b0xvd2VyQ2FzZSgpXG4gICAgaWYgKGVuY29kaW5nID09PSAndWNzMicgfHwgZW5jb2RpbmcgPT09ICd1Y3MtMicgfHxcbiAgICAgICAgZW5jb2RpbmcgPT09ICd1dGYxNmxlJyB8fCBlbmNvZGluZyA9PT0gJ3V0Zi0xNmxlJykge1xuICAgICAgaWYgKGFyci5sZW5ndGggPCAyIHx8IHZhbC5sZW5ndGggPCAyKSB7XG4gICAgICAgIHJldHVybiAtMVxuICAgICAgfVxuICAgICAgaW5kZXhTaXplID0gMlxuICAgICAgYXJyTGVuZ3RoIC89IDJcbiAgICAgIHZhbExlbmd0aCAvPSAyXG4gICAgICBieXRlT2Zmc2V0IC89IDJcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZWFkIChidWYsIGkpIHtcbiAgICBpZiAoaW5kZXhTaXplID09PSAxKSB7XG4gICAgICByZXR1cm4gYnVmW2ldXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBidWYucmVhZFVJbnQxNkJFKGkgKiBpbmRleFNpemUpXG4gICAgfVxuICB9XG5cbiAgdmFyIGlcbiAgaWYgKGRpcikge1xuICAgIHZhciBmb3VuZEluZGV4ID0gLTFcbiAgICBmb3IgKGkgPSBieXRlT2Zmc2V0OyBpIDwgYXJyTGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChyZWFkKGFyciwgaSkgPT09IHJlYWQodmFsLCBmb3VuZEluZGV4ID09PSAtMSA/IDAgOiBpIC0gZm91bmRJbmRleCkpIHtcbiAgICAgICAgaWYgKGZvdW5kSW5kZXggPT09IC0xKSBmb3VuZEluZGV4ID0gaVxuICAgICAgICBpZiAoaSAtIGZvdW5kSW5kZXggKyAxID09PSB2YWxMZW5ndGgpIHJldHVybiBmb3VuZEluZGV4ICogaW5kZXhTaXplXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoZm91bmRJbmRleCAhPT0gLTEpIGkgLT0gaSAtIGZvdW5kSW5kZXhcbiAgICAgICAgZm91bmRJbmRleCA9IC0xXG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChieXRlT2Zmc2V0ICsgdmFsTGVuZ3RoID4gYXJyTGVuZ3RoKSBieXRlT2Zmc2V0ID0gYXJyTGVuZ3RoIC0gdmFsTGVuZ3RoXG4gICAgZm9yIChpID0gYnl0ZU9mZnNldDsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIHZhciBmb3VuZCA9IHRydWVcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdmFsTGVuZ3RoOyBqKyspIHtcbiAgICAgICAgaWYgKHJlYWQoYXJyLCBpICsgaikgIT09IHJlYWQodmFsLCBqKSkge1xuICAgICAgICAgIGZvdW5kID0gZmFsc2VcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoZm91bmQpIHJldHVybiBpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIC0xXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuaW5jbHVkZXMgPSBmdW5jdGlvbiBpbmNsdWRlcyAodmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZykge1xuICByZXR1cm4gdGhpcy5pbmRleE9mKHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcpICE9PSAtMVxufVxuXG5CdWZmZXIucHJvdG90eXBlLmluZGV4T2YgPSBmdW5jdGlvbiBpbmRleE9mICh2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nKSB7XG4gIHJldHVybiBiaWRpcmVjdGlvbmFsSW5kZXhPZih0aGlzLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCB0cnVlKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLmxhc3RJbmRleE9mID0gZnVuY3Rpb24gbGFzdEluZGV4T2YgKHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcpIHtcbiAgcmV0dXJuIGJpZGlyZWN0aW9uYWxJbmRleE9mKHRoaXMsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGZhbHNlKVxufVxuXG5mdW5jdGlvbiBoZXhXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIG9mZnNldCA9IE51bWJlcihvZmZzZXQpIHx8IDBcbiAgdmFyIHJlbWFpbmluZyA9IGJ1Zi5sZW5ndGggLSBvZmZzZXRcbiAgaWYgKCFsZW5ndGgpIHtcbiAgICBsZW5ndGggPSByZW1haW5pbmdcbiAgfSBlbHNlIHtcbiAgICBsZW5ndGggPSBOdW1iZXIobGVuZ3RoKVxuICAgIGlmIChsZW5ndGggPiByZW1haW5pbmcpIHtcbiAgICAgIGxlbmd0aCA9IHJlbWFpbmluZ1xuICAgIH1cbiAgfVxuXG4gIC8vIG11c3QgYmUgYW4gZXZlbiBudW1iZXIgb2YgZGlnaXRzXG4gIHZhciBzdHJMZW4gPSBzdHJpbmcubGVuZ3RoXG4gIGlmIChzdHJMZW4gJSAyICE9PSAwKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIGhleCBzdHJpbmcnKVxuXG4gIGlmIChsZW5ndGggPiBzdHJMZW4gLyAyKSB7XG4gICAgbGVuZ3RoID0gc3RyTGVuIC8gMlxuICB9XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICB2YXIgcGFyc2VkID0gcGFyc2VJbnQoc3RyaW5nLnN1YnN0cihpICogMiwgMiksIDE2KVxuICAgIGlmIChpc05hTihwYXJzZWQpKSByZXR1cm4gaVxuICAgIGJ1ZltvZmZzZXQgKyBpXSA9IHBhcnNlZFxuICB9XG4gIHJldHVybiBpXG59XG5cbmZ1bmN0aW9uIHV0ZjhXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBibGl0QnVmZmVyKHV0ZjhUb0J5dGVzKHN0cmluZywgYnVmLmxlbmd0aCAtIG9mZnNldCksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbmZ1bmN0aW9uIGFzY2lpV3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYmxpdEJ1ZmZlcihhc2NpaVRvQnl0ZXMoc3RyaW5nKSwgYnVmLCBvZmZzZXQsIGxlbmd0aClcbn1cblxuZnVuY3Rpb24gbGF0aW4xV3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYXNjaWlXcml0ZShidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbmZ1bmN0aW9uIGJhc2U2NFdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGJsaXRCdWZmZXIoYmFzZTY0VG9CeXRlcyhzdHJpbmcpLCBidWYsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5mdW5jdGlvbiB1Y3MyV3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYmxpdEJ1ZmZlcih1dGYxNmxlVG9CeXRlcyhzdHJpbmcsIGJ1Zi5sZW5ndGggLSBvZmZzZXQpLCBidWYsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24gd3JpdGUgKHN0cmluZywgb2Zmc2V0LCBsZW5ndGgsIGVuY29kaW5nKSB7XG4gIC8vIEJ1ZmZlciN3cml0ZShzdHJpbmcpXG4gIGlmIChvZmZzZXQgPT09IHVuZGVmaW5lZCkge1xuICAgIGVuY29kaW5nID0gJ3V0ZjgnXG4gICAgbGVuZ3RoID0gdGhpcy5sZW5ndGhcbiAgICBvZmZzZXQgPSAwXG4gIC8vIEJ1ZmZlciN3cml0ZShzdHJpbmcsIGVuY29kaW5nKVxuICB9IGVsc2UgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkICYmIHR5cGVvZiBvZmZzZXQgPT09ICdzdHJpbmcnKSB7XG4gICAgZW5jb2RpbmcgPSBvZmZzZXRcbiAgICBsZW5ndGggPSB0aGlzLmxlbmd0aFxuICAgIG9mZnNldCA9IDBcbiAgLy8gQnVmZmVyI3dyaXRlKHN0cmluZywgb2Zmc2V0WywgbGVuZ3RoXVssIGVuY29kaW5nXSlcbiAgfSBlbHNlIGlmIChpc0Zpbml0ZShvZmZzZXQpKSB7XG4gICAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICAgIGlmIChpc0Zpbml0ZShsZW5ndGgpKSB7XG4gICAgICBsZW5ndGggPSBsZW5ndGggfCAwXG4gICAgICBpZiAoZW5jb2RpbmcgPT09IHVuZGVmaW5lZCkgZW5jb2RpbmcgPSAndXRmOCdcbiAgICB9IGVsc2Uge1xuICAgICAgZW5jb2RpbmcgPSBsZW5ndGhcbiAgICAgIGxlbmd0aCA9IHVuZGVmaW5lZFxuICAgIH1cbiAgLy8gbGVnYWN5IHdyaXRlKHN0cmluZywgZW5jb2RpbmcsIG9mZnNldCwgbGVuZ3RoKSAtIHJlbW92ZSBpbiB2MC4xM1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICdCdWZmZXIud3JpdGUoc3RyaW5nLCBlbmNvZGluZywgb2Zmc2V0WywgbGVuZ3RoXSkgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZCdcbiAgICApXG4gIH1cblxuICB2YXIgcmVtYWluaW5nID0gdGhpcy5sZW5ndGggLSBvZmZzZXRcbiAgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkIHx8IGxlbmd0aCA+IHJlbWFpbmluZykgbGVuZ3RoID0gcmVtYWluaW5nXG5cbiAgaWYgKChzdHJpbmcubGVuZ3RoID4gMCAmJiAobGVuZ3RoIDwgMCB8fCBvZmZzZXQgPCAwKSkgfHwgb2Zmc2V0ID4gdGhpcy5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQXR0ZW1wdCB0byB3cml0ZSBvdXRzaWRlIGJ1ZmZlciBib3VuZHMnKVxuICB9XG5cbiAgaWYgKCFlbmNvZGluZykgZW5jb2RpbmcgPSAndXRmOCdcblxuICB2YXIgbG93ZXJlZENhc2UgPSBmYWxzZVxuICBmb3IgKDs7KSB7XG4gICAgc3dpdGNoIChlbmNvZGluZykge1xuICAgICAgY2FzZSAnaGV4JzpcbiAgICAgICAgcmV0dXJuIGhleFdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ3V0ZjgnOlxuICAgICAgY2FzZSAndXRmLTgnOlxuICAgICAgICByZXR1cm4gdXRmOFdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ2FzY2lpJzpcbiAgICAgICAgcmV0dXJuIGFzY2lpV3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAnbGF0aW4xJzpcbiAgICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgICAgIHJldHVybiBsYXRpbjFXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBjYXNlICdiYXNlNjQnOlxuICAgICAgICAvLyBXYXJuaW5nOiBtYXhMZW5ndGggbm90IHRha2VuIGludG8gYWNjb3VudCBpbiBiYXNlNjRXcml0ZVxuICAgICAgICByZXR1cm4gYmFzZTY0V3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAndWNzMic6XG4gICAgICBjYXNlICd1Y3MtMic6XG4gICAgICBjYXNlICd1dGYxNmxlJzpcbiAgICAgIGNhc2UgJ3V0Zi0xNmxlJzpcbiAgICAgICAgcmV0dXJuIHVjczJXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAobG93ZXJlZENhc2UpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vua25vd24gZW5jb2Rpbmc6ICcgKyBlbmNvZGluZylcbiAgICAgICAgZW5jb2RpbmcgPSAoJycgKyBlbmNvZGluZykudG9Mb3dlckNhc2UoKVxuICAgICAgICBsb3dlcmVkQ2FzZSA9IHRydWVcbiAgICB9XG4gIH1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiB0b0pTT04gKCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6ICdCdWZmZXInLFxuICAgIGRhdGE6IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHRoaXMuX2FyciB8fCB0aGlzLCAwKVxuICB9XG59XG5cbmZ1bmN0aW9uIGJhc2U2NFNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgaWYgKHN0YXJ0ID09PSAwICYmIGVuZCA9PT0gYnVmLmxlbmd0aCkge1xuICAgIHJldHVybiBiYXNlNjQuZnJvbUJ5dGVBcnJheShidWYpXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGJhc2U2NC5mcm9tQnl0ZUFycmF5KGJ1Zi5zbGljZShzdGFydCwgZW5kKSlcbiAgfVxufVxuXG5mdW5jdGlvbiB1dGY4U2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICBlbmQgPSBNYXRoLm1pbihidWYubGVuZ3RoLCBlbmQpXG4gIHZhciByZXMgPSBbXVxuXG4gIHZhciBpID0gc3RhcnRcbiAgd2hpbGUgKGkgPCBlbmQpIHtcbiAgICB2YXIgZmlyc3RCeXRlID0gYnVmW2ldXG4gICAgdmFyIGNvZGVQb2ludCA9IG51bGxcbiAgICB2YXIgYnl0ZXNQZXJTZXF1ZW5jZSA9IChmaXJzdEJ5dGUgPiAweEVGKSA/IDRcbiAgICAgIDogKGZpcnN0Qnl0ZSA+IDB4REYpID8gM1xuICAgICAgOiAoZmlyc3RCeXRlID4gMHhCRikgPyAyXG4gICAgICA6IDFcblxuICAgIGlmIChpICsgYnl0ZXNQZXJTZXF1ZW5jZSA8PSBlbmQpIHtcbiAgICAgIHZhciBzZWNvbmRCeXRlLCB0aGlyZEJ5dGUsIGZvdXJ0aEJ5dGUsIHRlbXBDb2RlUG9pbnRcblxuICAgICAgc3dpdGNoIChieXRlc1BlclNlcXVlbmNlKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBpZiAoZmlyc3RCeXRlIDwgMHg4MCkge1xuICAgICAgICAgICAgY29kZVBvaW50ID0gZmlyc3RCeXRlXG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICBzZWNvbmRCeXRlID0gYnVmW2kgKyAxXVxuICAgICAgICAgIGlmICgoc2Vjb25kQnl0ZSAmIDB4QzApID09PSAweDgwKSB7XG4gICAgICAgICAgICB0ZW1wQ29kZVBvaW50ID0gKGZpcnN0Qnl0ZSAmIDB4MUYpIDw8IDB4NiB8IChzZWNvbmRCeXRlICYgMHgzRilcbiAgICAgICAgICAgIGlmICh0ZW1wQ29kZVBvaW50ID4gMHg3Rikge1xuICAgICAgICAgICAgICBjb2RlUG9pbnQgPSB0ZW1wQ29kZVBvaW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICBzZWNvbmRCeXRlID0gYnVmW2kgKyAxXVxuICAgICAgICAgIHRoaXJkQnl0ZSA9IGJ1ZltpICsgMl1cbiAgICAgICAgICBpZiAoKHNlY29uZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCAmJiAodGhpcmRCeXRlICYgMHhDMCkgPT09IDB4ODApIHtcbiAgICAgICAgICAgIHRlbXBDb2RlUG9pbnQgPSAoZmlyc3RCeXRlICYgMHhGKSA8PCAweEMgfCAoc2Vjb25kQnl0ZSAmIDB4M0YpIDw8IDB4NiB8ICh0aGlyZEJ5dGUgJiAweDNGKVxuICAgICAgICAgICAgaWYgKHRlbXBDb2RlUG9pbnQgPiAweDdGRiAmJiAodGVtcENvZGVQb2ludCA8IDB4RDgwMCB8fCB0ZW1wQ29kZVBvaW50ID4gMHhERkZGKSkge1xuICAgICAgICAgICAgICBjb2RlUG9pbnQgPSB0ZW1wQ29kZVBvaW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICBzZWNvbmRCeXRlID0gYnVmW2kgKyAxXVxuICAgICAgICAgIHRoaXJkQnl0ZSA9IGJ1ZltpICsgMl1cbiAgICAgICAgICBmb3VydGhCeXRlID0gYnVmW2kgKyAzXVxuICAgICAgICAgIGlmICgoc2Vjb25kQnl0ZSAmIDB4QzApID09PSAweDgwICYmICh0aGlyZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCAmJiAoZm91cnRoQnl0ZSAmIDB4QzApID09PSAweDgwKSB7XG4gICAgICAgICAgICB0ZW1wQ29kZVBvaW50ID0gKGZpcnN0Qnl0ZSAmIDB4RikgPDwgMHgxMiB8IChzZWNvbmRCeXRlICYgMHgzRikgPDwgMHhDIHwgKHRoaXJkQnl0ZSAmIDB4M0YpIDw8IDB4NiB8IChmb3VydGhCeXRlICYgMHgzRilcbiAgICAgICAgICAgIGlmICh0ZW1wQ29kZVBvaW50ID4gMHhGRkZGICYmIHRlbXBDb2RlUG9pbnQgPCAweDExMDAwMCkge1xuICAgICAgICAgICAgICBjb2RlUG9pbnQgPSB0ZW1wQ29kZVBvaW50XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChjb2RlUG9pbnQgPT09IG51bGwpIHtcbiAgICAgIC8vIHdlIGRpZCBub3QgZ2VuZXJhdGUgYSB2YWxpZCBjb2RlUG9pbnQgc28gaW5zZXJ0IGFcbiAgICAgIC8vIHJlcGxhY2VtZW50IGNoYXIgKFUrRkZGRCkgYW5kIGFkdmFuY2Ugb25seSAxIGJ5dGVcbiAgICAgIGNvZGVQb2ludCA9IDB4RkZGRFxuICAgICAgYnl0ZXNQZXJTZXF1ZW5jZSA9IDFcbiAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA+IDB4RkZGRikge1xuICAgICAgLy8gZW5jb2RlIHRvIHV0ZjE2IChzdXJyb2dhdGUgcGFpciBkYW5jZSlcbiAgICAgIGNvZGVQb2ludCAtPSAweDEwMDAwXG4gICAgICByZXMucHVzaChjb2RlUG9pbnQgPj4+IDEwICYgMHgzRkYgfCAweEQ4MDApXG4gICAgICBjb2RlUG9pbnQgPSAweERDMDAgfCBjb2RlUG9pbnQgJiAweDNGRlxuICAgIH1cblxuICAgIHJlcy5wdXNoKGNvZGVQb2ludClcbiAgICBpICs9IGJ5dGVzUGVyU2VxdWVuY2VcbiAgfVxuXG4gIHJldHVybiBkZWNvZGVDb2RlUG9pbnRzQXJyYXkocmVzKVxufVxuXG4vLyBCYXNlZCBvbiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yMjc0NzI3Mi82ODA3NDIsIHRoZSBicm93c2VyIHdpdGhcbi8vIHRoZSBsb3dlc3QgbGltaXQgaXMgQ2hyb21lLCB3aXRoIDB4MTAwMDAgYXJncy5cbi8vIFdlIGdvIDEgbWFnbml0dWRlIGxlc3MsIGZvciBzYWZldHlcbnZhciBNQVhfQVJHVU1FTlRTX0xFTkdUSCA9IDB4MTAwMFxuXG5mdW5jdGlvbiBkZWNvZGVDb2RlUG9pbnRzQXJyYXkgKGNvZGVQb2ludHMpIHtcbiAgdmFyIGxlbiA9IGNvZGVQb2ludHMubGVuZ3RoXG4gIGlmIChsZW4gPD0gTUFYX0FSR1VNRU5UU19MRU5HVEgpIHtcbiAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsIGNvZGVQb2ludHMpIC8vIGF2b2lkIGV4dHJhIHNsaWNlKClcbiAgfVxuXG4gIC8vIERlY29kZSBpbiBjaHVua3MgdG8gYXZvaWQgXCJjYWxsIHN0YWNrIHNpemUgZXhjZWVkZWRcIi5cbiAgdmFyIHJlcyA9ICcnXG4gIHZhciBpID0gMFxuICB3aGlsZSAoaSA8IGxlbikge1xuICAgIHJlcyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFxuICAgICAgU3RyaW5nLFxuICAgICAgY29kZVBvaW50cy5zbGljZShpLCBpICs9IE1BWF9BUkdVTUVOVFNfTEVOR1RIKVxuICAgIClcbiAgfVxuICByZXR1cm4gcmVzXG59XG5cbmZ1bmN0aW9uIGFzY2lpU2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICB2YXIgcmV0ID0gJydcbiAgZW5kID0gTWF0aC5taW4oYnVmLmxlbmd0aCwgZW5kKVxuXG4gIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7XG4gICAgcmV0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnVmW2ldICYgMHg3RilcbiAgfVxuICByZXR1cm4gcmV0XG59XG5cbmZ1bmN0aW9uIGxhdGluMVNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIHJldCA9ICcnXG4gIGVuZCA9IE1hdGgubWluKGJ1Zi5sZW5ndGgsIGVuZClcblxuICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBlbmQ7ICsraSkge1xuICAgIHJldCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ1ZltpXSlcbiAgfVxuICByZXR1cm4gcmV0XG59XG5cbmZ1bmN0aW9uIGhleFNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIGxlbiA9IGJ1Zi5sZW5ndGhcblxuICBpZiAoIXN0YXJ0IHx8IHN0YXJ0IDwgMCkgc3RhcnQgPSAwXG4gIGlmICghZW5kIHx8IGVuZCA8IDAgfHwgZW5kID4gbGVuKSBlbmQgPSBsZW5cblxuICB2YXIgb3V0ID0gJydcbiAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHtcbiAgICBvdXQgKz0gdG9IZXgoYnVmW2ldKVxuICB9XG4gIHJldHVybiBvdXRcbn1cblxuZnVuY3Rpb24gdXRmMTZsZVNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIGJ5dGVzID0gYnVmLnNsaWNlKHN0YXJ0LCBlbmQpXG4gIHZhciByZXMgPSAnJ1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGJ5dGVzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgcmVzICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnl0ZXNbaV0gKyBieXRlc1tpICsgMV0gKiAyNTYpXG4gIH1cbiAgcmV0dXJuIHJlc1xufVxuXG5CdWZmZXIucHJvdG90eXBlLnNsaWNlID0gZnVuY3Rpb24gc2xpY2UgKHN0YXJ0LCBlbmQpIHtcbiAgdmFyIGxlbiA9IHRoaXMubGVuZ3RoXG4gIHN0YXJ0ID0gfn5zdGFydFxuICBlbmQgPSBlbmQgPT09IHVuZGVmaW5lZCA/IGxlbiA6IH5+ZW5kXG5cbiAgaWYgKHN0YXJ0IDwgMCkge1xuICAgIHN0YXJ0ICs9IGxlblxuICAgIGlmIChzdGFydCA8IDApIHN0YXJ0ID0gMFxuICB9IGVsc2UgaWYgKHN0YXJ0ID4gbGVuKSB7XG4gICAgc3RhcnQgPSBsZW5cbiAgfVxuXG4gIGlmIChlbmQgPCAwKSB7XG4gICAgZW5kICs9IGxlblxuICAgIGlmIChlbmQgPCAwKSBlbmQgPSAwXG4gIH0gZWxzZSBpZiAoZW5kID4gbGVuKSB7XG4gICAgZW5kID0gbGVuXG4gIH1cblxuICBpZiAoZW5kIDwgc3RhcnQpIGVuZCA9IHN0YXJ0XG5cbiAgdmFyIG5ld0J1ZlxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICBuZXdCdWYgPSB0aGlzLnN1YmFycmF5KHN0YXJ0LCBlbmQpXG4gICAgbmV3QnVmLl9fcHJvdG9fXyA9IEJ1ZmZlci5wcm90b3R5cGVcbiAgfSBlbHNlIHtcbiAgICB2YXIgc2xpY2VMZW4gPSBlbmQgLSBzdGFydFxuICAgIG5ld0J1ZiA9IG5ldyBCdWZmZXIoc2xpY2VMZW4sIHVuZGVmaW5lZClcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNsaWNlTGVuOyArK2kpIHtcbiAgICAgIG5ld0J1ZltpXSA9IHRoaXNbaSArIHN0YXJ0XVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuZXdCdWZcbn1cblxuLypcbiAqIE5lZWQgdG8gbWFrZSBzdXJlIHRoYXQgYnVmZmVyIGlzbid0IHRyeWluZyB0byB3cml0ZSBvdXQgb2YgYm91bmRzLlxuICovXG5mdW5jdGlvbiBjaGVja09mZnNldCAob2Zmc2V0LCBleHQsIGxlbmd0aCkge1xuICBpZiAoKG9mZnNldCAlIDEpICE9PSAwIHx8IG9mZnNldCA8IDApIHRocm93IG5ldyBSYW5nZUVycm9yKCdvZmZzZXQgaXMgbm90IHVpbnQnKVxuICBpZiAob2Zmc2V0ICsgZXh0ID4gbGVuZ3RoKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignVHJ5aW5nIHRvIGFjY2VzcyBiZXlvbmQgYnVmZmVyIGxlbmd0aCcpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnRMRSA9IGZ1bmN0aW9uIHJlYWRVSW50TEUgKG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCBieXRlTGVuZ3RoLCB0aGlzLmxlbmd0aClcblxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXRdXG4gIHZhciBtdWwgPSAxXG4gIHZhciBpID0gMFxuICB3aGlsZSAoKytpIDwgYnl0ZUxlbmd0aCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHZhbCArPSB0aGlzW29mZnNldCArIGldICogbXVsXG4gIH1cblxuICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnRCRSA9IGZ1bmN0aW9uIHJlYWRVSW50QkUgKG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpXG4gIH1cblxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXQgKyAtLWJ5dGVMZW5ndGhdXG4gIHZhciBtdWwgPSAxXG4gIHdoaWxlIChieXRlTGVuZ3RoID4gMCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHZhbCArPSB0aGlzW29mZnNldCArIC0tYnl0ZUxlbmd0aF0gKiBtdWxcbiAgfVxuXG4gIHJldHVybiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDggPSBmdW5jdGlvbiByZWFkVUludDggKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAxLCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIHRoaXNbb2Zmc2V0XVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MTZMRSA9IGZ1bmN0aW9uIHJlYWRVSW50MTZMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDIsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gdGhpc1tvZmZzZXRdIHwgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgOClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDE2QkUgPSBmdW5jdGlvbiByZWFkVUludDE2QkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAyLCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuICh0aGlzW29mZnNldF0gPDwgOCkgfCB0aGlzW29mZnNldCArIDFdXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQzMkxFID0gZnVuY3Rpb24gcmVhZFVJbnQzMkxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG5cbiAgcmV0dXJuICgodGhpc1tvZmZzZXRdKSB8XG4gICAgICAodGhpc1tvZmZzZXQgKyAxXSA8PCA4KSB8XG4gICAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCAxNikpICtcbiAgICAgICh0aGlzW29mZnNldCArIDNdICogMHgxMDAwMDAwKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MzJCRSA9IGZ1bmN0aW9uIHJlYWRVSW50MzJCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuXG4gIHJldHVybiAodGhpc1tvZmZzZXRdICogMHgxMDAwMDAwKSArXG4gICAgKCh0aGlzW29mZnNldCArIDFdIDw8IDE2KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMl0gPDwgOCkgfFxuICAgIHRoaXNbb2Zmc2V0ICsgM10pXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludExFID0gZnVuY3Rpb24gcmVhZEludExFIChvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpXG5cbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0XVxuICB2YXIgbXVsID0gMVxuICB2YXIgaSA9IDBcbiAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB2YWwgKz0gdGhpc1tvZmZzZXQgKyBpXSAqIG11bFxuICB9XG4gIG11bCAqPSAweDgwXG5cbiAgaWYgKHZhbCA+PSBtdWwpIHZhbCAtPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aClcblxuICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludEJFID0gZnVuY3Rpb24gcmVhZEludEJFIChvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpXG5cbiAgdmFyIGkgPSBieXRlTGVuZ3RoXG4gIHZhciBtdWwgPSAxXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldCArIC0taV1cbiAgd2hpbGUgKGkgPiAwICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdmFsICs9IHRoaXNbb2Zmc2V0ICsgLS1pXSAqIG11bFxuICB9XG4gIG11bCAqPSAweDgwXG5cbiAgaWYgKHZhbCA+PSBtdWwpIHZhbCAtPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aClcblxuICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDggPSBmdW5jdGlvbiByZWFkSW50OCAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDEsIHRoaXMubGVuZ3RoKVxuICBpZiAoISh0aGlzW29mZnNldF0gJiAweDgwKSkgcmV0dXJuICh0aGlzW29mZnNldF0pXG4gIHJldHVybiAoKDB4ZmYgLSB0aGlzW29mZnNldF0gKyAxKSAqIC0xKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQxNkxFID0gZnVuY3Rpb24gcmVhZEludDE2TEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAyLCB0aGlzLmxlbmd0aClcbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0XSB8ICh0aGlzW29mZnNldCArIDFdIDw8IDgpXG4gIHJldHVybiAodmFsICYgMHg4MDAwKSA/IHZhbCB8IDB4RkZGRjAwMDAgOiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MTZCRSA9IGZ1bmN0aW9uIHJlYWRJbnQxNkJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMiwgdGhpcy5sZW5ndGgpXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldCArIDFdIHwgKHRoaXNbb2Zmc2V0XSA8PCA4KVxuICByZXR1cm4gKHZhbCAmIDB4ODAwMCkgPyB2YWwgfCAweEZGRkYwMDAwIDogdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDMyTEUgPSBmdW5jdGlvbiByZWFkSW50MzJMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuXG4gIHJldHVybiAodGhpc1tvZmZzZXRdKSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgOCkgfFxuICAgICh0aGlzW29mZnNldCArIDJdIDw8IDE2KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgM10gPDwgMjQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDMyQkUgPSBmdW5jdGlvbiByZWFkSW50MzJCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuXG4gIHJldHVybiAodGhpc1tvZmZzZXRdIDw8IDI0KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgMTYpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCA4KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgM10pXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEZsb2F0TEUgPSBmdW5jdGlvbiByZWFkRmxvYXRMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gaWVlZTc1NC5yZWFkKHRoaXMsIG9mZnNldCwgdHJ1ZSwgMjMsIDQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEZsb2F0QkUgPSBmdW5jdGlvbiByZWFkRmxvYXRCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gaWVlZTc1NC5yZWFkKHRoaXMsIG9mZnNldCwgZmFsc2UsIDIzLCA0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWREb3VibGVMRSA9IGZ1bmN0aW9uIHJlYWREb3VibGVMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDgsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gaWVlZTc1NC5yZWFkKHRoaXMsIG9mZnNldCwgdHJ1ZSwgNTIsIDgpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZERvdWJsZUJFID0gZnVuY3Rpb24gcmVhZERvdWJsZUJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgOCwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiBpZWVlNzU0LnJlYWQodGhpcywgb2Zmc2V0LCBmYWxzZSwgNTIsIDgpXG59XG5cbmZ1bmN0aW9uIGNoZWNrSW50IChidWYsIHZhbHVlLCBvZmZzZXQsIGV4dCwgbWF4LCBtaW4pIHtcbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYnVmKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJidWZmZXJcIiBhcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyIGluc3RhbmNlJylcbiAgaWYgKHZhbHVlID4gbWF4IHx8IHZhbHVlIDwgbWluKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignXCJ2YWx1ZVwiIGFyZ3VtZW50IGlzIG91dCBvZiBib3VuZHMnKVxuICBpZiAob2Zmc2V0ICsgZXh0ID4gYnVmLmxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0luZGV4IG91dCBvZiByYW5nZScpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50TEUgPSBmdW5jdGlvbiB3cml0ZVVJbnRMRSAodmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIHZhciBtYXhCeXRlcyA9IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKSAtIDFcbiAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBtYXhCeXRlcywgMClcbiAgfVxuXG4gIHZhciBtdWwgPSAxXG4gIHZhciBpID0gMFxuICB0aGlzW29mZnNldF0gPSB2YWx1ZSAmIDB4RkZcbiAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB0aGlzW29mZnNldCArIGldID0gKHZhbHVlIC8gbXVsKSAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50QkUgPSBmdW5jdGlvbiB3cml0ZVVJbnRCRSAodmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIHZhciBtYXhCeXRlcyA9IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKSAtIDFcbiAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBtYXhCeXRlcywgMClcbiAgfVxuXG4gIHZhciBpID0gYnl0ZUxlbmd0aCAtIDFcbiAgdmFyIG11bCA9IDFcbiAgdGhpc1tvZmZzZXQgKyBpXSA9IHZhbHVlICYgMHhGRlxuICB3aGlsZSAoLS1pID49IDAgJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB0aGlzW29mZnNldCArIGldID0gKHZhbHVlIC8gbXVsKSAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50OCA9IGZ1bmN0aW9uIHdyaXRlVUludDggKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMSwgMHhmZiwgMClcbiAgaWYgKCFCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkgdmFsdWUgPSBNYXRoLmZsb29yKHZhbHVlKVxuICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICByZXR1cm4gb2Zmc2V0ICsgMVxufVxuXG5mdW5jdGlvbiBvYmplY3RXcml0ZVVJbnQxNiAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4pIHtcbiAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAweGZmZmYgKyB2YWx1ZSArIDFcbiAgZm9yICh2YXIgaSA9IDAsIGogPSBNYXRoLm1pbihidWYubGVuZ3RoIC0gb2Zmc2V0LCAyKTsgaSA8IGo7ICsraSkge1xuICAgIGJ1ZltvZmZzZXQgKyBpXSA9ICh2YWx1ZSAmICgweGZmIDw8ICg4ICogKGxpdHRsZUVuZGlhbiA/IGkgOiAxIC0gaSkpKSkgPj4+XG4gICAgICAobGl0dGxlRW5kaWFuID8gaSA6IDEgLSBpKSAqIDhcbiAgfVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDE2TEUgPSBmdW5jdGlvbiB3cml0ZVVJbnQxNkxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDIsIDB4ZmZmZiwgMClcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDE2KHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDJcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQxNkJFID0gZnVuY3Rpb24gd3JpdGVVSW50MTZCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAyLCAweGZmZmYsIDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSA+Pj4gOClcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlICYgMHhmZilcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQxNih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgMlxufVxuXG5mdW5jdGlvbiBvYmplY3RXcml0ZVVJbnQzMiAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4pIHtcbiAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAweGZmZmZmZmZmICsgdmFsdWUgKyAxXG4gIGZvciAodmFyIGkgPSAwLCBqID0gTWF0aC5taW4oYnVmLmxlbmd0aCAtIG9mZnNldCwgNCk7IGkgPCBqOyArK2kpIHtcbiAgICBidWZbb2Zmc2V0ICsgaV0gPSAodmFsdWUgPj4+IChsaXR0bGVFbmRpYW4gPyBpIDogMyAtIGkpICogOCkgJiAweGZmXG4gIH1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQzMkxFID0gZnVuY3Rpb24gd3JpdGVVSW50MzJMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCA0LCAweGZmZmZmZmZmLCAwKVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldCArIDNdID0gKHZhbHVlID4+PiAyNClcbiAgICB0aGlzW29mZnNldCArIDJdID0gKHZhbHVlID4+PiAxNilcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MzIodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDMyQkUgPSBmdW5jdGlvbiB3cml0ZVVJbnQzMkJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDQsIDB4ZmZmZmZmZmYsIDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSA+Pj4gMjQpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gMTYpXG4gICAgdGhpc1tvZmZzZXQgKyAyXSA9ICh2YWx1ZSA+Pj4gOClcbiAgICB0aGlzW29mZnNldCArIDNdID0gKHZhbHVlICYgMHhmZilcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQzMih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50TEUgPSBmdW5jdGlvbiB3cml0ZUludExFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICB2YXIgbGltaXQgPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aCAtIDEpXG5cbiAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBsaW1pdCAtIDEsIC1saW1pdClcbiAgfVxuXG4gIHZhciBpID0gMFxuICB2YXIgbXVsID0gMVxuICB2YXIgc3ViID0gMFxuICB0aGlzW29mZnNldF0gPSB2YWx1ZSAmIDB4RkZcbiAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICBpZiAodmFsdWUgPCAwICYmIHN1YiA9PT0gMCAmJiB0aGlzW29mZnNldCArIGkgLSAxXSAhPT0gMCkge1xuICAgICAgc3ViID0gMVxuICAgIH1cbiAgICB0aGlzW29mZnNldCArIGldID0gKCh2YWx1ZSAvIG11bCkgPj4gMCkgLSBzdWIgJiAweEZGXG4gIH1cblxuICByZXR1cm4gb2Zmc2V0ICsgYnl0ZUxlbmd0aFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50QkUgPSBmdW5jdGlvbiB3cml0ZUludEJFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICB2YXIgbGltaXQgPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aCAtIDEpXG5cbiAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBsaW1pdCAtIDEsIC1saW1pdClcbiAgfVxuXG4gIHZhciBpID0gYnl0ZUxlbmd0aCAtIDFcbiAgdmFyIG11bCA9IDFcbiAgdmFyIHN1YiA9IDBcbiAgdGhpc1tvZmZzZXQgKyBpXSA9IHZhbHVlICYgMHhGRlxuICB3aGlsZSAoLS1pID49IDAgJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICBpZiAodmFsdWUgPCAwICYmIHN1YiA9PT0gMCAmJiB0aGlzW29mZnNldCArIGkgKyAxXSAhPT0gMCkge1xuICAgICAgc3ViID0gMVxuICAgIH1cbiAgICB0aGlzW29mZnNldCArIGldID0gKCh2YWx1ZSAvIG11bCkgPj4gMCkgLSBzdWIgJiAweEZGXG4gIH1cblxuICByZXR1cm4gb2Zmc2V0ICsgYnl0ZUxlbmd0aFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50OCA9IGZ1bmN0aW9uIHdyaXRlSW50OCAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAxLCAweDdmLCAtMHg4MClcbiAgaWYgKCFCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkgdmFsdWUgPSBNYXRoLmZsb29yKHZhbHVlKVxuICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDB4ZmYgKyB2YWx1ZSArIDFcbiAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgcmV0dXJuIG9mZnNldCArIDFcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDE2TEUgPSBmdW5jdGlvbiB3cml0ZUludDE2TEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHg3ZmZmLCAtMHg4MDAwKVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDgpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MTYodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgMlxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50MTZCRSA9IGZ1bmN0aW9uIHdyaXRlSW50MTZCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAyLCAweDdmZmYsIC0weDgwMDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSA+Pj4gOClcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlICYgMHhmZilcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQxNih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgMlxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50MzJMRSA9IGZ1bmN0aW9uIHdyaXRlSW50MzJMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCA0LCAweDdmZmZmZmZmLCAtMHg4MDAwMDAwMClcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuICAgIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDE2KVxuICAgIHRoaXNbb2Zmc2V0ICsgM10gPSAodmFsdWUgPj4+IDI0KVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDMyKHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDRcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDMyQkUgPSBmdW5jdGlvbiB3cml0ZUludDMyQkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHg3ZmZmZmZmZiwgLTB4ODAwMDAwMDApXG4gIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMHhmZmZmZmZmZiArIHZhbHVlICsgMVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgPj4+IDI0KVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDE2KVxuICAgIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDgpXG4gICAgdGhpc1tvZmZzZXQgKyAzXSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MzIodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDRcbn1cblxuZnVuY3Rpb24gY2hlY2tJRUVFNzU0IChidWYsIHZhbHVlLCBvZmZzZXQsIGV4dCwgbWF4LCBtaW4pIHtcbiAgaWYgKG9mZnNldCArIGV4dCA+IGJ1Zi5sZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbmRleCBvdXQgb2YgcmFuZ2UnKVxuICBpZiAob2Zmc2V0IDwgMCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0luZGV4IG91dCBvZiByYW5nZScpXG59XG5cbmZ1bmN0aW9uIHdyaXRlRmxvYXQgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgY2hlY2tJRUVFNzU0KGJ1ZiwgdmFsdWUsIG9mZnNldCwgNCwgMy40MDI4MjM0NjYzODUyODg2ZSszOCwgLTMuNDAyODIzNDY2Mzg1Mjg4NmUrMzgpXG4gIH1cbiAgaWVlZTc1NC53cml0ZShidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgMjMsIDQpXG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVGbG9hdExFID0gZnVuY3Rpb24gd3JpdGVGbG9hdExFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gd3JpdGVGbG9hdCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlLCBub0Fzc2VydClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUZsb2F0QkUgPSBmdW5jdGlvbiB3cml0ZUZsb2F0QkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHJldHVybiB3cml0ZUZsb2F0KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlLCBub0Fzc2VydClcbn1cblxuZnVuY3Rpb24gd3JpdGVEb3VibGUgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgY2hlY2tJRUVFNzU0KGJ1ZiwgdmFsdWUsIG9mZnNldCwgOCwgMS43OTc2OTMxMzQ4NjIzMTU3RSszMDgsIC0xLjc5NzY5MzEzNDg2MjMxNTdFKzMwOClcbiAgfVxuICBpZWVlNzU0LndyaXRlKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCA1MiwgOClcbiAgcmV0dXJuIG9mZnNldCArIDhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZURvdWJsZUxFID0gZnVuY3Rpb24gd3JpdGVEb3VibGVMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIHdyaXRlRG91YmxlKHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUsIG5vQXNzZXJ0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlRG91YmxlQkUgPSBmdW5jdGlvbiB3cml0ZURvdWJsZUJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gd3JpdGVEb3VibGUodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UsIG5vQXNzZXJ0KVxufVxuXG4vLyBjb3B5KHRhcmdldEJ1ZmZlciwgdGFyZ2V0U3RhcnQ9MCwgc291cmNlU3RhcnQ9MCwgc291cmNlRW5kPWJ1ZmZlci5sZW5ndGgpXG5CdWZmZXIucHJvdG90eXBlLmNvcHkgPSBmdW5jdGlvbiBjb3B5ICh0YXJnZXQsIHRhcmdldFN0YXJ0LCBzdGFydCwgZW5kKSB7XG4gIGlmICghc3RhcnQpIHN0YXJ0ID0gMFxuICBpZiAoIWVuZCAmJiBlbmQgIT09IDApIGVuZCA9IHRoaXMubGVuZ3RoXG4gIGlmICh0YXJnZXRTdGFydCA+PSB0YXJnZXQubGVuZ3RoKSB0YXJnZXRTdGFydCA9IHRhcmdldC5sZW5ndGhcbiAgaWYgKCF0YXJnZXRTdGFydCkgdGFyZ2V0U3RhcnQgPSAwXG4gIGlmIChlbmQgPiAwICYmIGVuZCA8IHN0YXJ0KSBlbmQgPSBzdGFydFxuXG4gIC8vIENvcHkgMCBieXRlczsgd2UncmUgZG9uZVxuICBpZiAoZW5kID09PSBzdGFydCkgcmV0dXJuIDBcbiAgaWYgKHRhcmdldC5sZW5ndGggPT09IDAgfHwgdGhpcy5sZW5ndGggPT09IDApIHJldHVybiAwXG5cbiAgLy8gRmF0YWwgZXJyb3IgY29uZGl0aW9uc1xuICBpZiAodGFyZ2V0U3RhcnQgPCAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ3RhcmdldFN0YXJ0IG91dCBvZiBib3VuZHMnKVxuICB9XG4gIGlmIChzdGFydCA8IDAgfHwgc3RhcnQgPj0gdGhpcy5sZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKCdzb3VyY2VTdGFydCBvdXQgb2YgYm91bmRzJylcbiAgaWYgKGVuZCA8IDApIHRocm93IG5ldyBSYW5nZUVycm9yKCdzb3VyY2VFbmQgb3V0IG9mIGJvdW5kcycpXG5cbiAgLy8gQXJlIHdlIG9vYj9cbiAgaWYgKGVuZCA+IHRoaXMubGVuZ3RoKSBlbmQgPSB0aGlzLmxlbmd0aFxuICBpZiAodGFyZ2V0Lmxlbmd0aCAtIHRhcmdldFN0YXJ0IDwgZW5kIC0gc3RhcnQpIHtcbiAgICBlbmQgPSB0YXJnZXQubGVuZ3RoIC0gdGFyZ2V0U3RhcnQgKyBzdGFydFxuICB9XG5cbiAgdmFyIGxlbiA9IGVuZCAtIHN0YXJ0XG4gIHZhciBpXG5cbiAgaWYgKHRoaXMgPT09IHRhcmdldCAmJiBzdGFydCA8IHRhcmdldFN0YXJ0ICYmIHRhcmdldFN0YXJ0IDwgZW5kKSB7XG4gICAgLy8gZGVzY2VuZGluZyBjb3B5IGZyb20gZW5kXG4gICAgZm9yIChpID0gbGVuIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgIHRhcmdldFtpICsgdGFyZ2V0U3RhcnRdID0gdGhpc1tpICsgc3RhcnRdXG4gICAgfVxuICB9IGVsc2UgaWYgKGxlbiA8IDEwMDAgfHwgIUJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgLy8gYXNjZW5kaW5nIGNvcHkgZnJvbSBzdGFydFxuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgICAgdGFyZ2V0W2kgKyB0YXJnZXRTdGFydF0gPSB0aGlzW2kgKyBzdGFydF1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgVWludDhBcnJheS5wcm90b3R5cGUuc2V0LmNhbGwoXG4gICAgICB0YXJnZXQsXG4gICAgICB0aGlzLnN1YmFycmF5KHN0YXJ0LCBzdGFydCArIGxlbiksXG4gICAgICB0YXJnZXRTdGFydFxuICAgIClcbiAgfVxuXG4gIHJldHVybiBsZW5cbn1cblxuLy8gVXNhZ2U6XG4vLyAgICBidWZmZXIuZmlsbChudW1iZXJbLCBvZmZzZXRbLCBlbmRdXSlcbi8vICAgIGJ1ZmZlci5maWxsKGJ1ZmZlclssIG9mZnNldFssIGVuZF1dKVxuLy8gICAgYnVmZmVyLmZpbGwoc3RyaW5nWywgb2Zmc2V0WywgZW5kXV1bLCBlbmNvZGluZ10pXG5CdWZmZXIucHJvdG90eXBlLmZpbGwgPSBmdW5jdGlvbiBmaWxsICh2YWwsIHN0YXJ0LCBlbmQsIGVuY29kaW5nKSB7XG4gIC8vIEhhbmRsZSBzdHJpbmcgY2FzZXM6XG4gIGlmICh0eXBlb2YgdmFsID09PSAnc3RyaW5nJykge1xuICAgIGlmICh0eXBlb2Ygc3RhcnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICBlbmNvZGluZyA9IHN0YXJ0XG4gICAgICBzdGFydCA9IDBcbiAgICAgIGVuZCA9IHRoaXMubGVuZ3RoXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZW5kID09PSAnc3RyaW5nJykge1xuICAgICAgZW5jb2RpbmcgPSBlbmRcbiAgICAgIGVuZCA9IHRoaXMubGVuZ3RoXG4gICAgfVxuICAgIGlmICh2YWwubGVuZ3RoID09PSAxKSB7XG4gICAgICB2YXIgY29kZSA9IHZhbC5jaGFyQ29kZUF0KDApXG4gICAgICBpZiAoY29kZSA8IDI1Nikge1xuICAgICAgICB2YWwgPSBjb2RlXG4gICAgICB9XG4gICAgfVxuICAgIGlmIChlbmNvZGluZyAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBlbmNvZGluZyAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2VuY29kaW5nIG11c3QgYmUgYSBzdHJpbmcnKVxuICAgIH1cbiAgICBpZiAodHlwZW9mIGVuY29kaW5nID09PSAnc3RyaW5nJyAmJiAhQnVmZmVyLmlzRW5jb2RpbmcoZW5jb2RpbmcpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmtub3duIGVuY29kaW5nOiAnICsgZW5jb2RpbmcpXG4gICAgfVxuICB9IGVsc2UgaWYgKHR5cGVvZiB2YWwgPT09ICdudW1iZXInKSB7XG4gICAgdmFsID0gdmFsICYgMjU1XG4gIH1cblxuICAvLyBJbnZhbGlkIHJhbmdlcyBhcmUgbm90IHNldCB0byBhIGRlZmF1bHQsIHNvIGNhbiByYW5nZSBjaGVjayBlYXJseS5cbiAgaWYgKHN0YXJ0IDwgMCB8fCB0aGlzLmxlbmd0aCA8IHN0YXJ0IHx8IHRoaXMubGVuZ3RoIDwgZW5kKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ091dCBvZiByYW5nZSBpbmRleCcpXG4gIH1cblxuICBpZiAoZW5kIDw9IHN0YXJ0KSB7XG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIHN0YXJ0ID0gc3RhcnQgPj4+IDBcbiAgZW5kID0gZW5kID09PSB1bmRlZmluZWQgPyB0aGlzLmxlbmd0aCA6IGVuZCA+Pj4gMFxuXG4gIGlmICghdmFsKSB2YWwgPSAwXG5cbiAgdmFyIGlcbiAgaWYgKHR5cGVvZiB2YWwgPT09ICdudW1iZXInKSB7XG4gICAgZm9yIChpID0gc3RhcnQ7IGkgPCBlbmQ7ICsraSkge1xuICAgICAgdGhpc1tpXSA9IHZhbFxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB2YXIgYnl0ZXMgPSBCdWZmZXIuaXNCdWZmZXIodmFsKVxuICAgICAgPyB2YWxcbiAgICAgIDogdXRmOFRvQnl0ZXMobmV3IEJ1ZmZlcih2YWwsIGVuY29kaW5nKS50b1N0cmluZygpKVxuICAgIHZhciBsZW4gPSBieXRlcy5sZW5ndGhcbiAgICBmb3IgKGkgPSAwOyBpIDwgZW5kIC0gc3RhcnQ7ICsraSkge1xuICAgICAgdGhpc1tpICsgc3RhcnRdID0gYnl0ZXNbaSAlIGxlbl1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGhpc1xufVxuXG4vLyBIRUxQRVIgRlVOQ1RJT05TXG4vLyA9PT09PT09PT09PT09PT09XG5cbnZhciBJTlZBTElEX0JBU0U2NF9SRSA9IC9bXitcXC8wLTlBLVphLXotX10vZ1xuXG5mdW5jdGlvbiBiYXNlNjRjbGVhbiAoc3RyKSB7XG4gIC8vIE5vZGUgc3RyaXBzIG91dCBpbnZhbGlkIGNoYXJhY3RlcnMgbGlrZSBcXG4gYW5kIFxcdCBmcm9tIHRoZSBzdHJpbmcsIGJhc2U2NC1qcyBkb2VzIG5vdFxuICBzdHIgPSBzdHJpbmd0cmltKHN0cikucmVwbGFjZShJTlZBTElEX0JBU0U2NF9SRSwgJycpXG4gIC8vIE5vZGUgY29udmVydHMgc3RyaW5ncyB3aXRoIGxlbmd0aCA8IDIgdG8gJydcbiAgaWYgKHN0ci5sZW5ndGggPCAyKSByZXR1cm4gJydcbiAgLy8gTm9kZSBhbGxvd3MgZm9yIG5vbi1wYWRkZWQgYmFzZTY0IHN0cmluZ3MgKG1pc3NpbmcgdHJhaWxpbmcgPT09KSwgYmFzZTY0LWpzIGRvZXMgbm90XG4gIHdoaWxlIChzdHIubGVuZ3RoICUgNCAhPT0gMCkge1xuICAgIHN0ciA9IHN0ciArICc9J1xuICB9XG4gIHJldHVybiBzdHJcbn1cblxuZnVuY3Rpb24gc3RyaW5ndHJpbSAoc3RyKSB7XG4gIGlmIChzdHIudHJpbSkgcmV0dXJuIHN0ci50cmltKClcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLCAnJylcbn1cblxuZnVuY3Rpb24gdG9IZXggKG4pIHtcbiAgaWYgKG4gPCAxNikgcmV0dXJuICcwJyArIG4udG9TdHJpbmcoMTYpXG4gIHJldHVybiBuLnRvU3RyaW5nKDE2KVxufVxuXG5mdW5jdGlvbiB1dGY4VG9CeXRlcyAoc3RyaW5nLCB1bml0cykge1xuICB1bml0cyA9IHVuaXRzIHx8IEluZmluaXR5XG4gIHZhciBjb2RlUG9pbnRcbiAgdmFyIGxlbmd0aCA9IHN0cmluZy5sZW5ndGhcbiAgdmFyIGxlYWRTdXJyb2dhdGUgPSBudWxsXG4gIHZhciBieXRlcyA9IFtdXG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgIGNvZGVQb2ludCA9IHN0cmluZy5jaGFyQ29kZUF0KGkpXG5cbiAgICAvLyBpcyBzdXJyb2dhdGUgY29tcG9uZW50XG4gICAgaWYgKGNvZGVQb2ludCA+IDB4RDdGRiAmJiBjb2RlUG9pbnQgPCAweEUwMDApIHtcbiAgICAgIC8vIGxhc3QgY2hhciB3YXMgYSBsZWFkXG4gICAgICBpZiAoIWxlYWRTdXJyb2dhdGUpIHtcbiAgICAgICAgLy8gbm8gbGVhZCB5ZXRcbiAgICAgICAgaWYgKGNvZGVQb2ludCA+IDB4REJGRikge1xuICAgICAgICAgIC8vIHVuZXhwZWN0ZWQgdHJhaWxcbiAgICAgICAgICBpZiAoKHVuaXRzIC09IDMpID4gLTEpIGJ5dGVzLnB1c2goMHhFRiwgMHhCRiwgMHhCRClcbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9IGVsc2UgaWYgKGkgKyAxID09PSBsZW5ndGgpIHtcbiAgICAgICAgICAvLyB1bnBhaXJlZCBsZWFkXG4gICAgICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpXG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHZhbGlkIGxlYWRcbiAgICAgICAgbGVhZFN1cnJvZ2F0ZSA9IGNvZGVQb2ludFxuXG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIC8vIDIgbGVhZHMgaW4gYSByb3dcbiAgICAgIGlmIChjb2RlUG9pbnQgPCAweERDMDApIHtcbiAgICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpXG4gICAgICAgIGxlYWRTdXJyb2dhdGUgPSBjb2RlUG9pbnRcbiAgICAgICAgY29udGludWVcbiAgICAgIH1cblxuICAgICAgLy8gdmFsaWQgc3Vycm9nYXRlIHBhaXJcbiAgICAgIGNvZGVQb2ludCA9IChsZWFkU3Vycm9nYXRlIC0gMHhEODAwIDw8IDEwIHwgY29kZVBvaW50IC0gMHhEQzAwKSArIDB4MTAwMDBcbiAgICB9IGVsc2UgaWYgKGxlYWRTdXJyb2dhdGUpIHtcbiAgICAgIC8vIHZhbGlkIGJtcCBjaGFyLCBidXQgbGFzdCBjaGFyIHdhcyBhIGxlYWRcbiAgICAgIGlmICgodW5pdHMgLT0gMykgPiAtMSkgYnl0ZXMucHVzaCgweEVGLCAweEJGLCAweEJEKVxuICAgIH1cblxuICAgIGxlYWRTdXJyb2dhdGUgPSBudWxsXG5cbiAgICAvLyBlbmNvZGUgdXRmOFxuICAgIGlmIChjb2RlUG9pbnQgPCAweDgwKSB7XG4gICAgICBpZiAoKHVuaXRzIC09IDEpIDwgMCkgYnJlYWtcbiAgICAgIGJ5dGVzLnB1c2goY29kZVBvaW50KVxuICAgIH0gZWxzZSBpZiAoY29kZVBvaW50IDwgMHg4MDApIHtcbiAgICAgIGlmICgodW5pdHMgLT0gMikgPCAwKSBicmVha1xuICAgICAgYnl0ZXMucHVzaChcbiAgICAgICAgY29kZVBvaW50ID4+IDB4NiB8IDB4QzAsXG4gICAgICAgIGNvZGVQb2ludCAmIDB4M0YgfCAweDgwXG4gICAgICApXG4gICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPCAweDEwMDAwKSB7XG4gICAgICBpZiAoKHVuaXRzIC09IDMpIDwgMCkgYnJlYWtcbiAgICAgIGJ5dGVzLnB1c2goXG4gICAgICAgIGNvZGVQb2ludCA+PiAweEMgfCAweEUwLFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHg2ICYgMHgzRiB8IDB4ODAsXG4gICAgICAgIGNvZGVQb2ludCAmIDB4M0YgfCAweDgwXG4gICAgICApXG4gICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPCAweDExMDAwMCkge1xuICAgICAgaWYgKCh1bml0cyAtPSA0KSA8IDApIGJyZWFrXG4gICAgICBieXRlcy5wdXNoKFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHgxMiB8IDB4RjAsXG4gICAgICAgIGNvZGVQb2ludCA+PiAweEMgJiAweDNGIHwgMHg4MCxcbiAgICAgICAgY29kZVBvaW50ID4+IDB4NiAmIDB4M0YgfCAweDgwLFxuICAgICAgICBjb2RlUG9pbnQgJiAweDNGIHwgMHg4MFxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgY29kZSBwb2ludCcpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGJ5dGVzXG59XG5cbmZ1bmN0aW9uIGFzY2lpVG9CeXRlcyAoc3RyKSB7XG4gIHZhciBieXRlQXJyYXkgPSBbXVxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7ICsraSkge1xuICAgIC8vIE5vZGUncyBjb2RlIHNlZW1zIHRvIGJlIGRvaW5nIHRoaXMgYW5kIG5vdCAmIDB4N0YuLlxuICAgIGJ5dGVBcnJheS5wdXNoKHN0ci5jaGFyQ29kZUF0KGkpICYgMHhGRilcbiAgfVxuICByZXR1cm4gYnl0ZUFycmF5XG59XG5cbmZ1bmN0aW9uIHV0ZjE2bGVUb0J5dGVzIChzdHIsIHVuaXRzKSB7XG4gIHZhciBjLCBoaSwgbG9cbiAgdmFyIGJ5dGVBcnJheSA9IFtdXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgKytpKSB7XG4gICAgaWYgKCh1bml0cyAtPSAyKSA8IDApIGJyZWFrXG5cbiAgICBjID0gc3RyLmNoYXJDb2RlQXQoaSlcbiAgICBoaSA9IGMgPj4gOFxuICAgIGxvID0gYyAlIDI1NlxuICAgIGJ5dGVBcnJheS5wdXNoKGxvKVxuICAgIGJ5dGVBcnJheS5wdXNoKGhpKVxuICB9XG5cbiAgcmV0dXJuIGJ5dGVBcnJheVxufVxuXG5mdW5jdGlvbiBiYXNlNjRUb0J5dGVzIChzdHIpIHtcbiAgcmV0dXJuIGJhc2U2NC50b0J5dGVBcnJheShiYXNlNjRjbGVhbihzdHIpKVxufVxuXG5mdW5jdGlvbiBibGl0QnVmZmVyIChzcmMsIGRzdCwgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgIGlmICgoaSArIG9mZnNldCA+PSBkc3QubGVuZ3RoKSB8fCAoaSA+PSBzcmMubGVuZ3RoKSkgYnJlYWtcbiAgICBkc3RbaSArIG9mZnNldF0gPSBzcmNbaV1cbiAgfVxuICByZXR1cm4gaVxufVxuXG5mdW5jdGlvbiBpc25hbiAodmFsKSB7XG4gIHJldHVybiB2YWwgIT09IHZhbCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXNlbGYtY29tcGFyZVxufVxuIiwiJ3VzZSBzdHJpY3QnXG5cbmV4cG9ydHMuYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGhcbmV4cG9ydHMudG9CeXRlQXJyYXkgPSB0b0J5dGVBcnJheVxuZXhwb3J0cy5mcm9tQnl0ZUFycmF5ID0gZnJvbUJ5dGVBcnJheVxuXG52YXIgbG9va3VwID0gW11cbnZhciByZXZMb29rdXAgPSBbXVxudmFyIEFyciA9IHR5cGVvZiBVaW50OEFycmF5ICE9PSAndW5kZWZpbmVkJyA/IFVpbnQ4QXJyYXkgOiBBcnJheVxuXG52YXIgY29kZSA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvJ1xuZm9yICh2YXIgaSA9IDAsIGxlbiA9IGNvZGUubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcbiAgbG9va3VwW2ldID0gY29kZVtpXVxuICByZXZMb29rdXBbY29kZS5jaGFyQ29kZUF0KGkpXSA9IGlcbn1cblxuLy8gU3VwcG9ydCBkZWNvZGluZyBVUkwtc2FmZSBiYXNlNjQgc3RyaW5ncywgYXMgTm9kZS5qcyBkb2VzLlxuLy8gU2VlOiBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9CYXNlNjQjVVJMX2FwcGxpY2F0aW9uc1xucmV2TG9va3VwWyctJy5jaGFyQ29kZUF0KDApXSA9IDYyXG5yZXZMb29rdXBbJ18nLmNoYXJDb2RlQXQoMCldID0gNjNcblxuZnVuY3Rpb24gZ2V0TGVucyAoYjY0KSB7XG4gIHZhciBsZW4gPSBiNjQubGVuZ3RoXG5cbiAgaWYgKGxlbiAlIDQgPiAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHN0cmluZy4gTGVuZ3RoIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA0JylcbiAgfVxuXG4gIC8vIFRyaW0gb2ZmIGV4dHJhIGJ5dGVzIGFmdGVyIHBsYWNlaG9sZGVyIGJ5dGVzIGFyZSBmb3VuZFxuICAvLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9iZWF0Z2FtbWl0L2Jhc2U2NC1qcy9pc3N1ZXMvNDJcbiAgdmFyIHZhbGlkTGVuID0gYjY0LmluZGV4T2YoJz0nKVxuICBpZiAodmFsaWRMZW4gPT09IC0xKSB2YWxpZExlbiA9IGxlblxuXG4gIHZhciBwbGFjZUhvbGRlcnNMZW4gPSB2YWxpZExlbiA9PT0gbGVuXG4gICAgPyAwXG4gICAgOiA0IC0gKHZhbGlkTGVuICUgNClcblxuICByZXR1cm4gW3ZhbGlkTGVuLCBwbGFjZUhvbGRlcnNMZW5dXG59XG5cbi8vIGJhc2U2NCBpcyA0LzMgKyB1cCB0byB0d28gY2hhcmFjdGVycyBvZiB0aGUgb3JpZ2luYWwgZGF0YVxuZnVuY3Rpb24gYnl0ZUxlbmd0aCAoYjY0KSB7XG4gIHZhciBsZW5zID0gZ2V0TGVucyhiNjQpXG4gIHZhciB2YWxpZExlbiA9IGxlbnNbMF1cbiAgdmFyIHBsYWNlSG9sZGVyc0xlbiA9IGxlbnNbMV1cbiAgcmV0dXJuICgodmFsaWRMZW4gKyBwbGFjZUhvbGRlcnNMZW4pICogMyAvIDQpIC0gcGxhY2VIb2xkZXJzTGVuXG59XG5cbmZ1bmN0aW9uIF9ieXRlTGVuZ3RoIChiNjQsIHZhbGlkTGVuLCBwbGFjZUhvbGRlcnNMZW4pIHtcbiAgcmV0dXJuICgodmFsaWRMZW4gKyBwbGFjZUhvbGRlcnNMZW4pICogMyAvIDQpIC0gcGxhY2VIb2xkZXJzTGVuXG59XG5cbmZ1bmN0aW9uIHRvQnl0ZUFycmF5IChiNjQpIHtcbiAgdmFyIHRtcFxuICB2YXIgbGVucyA9IGdldExlbnMoYjY0KVxuICB2YXIgdmFsaWRMZW4gPSBsZW5zWzBdXG4gIHZhciBwbGFjZUhvbGRlcnNMZW4gPSBsZW5zWzFdXG5cbiAgdmFyIGFyciA9IG5ldyBBcnIoX2J5dGVMZW5ndGgoYjY0LCB2YWxpZExlbiwgcGxhY2VIb2xkZXJzTGVuKSlcblxuICB2YXIgY3VyQnl0ZSA9IDBcblxuICAvLyBpZiB0aGVyZSBhcmUgcGxhY2Vob2xkZXJzLCBvbmx5IGdldCB1cCB0byB0aGUgbGFzdCBjb21wbGV0ZSA0IGNoYXJzXG4gIHZhciBsZW4gPSBwbGFjZUhvbGRlcnNMZW4gPiAwXG4gICAgPyB2YWxpZExlbiAtIDRcbiAgICA6IHZhbGlkTGVuXG5cbiAgdmFyIGlcbiAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSArPSA0KSB7XG4gICAgdG1wID1cbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSldIDw8IDE4KSB8XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAxKV0gPDwgMTIpIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDIpXSA8PCA2KSB8XG4gICAgICByZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDMpXVxuICAgIGFycltjdXJCeXRlKytdID0gKHRtcCA+PiAxNikgJiAweEZGXG4gICAgYXJyW2N1ckJ5dGUrK10gPSAodG1wID4+IDgpICYgMHhGRlxuICAgIGFycltjdXJCeXRlKytdID0gdG1wICYgMHhGRlxuICB9XG5cbiAgaWYgKHBsYWNlSG9sZGVyc0xlbiA9PT0gMikge1xuICAgIHRtcCA9XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkpXSA8PCAyKSB8XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAxKV0gPj4gNClcbiAgICBhcnJbY3VyQnl0ZSsrXSA9IHRtcCAmIDB4RkZcbiAgfVxuXG4gIGlmIChwbGFjZUhvbGRlcnNMZW4gPT09IDEpIHtcbiAgICB0bXAgPVxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpKV0gPDwgMTApIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDEpXSA8PCA0KSB8XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAyKV0gPj4gMilcbiAgICBhcnJbY3VyQnl0ZSsrXSA9ICh0bXAgPj4gOCkgJiAweEZGXG4gICAgYXJyW2N1ckJ5dGUrK10gPSB0bXAgJiAweEZGXG4gIH1cblxuICByZXR1cm4gYXJyXG59XG5cbmZ1bmN0aW9uIHRyaXBsZXRUb0Jhc2U2NCAobnVtKSB7XG4gIHJldHVybiBsb29rdXBbbnVtID4+IDE4ICYgMHgzRl0gK1xuICAgIGxvb2t1cFtudW0gPj4gMTIgJiAweDNGXSArXG4gICAgbG9va3VwW251bSA+PiA2ICYgMHgzRl0gK1xuICAgIGxvb2t1cFtudW0gJiAweDNGXVxufVxuXG5mdW5jdGlvbiBlbmNvZGVDaHVuayAodWludDgsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIHRtcFxuICB2YXIgb3V0cHV0ID0gW11cbiAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyBpICs9IDMpIHtcbiAgICB0bXAgPVxuICAgICAgKCh1aW50OFtpXSA8PCAxNikgJiAweEZGMDAwMCkgK1xuICAgICAgKCh1aW50OFtpICsgMV0gPDwgOCkgJiAweEZGMDApICtcbiAgICAgICh1aW50OFtpICsgMl0gJiAweEZGKVxuICAgIG91dHB1dC5wdXNoKHRyaXBsZXRUb0Jhc2U2NCh0bXApKVxuICB9XG4gIHJldHVybiBvdXRwdXQuam9pbignJylcbn1cblxuZnVuY3Rpb24gZnJvbUJ5dGVBcnJheSAodWludDgpIHtcbiAgdmFyIHRtcFxuICB2YXIgbGVuID0gdWludDgubGVuZ3RoXG4gIHZhciBleHRyYUJ5dGVzID0gbGVuICUgMyAvLyBpZiB3ZSBoYXZlIDEgYnl0ZSBsZWZ0LCBwYWQgMiBieXRlc1xuICB2YXIgcGFydHMgPSBbXVxuICB2YXIgbWF4Q2h1bmtMZW5ndGggPSAxNjM4MyAvLyBtdXN0IGJlIG11bHRpcGxlIG9mIDNcblxuICAvLyBnbyB0aHJvdWdoIHRoZSBhcnJheSBldmVyeSB0aHJlZSBieXRlcywgd2UnbGwgZGVhbCB3aXRoIHRyYWlsaW5nIHN0dWZmIGxhdGVyXG4gIGZvciAodmFyIGkgPSAwLCBsZW4yID0gbGVuIC0gZXh0cmFCeXRlczsgaSA8IGxlbjI7IGkgKz0gbWF4Q2h1bmtMZW5ndGgpIHtcbiAgICBwYXJ0cy5wdXNoKGVuY29kZUNodW5rKFxuICAgICAgdWludDgsIGksIChpICsgbWF4Q2h1bmtMZW5ndGgpID4gbGVuMiA/IGxlbjIgOiAoaSArIG1heENodW5rTGVuZ3RoKVxuICAgICkpXG4gIH1cblxuICAvLyBwYWQgdGhlIGVuZCB3aXRoIHplcm9zLCBidXQgbWFrZSBzdXJlIHRvIG5vdCBmb3JnZXQgdGhlIGV4dHJhIGJ5dGVzXG4gIGlmIChleHRyYUJ5dGVzID09PSAxKSB7XG4gICAgdG1wID0gdWludDhbbGVuIC0gMV1cbiAgICBwYXJ0cy5wdXNoKFxuICAgICAgbG9va3VwW3RtcCA+PiAyXSArXG4gICAgICBsb29rdXBbKHRtcCA8PCA0KSAmIDB4M0ZdICtcbiAgICAgICc9PSdcbiAgICApXG4gIH0gZWxzZSBpZiAoZXh0cmFCeXRlcyA9PT0gMikge1xuICAgIHRtcCA9ICh1aW50OFtsZW4gLSAyXSA8PCA4KSArIHVpbnQ4W2xlbiAtIDFdXG4gICAgcGFydHMucHVzaChcbiAgICAgIGxvb2t1cFt0bXAgPj4gMTBdICtcbiAgICAgIGxvb2t1cFsodG1wID4+IDQpICYgMHgzRl0gK1xuICAgICAgbG9va3VwWyh0bXAgPDwgMikgJiAweDNGXSArXG4gICAgICAnPSdcbiAgICApXG4gIH1cblxuICByZXR1cm4gcGFydHMuam9pbignJylcbn1cbiIsImV4cG9ydHMucmVhZCA9IGZ1bmN0aW9uIChidWZmZXIsIG9mZnNldCwgaXNMRSwgbUxlbiwgbkJ5dGVzKSB7XG4gIHZhciBlLCBtXG4gIHZhciBlTGVuID0gKG5CeXRlcyAqIDgpIC0gbUxlbiAtIDFcbiAgdmFyIGVNYXggPSAoMSA8PCBlTGVuKSAtIDFcbiAgdmFyIGVCaWFzID0gZU1heCA+PiAxXG4gIHZhciBuQml0cyA9IC03XG4gIHZhciBpID0gaXNMRSA/IChuQnl0ZXMgLSAxKSA6IDBcbiAgdmFyIGQgPSBpc0xFID8gLTEgOiAxXG4gIHZhciBzID0gYnVmZmVyW29mZnNldCArIGldXG5cbiAgaSArPSBkXG5cbiAgZSA9IHMgJiAoKDEgPDwgKC1uQml0cykpIC0gMSlcbiAgcyA+Pj0gKC1uQml0cylcbiAgbkJpdHMgKz0gZUxlblxuICBmb3IgKDsgbkJpdHMgPiAwOyBlID0gKGUgKiAyNTYpICsgYnVmZmVyW29mZnNldCArIGldLCBpICs9IGQsIG5CaXRzIC09IDgpIHt9XG5cbiAgbSA9IGUgJiAoKDEgPDwgKC1uQml0cykpIC0gMSlcbiAgZSA+Pj0gKC1uQml0cylcbiAgbkJpdHMgKz0gbUxlblxuICBmb3IgKDsgbkJpdHMgPiAwOyBtID0gKG0gKiAyNTYpICsgYnVmZmVyW29mZnNldCArIGldLCBpICs9IGQsIG5CaXRzIC09IDgpIHt9XG5cbiAgaWYgKGUgPT09IDApIHtcbiAgICBlID0gMSAtIGVCaWFzXG4gIH0gZWxzZSBpZiAoZSA9PT0gZU1heCkge1xuICAgIHJldHVybiBtID8gTmFOIDogKChzID8gLTEgOiAxKSAqIEluZmluaXR5KVxuICB9IGVsc2Uge1xuICAgIG0gPSBtICsgTWF0aC5wb3coMiwgbUxlbilcbiAgICBlID0gZSAtIGVCaWFzXG4gIH1cbiAgcmV0dXJuIChzID8gLTEgOiAxKSAqIG0gKiBNYXRoLnBvdygyLCBlIC0gbUxlbilcbn1cblxuZXhwb3J0cy53cml0ZSA9IGZ1bmN0aW9uIChidWZmZXIsIHZhbHVlLCBvZmZzZXQsIGlzTEUsIG1MZW4sIG5CeXRlcykge1xuICB2YXIgZSwgbSwgY1xuICB2YXIgZUxlbiA9IChuQnl0ZXMgKiA4KSAtIG1MZW4gLSAxXG4gIHZhciBlTWF4ID0gKDEgPDwgZUxlbikgLSAxXG4gIHZhciBlQmlhcyA9IGVNYXggPj4gMVxuICB2YXIgcnQgPSAobUxlbiA9PT0gMjMgPyBNYXRoLnBvdygyLCAtMjQpIC0gTWF0aC5wb3coMiwgLTc3KSA6IDApXG4gIHZhciBpID0gaXNMRSA/IDAgOiAobkJ5dGVzIC0gMSlcbiAgdmFyIGQgPSBpc0xFID8gMSA6IC0xXG4gIHZhciBzID0gdmFsdWUgPCAwIHx8ICh2YWx1ZSA9PT0gMCAmJiAxIC8gdmFsdWUgPCAwKSA/IDEgOiAwXG5cbiAgdmFsdWUgPSBNYXRoLmFicyh2YWx1ZSlcblxuICBpZiAoaXNOYU4odmFsdWUpIHx8IHZhbHVlID09PSBJbmZpbml0eSkge1xuICAgIG0gPSBpc05hTih2YWx1ZSkgPyAxIDogMFxuICAgIGUgPSBlTWF4XG4gIH0gZWxzZSB7XG4gICAgZSA9IE1hdGguZmxvb3IoTWF0aC5sb2codmFsdWUpIC8gTWF0aC5MTjIpXG4gICAgaWYgKHZhbHVlICogKGMgPSBNYXRoLnBvdygyLCAtZSkpIDwgMSkge1xuICAgICAgZS0tXG4gICAgICBjICo9IDJcbiAgICB9XG4gICAgaWYgKGUgKyBlQmlhcyA+PSAxKSB7XG4gICAgICB2YWx1ZSArPSBydCAvIGNcbiAgICB9IGVsc2Uge1xuICAgICAgdmFsdWUgKz0gcnQgKiBNYXRoLnBvdygyLCAxIC0gZUJpYXMpXG4gICAgfVxuICAgIGlmICh2YWx1ZSAqIGMgPj0gMikge1xuICAgICAgZSsrXG4gICAgICBjIC89IDJcbiAgICB9XG5cbiAgICBpZiAoZSArIGVCaWFzID49IGVNYXgpIHtcbiAgICAgIG0gPSAwXG4gICAgICBlID0gZU1heFxuICAgIH0gZWxzZSBpZiAoZSArIGVCaWFzID49IDEpIHtcbiAgICAgIG0gPSAoKHZhbHVlICogYykgLSAxKSAqIE1hdGgucG93KDIsIG1MZW4pXG4gICAgICBlID0gZSArIGVCaWFzXG4gICAgfSBlbHNlIHtcbiAgICAgIG0gPSB2YWx1ZSAqIE1hdGgucG93KDIsIGVCaWFzIC0gMSkgKiBNYXRoLnBvdygyLCBtTGVuKVxuICAgICAgZSA9IDBcbiAgICB9XG4gIH1cblxuICBmb3IgKDsgbUxlbiA+PSA4OyBidWZmZXJbb2Zmc2V0ICsgaV0gPSBtICYgMHhmZiwgaSArPSBkLCBtIC89IDI1NiwgbUxlbiAtPSA4KSB7fVxuXG4gIGUgPSAoZSA8PCBtTGVuKSB8IG1cbiAgZUxlbiArPSBtTGVuXG4gIGZvciAoOyBlTGVuID4gMDsgYnVmZmVyW29mZnNldCArIGldID0gZSAmIDB4ZmYsIGkgKz0gZCwgZSAvPSAyNTYsIGVMZW4gLT0gOCkge31cblxuICBidWZmZXJbb2Zmc2V0ICsgaSAtIGRdIHw9IHMgKiAxMjhcbn1cbiIsInZhciB0b1N0cmluZyA9IHt9LnRvU3RyaW5nO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gKGFycikge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbChhcnIpID09ICdbb2JqZWN0IEFycmF5XSc7XG59O1xuIiwiLypcclxuQXV0aG9yOiBHZXJhaW50IEx1ZmYgYW5kIG90aGVyc1xyXG5ZZWFyOiAyMDEzXHJcblxyXG5UaGlzIGNvZGUgaXMgcmVsZWFzZWQgaW50byB0aGUgXCJwdWJsaWMgZG9tYWluXCIgYnkgaXRzIGF1dGhvcihzKS4gIEFueWJvZHkgbWF5IHVzZSwgYWx0ZXIgYW5kIGRpc3RyaWJ1dGUgdGhlIGNvZGUgd2l0aG91dCByZXN0cmljdGlvbi4gIFRoZSBhdXRob3IgbWFrZXMgbm8gZ3VhcmFudGVlcywgYW5kIHRha2VzIG5vIGxpYWJpbGl0eSBvZiBhbnkga2luZCBmb3IgdXNlIG9mIHRoaXMgY29kZS5cclxuXHJcbklmIHlvdSBmaW5kIGEgYnVnIG9yIG1ha2UgYW4gaW1wcm92ZW1lbnQsIGl0IHdvdWxkIGJlIGNvdXJ0ZW91cyB0byBsZXQgdGhlIGF1dGhvciBrbm93LCBidXQgaXQgaXMgbm90IGNvbXB1bHNvcnkuXHJcbiovXHJcbihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XHJcbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xyXG4gICAgLy8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLlxyXG4gICAgZGVmaW5lKFtdLCBmYWN0b3J5KTtcclxuICB9IGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKXtcclxuICAgIC8vIENvbW1vbkpTLiBEZWZpbmUgZXhwb3J0LlxyXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XHJcbiAgfSBlbHNlIHtcclxuICAgIC8vIEJyb3dzZXIgZ2xvYmFsc1xyXG4gICAgZ2xvYmFsLnR2NCA9IGZhY3RvcnkoKTtcclxuICB9XHJcbn0odGhpcywgZnVuY3Rpb24gKCkge1xyXG5cclxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L2tleXM/cmVkaXJlY3Rsb2NhbGU9ZW4tVVMmcmVkaXJlY3RzbHVnPUphdmFTY3JpcHQlMkZSZWZlcmVuY2UlMkZHbG9iYWxfT2JqZWN0cyUyRk9iamVjdCUyRmtleXNcclxuaWYgKCFPYmplY3Qua2V5cykge1xyXG5cdE9iamVjdC5rZXlzID0gKGZ1bmN0aW9uICgpIHtcclxuXHRcdHZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksXHJcblx0XHRcdGhhc0RvbnRFbnVtQnVnID0gISh7dG9TdHJpbmc6IG51bGx9KS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgndG9TdHJpbmcnKSxcclxuXHRcdFx0ZG9udEVudW1zID0gW1xyXG5cdFx0XHRcdCd0b1N0cmluZycsXHJcblx0XHRcdFx0J3RvTG9jYWxlU3RyaW5nJyxcclxuXHRcdFx0XHQndmFsdWVPZicsXHJcblx0XHRcdFx0J2hhc093blByb3BlcnR5JyxcclxuXHRcdFx0XHQnaXNQcm90b3R5cGVPZicsXHJcblx0XHRcdFx0J3Byb3BlcnR5SXNFbnVtZXJhYmxlJyxcclxuXHRcdFx0XHQnY29uc3RydWN0b3InXHJcblx0XHRcdF0sXHJcblx0XHRcdGRvbnRFbnVtc0xlbmd0aCA9IGRvbnRFbnVtcy5sZW5ndGg7XHJcblxyXG5cdFx0cmV0dXJuIGZ1bmN0aW9uIChvYmopIHtcclxuXHRcdFx0aWYgKHR5cGVvZiBvYmogIT09ICdvYmplY3QnICYmIHR5cGVvZiBvYmogIT09ICdmdW5jdGlvbicgfHwgb2JqID09PSBudWxsKSB7XHJcblx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignT2JqZWN0LmtleXMgY2FsbGVkIG9uIG5vbi1vYmplY3QnKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dmFyIHJlc3VsdCA9IFtdO1xyXG5cclxuXHRcdFx0Zm9yICh2YXIgcHJvcCBpbiBvYmopIHtcclxuXHRcdFx0XHRpZiAoaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSB7XHJcblx0XHRcdFx0XHRyZXN1bHQucHVzaChwcm9wKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmIChoYXNEb250RW51bUJ1Zykge1xyXG5cdFx0XHRcdGZvciAodmFyIGk9MDsgaSA8IGRvbnRFbnVtc0xlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0XHRpZiAoaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGRvbnRFbnVtc1tpXSkpIHtcclxuXHRcdFx0XHRcdFx0cmVzdWx0LnB1c2goZG9udEVudW1zW2ldKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIHJlc3VsdDtcclxuXHRcdH07XHJcblx0fSkoKTtcclxufVxyXG4vLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvY3JlYXRlXHJcbmlmICghT2JqZWN0LmNyZWF0ZSkge1xyXG5cdE9iamVjdC5jcmVhdGUgPSAoZnVuY3Rpb24oKXtcclxuXHRcdGZ1bmN0aW9uIEYoKXt9XHJcblxyXG5cdFx0cmV0dXJuIGZ1bmN0aW9uKG8pe1xyXG5cdFx0XHRpZiAoYXJndW1lbnRzLmxlbmd0aCAhPT0gMSkge1xyXG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcignT2JqZWN0LmNyZWF0ZSBpbXBsZW1lbnRhdGlvbiBvbmx5IGFjY2VwdHMgb25lIHBhcmFtZXRlci4nKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRGLnByb3RvdHlwZSA9IG87XHJcblx0XHRcdHJldHVybiBuZXcgRigpO1xyXG5cdFx0fTtcclxuXHR9KSgpO1xyXG59XHJcbi8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L2lzQXJyYXk/cmVkaXJlY3Rsb2NhbGU9ZW4tVVMmcmVkaXJlY3RzbHVnPUphdmFTY3JpcHQlMkZSZWZlcmVuY2UlMkZHbG9iYWxfT2JqZWN0cyUyRkFycmF5JTJGaXNBcnJheVxyXG5pZighQXJyYXkuaXNBcnJheSkge1xyXG5cdEFycmF5LmlzQXJyYXkgPSBmdW5jdGlvbiAodkFyZykge1xyXG5cdFx0cmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2QXJnKSA9PT0gXCJbb2JqZWN0IEFycmF5XVwiO1xyXG5cdH07XHJcbn1cclxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvaW5kZXhPZj9yZWRpcmVjdGxvY2FsZT1lbi1VUyZyZWRpcmVjdHNsdWc9SmF2YVNjcmlwdCUyRlJlZmVyZW5jZSUyRkdsb2JhbF9PYmplY3RzJTJGQXJyYXklMkZpbmRleE9mXHJcbmlmICghQXJyYXkucHJvdG90eXBlLmluZGV4T2YpIHtcclxuXHRBcnJheS5wcm90b3R5cGUuaW5kZXhPZiA9IGZ1bmN0aW9uIChzZWFyY2hFbGVtZW50IC8qLCBmcm9tSW5kZXggKi8gKSB7XHJcblx0XHRpZiAodGhpcyA9PT0gbnVsbCkge1xyXG5cdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCk7XHJcblx0XHR9XHJcblx0XHR2YXIgdCA9IE9iamVjdCh0aGlzKTtcclxuXHRcdHZhciBsZW4gPSB0Lmxlbmd0aCA+Pj4gMDtcclxuXHJcblx0XHRpZiAobGVuID09PSAwKSB7XHJcblx0XHRcdHJldHVybiAtMTtcclxuXHRcdH1cclxuXHRcdHZhciBuID0gMDtcclxuXHRcdGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xyXG5cdFx0XHRuID0gTnVtYmVyKGFyZ3VtZW50c1sxXSk7XHJcblx0XHRcdGlmIChuICE9PSBuKSB7IC8vIHNob3J0Y3V0IGZvciB2ZXJpZnlpbmcgaWYgaXQncyBOYU5cclxuXHRcdFx0XHRuID0gMDtcclxuXHRcdFx0fSBlbHNlIGlmIChuICE9PSAwICYmIG4gIT09IEluZmluaXR5ICYmIG4gIT09IC1JbmZpbml0eSkge1xyXG5cdFx0XHRcdG4gPSAobiA+IDAgfHwgLTEpICogTWF0aC5mbG9vcihNYXRoLmFicyhuKSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdGlmIChuID49IGxlbikge1xyXG5cdFx0XHRyZXR1cm4gLTE7XHJcblx0XHR9XHJcblx0XHR2YXIgayA9IG4gPj0gMCA/IG4gOiBNYXRoLm1heChsZW4gLSBNYXRoLmFicyhuKSwgMCk7XHJcblx0XHRmb3IgKDsgayA8IGxlbjsgaysrKSB7XHJcblx0XHRcdGlmIChrIGluIHQgJiYgdFtrXSA9PT0gc2VhcmNoRWxlbWVudCkge1xyXG5cdFx0XHRcdHJldHVybiBrO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gLTE7XHJcblx0fTtcclxufVxyXG5cclxuLy8gR3J1bmdleSBPYmplY3QuaXNGcm96ZW4gaGFja1xyXG5pZiAoIU9iamVjdC5pc0Zyb3plbikge1xyXG5cdE9iamVjdC5pc0Zyb3plbiA9IGZ1bmN0aW9uIChvYmopIHtcclxuXHRcdHZhciBrZXkgPSBcInR2NF90ZXN0X2Zyb3plbl9rZXlcIjtcclxuXHRcdHdoaWxlIChvYmouaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG5cdFx0XHRrZXkgKz0gTWF0aC5yYW5kb20oKTtcclxuXHRcdH1cclxuXHRcdHRyeSB7XHJcblx0XHRcdG9ialtrZXldID0gdHJ1ZTtcclxuXHRcdFx0ZGVsZXRlIG9ialtrZXldO1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9IGNhdGNoIChlKSB7XHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0fVxyXG5cdH07XHJcbn1cclxuLy8gQmFzZWQgb246IGh0dHBzOi8vZ2l0aHViLmNvbS9nZXJhaW50bHVmZi91cmktdGVtcGxhdGVzLCBidXQgd2l0aCBhbGwgdGhlIGRlLXN1YnN0aXR1dGlvbiBzdHVmZiByZW1vdmVkXHJcblxyXG52YXIgdXJpVGVtcGxhdGVHbG9iYWxNb2RpZmllcnMgPSB7XHJcblx0XCIrXCI6IHRydWUsXHJcblx0XCIjXCI6IHRydWUsXHJcblx0XCIuXCI6IHRydWUsXHJcblx0XCIvXCI6IHRydWUsXHJcblx0XCI7XCI6IHRydWUsXHJcblx0XCI/XCI6IHRydWUsXHJcblx0XCImXCI6IHRydWVcclxufTtcclxudmFyIHVyaVRlbXBsYXRlU3VmZmljZXMgPSB7XHJcblx0XCIqXCI6IHRydWVcclxufTtcclxuXHJcbmZ1bmN0aW9uIG5vdFJlYWxseVBlcmNlbnRFbmNvZGUoc3RyaW5nKSB7XHJcblx0cmV0dXJuIGVuY29kZVVSSShzdHJpbmcpLnJlcGxhY2UoLyUyNVswLTldWzAtOV0vZywgZnVuY3Rpb24gKGRvdWJsZUVuY29kZWQpIHtcclxuXHRcdHJldHVybiBcIiVcIiArIGRvdWJsZUVuY29kZWQuc3Vic3RyaW5nKDMpO1xyXG5cdH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiB1cmlUZW1wbGF0ZVN1YnN0aXR1dGlvbihzcGVjKSB7XHJcblx0dmFyIG1vZGlmaWVyID0gXCJcIjtcclxuXHRpZiAodXJpVGVtcGxhdGVHbG9iYWxNb2RpZmllcnNbc3BlYy5jaGFyQXQoMCldKSB7XHJcblx0XHRtb2RpZmllciA9IHNwZWMuY2hhckF0KDApO1xyXG5cdFx0c3BlYyA9IHNwZWMuc3Vic3RyaW5nKDEpO1xyXG5cdH1cclxuXHR2YXIgc2VwYXJhdG9yID0gXCJcIjtcclxuXHR2YXIgcHJlZml4ID0gXCJcIjtcclxuXHR2YXIgc2hvdWxkRXNjYXBlID0gdHJ1ZTtcclxuXHR2YXIgc2hvd1ZhcmlhYmxlcyA9IGZhbHNlO1xyXG5cdHZhciB0cmltRW1wdHlTdHJpbmcgPSBmYWxzZTtcclxuXHRpZiAobW9kaWZpZXIgPT09ICcrJykge1xyXG5cdFx0c2hvdWxkRXNjYXBlID0gZmFsc2U7XHJcblx0fSBlbHNlIGlmIChtb2RpZmllciA9PT0gXCIuXCIpIHtcclxuXHRcdHByZWZpeCA9IFwiLlwiO1xyXG5cdFx0c2VwYXJhdG9yID0gXCIuXCI7XHJcblx0fSBlbHNlIGlmIChtb2RpZmllciA9PT0gXCIvXCIpIHtcclxuXHRcdHByZWZpeCA9IFwiL1wiO1xyXG5cdFx0c2VwYXJhdG9yID0gXCIvXCI7XHJcblx0fSBlbHNlIGlmIChtb2RpZmllciA9PT0gJyMnKSB7XHJcblx0XHRwcmVmaXggPSBcIiNcIjtcclxuXHRcdHNob3VsZEVzY2FwZSA9IGZhbHNlO1xyXG5cdH0gZWxzZSBpZiAobW9kaWZpZXIgPT09ICc7Jykge1xyXG5cdFx0cHJlZml4ID0gXCI7XCI7XHJcblx0XHRzZXBhcmF0b3IgPSBcIjtcIjtcclxuXHRcdHNob3dWYXJpYWJsZXMgPSB0cnVlO1xyXG5cdFx0dHJpbUVtcHR5U3RyaW5nID0gdHJ1ZTtcclxuXHR9IGVsc2UgaWYgKG1vZGlmaWVyID09PSAnPycpIHtcclxuXHRcdHByZWZpeCA9IFwiP1wiO1xyXG5cdFx0c2VwYXJhdG9yID0gXCImXCI7XHJcblx0XHRzaG93VmFyaWFibGVzID0gdHJ1ZTtcclxuXHR9IGVsc2UgaWYgKG1vZGlmaWVyID09PSAnJicpIHtcclxuXHRcdHByZWZpeCA9IFwiJlwiO1xyXG5cdFx0c2VwYXJhdG9yID0gXCImXCI7XHJcblx0XHRzaG93VmFyaWFibGVzID0gdHJ1ZTtcclxuXHR9XHJcblxyXG5cdHZhciB2YXJOYW1lcyA9IFtdO1xyXG5cdHZhciB2YXJMaXN0ID0gc3BlYy5zcGxpdChcIixcIik7XHJcblx0dmFyIHZhclNwZWNzID0gW107XHJcblx0dmFyIHZhclNwZWNNYXAgPSB7fTtcclxuXHRmb3IgKHZhciBpID0gMDsgaSA8IHZhckxpc3QubGVuZ3RoOyBpKyspIHtcclxuXHRcdHZhciB2YXJOYW1lID0gdmFyTGlzdFtpXTtcclxuXHRcdHZhciB0cnVuY2F0ZSA9IG51bGw7XHJcblx0XHRpZiAodmFyTmFtZS5pbmRleE9mKFwiOlwiKSAhPT0gLTEpIHtcclxuXHRcdFx0dmFyIHBhcnRzID0gdmFyTmFtZS5zcGxpdChcIjpcIik7XHJcblx0XHRcdHZhck5hbWUgPSBwYXJ0c1swXTtcclxuXHRcdFx0dHJ1bmNhdGUgPSBwYXJzZUludChwYXJ0c1sxXSwgMTApO1xyXG5cdFx0fVxyXG5cdFx0dmFyIHN1ZmZpY2VzID0ge307XHJcblx0XHR3aGlsZSAodXJpVGVtcGxhdGVTdWZmaWNlc1t2YXJOYW1lLmNoYXJBdCh2YXJOYW1lLmxlbmd0aCAtIDEpXSkge1xyXG5cdFx0XHRzdWZmaWNlc1t2YXJOYW1lLmNoYXJBdCh2YXJOYW1lLmxlbmd0aCAtIDEpXSA9IHRydWU7XHJcblx0XHRcdHZhck5hbWUgPSB2YXJOYW1lLnN1YnN0cmluZygwLCB2YXJOYW1lLmxlbmd0aCAtIDEpO1xyXG5cdFx0fVxyXG5cdFx0dmFyIHZhclNwZWMgPSB7XHJcblx0XHRcdHRydW5jYXRlOiB0cnVuY2F0ZSxcclxuXHRcdFx0bmFtZTogdmFyTmFtZSxcclxuXHRcdFx0c3VmZmljZXM6IHN1ZmZpY2VzXHJcblx0XHR9O1xyXG5cdFx0dmFyU3BlY3MucHVzaCh2YXJTcGVjKTtcclxuXHRcdHZhclNwZWNNYXBbdmFyTmFtZV0gPSB2YXJTcGVjO1xyXG5cdFx0dmFyTmFtZXMucHVzaCh2YXJOYW1lKTtcclxuXHR9XHJcblx0dmFyIHN1YkZ1bmN0aW9uID0gZnVuY3Rpb24gKHZhbHVlRnVuY3Rpb24pIHtcclxuXHRcdHZhciByZXN1bHQgPSBcIlwiO1xyXG5cdFx0dmFyIHN0YXJ0SW5kZXggPSAwO1xyXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCB2YXJTcGVjcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHR2YXIgdmFyU3BlYyA9IHZhclNwZWNzW2ldO1xyXG5cdFx0XHR2YXIgdmFsdWUgPSB2YWx1ZUZ1bmN0aW9uKHZhclNwZWMubmFtZSk7XHJcblx0XHRcdGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IChBcnJheS5pc0FycmF5KHZhbHVlKSAmJiB2YWx1ZS5sZW5ndGggPT09IDApIHx8ICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIE9iamVjdC5rZXlzKHZhbHVlKS5sZW5ndGggPT09IDApKSB7XHJcblx0XHRcdFx0c3RhcnRJbmRleCsrO1xyXG5cdFx0XHRcdGNvbnRpbnVlO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmIChpID09PSBzdGFydEluZGV4KSB7XHJcblx0XHRcdFx0cmVzdWx0ICs9IHByZWZpeDtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRyZXN1bHQgKz0gKHNlcGFyYXRvciB8fCBcIixcIik7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XHJcblx0XHRcdFx0aWYgKHNob3dWYXJpYWJsZXMpIHtcclxuXHRcdFx0XHRcdHJlc3VsdCArPSB2YXJTcGVjLm5hbWUgKyBcIj1cIjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0Zm9yICh2YXIgaiA9IDA7IGogPCB2YWx1ZS5sZW5ndGg7IGorKykge1xyXG5cdFx0XHRcdFx0aWYgKGogPiAwKSB7XHJcblx0XHRcdFx0XHRcdHJlc3VsdCArPSB2YXJTcGVjLnN1ZmZpY2VzWycqJ10gPyAoc2VwYXJhdG9yIHx8IFwiLFwiKSA6IFwiLFwiO1xyXG5cdFx0XHRcdFx0XHRpZiAodmFyU3BlYy5zdWZmaWNlc1snKiddICYmIHNob3dWYXJpYWJsZXMpIHtcclxuXHRcdFx0XHRcdFx0XHRyZXN1bHQgKz0gdmFyU3BlYy5uYW1lICsgXCI9XCI7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdHJlc3VsdCArPSBzaG91bGRFc2NhcGUgPyBlbmNvZGVVUklDb21wb25lbnQodmFsdWVbal0pLnJlcGxhY2UoLyEvZywgXCIlMjFcIikgOiBub3RSZWFsbHlQZXJjZW50RW5jb2RlKHZhbHVlW2pdKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiKSB7XHJcblx0XHRcdFx0aWYgKHNob3dWYXJpYWJsZXMgJiYgIXZhclNwZWMuc3VmZmljZXNbJyonXSkge1xyXG5cdFx0XHRcdFx0cmVzdWx0ICs9IHZhclNwZWMubmFtZSArIFwiPVwiO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHR2YXIgZmlyc3QgPSB0cnVlO1xyXG5cdFx0XHRcdGZvciAodmFyIGtleSBpbiB2YWx1ZSkge1xyXG5cdFx0XHRcdFx0aWYgKCFmaXJzdCkge1xyXG5cdFx0XHRcdFx0XHRyZXN1bHQgKz0gdmFyU3BlYy5zdWZmaWNlc1snKiddID8gKHNlcGFyYXRvciB8fCBcIixcIikgOiBcIixcIjtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGZpcnN0ID0gZmFsc2U7XHJcblx0XHRcdFx0XHRyZXN1bHQgKz0gc2hvdWxkRXNjYXBlID8gZW5jb2RlVVJJQ29tcG9uZW50KGtleSkucmVwbGFjZSgvIS9nLCBcIiUyMVwiKSA6IG5vdFJlYWxseVBlcmNlbnRFbmNvZGUoa2V5KTtcclxuXHRcdFx0XHRcdHJlc3VsdCArPSB2YXJTcGVjLnN1ZmZpY2VzWycqJ10gPyAnPScgOiBcIixcIjtcclxuXHRcdFx0XHRcdHJlc3VsdCArPSBzaG91bGRFc2NhcGUgPyBlbmNvZGVVUklDb21wb25lbnQodmFsdWVba2V5XSkucmVwbGFjZSgvIS9nLCBcIiUyMVwiKSA6IG5vdFJlYWxseVBlcmNlbnRFbmNvZGUodmFsdWVba2V5XSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGlmIChzaG93VmFyaWFibGVzKSB7XHJcblx0XHRcdFx0XHRyZXN1bHQgKz0gdmFyU3BlYy5uYW1lO1xyXG5cdFx0XHRcdFx0aWYgKCF0cmltRW1wdHlTdHJpbmcgfHwgdmFsdWUgIT09IFwiXCIpIHtcclxuXHRcdFx0XHRcdFx0cmVzdWx0ICs9IFwiPVwiO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpZiAodmFyU3BlYy50cnVuY2F0ZSAhPSBudWxsKSB7XHJcblx0XHRcdFx0XHR2YWx1ZSA9IHZhbHVlLnN1YnN0cmluZygwLCB2YXJTcGVjLnRydW5jYXRlKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cmVzdWx0ICs9IHNob3VsZEVzY2FwZSA/IGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkucmVwbGFjZSgvIS9nLCBcIiUyMVwiKTogbm90UmVhbGx5UGVyY2VudEVuY29kZSh2YWx1ZSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fTtcclxuXHRzdWJGdW5jdGlvbi52YXJOYW1lcyA9IHZhck5hbWVzO1xyXG5cdHJldHVybiB7XHJcblx0XHRwcmVmaXg6IHByZWZpeCxcclxuXHRcdHN1YnN0aXR1dGlvbjogc3ViRnVuY3Rpb25cclxuXHR9O1xyXG59XHJcblxyXG5mdW5jdGlvbiBVcmlUZW1wbGF0ZSh0ZW1wbGF0ZSkge1xyXG5cdGlmICghKHRoaXMgaW5zdGFuY2VvZiBVcmlUZW1wbGF0ZSkpIHtcclxuXHRcdHJldHVybiBuZXcgVXJpVGVtcGxhdGUodGVtcGxhdGUpO1xyXG5cdH1cclxuXHR2YXIgcGFydHMgPSB0ZW1wbGF0ZS5zcGxpdChcIntcIik7XHJcblx0dmFyIHRleHRQYXJ0cyA9IFtwYXJ0cy5zaGlmdCgpXTtcclxuXHR2YXIgcHJlZml4ZXMgPSBbXTtcclxuXHR2YXIgc3Vic3RpdHV0aW9ucyA9IFtdO1xyXG5cdHZhciB2YXJOYW1lcyA9IFtdO1xyXG5cdHdoaWxlIChwYXJ0cy5sZW5ndGggPiAwKSB7XHJcblx0XHR2YXIgcGFydCA9IHBhcnRzLnNoaWZ0KCk7XHJcblx0XHR2YXIgc3BlYyA9IHBhcnQuc3BsaXQoXCJ9XCIpWzBdO1xyXG5cdFx0dmFyIHJlbWFpbmRlciA9IHBhcnQuc3Vic3RyaW5nKHNwZWMubGVuZ3RoICsgMSk7XHJcblx0XHR2YXIgZnVuY3MgPSB1cmlUZW1wbGF0ZVN1YnN0aXR1dGlvbihzcGVjKTtcclxuXHRcdHN1YnN0aXR1dGlvbnMucHVzaChmdW5jcy5zdWJzdGl0dXRpb24pO1xyXG5cdFx0cHJlZml4ZXMucHVzaChmdW5jcy5wcmVmaXgpO1xyXG5cdFx0dGV4dFBhcnRzLnB1c2gocmVtYWluZGVyKTtcclxuXHRcdHZhck5hbWVzID0gdmFyTmFtZXMuY29uY2F0KGZ1bmNzLnN1YnN0aXR1dGlvbi52YXJOYW1lcyk7XHJcblx0fVxyXG5cdHRoaXMuZmlsbCA9IGZ1bmN0aW9uICh2YWx1ZUZ1bmN0aW9uKSB7XHJcblx0XHR2YXIgcmVzdWx0ID0gdGV4dFBhcnRzWzBdO1xyXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzdWJzdGl0dXRpb25zLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHZhciBzdWJzdGl0dXRpb24gPSBzdWJzdGl0dXRpb25zW2ldO1xyXG5cdFx0XHRyZXN1bHQgKz0gc3Vic3RpdHV0aW9uKHZhbHVlRnVuY3Rpb24pO1xyXG5cdFx0XHRyZXN1bHQgKz0gdGV4dFBhcnRzW2kgKyAxXTtcclxuXHRcdH1cclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fTtcclxuXHR0aGlzLnZhck5hbWVzID0gdmFyTmFtZXM7XHJcblx0dGhpcy50ZW1wbGF0ZSA9IHRlbXBsYXRlO1xyXG59XHJcblVyaVRlbXBsYXRlLnByb3RvdHlwZSA9IHtcclxuXHR0b1N0cmluZzogZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMudGVtcGxhdGU7XHJcblx0fSxcclxuXHRmaWxsRnJvbU9iamVjdDogZnVuY3Rpb24gKG9iaikge1xyXG5cdFx0cmV0dXJuIHRoaXMuZmlsbChmdW5jdGlvbiAodmFyTmFtZSkge1xyXG5cdFx0XHRyZXR1cm4gb2JqW3Zhck5hbWVdO1xyXG5cdFx0fSk7XHJcblx0fVxyXG59O1xyXG52YXIgVmFsaWRhdG9yQ29udGV4dCA9IGZ1bmN0aW9uIFZhbGlkYXRvckNvbnRleHQocGFyZW50LCBjb2xsZWN0TXVsdGlwbGUsIGVycm9yUmVwb3J0ZXIsIGNoZWNrUmVjdXJzaXZlLCB0cmFja1Vua25vd25Qcm9wZXJ0aWVzKSB7XHJcblx0dGhpcy5taXNzaW5nID0gW107XHJcblx0dGhpcy5taXNzaW5nTWFwID0ge307XHJcblx0dGhpcy5mb3JtYXRWYWxpZGF0b3JzID0gcGFyZW50ID8gT2JqZWN0LmNyZWF0ZShwYXJlbnQuZm9ybWF0VmFsaWRhdG9ycykgOiB7fTtcclxuXHR0aGlzLnNjaGVtYXMgPSBwYXJlbnQgPyBPYmplY3QuY3JlYXRlKHBhcmVudC5zY2hlbWFzKSA6IHt9O1xyXG5cdHRoaXMuY29sbGVjdE11bHRpcGxlID0gY29sbGVjdE11bHRpcGxlO1xyXG5cdHRoaXMuZXJyb3JzID0gW107XHJcblx0dGhpcy5oYW5kbGVFcnJvciA9IGNvbGxlY3RNdWx0aXBsZSA/IHRoaXMuY29sbGVjdEVycm9yIDogdGhpcy5yZXR1cm5FcnJvcjtcclxuXHRpZiAoY2hlY2tSZWN1cnNpdmUpIHtcclxuXHRcdHRoaXMuY2hlY2tSZWN1cnNpdmUgPSB0cnVlO1xyXG5cdFx0dGhpcy5zY2FubmVkID0gW107XHJcblx0XHR0aGlzLnNjYW5uZWRGcm96ZW4gPSBbXTtcclxuXHRcdHRoaXMuc2Nhbm5lZEZyb3plblNjaGVtYXMgPSBbXTtcclxuXHRcdHRoaXMuc2Nhbm5lZEZyb3plblZhbGlkYXRpb25FcnJvcnMgPSBbXTtcclxuXHRcdHRoaXMudmFsaWRhdGVkU2NoZW1hc0tleSA9ICd0djRfdmFsaWRhdGlvbl9pZCc7XHJcblx0XHR0aGlzLnZhbGlkYXRpb25FcnJvcnNLZXkgPSAndHY0X3ZhbGlkYXRpb25fZXJyb3JzX2lkJztcclxuXHR9XHJcblx0aWYgKHRyYWNrVW5rbm93blByb3BlcnRpZXMpIHtcclxuXHRcdHRoaXMudHJhY2tVbmtub3duUHJvcGVydGllcyA9IHRydWU7XHJcblx0XHR0aGlzLmtub3duUHJvcGVydHlQYXRocyA9IHt9O1xyXG5cdFx0dGhpcy51bmtub3duUHJvcGVydHlQYXRocyA9IHt9O1xyXG5cdH1cclxuXHR0aGlzLmVycm9yUmVwb3J0ZXIgPSBlcnJvclJlcG9ydGVyIHx8IGRlZmF1bHRFcnJvclJlcG9ydGVyKCdlbicpO1xyXG5cdGlmICh0eXBlb2YgdGhpcy5lcnJvclJlcG9ydGVyID09PSAnc3RyaW5nJykge1xyXG5cdFx0dGhyb3cgbmV3IEVycm9yKCdkZWJ1ZycpO1xyXG5cdH1cclxuXHR0aGlzLmRlZmluZWRLZXl3b3JkcyA9IHt9O1xyXG5cdGlmIChwYXJlbnQpIHtcclxuXHRcdGZvciAodmFyIGtleSBpbiBwYXJlbnQuZGVmaW5lZEtleXdvcmRzKSB7XHJcblx0XHRcdHRoaXMuZGVmaW5lZEtleXdvcmRzW2tleV0gPSBwYXJlbnQuZGVmaW5lZEtleXdvcmRzW2tleV0uc2xpY2UoMCk7XHJcblx0XHR9XHJcblx0fVxyXG59O1xyXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS5kZWZpbmVLZXl3b3JkID0gZnVuY3Rpb24gKGtleXdvcmQsIGtleXdvcmRGdW5jdGlvbikge1xyXG5cdHRoaXMuZGVmaW5lZEtleXdvcmRzW2tleXdvcmRdID0gdGhpcy5kZWZpbmVkS2V5d29yZHNba2V5d29yZF0gfHwgW107XHJcblx0dGhpcy5kZWZpbmVkS2V5d29yZHNba2V5d29yZF0ucHVzaChrZXl3b3JkRnVuY3Rpb24pO1xyXG59O1xyXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS5jcmVhdGVFcnJvciA9IGZ1bmN0aW9uIChjb2RlLCBtZXNzYWdlUGFyYW1zLCBkYXRhUGF0aCwgc2NoZW1hUGF0aCwgc3ViRXJyb3JzLCBkYXRhLCBzY2hlbWEpIHtcclxuXHR2YXIgZXJyb3IgPSBuZXcgVmFsaWRhdGlvbkVycm9yKGNvZGUsIG1lc3NhZ2VQYXJhbXMsIGRhdGFQYXRoLCBzY2hlbWFQYXRoLCBzdWJFcnJvcnMpO1xyXG5cdGVycm9yLm1lc3NhZ2UgPSB0aGlzLmVycm9yUmVwb3J0ZXIoZXJyb3IsIGRhdGEsIHNjaGVtYSk7XHJcblx0cmV0dXJuIGVycm9yO1xyXG59O1xyXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS5yZXR1cm5FcnJvciA9IGZ1bmN0aW9uIChlcnJvcikge1xyXG5cdHJldHVybiBlcnJvcjtcclxufTtcclxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUuY29sbGVjdEVycm9yID0gZnVuY3Rpb24gKGVycm9yKSB7XHJcblx0aWYgKGVycm9yKSB7XHJcblx0XHR0aGlzLmVycm9ycy5wdXNoKGVycm9yKTtcclxuXHR9XHJcblx0cmV0dXJuIG51bGw7XHJcbn07XHJcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnByZWZpeEVycm9ycyA9IGZ1bmN0aW9uIChzdGFydEluZGV4LCBkYXRhUGF0aCwgc2NoZW1hUGF0aCkge1xyXG5cdGZvciAodmFyIGkgPSBzdGFydEluZGV4OyBpIDwgdGhpcy5lcnJvcnMubGVuZ3RoOyBpKyspIHtcclxuXHRcdHRoaXMuZXJyb3JzW2ldID0gdGhpcy5lcnJvcnNbaV0ucHJlZml4V2l0aChkYXRhUGF0aCwgc2NoZW1hUGF0aCk7XHJcblx0fVxyXG5cdHJldHVybiB0aGlzO1xyXG59O1xyXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS5iYW5Vbmtub3duUHJvcGVydGllcyA9IGZ1bmN0aW9uIChkYXRhLCBzY2hlbWEpIHtcclxuXHRmb3IgKHZhciB1bmtub3duUGF0aCBpbiB0aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzKSB7XHJcblx0XHR2YXIgZXJyb3IgPSB0aGlzLmNyZWF0ZUVycm9yKEVycm9yQ29kZXMuVU5LTk9XTl9QUk9QRVJUWSwge3BhdGg6IHVua25vd25QYXRofSwgdW5rbm93blBhdGgsIFwiXCIsIG51bGwsIGRhdGEsIHNjaGVtYSk7XHJcblx0XHR2YXIgcmVzdWx0ID0gdGhpcy5oYW5kbGVFcnJvcihlcnJvcik7XHJcblx0XHRpZiAocmVzdWx0KSB7XHJcblx0XHRcdHJldHVybiByZXN1bHQ7XHJcblx0XHR9XHJcblx0fVxyXG5cdHJldHVybiBudWxsO1xyXG59O1xyXG5cclxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUuYWRkRm9ybWF0ID0gZnVuY3Rpb24gKGZvcm1hdCwgdmFsaWRhdG9yKSB7XHJcblx0aWYgKHR5cGVvZiBmb3JtYXQgPT09ICdvYmplY3QnKSB7XHJcblx0XHRmb3IgKHZhciBrZXkgaW4gZm9ybWF0KSB7XHJcblx0XHRcdHRoaXMuYWRkRm9ybWF0KGtleSwgZm9ybWF0W2tleV0pO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fVxyXG5cdHRoaXMuZm9ybWF0VmFsaWRhdG9yc1tmb3JtYXRdID0gdmFsaWRhdG9yO1xyXG59O1xyXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS5yZXNvbHZlUmVmcyA9IGZ1bmN0aW9uIChzY2hlbWEsIHVybEhpc3RvcnkpIHtcclxuXHRpZiAoc2NoZW1hWyckcmVmJ10gIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0dXJsSGlzdG9yeSA9IHVybEhpc3RvcnkgfHwge307XHJcblx0XHRpZiAodXJsSGlzdG9yeVtzY2hlbWFbJyRyZWYnXV0pIHtcclxuXHRcdFx0cmV0dXJuIHRoaXMuY3JlYXRlRXJyb3IoRXJyb3JDb2Rlcy5DSVJDVUxBUl9SRUZFUkVOQ0UsIHt1cmxzOiBPYmplY3Qua2V5cyh1cmxIaXN0b3J5KS5qb2luKCcsICcpfSwgJycsICcnLCBudWxsLCB1bmRlZmluZWQsIHNjaGVtYSk7XHJcblx0XHR9XHJcblx0XHR1cmxIaXN0b3J5W3NjaGVtYVsnJHJlZiddXSA9IHRydWU7XHJcblx0XHRzY2hlbWEgPSB0aGlzLmdldFNjaGVtYShzY2hlbWFbJyRyZWYnXSwgdXJsSGlzdG9yeSk7XHJcblx0fVxyXG5cdHJldHVybiBzY2hlbWE7XHJcbn07XHJcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLmdldFNjaGVtYSA9IGZ1bmN0aW9uICh1cmwsIHVybEhpc3RvcnkpIHtcclxuXHR2YXIgc2NoZW1hO1xyXG5cdGlmICh0aGlzLnNjaGVtYXNbdXJsXSAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRzY2hlbWEgPSB0aGlzLnNjaGVtYXNbdXJsXTtcclxuXHRcdHJldHVybiB0aGlzLnJlc29sdmVSZWZzKHNjaGVtYSwgdXJsSGlzdG9yeSk7XHJcblx0fVxyXG5cdHZhciBiYXNlVXJsID0gdXJsO1xyXG5cdHZhciBmcmFnbWVudCA9IFwiXCI7XHJcblx0aWYgKHVybC5pbmRleE9mKCcjJykgIT09IC0xKSB7XHJcblx0XHRmcmFnbWVudCA9IHVybC5zdWJzdHJpbmcodXJsLmluZGV4T2YoXCIjXCIpICsgMSk7XHJcblx0XHRiYXNlVXJsID0gdXJsLnN1YnN0cmluZygwLCB1cmwuaW5kZXhPZihcIiNcIikpO1xyXG5cdH1cclxuXHRpZiAodHlwZW9mIHRoaXMuc2NoZW1hc1tiYXNlVXJsXSA9PT0gJ29iamVjdCcpIHtcclxuXHRcdHNjaGVtYSA9IHRoaXMuc2NoZW1hc1tiYXNlVXJsXTtcclxuXHRcdHZhciBwb2ludGVyUGF0aCA9IGRlY29kZVVSSUNvbXBvbmVudChmcmFnbWVudCk7XHJcblx0XHRpZiAocG9pbnRlclBhdGggPT09IFwiXCIpIHtcclxuXHRcdFx0cmV0dXJuIHRoaXMucmVzb2x2ZVJlZnMoc2NoZW1hLCB1cmxIaXN0b3J5KTtcclxuXHRcdH0gZWxzZSBpZiAocG9pbnRlclBhdGguY2hhckF0KDApICE9PSBcIi9cIikge1xyXG5cdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xyXG5cdFx0fVxyXG5cdFx0dmFyIHBhcnRzID0gcG9pbnRlclBhdGguc3BsaXQoXCIvXCIpLnNsaWNlKDEpO1xyXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHR2YXIgY29tcG9uZW50ID0gcGFydHNbaV0ucmVwbGFjZSgvfjEvZywgXCIvXCIpLnJlcGxhY2UoL34wL2csIFwiflwiKTtcclxuXHRcdFx0aWYgKHNjaGVtYVtjb21wb25lbnRdID09PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0XHRzY2hlbWEgPSB1bmRlZmluZWQ7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdH1cclxuXHRcdFx0c2NoZW1hID0gc2NoZW1hW2NvbXBvbmVudF07XHJcblx0XHR9XHJcblx0XHRpZiAoc2NoZW1hICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0cmV0dXJuIHRoaXMucmVzb2x2ZVJlZnMoc2NoZW1hLCB1cmxIaXN0b3J5KTtcclxuXHRcdH1cclxuXHR9XHJcblx0aWYgKHRoaXMubWlzc2luZ1tiYXNlVXJsXSA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHR0aGlzLm1pc3NpbmcucHVzaChiYXNlVXJsKTtcclxuXHRcdHRoaXMubWlzc2luZ1tiYXNlVXJsXSA9IGJhc2VVcmw7XHJcblx0XHR0aGlzLm1pc3NpbmdNYXBbYmFzZVVybF0gPSBiYXNlVXJsO1xyXG5cdH1cclxufTtcclxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUuc2VhcmNoU2NoZW1hcyA9IGZ1bmN0aW9uIChzY2hlbWEsIHVybCkge1xyXG5cdGlmIChBcnJheS5pc0FycmF5KHNjaGVtYSkpIHtcclxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc2NoZW1hLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHRoaXMuc2VhcmNoU2NoZW1hcyhzY2hlbWFbaV0sIHVybCk7XHJcblx0XHR9XHJcblx0fSBlbHNlIGlmIChzY2hlbWEgJiYgdHlwZW9mIHNjaGVtYSA9PT0gXCJvYmplY3RcIikge1xyXG5cdFx0aWYgKHR5cGVvZiBzY2hlbWEuaWQgPT09IFwic3RyaW5nXCIpIHtcclxuXHRcdFx0aWYgKGlzVHJ1c3RlZFVybCh1cmwsIHNjaGVtYS5pZCkpIHtcclxuXHRcdFx0XHRpZiAodGhpcy5zY2hlbWFzW3NjaGVtYS5pZF0gPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRcdFx0dGhpcy5zY2hlbWFzW3NjaGVtYS5pZF0gPSBzY2hlbWE7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRmb3IgKHZhciBrZXkgaW4gc2NoZW1hKSB7XHJcblx0XHRcdGlmIChrZXkgIT09IFwiZW51bVwiKSB7XHJcblx0XHRcdFx0aWYgKHR5cGVvZiBzY2hlbWFba2V5XSA9PT0gXCJvYmplY3RcIikge1xyXG5cdFx0XHRcdFx0dGhpcy5zZWFyY2hTY2hlbWFzKHNjaGVtYVtrZXldLCB1cmwpO1xyXG5cdFx0XHRcdH0gZWxzZSBpZiAoa2V5ID09PSBcIiRyZWZcIikge1xyXG5cdFx0XHRcdFx0dmFyIHVyaSA9IGdldERvY3VtZW50VXJpKHNjaGVtYVtrZXldKTtcclxuXHRcdFx0XHRcdGlmICh1cmkgJiYgdGhpcy5zY2hlbWFzW3VyaV0gPT09IHVuZGVmaW5lZCAmJiB0aGlzLm1pc3NpbmdNYXBbdXJpXSA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdFx0XHRcdHRoaXMubWlzc2luZ01hcFt1cmldID0gdXJpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufTtcclxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUuYWRkU2NoZW1hID0gZnVuY3Rpb24gKHVybCwgc2NoZW1hKSB7XHJcblx0Ly9vdmVybG9hZFxyXG5cdGlmICh0eXBlb2YgdXJsICE9PSAnc3RyaW5nJyB8fCB0eXBlb2Ygc2NoZW1hID09PSAndW5kZWZpbmVkJykge1xyXG5cdFx0aWYgKHR5cGVvZiB1cmwgPT09ICdvYmplY3QnICYmIHR5cGVvZiB1cmwuaWQgPT09ICdzdHJpbmcnKSB7XHJcblx0XHRcdHNjaGVtYSA9IHVybDtcclxuXHRcdFx0dXJsID0gc2NoZW1hLmlkO1xyXG5cdFx0fVxyXG5cdFx0ZWxzZSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHR9XHJcblx0aWYgKHVybCA9PT0gZ2V0RG9jdW1lbnRVcmkodXJsKSArIFwiI1wiKSB7XHJcblx0XHQvLyBSZW1vdmUgZW1wdHkgZnJhZ21lbnRcclxuXHRcdHVybCA9IGdldERvY3VtZW50VXJpKHVybCk7XHJcblx0fVxyXG5cdHRoaXMuc2NoZW1hc1t1cmxdID0gc2NoZW1hO1xyXG5cdGRlbGV0ZSB0aGlzLm1pc3NpbmdNYXBbdXJsXTtcclxuXHRub3JtU2NoZW1hKHNjaGVtYSwgdXJsKTtcclxuXHR0aGlzLnNlYXJjaFNjaGVtYXMoc2NoZW1hLCB1cmwpO1xyXG59O1xyXG5cclxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUuZ2V0U2NoZW1hTWFwID0gZnVuY3Rpb24gKCkge1xyXG5cdHZhciBtYXAgPSB7fTtcclxuXHRmb3IgKHZhciBrZXkgaW4gdGhpcy5zY2hlbWFzKSB7XHJcblx0XHRtYXBba2V5XSA9IHRoaXMuc2NoZW1hc1trZXldO1xyXG5cdH1cclxuXHRyZXR1cm4gbWFwO1xyXG59O1xyXG5cclxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUuZ2V0U2NoZW1hVXJpcyA9IGZ1bmN0aW9uIChmaWx0ZXJSZWdFeHApIHtcclxuXHR2YXIgbGlzdCA9IFtdO1xyXG5cdGZvciAodmFyIGtleSBpbiB0aGlzLnNjaGVtYXMpIHtcclxuXHRcdGlmICghZmlsdGVyUmVnRXhwIHx8IGZpbHRlclJlZ0V4cC50ZXN0KGtleSkpIHtcclxuXHRcdFx0bGlzdC5wdXNoKGtleSk7XHJcblx0XHR9XHJcblx0fVxyXG5cdHJldHVybiBsaXN0O1xyXG59O1xyXG5cclxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUuZ2V0TWlzc2luZ1VyaXMgPSBmdW5jdGlvbiAoZmlsdGVyUmVnRXhwKSB7XHJcblx0dmFyIGxpc3QgPSBbXTtcclxuXHRmb3IgKHZhciBrZXkgaW4gdGhpcy5taXNzaW5nTWFwKSB7XHJcblx0XHRpZiAoIWZpbHRlclJlZ0V4cCB8fCBmaWx0ZXJSZWdFeHAudGVzdChrZXkpKSB7XHJcblx0XHRcdGxpc3QucHVzaChrZXkpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRyZXR1cm4gbGlzdDtcclxufTtcclxuXHJcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLmRyb3BTY2hlbWFzID0gZnVuY3Rpb24gKCkge1xyXG5cdHRoaXMuc2NoZW1hcyA9IHt9O1xyXG5cdHRoaXMucmVzZXQoKTtcclxufTtcclxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XHJcblx0dGhpcy5taXNzaW5nID0gW107XHJcblx0dGhpcy5taXNzaW5nTWFwID0ge307XHJcblx0dGhpcy5lcnJvcnMgPSBbXTtcclxufTtcclxuXHJcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnZhbGlkYXRlQWxsID0gZnVuY3Rpb24gKGRhdGEsIHNjaGVtYSwgZGF0YVBhdGhQYXJ0cywgc2NoZW1hUGF0aFBhcnRzLCBkYXRhUG9pbnRlclBhdGgpIHtcclxuXHR2YXIgdG9wTGV2ZWw7XHJcblx0c2NoZW1hID0gdGhpcy5yZXNvbHZlUmVmcyhzY2hlbWEpO1xyXG5cdGlmICghc2NoZW1hKSB7XHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9IGVsc2UgaWYgKHNjaGVtYSBpbnN0YW5jZW9mIFZhbGlkYXRpb25FcnJvcikge1xyXG5cdFx0dGhpcy5lcnJvcnMucHVzaChzY2hlbWEpO1xyXG5cdFx0cmV0dXJuIHNjaGVtYTtcclxuXHR9XHJcblxyXG5cdHZhciBzdGFydEVycm9yQ291bnQgPSB0aGlzLmVycm9ycy5sZW5ndGg7XHJcblx0dmFyIGZyb3plbkluZGV4LCBzY2FubmVkRnJvemVuU2NoZW1hSW5kZXggPSBudWxsLCBzY2FubmVkU2NoZW1hc0luZGV4ID0gbnVsbDtcclxuXHRpZiAodGhpcy5jaGVja1JlY3Vyc2l2ZSAmJiBkYXRhICYmIHR5cGVvZiBkYXRhID09PSAnb2JqZWN0Jykge1xyXG5cdFx0dG9wTGV2ZWwgPSAhdGhpcy5zY2FubmVkLmxlbmd0aDtcclxuXHRcdGlmIChkYXRhW3RoaXMudmFsaWRhdGVkU2NoZW1hc0tleV0pIHtcclxuXHRcdFx0dmFyIHNjaGVtYUluZGV4ID0gZGF0YVt0aGlzLnZhbGlkYXRlZFNjaGVtYXNLZXldLmluZGV4T2Yoc2NoZW1hKTtcclxuXHRcdFx0aWYgKHNjaGVtYUluZGV4ICE9PSAtMSkge1xyXG5cdFx0XHRcdHRoaXMuZXJyb3JzID0gdGhpcy5lcnJvcnMuY29uY2F0KGRhdGFbdGhpcy52YWxpZGF0aW9uRXJyb3JzS2V5XVtzY2hlbWFJbmRleF0pO1xyXG5cdFx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRpZiAoT2JqZWN0LmlzRnJvemVuKGRhdGEpKSB7XHJcblx0XHRcdGZyb3plbkluZGV4ID0gdGhpcy5zY2FubmVkRnJvemVuLmluZGV4T2YoZGF0YSk7XHJcblx0XHRcdGlmIChmcm96ZW5JbmRleCAhPT0gLTEpIHtcclxuXHRcdFx0XHR2YXIgZnJvemVuU2NoZW1hSW5kZXggPSB0aGlzLnNjYW5uZWRGcm96ZW5TY2hlbWFzW2Zyb3plbkluZGV4XS5pbmRleE9mKHNjaGVtYSk7XHJcblx0XHRcdFx0aWYgKGZyb3plblNjaGVtYUluZGV4ICE9PSAtMSkge1xyXG5cdFx0XHRcdFx0dGhpcy5lcnJvcnMgPSB0aGlzLmVycm9ycy5jb25jYXQodGhpcy5zY2FubmVkRnJvemVuVmFsaWRhdGlvbkVycm9yc1tmcm96ZW5JbmRleF1bZnJvemVuU2NoZW1hSW5kZXhdKTtcclxuXHRcdFx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0dGhpcy5zY2FubmVkLnB1c2goZGF0YSk7XHJcblx0XHRpZiAoT2JqZWN0LmlzRnJvemVuKGRhdGEpKSB7XHJcblx0XHRcdGlmIChmcm96ZW5JbmRleCA9PT0gLTEpIHtcclxuXHRcdFx0XHRmcm96ZW5JbmRleCA9IHRoaXMuc2Nhbm5lZEZyb3plbi5sZW5ndGg7XHJcblx0XHRcdFx0dGhpcy5zY2FubmVkRnJvemVuLnB1c2goZGF0YSk7XHJcblx0XHRcdFx0dGhpcy5zY2FubmVkRnJvemVuU2NoZW1hcy5wdXNoKFtdKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRzY2FubmVkRnJvemVuU2NoZW1hSW5kZXggPSB0aGlzLnNjYW5uZWRGcm96ZW5TY2hlbWFzW2Zyb3plbkluZGV4XS5sZW5ndGg7XHJcblx0XHRcdHRoaXMuc2Nhbm5lZEZyb3plblNjaGVtYXNbZnJvemVuSW5kZXhdW3NjYW5uZWRGcm96ZW5TY2hlbWFJbmRleF0gPSBzY2hlbWE7XHJcblx0XHRcdHRoaXMuc2Nhbm5lZEZyb3plblZhbGlkYXRpb25FcnJvcnNbZnJvemVuSW5kZXhdW3NjYW5uZWRGcm96ZW5TY2hlbWFJbmRleF0gPSBbXTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGlmICghZGF0YVt0aGlzLnZhbGlkYXRlZFNjaGVtYXNLZXldKSB7XHJcblx0XHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShkYXRhLCB0aGlzLnZhbGlkYXRlZFNjaGVtYXNLZXksIHtcclxuXHRcdFx0XHRcdFx0dmFsdWU6IFtdLFxyXG5cdFx0XHRcdFx0XHRjb25maWd1cmFibGU6IHRydWVcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGRhdGEsIHRoaXMudmFsaWRhdGlvbkVycm9yc0tleSwge1xyXG5cdFx0XHRcdFx0XHR2YWx1ZTogW10sXHJcblx0XHRcdFx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRcdFx0Ly9JRSA3Lzggd29ya2Fyb3VuZFxyXG5cdFx0XHRcdFx0ZGF0YVt0aGlzLnZhbGlkYXRlZFNjaGVtYXNLZXldID0gW107XHJcblx0XHRcdFx0XHRkYXRhW3RoaXMudmFsaWRhdGlvbkVycm9yc0tleV0gPSBbXTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0c2Nhbm5lZFNjaGVtYXNJbmRleCA9IGRhdGFbdGhpcy52YWxpZGF0ZWRTY2hlbWFzS2V5XS5sZW5ndGg7XHJcblx0XHRcdGRhdGFbdGhpcy52YWxpZGF0ZWRTY2hlbWFzS2V5XVtzY2FubmVkU2NoZW1hc0luZGV4XSA9IHNjaGVtYTtcclxuXHRcdFx0ZGF0YVt0aGlzLnZhbGlkYXRpb25FcnJvcnNLZXldW3NjYW5uZWRTY2hlbWFzSW5kZXhdID0gW107XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHR2YXIgZXJyb3JDb3VudCA9IHRoaXMuZXJyb3JzLmxlbmd0aDtcclxuXHR2YXIgZXJyb3IgPSB0aGlzLnZhbGlkYXRlQmFzaWMoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpXHJcblx0XHR8fCB0aGlzLnZhbGlkYXRlTnVtZXJpYyhkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aClcclxuXHRcdHx8IHRoaXMudmFsaWRhdGVTdHJpbmcoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpXHJcblx0XHR8fCB0aGlzLnZhbGlkYXRlQXJyYXkoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpXHJcblx0XHR8fCB0aGlzLnZhbGlkYXRlT2JqZWN0KGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKVxyXG5cdFx0fHwgdGhpcy52YWxpZGF0ZUNvbWJpbmF0aW9ucyhkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aClcclxuXHRcdHx8IHRoaXMudmFsaWRhdGVIeXBlcm1lZGlhKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKVxyXG5cdFx0fHwgdGhpcy52YWxpZGF0ZUZvcm1hdChkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aClcclxuXHRcdHx8IHRoaXMudmFsaWRhdGVEZWZpbmVkS2V5d29yZHMoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpXHJcblx0XHR8fCBudWxsO1xyXG5cclxuXHRpZiAodG9wTGV2ZWwpIHtcclxuXHRcdHdoaWxlICh0aGlzLnNjYW5uZWQubGVuZ3RoKSB7XHJcblx0XHRcdHZhciBpdGVtID0gdGhpcy5zY2FubmVkLnBvcCgpO1xyXG5cdFx0XHRkZWxldGUgaXRlbVt0aGlzLnZhbGlkYXRlZFNjaGVtYXNLZXldO1xyXG5cdFx0fVxyXG5cdFx0dGhpcy5zY2FubmVkRnJvemVuID0gW107XHJcblx0XHR0aGlzLnNjYW5uZWRGcm96ZW5TY2hlbWFzID0gW107XHJcblx0fVxyXG5cclxuXHRpZiAoZXJyb3IgfHwgZXJyb3JDb3VudCAhPT0gdGhpcy5lcnJvcnMubGVuZ3RoKSB7XHJcblx0XHR3aGlsZSAoKGRhdGFQYXRoUGFydHMgJiYgZGF0YVBhdGhQYXJ0cy5sZW5ndGgpIHx8IChzY2hlbWFQYXRoUGFydHMgJiYgc2NoZW1hUGF0aFBhcnRzLmxlbmd0aCkpIHtcclxuXHRcdFx0dmFyIGRhdGFQYXJ0ID0gKGRhdGFQYXRoUGFydHMgJiYgZGF0YVBhdGhQYXJ0cy5sZW5ndGgpID8gXCJcIiArIGRhdGFQYXRoUGFydHMucG9wKCkgOiBudWxsO1xyXG5cdFx0XHR2YXIgc2NoZW1hUGFydCA9IChzY2hlbWFQYXRoUGFydHMgJiYgc2NoZW1hUGF0aFBhcnRzLmxlbmd0aCkgPyBcIlwiICsgc2NoZW1hUGF0aFBhcnRzLnBvcCgpIDogbnVsbDtcclxuXHRcdFx0aWYgKGVycm9yKSB7XHJcblx0XHRcdFx0ZXJyb3IgPSBlcnJvci5wcmVmaXhXaXRoKGRhdGFQYXJ0LCBzY2hlbWFQYXJ0KTtcclxuXHRcdFx0fVxyXG5cdFx0XHR0aGlzLnByZWZpeEVycm9ycyhlcnJvckNvdW50LCBkYXRhUGFydCwgc2NoZW1hUGFydCk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRpZiAoc2Nhbm5lZEZyb3plblNjaGVtYUluZGV4ICE9PSBudWxsKSB7XHJcblx0XHR0aGlzLnNjYW5uZWRGcm96ZW5WYWxpZGF0aW9uRXJyb3JzW2Zyb3plbkluZGV4XVtzY2FubmVkRnJvemVuU2NoZW1hSW5kZXhdID0gdGhpcy5lcnJvcnMuc2xpY2Uoc3RhcnRFcnJvckNvdW50KTtcclxuXHR9IGVsc2UgaWYgKHNjYW5uZWRTY2hlbWFzSW5kZXggIT09IG51bGwpIHtcclxuXHRcdGRhdGFbdGhpcy52YWxpZGF0aW9uRXJyb3JzS2V5XVtzY2FubmVkU2NoZW1hc0luZGV4XSA9IHRoaXMuZXJyb3JzLnNsaWNlKHN0YXJ0RXJyb3JDb3VudCk7XHJcblx0fVxyXG5cclxuXHRyZXR1cm4gdGhpcy5oYW5kbGVFcnJvcihlcnJvcik7XHJcbn07XHJcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnZhbGlkYXRlRm9ybWF0ID0gZnVuY3Rpb24gKGRhdGEsIHNjaGVtYSkge1xyXG5cdGlmICh0eXBlb2Ygc2NoZW1hLmZvcm1hdCAhPT0gJ3N0cmluZycgfHwgIXRoaXMuZm9ybWF0VmFsaWRhdG9yc1tzY2hlbWEuZm9ybWF0XSkge1xyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fVxyXG5cdHZhciBlcnJvck1lc3NhZ2UgPSB0aGlzLmZvcm1hdFZhbGlkYXRvcnNbc2NoZW1hLmZvcm1hdF0uY2FsbChudWxsLCBkYXRhLCBzY2hlbWEpO1xyXG5cdGlmICh0eXBlb2YgZXJyb3JNZXNzYWdlID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgZXJyb3JNZXNzYWdlID09PSAnbnVtYmVyJykge1xyXG5cdFx0cmV0dXJuIHRoaXMuY3JlYXRlRXJyb3IoRXJyb3JDb2Rlcy5GT1JNQVRfQ1VTVE9NLCB7bWVzc2FnZTogZXJyb3JNZXNzYWdlfSwgJycsICcvZm9ybWF0JywgbnVsbCwgZGF0YSwgc2NoZW1hKTtcclxuXHR9IGVsc2UgaWYgKGVycm9yTWVzc2FnZSAmJiB0eXBlb2YgZXJyb3JNZXNzYWdlID09PSAnb2JqZWN0Jykge1xyXG5cdFx0cmV0dXJuIHRoaXMuY3JlYXRlRXJyb3IoRXJyb3JDb2Rlcy5GT1JNQVRfQ1VTVE9NLCB7bWVzc2FnZTogZXJyb3JNZXNzYWdlLm1lc3NhZ2UgfHwgXCI/XCJ9LCBlcnJvck1lc3NhZ2UuZGF0YVBhdGggfHwgJycsIGVycm9yTWVzc2FnZS5zY2hlbWFQYXRoIHx8IFwiL2Zvcm1hdFwiLCBudWxsLCBkYXRhLCBzY2hlbWEpO1xyXG5cdH1cclxuXHRyZXR1cm4gbnVsbDtcclxufTtcclxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUudmFsaWRhdGVEZWZpbmVkS2V5d29yZHMgPSBmdW5jdGlvbiAoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpIHtcclxuXHRmb3IgKHZhciBrZXkgaW4gdGhpcy5kZWZpbmVkS2V5d29yZHMpIHtcclxuXHRcdGlmICh0eXBlb2Ygc2NoZW1hW2tleV0gPT09ICd1bmRlZmluZWQnKSB7XHJcblx0XHRcdGNvbnRpbnVlO1xyXG5cdFx0fVxyXG5cdFx0dmFyIHZhbGlkYXRpb25GdW5jdGlvbnMgPSB0aGlzLmRlZmluZWRLZXl3b3Jkc1trZXldO1xyXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCB2YWxpZGF0aW9uRnVuY3Rpb25zLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHZhciBmdW5jID0gdmFsaWRhdGlvbkZ1bmN0aW9uc1tpXTtcclxuXHRcdFx0dmFyIHJlc3VsdCA9IGZ1bmMoZGF0YSwgc2NoZW1hW2tleV0sIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKTtcclxuXHRcdFx0aWYgKHR5cGVvZiByZXN1bHQgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiByZXN1bHQgPT09ICdudW1iZXInKSB7XHJcblx0XHRcdFx0cmV0dXJuIHRoaXMuY3JlYXRlRXJyb3IoRXJyb3JDb2Rlcy5LRVlXT1JEX0NVU1RPTSwge2tleToga2V5LCBtZXNzYWdlOiByZXN1bHR9LCAnJywgJycsIG51bGwsIGRhdGEsIHNjaGVtYSkucHJlZml4V2l0aChudWxsLCBrZXkpO1xyXG5cdFx0XHR9IGVsc2UgaWYgKHJlc3VsdCAmJiB0eXBlb2YgcmVzdWx0ID09PSAnb2JqZWN0Jykge1xyXG5cdFx0XHRcdHZhciBjb2RlID0gcmVzdWx0LmNvZGU7XHJcblx0XHRcdFx0aWYgKHR5cGVvZiBjb2RlID09PSAnc3RyaW5nJykge1xyXG5cdFx0XHRcdFx0aWYgKCFFcnJvckNvZGVzW2NvZGVdKSB7XHJcblx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcignVW5kZWZpbmVkIGVycm9yIGNvZGUgKHVzZSBkZWZpbmVFcnJvcik6ICcgKyBjb2RlKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGNvZGUgPSBFcnJvckNvZGVzW2NvZGVdO1xyXG5cdFx0XHRcdH0gZWxzZSBpZiAodHlwZW9mIGNvZGUgIT09ICdudW1iZXInKSB7XHJcblx0XHRcdFx0XHRjb2RlID0gRXJyb3JDb2Rlcy5LRVlXT1JEX0NVU1RPTTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0dmFyIG1lc3NhZ2VQYXJhbXMgPSAodHlwZW9mIHJlc3VsdC5tZXNzYWdlID09PSAnb2JqZWN0JykgPyByZXN1bHQubWVzc2FnZSA6IHtrZXk6IGtleSwgbWVzc2FnZTogcmVzdWx0Lm1lc3NhZ2UgfHwgXCI/XCJ9O1xyXG5cdFx0XHRcdHZhciBzY2hlbWFQYXRoID0gcmVzdWx0LnNjaGVtYVBhdGggfHwgKFwiL1wiICsga2V5LnJlcGxhY2UoL34vZywgJ34wJykucmVwbGFjZSgvXFwvL2csICd+MScpKTtcclxuXHRcdFx0XHRyZXR1cm4gdGhpcy5jcmVhdGVFcnJvcihjb2RlLCBtZXNzYWdlUGFyYW1zLCByZXN1bHQuZGF0YVBhdGggfHwgbnVsbCwgc2NoZW1hUGF0aCwgbnVsbCwgZGF0YSwgc2NoZW1hKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHRyZXR1cm4gbnVsbDtcclxufTtcclxuXHJcbmZ1bmN0aW9uIHJlY3Vyc2l2ZUNvbXBhcmUoQSwgQikge1xyXG5cdGlmIChBID09PSBCKSB7XHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9XHJcblx0aWYgKEEgJiYgQiAmJiB0eXBlb2YgQSA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgQiA9PT0gXCJvYmplY3RcIikge1xyXG5cdFx0aWYgKEFycmF5LmlzQXJyYXkoQSkgIT09IEFycmF5LmlzQXJyYXkoQikpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fSBlbHNlIGlmIChBcnJheS5pc0FycmF5KEEpKSB7XHJcblx0XHRcdGlmIChBLmxlbmd0aCAhPT0gQi5sZW5ndGgpIHtcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdH1cclxuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBBLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0aWYgKCFyZWN1cnNpdmVDb21wYXJlKEFbaV0sIEJbaV0pKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR2YXIga2V5O1xyXG5cdFx0XHRmb3IgKGtleSBpbiBBKSB7XHJcblx0XHRcdFx0aWYgKEJba2V5XSA9PT0gdW5kZWZpbmVkICYmIEFba2V5XSAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdGZvciAoa2V5IGluIEIpIHtcclxuXHRcdFx0XHRpZiAoQVtrZXldID09PSB1bmRlZmluZWQgJiYgQltrZXldICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0Zm9yIChrZXkgaW4gQSkge1xyXG5cdFx0XHRcdGlmICghcmVjdXJzaXZlQ29tcGFyZShBW2tleV0sIEJba2V5XSkpIHtcclxuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiB0cnVlO1xyXG5cdH1cclxuXHRyZXR1cm4gZmFsc2U7XHJcbn1cclxuXHJcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnZhbGlkYXRlQmFzaWMgPSBmdW5jdGlvbiB2YWxpZGF0ZUJhc2ljKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKSB7XHJcblx0dmFyIGVycm9yO1xyXG5cdGlmIChlcnJvciA9IHRoaXMudmFsaWRhdGVUeXBlKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKSkge1xyXG5cdFx0cmV0dXJuIGVycm9yLnByZWZpeFdpdGgobnVsbCwgXCJ0eXBlXCIpO1xyXG5cdH1cclxuXHRpZiAoZXJyb3IgPSB0aGlzLnZhbGlkYXRlRW51bShkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aCkpIHtcclxuXHRcdHJldHVybiBlcnJvci5wcmVmaXhXaXRoKG51bGwsIFwidHlwZVwiKTtcclxuXHR9XHJcblx0cmV0dXJuIG51bGw7XHJcbn07XHJcblxyXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS52YWxpZGF0ZVR5cGUgPSBmdW5jdGlvbiB2YWxpZGF0ZVR5cGUoZGF0YSwgc2NoZW1hKSB7XHJcblx0aWYgKHNjaGVtYS50eXBlID09PSB1bmRlZmluZWQpIHtcclxuXHRcdHJldHVybiBudWxsO1xyXG5cdH1cclxuXHR2YXIgZGF0YVR5cGUgPSB0eXBlb2YgZGF0YTtcclxuXHRpZiAoZGF0YSA9PT0gbnVsbCkge1xyXG5cdFx0ZGF0YVR5cGUgPSBcIm51bGxcIjtcclxuXHR9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcclxuXHRcdGRhdGFUeXBlID0gXCJhcnJheVwiO1xyXG5cdH1cclxuXHR2YXIgYWxsb3dlZFR5cGVzID0gc2NoZW1hLnR5cGU7XHJcblx0aWYgKCFBcnJheS5pc0FycmF5KGFsbG93ZWRUeXBlcykpIHtcclxuXHRcdGFsbG93ZWRUeXBlcyA9IFthbGxvd2VkVHlwZXNdO1xyXG5cdH1cclxuXHJcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBhbGxvd2VkVHlwZXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdHZhciB0eXBlID0gYWxsb3dlZFR5cGVzW2ldO1xyXG5cdFx0aWYgKHR5cGUgPT09IGRhdGFUeXBlIHx8ICh0eXBlID09PSBcImludGVnZXJcIiAmJiBkYXRhVHlwZSA9PT0gXCJudW1iZXJcIiAmJiAoZGF0YSAlIDEgPT09IDApKSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHR9XHJcblx0cmV0dXJuIHRoaXMuY3JlYXRlRXJyb3IoRXJyb3JDb2Rlcy5JTlZBTElEX1RZUEUsIHt0eXBlOiBkYXRhVHlwZSwgZXhwZWN0ZWQ6IGFsbG93ZWRUeXBlcy5qb2luKFwiL1wiKX0sICcnLCAnJywgbnVsbCwgZGF0YSwgc2NoZW1hKTtcclxufTtcclxuXHJcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnZhbGlkYXRlRW51bSA9IGZ1bmN0aW9uIHZhbGlkYXRlRW51bShkYXRhLCBzY2hlbWEpIHtcclxuXHRpZiAoc2NoZW1hW1wiZW51bVwiXSA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9XHJcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzY2hlbWFbXCJlbnVtXCJdLmxlbmd0aDsgaSsrKSB7XHJcblx0XHR2YXIgZW51bVZhbCA9IHNjaGVtYVtcImVudW1cIl1baV07XHJcblx0XHRpZiAocmVjdXJzaXZlQ29tcGFyZShkYXRhLCBlbnVtVmFsKSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHR9XHJcblx0cmV0dXJuIHRoaXMuY3JlYXRlRXJyb3IoRXJyb3JDb2Rlcy5FTlVNX01JU01BVENILCB7dmFsdWU6ICh0eXBlb2YgSlNPTiAhPT0gJ3VuZGVmaW5lZCcpID8gSlNPTi5zdHJpbmdpZnkoZGF0YSkgOiBkYXRhfSwgJycsICcnLCBudWxsLCBkYXRhLCBzY2hlbWEpO1xyXG59O1xyXG5cclxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUudmFsaWRhdGVOdW1lcmljID0gZnVuY3Rpb24gdmFsaWRhdGVOdW1lcmljKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKSB7XHJcblx0cmV0dXJuIHRoaXMudmFsaWRhdGVNdWx0aXBsZU9mKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKVxyXG5cdFx0fHwgdGhpcy52YWxpZGF0ZU1pbk1heChkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aClcclxuXHRcdHx8IHRoaXMudmFsaWRhdGVOYU4oZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpXHJcblx0XHR8fCBudWxsO1xyXG59O1xyXG5cclxudmFyIENMT1NFX0VOT1VHSF9MT1cgPSBNYXRoLnBvdygyLCAtNTEpO1xyXG52YXIgQ0xPU0VfRU5PVUdIX0hJR0ggPSAxIC0gQ0xPU0VfRU5PVUdIX0xPVztcclxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUudmFsaWRhdGVNdWx0aXBsZU9mID0gZnVuY3Rpb24gdmFsaWRhdGVNdWx0aXBsZU9mKGRhdGEsIHNjaGVtYSkge1xyXG5cdHZhciBtdWx0aXBsZU9mID0gc2NoZW1hLm11bHRpcGxlT2YgfHwgc2NoZW1hLmRpdmlzaWJsZUJ5O1xyXG5cdGlmIChtdWx0aXBsZU9mID09PSB1bmRlZmluZWQpIHtcclxuXHRcdHJldHVybiBudWxsO1xyXG5cdH1cclxuXHRpZiAodHlwZW9mIGRhdGEgPT09IFwibnVtYmVyXCIpIHtcclxuXHRcdHZhciByZW1haW5kZXIgPSAoZGF0YS9tdWx0aXBsZU9mKSUxO1xyXG5cdFx0aWYgKHJlbWFpbmRlciA+PSBDTE9TRV9FTk9VR0hfTE9XICYmIHJlbWFpbmRlciA8IENMT1NFX0VOT1VHSF9ISUdIKSB7XHJcblx0XHRcdHJldHVybiB0aGlzLmNyZWF0ZUVycm9yKEVycm9yQ29kZXMuTlVNQkVSX01VTFRJUExFX09GLCB7dmFsdWU6IGRhdGEsIG11bHRpcGxlT2Y6IG11bHRpcGxlT2Z9LCAnJywgJycsIG51bGwsIGRhdGEsIHNjaGVtYSk7XHJcblx0XHR9XHJcblx0fVxyXG5cdHJldHVybiBudWxsO1xyXG59O1xyXG5cclxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUudmFsaWRhdGVNaW5NYXggPSBmdW5jdGlvbiB2YWxpZGF0ZU1pbk1heChkYXRhLCBzY2hlbWEpIHtcclxuXHRpZiAodHlwZW9mIGRhdGEgIT09IFwibnVtYmVyXCIpIHtcclxuXHRcdHJldHVybiBudWxsO1xyXG5cdH1cclxuXHRpZiAoc2NoZW1hLm1pbmltdW0gIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0aWYgKGRhdGEgPCBzY2hlbWEubWluaW11bSkge1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5jcmVhdGVFcnJvcihFcnJvckNvZGVzLk5VTUJFUl9NSU5JTVVNLCB7dmFsdWU6IGRhdGEsIG1pbmltdW06IHNjaGVtYS5taW5pbXVtfSwgJycsICcvbWluaW11bScsIG51bGwsIGRhdGEsIHNjaGVtYSk7XHJcblx0XHR9XHJcblx0XHRpZiAoc2NoZW1hLmV4Y2x1c2l2ZU1pbmltdW0gJiYgZGF0YSA9PT0gc2NoZW1hLm1pbmltdW0pIHtcclxuXHRcdFx0cmV0dXJuIHRoaXMuY3JlYXRlRXJyb3IoRXJyb3JDb2Rlcy5OVU1CRVJfTUlOSU1VTV9FWENMVVNJVkUsIHt2YWx1ZTogZGF0YSwgbWluaW11bTogc2NoZW1hLm1pbmltdW19LCAnJywgJy9leGNsdXNpdmVNaW5pbXVtJywgbnVsbCwgZGF0YSwgc2NoZW1hKTtcclxuXHRcdH1cclxuXHR9XHJcblx0aWYgKHNjaGVtYS5tYXhpbXVtICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdGlmIChkYXRhID4gc2NoZW1hLm1heGltdW0pIHtcclxuXHRcdFx0cmV0dXJuIHRoaXMuY3JlYXRlRXJyb3IoRXJyb3JDb2Rlcy5OVU1CRVJfTUFYSU1VTSwge3ZhbHVlOiBkYXRhLCBtYXhpbXVtOiBzY2hlbWEubWF4aW11bX0sICcnLCAnL21heGltdW0nLCBudWxsLCBkYXRhLCBzY2hlbWEpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKHNjaGVtYS5leGNsdXNpdmVNYXhpbXVtICYmIGRhdGEgPT09IHNjaGVtYS5tYXhpbXVtKSB7XHJcblx0XHRcdHJldHVybiB0aGlzLmNyZWF0ZUVycm9yKEVycm9yQ29kZXMuTlVNQkVSX01BWElNVU1fRVhDTFVTSVZFLCB7dmFsdWU6IGRhdGEsIG1heGltdW06IHNjaGVtYS5tYXhpbXVtfSwgJycsICcvZXhjbHVzaXZlTWF4aW11bScsIG51bGwsIGRhdGEsIHNjaGVtYSk7XHJcblx0XHR9XHJcblx0fVxyXG5cdHJldHVybiBudWxsO1xyXG59O1xyXG5cclxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUudmFsaWRhdGVOYU4gPSBmdW5jdGlvbiB2YWxpZGF0ZU5hTihkYXRhLCBzY2hlbWEpIHtcclxuXHRpZiAodHlwZW9mIGRhdGEgIT09IFwibnVtYmVyXCIpIHtcclxuXHRcdHJldHVybiBudWxsO1xyXG5cdH1cclxuXHRpZiAoaXNOYU4oZGF0YSkgPT09IHRydWUgfHwgZGF0YSA9PT0gSW5maW5pdHkgfHwgZGF0YSA9PT0gLUluZmluaXR5KSB7XHJcblx0XHRyZXR1cm4gdGhpcy5jcmVhdGVFcnJvcihFcnJvckNvZGVzLk5VTUJFUl9OT1RfQV9OVU1CRVIsIHt2YWx1ZTogZGF0YX0sICcnLCAnL3R5cGUnLCBudWxsLCBkYXRhLCBzY2hlbWEpO1xyXG5cdH1cclxuXHRyZXR1cm4gbnVsbDtcclxufTtcclxuXHJcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnZhbGlkYXRlU3RyaW5nID0gZnVuY3Rpb24gdmFsaWRhdGVTdHJpbmcoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpIHtcclxuXHRyZXR1cm4gdGhpcy52YWxpZGF0ZVN0cmluZ0xlbmd0aChkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aClcclxuXHRcdHx8IHRoaXMudmFsaWRhdGVTdHJpbmdQYXR0ZXJuKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKVxyXG5cdFx0fHwgbnVsbDtcclxufTtcclxuXHJcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnZhbGlkYXRlU3RyaW5nTGVuZ3RoID0gZnVuY3Rpb24gdmFsaWRhdGVTdHJpbmdMZW5ndGgoZGF0YSwgc2NoZW1hKSB7XHJcblx0aWYgKHR5cGVvZiBkYXRhICE9PSBcInN0cmluZ1wiKSB7XHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9XHJcblx0aWYgKHNjaGVtYS5taW5MZW5ndGggIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0aWYgKGRhdGEubGVuZ3RoIDwgc2NoZW1hLm1pbkxlbmd0aCkge1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5jcmVhdGVFcnJvcihFcnJvckNvZGVzLlNUUklOR19MRU5HVEhfU0hPUlQsIHtsZW5ndGg6IGRhdGEubGVuZ3RoLCBtaW5pbXVtOiBzY2hlbWEubWluTGVuZ3RofSwgJycsICcvbWluTGVuZ3RoJywgbnVsbCwgZGF0YSwgc2NoZW1hKTtcclxuXHRcdH1cclxuXHR9XHJcblx0aWYgKHNjaGVtYS5tYXhMZW5ndGggIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0aWYgKGRhdGEubGVuZ3RoID4gc2NoZW1hLm1heExlbmd0aCkge1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5jcmVhdGVFcnJvcihFcnJvckNvZGVzLlNUUklOR19MRU5HVEhfTE9ORywge2xlbmd0aDogZGF0YS5sZW5ndGgsIG1heGltdW06IHNjaGVtYS5tYXhMZW5ndGh9LCAnJywgJy9tYXhMZW5ndGgnLCBudWxsLCBkYXRhLCBzY2hlbWEpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRyZXR1cm4gbnVsbDtcclxufTtcclxuXHJcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnZhbGlkYXRlU3RyaW5nUGF0dGVybiA9IGZ1bmN0aW9uIHZhbGlkYXRlU3RyaW5nUGF0dGVybihkYXRhLCBzY2hlbWEpIHtcclxuXHRpZiAodHlwZW9mIGRhdGEgIT09IFwic3RyaW5nXCIgfHwgKHR5cGVvZiBzY2hlbWEucGF0dGVybiAhPT0gXCJzdHJpbmdcIiAmJiAhKHNjaGVtYS5wYXR0ZXJuIGluc3RhbmNlb2YgUmVnRXhwKSkpIHtcclxuXHRcdHJldHVybiBudWxsO1xyXG5cdH1cclxuXHR2YXIgcmVnZXhwO1xyXG5cdGlmIChzY2hlbWEucGF0dGVybiBpbnN0YW5jZW9mIFJlZ0V4cCkge1xyXG5cdCAgcmVnZXhwID0gc2NoZW1hLnBhdHRlcm47XHJcblx0fVxyXG5cdGVsc2Uge1xyXG5cdCAgdmFyIGJvZHksIGZsYWdzID0gJyc7XHJcblx0ICAvLyBDaGVjayBmb3IgcmVndWxhciBleHByZXNzaW9uIGxpdGVyYWxzXHJcblx0ICAvLyBAc2VlIGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi81LjEvI3NlYy03LjguNVxyXG5cdCAgdmFyIGxpdGVyYWwgPSBzY2hlbWEucGF0dGVybi5tYXRjaCgvXlxcLyguKylcXC8oW2ltZ10qKSQvKTtcclxuXHQgIGlmIChsaXRlcmFsKSB7XHJcblx0ICAgIGJvZHkgPSBsaXRlcmFsWzFdO1xyXG5cdCAgICBmbGFncyA9IGxpdGVyYWxbMl07XHJcblx0ICB9XHJcblx0ICBlbHNlIHtcclxuXHQgICAgYm9keSA9IHNjaGVtYS5wYXR0ZXJuO1xyXG5cdCAgfVxyXG5cdCAgcmVnZXhwID0gbmV3IFJlZ0V4cChib2R5LCBmbGFncyk7XHJcblx0fVxyXG5cdGlmICghcmVnZXhwLnRlc3QoZGF0YSkpIHtcclxuXHRcdHJldHVybiB0aGlzLmNyZWF0ZUVycm9yKEVycm9yQ29kZXMuU1RSSU5HX1BBVFRFUk4sIHtwYXR0ZXJuOiBzY2hlbWEucGF0dGVybn0sICcnLCAnL3BhdHRlcm4nLCBudWxsLCBkYXRhLCBzY2hlbWEpO1xyXG5cdH1cclxuXHRyZXR1cm4gbnVsbDtcclxufTtcclxuXHJcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnZhbGlkYXRlQXJyYXkgPSBmdW5jdGlvbiB2YWxpZGF0ZUFycmF5KGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKSB7XHJcblx0aWYgKCFBcnJheS5pc0FycmF5KGRhdGEpKSB7XHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9XHJcblx0cmV0dXJuIHRoaXMudmFsaWRhdGVBcnJheUxlbmd0aChkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aClcclxuXHRcdHx8IHRoaXMudmFsaWRhdGVBcnJheVVuaXF1ZUl0ZW1zKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKVxyXG5cdFx0fHwgdGhpcy52YWxpZGF0ZUFycmF5SXRlbXMoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpXHJcblx0XHR8fCBudWxsO1xyXG59O1xyXG5cclxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUudmFsaWRhdGVBcnJheUxlbmd0aCA9IGZ1bmN0aW9uIHZhbGlkYXRlQXJyYXlMZW5ndGgoZGF0YSwgc2NoZW1hKSB7XHJcblx0dmFyIGVycm9yO1xyXG5cdGlmIChzY2hlbWEubWluSXRlbXMgIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0aWYgKGRhdGEubGVuZ3RoIDwgc2NoZW1hLm1pbkl0ZW1zKSB7XHJcblx0XHRcdGVycm9yID0gdGhpcy5jcmVhdGVFcnJvcihFcnJvckNvZGVzLkFSUkFZX0xFTkdUSF9TSE9SVCwge2xlbmd0aDogZGF0YS5sZW5ndGgsIG1pbmltdW06IHNjaGVtYS5taW5JdGVtc30sICcnLCAnL21pbkl0ZW1zJywgbnVsbCwgZGF0YSwgc2NoZW1hKTtcclxuXHRcdFx0aWYgKHRoaXMuaGFuZGxlRXJyb3IoZXJyb3IpKSB7XHJcblx0XHRcdFx0cmV0dXJuIGVycm9yO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cdGlmIChzY2hlbWEubWF4SXRlbXMgIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0aWYgKGRhdGEubGVuZ3RoID4gc2NoZW1hLm1heEl0ZW1zKSB7XHJcblx0XHRcdGVycm9yID0gdGhpcy5jcmVhdGVFcnJvcihFcnJvckNvZGVzLkFSUkFZX0xFTkdUSF9MT05HLCB7bGVuZ3RoOiBkYXRhLmxlbmd0aCwgbWF4aW11bTogc2NoZW1hLm1heEl0ZW1zfSwgJycsICcvbWF4SXRlbXMnLCBudWxsLCBkYXRhLCBzY2hlbWEpO1xyXG5cdFx0XHRpZiAodGhpcy5oYW5kbGVFcnJvcihlcnJvcikpIHtcclxuXHRcdFx0XHRyZXR1cm4gZXJyb3I7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblx0cmV0dXJuIG51bGw7XHJcbn07XHJcblxyXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS52YWxpZGF0ZUFycmF5VW5pcXVlSXRlbXMgPSBmdW5jdGlvbiB2YWxpZGF0ZUFycmF5VW5pcXVlSXRlbXMoZGF0YSwgc2NoZW1hKSB7XHJcblx0aWYgKHNjaGVtYS51bmlxdWVJdGVtcykge1xyXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdGZvciAodmFyIGogPSBpICsgMTsgaiA8IGRhdGEubGVuZ3RoOyBqKyspIHtcclxuXHRcdFx0XHRpZiAocmVjdXJzaXZlQ29tcGFyZShkYXRhW2ldLCBkYXRhW2pdKSkge1xyXG5cdFx0XHRcdFx0dmFyIGVycm9yID0gdGhpcy5jcmVhdGVFcnJvcihFcnJvckNvZGVzLkFSUkFZX1VOSVFVRSwge21hdGNoMTogaSwgbWF0Y2gyOiBqfSwgJycsICcvdW5pcXVlSXRlbXMnLCBudWxsLCBkYXRhLCBzY2hlbWEpO1xyXG5cdFx0XHRcdFx0aWYgKHRoaXMuaGFuZGxlRXJyb3IoZXJyb3IpKSB7XHJcblx0XHRcdFx0XHRcdHJldHVybiBlcnJvcjtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblx0cmV0dXJuIG51bGw7XHJcbn07XHJcblxyXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS52YWxpZGF0ZUFycmF5SXRlbXMgPSBmdW5jdGlvbiB2YWxpZGF0ZUFycmF5SXRlbXMoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpIHtcclxuXHRpZiAoc2NoZW1hLml0ZW1zID09PSB1bmRlZmluZWQpIHtcclxuXHRcdHJldHVybiBudWxsO1xyXG5cdH1cclxuXHR2YXIgZXJyb3IsIGk7XHJcblx0aWYgKEFycmF5LmlzQXJyYXkoc2NoZW1hLml0ZW1zKSkge1xyXG5cdFx0Zm9yIChpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0aWYgKGkgPCBzY2hlbWEuaXRlbXMubGVuZ3RoKSB7XHJcblx0XHRcdFx0aWYgKGVycm9yID0gdGhpcy52YWxpZGF0ZUFsbChkYXRhW2ldLCBzY2hlbWEuaXRlbXNbaV0sIFtpXSwgW1wiaXRlbXNcIiwgaV0sIGRhdGFQb2ludGVyUGF0aCArIFwiL1wiICsgaSkpIHtcclxuXHRcdFx0XHRcdHJldHVybiBlcnJvcjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZSBpZiAoc2NoZW1hLmFkZGl0aW9uYWxJdGVtcyAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdFx0aWYgKHR5cGVvZiBzY2hlbWEuYWRkaXRpb25hbEl0ZW1zID09PSBcImJvb2xlYW5cIikge1xyXG5cdFx0XHRcdFx0aWYgKCFzY2hlbWEuYWRkaXRpb25hbEl0ZW1zKSB7XHJcblx0XHRcdFx0XHRcdGVycm9yID0gKHRoaXMuY3JlYXRlRXJyb3IoRXJyb3JDb2Rlcy5BUlJBWV9BRERJVElPTkFMX0lURU1TLCB7fSwgJy8nICsgaSwgJy9hZGRpdGlvbmFsSXRlbXMnLCBudWxsLCBkYXRhLCBzY2hlbWEpKTtcclxuXHRcdFx0XHRcdFx0aWYgKHRoaXMuaGFuZGxlRXJyb3IoZXJyb3IpKSB7XHJcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGVycm9yO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSBlbHNlIGlmIChlcnJvciA9IHRoaXMudmFsaWRhdGVBbGwoZGF0YVtpXSwgc2NoZW1hLmFkZGl0aW9uYWxJdGVtcywgW2ldLCBbXCJhZGRpdGlvbmFsSXRlbXNcIl0sIGRhdGFQb2ludGVyUGF0aCArIFwiL1wiICsgaSkpIHtcclxuXHRcdFx0XHRcdHJldHVybiBlcnJvcjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9IGVsc2Uge1xyXG5cdFx0Zm9yIChpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0aWYgKGVycm9yID0gdGhpcy52YWxpZGF0ZUFsbChkYXRhW2ldLCBzY2hlbWEuaXRlbXMsIFtpXSwgW1wiaXRlbXNcIl0sIGRhdGFQb2ludGVyUGF0aCArIFwiL1wiICsgaSkpIHtcclxuXHRcdFx0XHRyZXR1cm4gZXJyb3I7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblx0cmV0dXJuIG51bGw7XHJcbn07XHJcblxyXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS52YWxpZGF0ZU9iamVjdCA9IGZ1bmN0aW9uIHZhbGlkYXRlT2JqZWN0KGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKSB7XHJcblx0aWYgKHR5cGVvZiBkYXRhICE9PSBcIm9iamVjdFwiIHx8IGRhdGEgPT09IG51bGwgfHwgQXJyYXkuaXNBcnJheShkYXRhKSkge1xyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fVxyXG5cdHJldHVybiB0aGlzLnZhbGlkYXRlT2JqZWN0TWluTWF4UHJvcGVydGllcyhkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aClcclxuXHRcdHx8IHRoaXMudmFsaWRhdGVPYmplY3RSZXF1aXJlZFByb3BlcnRpZXMoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpXHJcblx0XHR8fCB0aGlzLnZhbGlkYXRlT2JqZWN0UHJvcGVydGllcyhkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aClcclxuXHRcdHx8IHRoaXMudmFsaWRhdGVPYmplY3REZXBlbmRlbmNpZXMoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpXHJcblx0XHR8fCBudWxsO1xyXG59O1xyXG5cclxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUudmFsaWRhdGVPYmplY3RNaW5NYXhQcm9wZXJ0aWVzID0gZnVuY3Rpb24gdmFsaWRhdGVPYmplY3RNaW5NYXhQcm9wZXJ0aWVzKGRhdGEsIHNjaGVtYSkge1xyXG5cdHZhciBrZXlzID0gT2JqZWN0LmtleXMoZGF0YSk7XHJcblx0dmFyIGVycm9yO1xyXG5cdGlmIChzY2hlbWEubWluUHJvcGVydGllcyAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRpZiAoa2V5cy5sZW5ndGggPCBzY2hlbWEubWluUHJvcGVydGllcykge1xyXG5cdFx0XHRlcnJvciA9IHRoaXMuY3JlYXRlRXJyb3IoRXJyb3JDb2Rlcy5PQkpFQ1RfUFJPUEVSVElFU19NSU5JTVVNLCB7cHJvcGVydHlDb3VudDoga2V5cy5sZW5ndGgsIG1pbmltdW06IHNjaGVtYS5taW5Qcm9wZXJ0aWVzfSwgJycsICcvbWluUHJvcGVydGllcycsIG51bGwsIGRhdGEsIHNjaGVtYSk7XHJcblx0XHRcdGlmICh0aGlzLmhhbmRsZUVycm9yKGVycm9yKSkge1xyXG5cdFx0XHRcdHJldHVybiBlcnJvcjtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHRpZiAoc2NoZW1hLm1heFByb3BlcnRpZXMgIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0aWYgKGtleXMubGVuZ3RoID4gc2NoZW1hLm1heFByb3BlcnRpZXMpIHtcclxuXHRcdFx0ZXJyb3IgPSB0aGlzLmNyZWF0ZUVycm9yKEVycm9yQ29kZXMuT0JKRUNUX1BST1BFUlRJRVNfTUFYSU1VTSwge3Byb3BlcnR5Q291bnQ6IGtleXMubGVuZ3RoLCBtYXhpbXVtOiBzY2hlbWEubWF4UHJvcGVydGllc30sICcnLCAnL21heFByb3BlcnRpZXMnLCBudWxsLCBkYXRhLCBzY2hlbWEpO1xyXG5cdFx0XHRpZiAodGhpcy5oYW5kbGVFcnJvcihlcnJvcikpIHtcclxuXHRcdFx0XHRyZXR1cm4gZXJyb3I7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblx0cmV0dXJuIG51bGw7XHJcbn07XHJcblxyXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS52YWxpZGF0ZU9iamVjdFJlcXVpcmVkUHJvcGVydGllcyA9IGZ1bmN0aW9uIHZhbGlkYXRlT2JqZWN0UmVxdWlyZWRQcm9wZXJ0aWVzKGRhdGEsIHNjaGVtYSkge1xyXG5cdGlmIChzY2hlbWEucmVxdWlyZWQgIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzY2hlbWEucmVxdWlyZWQubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0dmFyIGtleSA9IHNjaGVtYS5yZXF1aXJlZFtpXTtcclxuXHRcdFx0aWYgKGRhdGFba2V5XSA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdFx0dmFyIGVycm9yID0gdGhpcy5jcmVhdGVFcnJvcihFcnJvckNvZGVzLk9CSkVDVF9SRVFVSVJFRCwge2tleToga2V5fSwgJycsICcvcmVxdWlyZWQvJyArIGksIG51bGwsIGRhdGEsIHNjaGVtYSk7XHJcblx0XHRcdFx0aWYgKHRoaXMuaGFuZGxlRXJyb3IoZXJyb3IpKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gZXJyb3I7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cdHJldHVybiBudWxsO1xyXG59O1xyXG5cclxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUudmFsaWRhdGVPYmplY3RQcm9wZXJ0aWVzID0gZnVuY3Rpb24gdmFsaWRhdGVPYmplY3RQcm9wZXJ0aWVzKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKSB7XHJcblx0dmFyIGVycm9yO1xyXG5cdGZvciAodmFyIGtleSBpbiBkYXRhKSB7XHJcblx0XHR2YXIga2V5UG9pbnRlclBhdGggPSBkYXRhUG9pbnRlclBhdGggKyBcIi9cIiArIGtleS5yZXBsYWNlKC9+L2csICd+MCcpLnJlcGxhY2UoL1xcLy9nLCAnfjEnKTtcclxuXHRcdHZhciBmb3VuZE1hdGNoID0gZmFsc2U7XHJcblx0XHRpZiAoc2NoZW1hLnByb3BlcnRpZXMgIT09IHVuZGVmaW5lZCAmJiBzY2hlbWEucHJvcGVydGllc1trZXldICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0Zm91bmRNYXRjaCA9IHRydWU7XHJcblx0XHRcdGlmIChlcnJvciA9IHRoaXMudmFsaWRhdGVBbGwoZGF0YVtrZXldLCBzY2hlbWEucHJvcGVydGllc1trZXldLCBba2V5XSwgW1wicHJvcGVydGllc1wiLCBrZXldLCBrZXlQb2ludGVyUGF0aCkpIHtcclxuXHRcdFx0XHRyZXR1cm4gZXJyb3I7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdGlmIChzY2hlbWEucGF0dGVyblByb3BlcnRpZXMgIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRmb3IgKHZhciBwYXR0ZXJuS2V5IGluIHNjaGVtYS5wYXR0ZXJuUHJvcGVydGllcykge1xyXG5cdFx0XHRcdHZhciByZWdleHAgPSBuZXcgUmVnRXhwKHBhdHRlcm5LZXkpO1xyXG5cdFx0XHRcdGlmIChyZWdleHAudGVzdChrZXkpKSB7XHJcblx0XHRcdFx0XHRmb3VuZE1hdGNoID0gdHJ1ZTtcclxuXHRcdFx0XHRcdGlmIChlcnJvciA9IHRoaXMudmFsaWRhdGVBbGwoZGF0YVtrZXldLCBzY2hlbWEucGF0dGVyblByb3BlcnRpZXNbcGF0dGVybktleV0sIFtrZXldLCBbXCJwYXR0ZXJuUHJvcGVydGllc1wiLCBwYXR0ZXJuS2V5XSwga2V5UG9pbnRlclBhdGgpKSB7XHJcblx0XHRcdFx0XHRcdHJldHVybiBlcnJvcjtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdGlmICghZm91bmRNYXRjaCkge1xyXG5cdFx0XHRpZiAoc2NoZW1hLmFkZGl0aW9uYWxQcm9wZXJ0aWVzICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0XHRpZiAodGhpcy50cmFja1Vua25vd25Qcm9wZXJ0aWVzKSB7XHJcblx0XHRcdFx0XHR0aGlzLmtub3duUHJvcGVydHlQYXRoc1trZXlQb2ludGVyUGF0aF0gPSB0cnVlO1xyXG5cdFx0XHRcdFx0ZGVsZXRlIHRoaXMudW5rbm93blByb3BlcnR5UGF0aHNba2V5UG9pbnRlclBhdGhdO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpZiAodHlwZW9mIHNjaGVtYS5hZGRpdGlvbmFsUHJvcGVydGllcyA9PT0gXCJib29sZWFuXCIpIHtcclxuXHRcdFx0XHRcdGlmICghc2NoZW1hLmFkZGl0aW9uYWxQcm9wZXJ0aWVzKSB7XHJcblx0XHRcdFx0XHRcdGVycm9yID0gdGhpcy5jcmVhdGVFcnJvcihFcnJvckNvZGVzLk9CSkVDVF9BRERJVElPTkFMX1BST1BFUlRJRVMsIHtrZXk6IGtleX0sICcnLCAnL2FkZGl0aW9uYWxQcm9wZXJ0aWVzJywgbnVsbCwgZGF0YSwgc2NoZW1hKS5wcmVmaXhXaXRoKGtleSwgbnVsbCk7XHJcblx0XHRcdFx0XHRcdGlmICh0aGlzLmhhbmRsZUVycm9yKGVycm9yKSkge1xyXG5cdFx0XHRcdFx0XHRcdHJldHVybiBlcnJvcjtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRpZiAoZXJyb3IgPSB0aGlzLnZhbGlkYXRlQWxsKGRhdGFba2V5XSwgc2NoZW1hLmFkZGl0aW9uYWxQcm9wZXJ0aWVzLCBba2V5XSwgW1wiYWRkaXRpb25hbFByb3BlcnRpZXNcIl0sIGtleVBvaW50ZXJQYXRoKSkge1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gZXJyb3I7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2UgaWYgKHRoaXMudHJhY2tVbmtub3duUHJvcGVydGllcyAmJiAhdGhpcy5rbm93blByb3BlcnR5UGF0aHNba2V5UG9pbnRlclBhdGhdKSB7XHJcblx0XHRcdFx0dGhpcy51bmtub3duUHJvcGVydHlQYXRoc1trZXlQb2ludGVyUGF0aF0gPSB0cnVlO1xyXG5cdFx0XHR9XHJcblx0XHR9IGVsc2UgaWYgKHRoaXMudHJhY2tVbmtub3duUHJvcGVydGllcykge1xyXG5cdFx0XHR0aGlzLmtub3duUHJvcGVydHlQYXRoc1trZXlQb2ludGVyUGF0aF0gPSB0cnVlO1xyXG5cdFx0XHRkZWxldGUgdGhpcy51bmtub3duUHJvcGVydHlQYXRoc1trZXlQb2ludGVyUGF0aF07XHJcblx0XHR9XHJcblx0fVxyXG5cdHJldHVybiBudWxsO1xyXG59O1xyXG5cclxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUudmFsaWRhdGVPYmplY3REZXBlbmRlbmNpZXMgPSBmdW5jdGlvbiB2YWxpZGF0ZU9iamVjdERlcGVuZGVuY2llcyhkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aCkge1xyXG5cdHZhciBlcnJvcjtcclxuXHRpZiAoc2NoZW1hLmRlcGVuZGVuY2llcyAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRmb3IgKHZhciBkZXBLZXkgaW4gc2NoZW1hLmRlcGVuZGVuY2llcykge1xyXG5cdFx0XHRpZiAoZGF0YVtkZXBLZXldICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0XHR2YXIgZGVwID0gc2NoZW1hLmRlcGVuZGVuY2llc1tkZXBLZXldO1xyXG5cdFx0XHRcdGlmICh0eXBlb2YgZGVwID09PSBcInN0cmluZ1wiKSB7XHJcblx0XHRcdFx0XHRpZiAoZGF0YVtkZXBdID09PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0XHRcdFx0ZXJyb3IgPSB0aGlzLmNyZWF0ZUVycm9yKEVycm9yQ29kZXMuT0JKRUNUX0RFUEVOREVOQ1lfS0VZLCB7a2V5OiBkZXBLZXksIG1pc3Npbmc6IGRlcH0sICcnLCAnJywgbnVsbCwgZGF0YSwgc2NoZW1hKS5wcmVmaXhXaXRoKG51bGwsIGRlcEtleSkucHJlZml4V2l0aChudWxsLCBcImRlcGVuZGVuY2llc1wiKTtcclxuXHRcdFx0XHRcdFx0aWYgKHRoaXMuaGFuZGxlRXJyb3IoZXJyb3IpKSB7XHJcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGVycm9yO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGRlcCkpIHtcclxuXHRcdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgZGVwLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0XHRcdHZhciByZXF1aXJlZEtleSA9IGRlcFtpXTtcclxuXHRcdFx0XHRcdFx0aWYgKGRhdGFbcmVxdWlyZWRLZXldID09PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0XHRcdFx0XHRlcnJvciA9IHRoaXMuY3JlYXRlRXJyb3IoRXJyb3JDb2Rlcy5PQkpFQ1RfREVQRU5ERU5DWV9LRVksIHtrZXk6IGRlcEtleSwgbWlzc2luZzogcmVxdWlyZWRLZXl9LCAnJywgJy8nICsgaSwgbnVsbCwgZGF0YSwgc2NoZW1hKS5wcmVmaXhXaXRoKG51bGwsIGRlcEtleSkucHJlZml4V2l0aChudWxsLCBcImRlcGVuZGVuY2llc1wiKTtcclxuXHRcdFx0XHRcdFx0XHRpZiAodGhpcy5oYW5kbGVFcnJvcihlcnJvcikpIHtcclxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBlcnJvcjtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0aWYgKGVycm9yID0gdGhpcy52YWxpZGF0ZUFsbChkYXRhLCBkZXAsIFtdLCBbXCJkZXBlbmRlbmNpZXNcIiwgZGVwS2V5XSwgZGF0YVBvaW50ZXJQYXRoKSkge1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gZXJyb3I7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cdHJldHVybiBudWxsO1xyXG59O1xyXG5cclxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUudmFsaWRhdGVDb21iaW5hdGlvbnMgPSBmdW5jdGlvbiB2YWxpZGF0ZUNvbWJpbmF0aW9ucyhkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aCkge1xyXG5cdHJldHVybiB0aGlzLnZhbGlkYXRlQWxsT2YoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpXHJcblx0XHR8fCB0aGlzLnZhbGlkYXRlQW55T2YoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpXHJcblx0XHR8fCB0aGlzLnZhbGlkYXRlT25lT2YoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpXHJcblx0XHR8fCB0aGlzLnZhbGlkYXRlTm90KGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKVxyXG5cdFx0fHwgbnVsbDtcclxufTtcclxuXHJcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnZhbGlkYXRlQWxsT2YgPSBmdW5jdGlvbiB2YWxpZGF0ZUFsbE9mKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKSB7XHJcblx0aWYgKHNjaGVtYS5hbGxPZiA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9XHJcblx0dmFyIGVycm9yO1xyXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgc2NoZW1hLmFsbE9mLmxlbmd0aDsgaSsrKSB7XHJcblx0XHR2YXIgc3ViU2NoZW1hID0gc2NoZW1hLmFsbE9mW2ldO1xyXG5cdFx0aWYgKGVycm9yID0gdGhpcy52YWxpZGF0ZUFsbChkYXRhLCBzdWJTY2hlbWEsIFtdLCBbXCJhbGxPZlwiLCBpXSwgZGF0YVBvaW50ZXJQYXRoKSkge1xyXG5cdFx0XHRyZXR1cm4gZXJyb3I7XHJcblx0XHR9XHJcblx0fVxyXG5cdHJldHVybiBudWxsO1xyXG59O1xyXG5cclxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUudmFsaWRhdGVBbnlPZiA9IGZ1bmN0aW9uIHZhbGlkYXRlQW55T2YoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpIHtcclxuXHRpZiAoc2NoZW1hLmFueU9mID09PSB1bmRlZmluZWQpIHtcclxuXHRcdHJldHVybiBudWxsO1xyXG5cdH1cclxuXHR2YXIgZXJyb3JzID0gW107XHJcblx0dmFyIHN0YXJ0RXJyb3JDb3VudCA9IHRoaXMuZXJyb3JzLmxlbmd0aDtcclxuXHR2YXIgb2xkVW5rbm93blByb3BlcnR5UGF0aHMsIG9sZEtub3duUHJvcGVydHlQYXRocztcclxuXHRpZiAodGhpcy50cmFja1Vua25vd25Qcm9wZXJ0aWVzKSB7XHJcblx0XHRvbGRVbmtub3duUHJvcGVydHlQYXRocyA9IHRoaXMudW5rbm93blByb3BlcnR5UGF0aHM7XHJcblx0XHRvbGRLbm93blByb3BlcnR5UGF0aHMgPSB0aGlzLmtub3duUHJvcGVydHlQYXRocztcclxuXHR9XHJcblx0dmFyIGVycm9yQXRFbmQgPSB0cnVlO1xyXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgc2NoZW1hLmFueU9mLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRpZiAodGhpcy50cmFja1Vua25vd25Qcm9wZXJ0aWVzKSB7XHJcblx0XHRcdHRoaXMudW5rbm93blByb3BlcnR5UGF0aHMgPSB7fTtcclxuXHRcdFx0dGhpcy5rbm93blByb3BlcnR5UGF0aHMgPSB7fTtcclxuXHRcdH1cclxuXHRcdHZhciBzdWJTY2hlbWEgPSBzY2hlbWEuYW55T2ZbaV07XHJcblxyXG5cdFx0dmFyIGVycm9yQ291bnQgPSB0aGlzLmVycm9ycy5sZW5ndGg7XHJcblx0XHR2YXIgZXJyb3IgPSB0aGlzLnZhbGlkYXRlQWxsKGRhdGEsIHN1YlNjaGVtYSwgW10sIFtcImFueU9mXCIsIGldLCBkYXRhUG9pbnRlclBhdGgpO1xyXG5cclxuXHRcdGlmIChlcnJvciA9PT0gbnVsbCAmJiBlcnJvckNvdW50ID09PSB0aGlzLmVycm9ycy5sZW5ndGgpIHtcclxuXHRcdFx0dGhpcy5lcnJvcnMgPSB0aGlzLmVycm9ycy5zbGljZSgwLCBzdGFydEVycm9yQ291bnQpO1xyXG5cclxuXHRcdFx0aWYgKHRoaXMudHJhY2tVbmtub3duUHJvcGVydGllcykge1xyXG5cdFx0XHRcdGZvciAodmFyIGtub3duS2V5IGluIHRoaXMua25vd25Qcm9wZXJ0eVBhdGhzKSB7XHJcblx0XHRcdFx0XHRvbGRLbm93blByb3BlcnR5UGF0aHNba25vd25LZXldID0gdHJ1ZTtcclxuXHRcdFx0XHRcdGRlbGV0ZSBvbGRVbmtub3duUHJvcGVydHlQYXRoc1trbm93bktleV07XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGZvciAodmFyIHVua25vd25LZXkgaW4gdGhpcy51bmtub3duUHJvcGVydHlQYXRocykge1xyXG5cdFx0XHRcdFx0aWYgKCFvbGRLbm93blByb3BlcnR5UGF0aHNbdW5rbm93bktleV0pIHtcclxuXHRcdFx0XHRcdFx0b2xkVW5rbm93blByb3BlcnR5UGF0aHNbdW5rbm93bktleV0gPSB0cnVlO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHQvLyBXZSBuZWVkIHRvIGNvbnRpbnVlIGxvb3Bpbmcgc28gd2UgY2F0Y2ggYWxsIHRoZSBwcm9wZXJ0eSBkZWZpbml0aW9ucywgYnV0IHdlIGRvbid0IHdhbnQgdG8gcmV0dXJuIGFuIGVycm9yXHJcblx0XHRcdFx0ZXJyb3JBdEVuZCA9IGZhbHNlO1xyXG5cdFx0XHRcdGNvbnRpbnVlO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHRcdGlmIChlcnJvcikge1xyXG5cdFx0XHRlcnJvcnMucHVzaChlcnJvci5wcmVmaXhXaXRoKG51bGwsIFwiXCIgKyBpKS5wcmVmaXhXaXRoKG51bGwsIFwiYW55T2ZcIikpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRpZiAodGhpcy50cmFja1Vua25vd25Qcm9wZXJ0aWVzKSB7XHJcblx0XHR0aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzID0gb2xkVW5rbm93blByb3BlcnR5UGF0aHM7XHJcblx0XHR0aGlzLmtub3duUHJvcGVydHlQYXRocyA9IG9sZEtub3duUHJvcGVydHlQYXRocztcclxuXHR9XHJcblx0aWYgKGVycm9yQXRFbmQpIHtcclxuXHRcdGVycm9ycyA9IGVycm9ycy5jb25jYXQodGhpcy5lcnJvcnMuc2xpY2Uoc3RhcnRFcnJvckNvdW50KSk7XHJcblx0XHR0aGlzLmVycm9ycyA9IHRoaXMuZXJyb3JzLnNsaWNlKDAsIHN0YXJ0RXJyb3JDb3VudCk7XHJcblx0XHRyZXR1cm4gdGhpcy5jcmVhdGVFcnJvcihFcnJvckNvZGVzLkFOWV9PRl9NSVNTSU5HLCB7fSwgXCJcIiwgXCIvYW55T2ZcIiwgZXJyb3JzLCBkYXRhLCBzY2hlbWEpO1xyXG5cdH1cclxufTtcclxuXHJcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnZhbGlkYXRlT25lT2YgPSBmdW5jdGlvbiB2YWxpZGF0ZU9uZU9mKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKSB7XHJcblx0aWYgKHNjaGVtYS5vbmVPZiA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9XHJcblx0dmFyIHZhbGlkSW5kZXggPSBudWxsO1xyXG5cdHZhciBlcnJvcnMgPSBbXTtcclxuXHR2YXIgc3RhcnRFcnJvckNvdW50ID0gdGhpcy5lcnJvcnMubGVuZ3RoO1xyXG5cdHZhciBvbGRVbmtub3duUHJvcGVydHlQYXRocywgb2xkS25vd25Qcm9wZXJ0eVBhdGhzO1xyXG5cdGlmICh0aGlzLnRyYWNrVW5rbm93blByb3BlcnRpZXMpIHtcclxuXHRcdG9sZFVua25vd25Qcm9wZXJ0eVBhdGhzID0gdGhpcy51bmtub3duUHJvcGVydHlQYXRocztcclxuXHRcdG9sZEtub3duUHJvcGVydHlQYXRocyA9IHRoaXMua25vd25Qcm9wZXJ0eVBhdGhzO1xyXG5cdH1cclxuXHRmb3IgKHZhciBpID0gMDsgaSA8IHNjaGVtYS5vbmVPZi5sZW5ndGg7IGkrKykge1xyXG5cdFx0aWYgKHRoaXMudHJhY2tVbmtub3duUHJvcGVydGllcykge1xyXG5cdFx0XHR0aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzID0ge307XHJcblx0XHRcdHRoaXMua25vd25Qcm9wZXJ0eVBhdGhzID0ge307XHJcblx0XHR9XHJcblx0XHR2YXIgc3ViU2NoZW1hID0gc2NoZW1hLm9uZU9mW2ldO1xyXG5cclxuXHRcdHZhciBlcnJvckNvdW50ID0gdGhpcy5lcnJvcnMubGVuZ3RoO1xyXG5cdFx0dmFyIGVycm9yID0gdGhpcy52YWxpZGF0ZUFsbChkYXRhLCBzdWJTY2hlbWEsIFtdLCBbXCJvbmVPZlwiLCBpXSwgZGF0YVBvaW50ZXJQYXRoKTtcclxuXHJcblx0XHRpZiAoZXJyb3IgPT09IG51bGwgJiYgZXJyb3JDb3VudCA9PT0gdGhpcy5lcnJvcnMubGVuZ3RoKSB7XHJcblx0XHRcdGlmICh2YWxpZEluZGV4ID09PSBudWxsKSB7XHJcblx0XHRcdFx0dmFsaWRJbmRleCA9IGk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dGhpcy5lcnJvcnMgPSB0aGlzLmVycm9ycy5zbGljZSgwLCBzdGFydEVycm9yQ291bnQpO1xyXG5cdFx0XHRcdHJldHVybiB0aGlzLmNyZWF0ZUVycm9yKEVycm9yQ29kZXMuT05FX09GX01VTFRJUExFLCB7aW5kZXgxOiB2YWxpZEluZGV4LCBpbmRleDI6IGl9LCBcIlwiLCBcIi9vbmVPZlwiLCBudWxsLCBkYXRhLCBzY2hlbWEpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmICh0aGlzLnRyYWNrVW5rbm93blByb3BlcnRpZXMpIHtcclxuXHRcdFx0XHRmb3IgKHZhciBrbm93bktleSBpbiB0aGlzLmtub3duUHJvcGVydHlQYXRocykge1xyXG5cdFx0XHRcdFx0b2xkS25vd25Qcm9wZXJ0eVBhdGhzW2tub3duS2V5XSA9IHRydWU7XHJcblx0XHRcdFx0XHRkZWxldGUgb2xkVW5rbm93blByb3BlcnR5UGF0aHNba25vd25LZXldO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRmb3IgKHZhciB1bmtub3duS2V5IGluIHRoaXMudW5rbm93blByb3BlcnR5UGF0aHMpIHtcclxuXHRcdFx0XHRcdGlmICghb2xkS25vd25Qcm9wZXJ0eVBhdGhzW3Vua25vd25LZXldKSB7XHJcblx0XHRcdFx0XHRcdG9sZFVua25vd25Qcm9wZXJ0eVBhdGhzW3Vua25vd25LZXldID0gdHJ1ZTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSBpZiAoZXJyb3IpIHtcclxuXHRcdFx0ZXJyb3JzLnB1c2goZXJyb3IpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRpZiAodGhpcy50cmFja1Vua25vd25Qcm9wZXJ0aWVzKSB7XHJcblx0XHR0aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzID0gb2xkVW5rbm93blByb3BlcnR5UGF0aHM7XHJcblx0XHR0aGlzLmtub3duUHJvcGVydHlQYXRocyA9IG9sZEtub3duUHJvcGVydHlQYXRocztcclxuXHR9XHJcblx0aWYgKHZhbGlkSW5kZXggPT09IG51bGwpIHtcclxuXHRcdGVycm9ycyA9IGVycm9ycy5jb25jYXQodGhpcy5lcnJvcnMuc2xpY2Uoc3RhcnRFcnJvckNvdW50KSk7XHJcblx0XHR0aGlzLmVycm9ycyA9IHRoaXMuZXJyb3JzLnNsaWNlKDAsIHN0YXJ0RXJyb3JDb3VudCk7XHJcblx0XHRyZXR1cm4gdGhpcy5jcmVhdGVFcnJvcihFcnJvckNvZGVzLk9ORV9PRl9NSVNTSU5HLCB7fSwgXCJcIiwgXCIvb25lT2ZcIiwgZXJyb3JzLCBkYXRhLCBzY2hlbWEpO1xyXG5cdH0gZWxzZSB7XHJcblx0XHR0aGlzLmVycm9ycyA9IHRoaXMuZXJyb3JzLnNsaWNlKDAsIHN0YXJ0RXJyb3JDb3VudCk7XHJcblx0fVxyXG5cdHJldHVybiBudWxsO1xyXG59O1xyXG5cclxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUudmFsaWRhdGVOb3QgPSBmdW5jdGlvbiB2YWxpZGF0ZU5vdChkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aCkge1xyXG5cdGlmIChzY2hlbWEubm90ID09PSB1bmRlZmluZWQpIHtcclxuXHRcdHJldHVybiBudWxsO1xyXG5cdH1cclxuXHR2YXIgb2xkRXJyb3JDb3VudCA9IHRoaXMuZXJyb3JzLmxlbmd0aDtcclxuXHR2YXIgb2xkVW5rbm93blByb3BlcnR5UGF0aHMsIG9sZEtub3duUHJvcGVydHlQYXRocztcclxuXHRpZiAodGhpcy50cmFja1Vua25vd25Qcm9wZXJ0aWVzKSB7XHJcblx0XHRvbGRVbmtub3duUHJvcGVydHlQYXRocyA9IHRoaXMudW5rbm93blByb3BlcnR5UGF0aHM7XHJcblx0XHRvbGRLbm93blByb3BlcnR5UGF0aHMgPSB0aGlzLmtub3duUHJvcGVydHlQYXRocztcclxuXHRcdHRoaXMudW5rbm93blByb3BlcnR5UGF0aHMgPSB7fTtcclxuXHRcdHRoaXMua25vd25Qcm9wZXJ0eVBhdGhzID0ge307XHJcblx0fVxyXG5cdHZhciBlcnJvciA9IHRoaXMudmFsaWRhdGVBbGwoZGF0YSwgc2NoZW1hLm5vdCwgbnVsbCwgbnVsbCwgZGF0YVBvaW50ZXJQYXRoKTtcclxuXHR2YXIgbm90RXJyb3JzID0gdGhpcy5lcnJvcnMuc2xpY2Uob2xkRXJyb3JDb3VudCk7XHJcblx0dGhpcy5lcnJvcnMgPSB0aGlzLmVycm9ycy5zbGljZSgwLCBvbGRFcnJvckNvdW50KTtcclxuXHRpZiAodGhpcy50cmFja1Vua25vd25Qcm9wZXJ0aWVzKSB7XHJcblx0XHR0aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzID0gb2xkVW5rbm93blByb3BlcnR5UGF0aHM7XHJcblx0XHR0aGlzLmtub3duUHJvcGVydHlQYXRocyA9IG9sZEtub3duUHJvcGVydHlQYXRocztcclxuXHR9XHJcblx0aWYgKGVycm9yID09PSBudWxsICYmIG5vdEVycm9ycy5sZW5ndGggPT09IDApIHtcclxuXHRcdHJldHVybiB0aGlzLmNyZWF0ZUVycm9yKEVycm9yQ29kZXMuTk9UX1BBU1NFRCwge30sIFwiXCIsIFwiL25vdFwiLCBudWxsLCBkYXRhLCBzY2hlbWEpO1xyXG5cdH1cclxuXHRyZXR1cm4gbnVsbDtcclxufTtcclxuXHJcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnZhbGlkYXRlSHlwZXJtZWRpYSA9IGZ1bmN0aW9uIHZhbGlkYXRlQ29tYmluYXRpb25zKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKSB7XHJcblx0aWYgKCFzY2hlbWEubGlua3MpIHtcclxuXHRcdHJldHVybiBudWxsO1xyXG5cdH1cclxuXHR2YXIgZXJyb3I7XHJcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzY2hlbWEubGlua3MubGVuZ3RoOyBpKyspIHtcclxuXHRcdHZhciBsZG8gPSBzY2hlbWEubGlua3NbaV07XHJcblx0XHRpZiAobGRvLnJlbCA9PT0gXCJkZXNjcmliZWRieVwiKSB7XHJcblx0XHRcdHZhciB0ZW1wbGF0ZSA9IG5ldyBVcmlUZW1wbGF0ZShsZG8uaHJlZik7XHJcblx0XHRcdHZhciBhbGxQcmVzZW50ID0gdHJ1ZTtcclxuXHRcdFx0Zm9yICh2YXIgaiA9IDA7IGogPCB0ZW1wbGF0ZS52YXJOYW1lcy5sZW5ndGg7IGorKykge1xyXG5cdFx0XHRcdGlmICghKHRlbXBsYXRlLnZhck5hbWVzW2pdIGluIGRhdGEpKSB7XHJcblx0XHRcdFx0XHRhbGxQcmVzZW50ID0gZmFsc2U7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKGFsbFByZXNlbnQpIHtcclxuXHRcdFx0XHR2YXIgc2NoZW1hVXJsID0gdGVtcGxhdGUuZmlsbEZyb21PYmplY3QoZGF0YSk7XHJcblx0XHRcdFx0dmFyIHN1YlNjaGVtYSA9IHtcIiRyZWZcIjogc2NoZW1hVXJsfTtcclxuXHRcdFx0XHRpZiAoZXJyb3IgPSB0aGlzLnZhbGlkYXRlQWxsKGRhdGEsIHN1YlNjaGVtYSwgW10sIFtcImxpbmtzXCIsIGldLCBkYXRhUG9pbnRlclBhdGgpKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gZXJyb3I7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59O1xyXG5cclxuLy8gcGFyc2VVUkkoKSBhbmQgcmVzb2x2ZVVybCgpIGFyZSBmcm9tIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tLzEwODg4NTBcclxuLy8gICAtICByZWxlYXNlZCBhcyBwdWJsaWMgZG9tYWluIGJ5IGF1dGhvciAoXCJZYWZmbGVcIikgLSBzZWUgY29tbWVudHMgb24gZ2lzdFxyXG5cclxuZnVuY3Rpb24gcGFyc2VVUkkodXJsKSB7XHJcblx0dmFyIG0gPSBTdHJpbmcodXJsKS5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLCAnJykubWF0Y2goL14oW146XFwvPyNdKzopPyhcXC9cXC8oPzpbXjpAXSooPzo6W146QF0qKT9AKT8oKFteOlxcLz8jXSopKD86OihcXGQqKSk/KSk/KFtePyNdKikoXFw/W14jXSopPygjW1xcc1xcU10qKT8vKTtcclxuXHQvLyBhdXRob3JpdHkgPSAnLy8nICsgdXNlciArICc6JyArIHBhc3MgJ0AnICsgaG9zdG5hbWUgKyAnOicgcG9ydFxyXG5cdHJldHVybiAobSA/IHtcclxuXHRcdGhyZWYgICAgIDogbVswXSB8fCAnJyxcclxuXHRcdHByb3RvY29sIDogbVsxXSB8fCAnJyxcclxuXHRcdGF1dGhvcml0eTogbVsyXSB8fCAnJyxcclxuXHRcdGhvc3QgICAgIDogbVszXSB8fCAnJyxcclxuXHRcdGhvc3RuYW1lIDogbVs0XSB8fCAnJyxcclxuXHRcdHBvcnQgICAgIDogbVs1XSB8fCAnJyxcclxuXHRcdHBhdGhuYW1lIDogbVs2XSB8fCAnJyxcclxuXHRcdHNlYXJjaCAgIDogbVs3XSB8fCAnJyxcclxuXHRcdGhhc2ggICAgIDogbVs4XSB8fCAnJ1xyXG5cdH0gOiBudWxsKTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVzb2x2ZVVybChiYXNlLCBocmVmKSB7Ly8gUkZDIDM5ODZcclxuXHJcblx0ZnVuY3Rpb24gcmVtb3ZlRG90U2VnbWVudHMoaW5wdXQpIHtcclxuXHRcdHZhciBvdXRwdXQgPSBbXTtcclxuXHRcdGlucHV0LnJlcGxhY2UoL14oXFwuXFwuPyhcXC98JCkpKy8sICcnKVxyXG5cdFx0XHQucmVwbGFjZSgvXFwvKFxcLihcXC98JCkpKy9nLCAnLycpXHJcblx0XHRcdC5yZXBsYWNlKC9cXC9cXC5cXC4kLywgJy8uLi8nKVxyXG5cdFx0XHQucmVwbGFjZSgvXFwvP1teXFwvXSovZywgZnVuY3Rpb24gKHApIHtcclxuXHRcdFx0XHRpZiAocCA9PT0gJy8uLicpIHtcclxuXHRcdFx0XHRcdG91dHB1dC5wb3AoKTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0b3V0cHV0LnB1c2gocCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0XHRyZXR1cm4gb3V0cHV0LmpvaW4oJycpLnJlcGxhY2UoL15cXC8vLCBpbnB1dC5jaGFyQXQoMCkgPT09ICcvJyA/ICcvJyA6ICcnKTtcclxuXHR9XHJcblxyXG5cdGhyZWYgPSBwYXJzZVVSSShocmVmIHx8ICcnKTtcclxuXHRiYXNlID0gcGFyc2VVUkkoYmFzZSB8fCAnJyk7XHJcblxyXG5cdHJldHVybiAhaHJlZiB8fCAhYmFzZSA/IG51bGwgOiAoaHJlZi5wcm90b2NvbCB8fCBiYXNlLnByb3RvY29sKSArXHJcblx0XHQoaHJlZi5wcm90b2NvbCB8fCBocmVmLmF1dGhvcml0eSA/IGhyZWYuYXV0aG9yaXR5IDogYmFzZS5hdXRob3JpdHkpICtcclxuXHRcdHJlbW92ZURvdFNlZ21lbnRzKGhyZWYucHJvdG9jb2wgfHwgaHJlZi5hdXRob3JpdHkgfHwgaHJlZi5wYXRobmFtZS5jaGFyQXQoMCkgPT09ICcvJyA/IGhyZWYucGF0aG5hbWUgOiAoaHJlZi5wYXRobmFtZSA/ICgoYmFzZS5hdXRob3JpdHkgJiYgIWJhc2UucGF0aG5hbWUgPyAnLycgOiAnJykgKyBiYXNlLnBhdGhuYW1lLnNsaWNlKDAsIGJhc2UucGF0aG5hbWUubGFzdEluZGV4T2YoJy8nKSArIDEpICsgaHJlZi5wYXRobmFtZSkgOiBiYXNlLnBhdGhuYW1lKSkgK1xyXG5cdFx0KGhyZWYucHJvdG9jb2wgfHwgaHJlZi5hdXRob3JpdHkgfHwgaHJlZi5wYXRobmFtZSA/IGhyZWYuc2VhcmNoIDogKGhyZWYuc2VhcmNoIHx8IGJhc2Uuc2VhcmNoKSkgK1xyXG5cdFx0aHJlZi5oYXNoO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXREb2N1bWVudFVyaSh1cmkpIHtcclxuXHRyZXR1cm4gdXJpLnNwbGl0KCcjJylbMF07XHJcbn1cclxuZnVuY3Rpb24gbm9ybVNjaGVtYShzY2hlbWEsIGJhc2VVcmkpIHtcclxuXHRpZiAoc2NoZW1hICYmIHR5cGVvZiBzY2hlbWEgPT09IFwib2JqZWN0XCIpIHtcclxuXHRcdGlmIChiYXNlVXJpID09PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0YmFzZVVyaSA9IHNjaGVtYS5pZDtcclxuXHRcdH0gZWxzZSBpZiAodHlwZW9mIHNjaGVtYS5pZCA9PT0gXCJzdHJpbmdcIikge1xyXG5cdFx0XHRiYXNlVXJpID0gcmVzb2x2ZVVybChiYXNlVXJpLCBzY2hlbWEuaWQpO1xyXG5cdFx0XHRzY2hlbWEuaWQgPSBiYXNlVXJpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKEFycmF5LmlzQXJyYXkoc2NoZW1hKSkge1xyXG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHNjaGVtYS5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdG5vcm1TY2hlbWEoc2NoZW1hW2ldLCBiYXNlVXJpKTtcclxuXHRcdFx0fVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0aWYgKHR5cGVvZiBzY2hlbWFbJyRyZWYnXSA9PT0gXCJzdHJpbmdcIikge1xyXG5cdFx0XHRcdHNjaGVtYVsnJHJlZiddID0gcmVzb2x2ZVVybChiYXNlVXJpLCBzY2hlbWFbJyRyZWYnXSk7XHJcblx0XHRcdH1cclxuXHRcdFx0Zm9yICh2YXIga2V5IGluIHNjaGVtYSkge1xyXG5cdFx0XHRcdGlmIChrZXkgIT09IFwiZW51bVwiKSB7XHJcblx0XHRcdFx0XHRub3JtU2NoZW1hKHNjaGVtYVtrZXldLCBiYXNlVXJpKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRlZmF1bHRFcnJvclJlcG9ydGVyKGxhbmd1YWdlKSB7XHJcblx0bGFuZ3VhZ2UgPSBsYW5ndWFnZSB8fCAnZW4nO1xyXG5cclxuXHR2YXIgZXJyb3JNZXNzYWdlcyA9IGxhbmd1YWdlc1tsYW5ndWFnZV07XHJcblxyXG5cdHJldHVybiBmdW5jdGlvbiAoZXJyb3IpIHtcclxuXHRcdHZhciBtZXNzYWdlVGVtcGxhdGUgPSBlcnJvck1lc3NhZ2VzW2Vycm9yLmNvZGVdIHx8IEVycm9yTWVzc2FnZXNEZWZhdWx0W2Vycm9yLmNvZGVdO1xyXG5cdFx0aWYgKHR5cGVvZiBtZXNzYWdlVGVtcGxhdGUgIT09ICdzdHJpbmcnKSB7XHJcblx0XHRcdHJldHVybiBcIlVua25vd24gZXJyb3IgY29kZSBcIiArIGVycm9yLmNvZGUgKyBcIjogXCIgKyBKU09OLnN0cmluZ2lmeShlcnJvci5tZXNzYWdlUGFyYW1zKTtcclxuXHRcdH1cclxuXHRcdHZhciBtZXNzYWdlUGFyYW1zID0gZXJyb3IucGFyYW1zO1xyXG5cdFx0Ly8gQWRhcHRlZCBmcm9tIENyb2NrZm9yZCdzIHN1cHBsYW50KClcclxuXHRcdHJldHVybiBtZXNzYWdlVGVtcGxhdGUucmVwbGFjZSgvXFx7KFtee31dKilcXH0vZywgZnVuY3Rpb24gKHdob2xlLCB2YXJOYW1lKSB7XHJcblx0XHRcdHZhciBzdWJWYWx1ZSA9IG1lc3NhZ2VQYXJhbXNbdmFyTmFtZV07XHJcblx0XHRcdHJldHVybiB0eXBlb2Ygc3ViVmFsdWUgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiBzdWJWYWx1ZSA9PT0gJ251bWJlcicgPyBzdWJWYWx1ZSA6IHdob2xlO1xyXG5cdFx0fSk7XHJcblx0fTtcclxufVxyXG5cclxudmFyIEVycm9yQ29kZXMgPSB7XHJcblx0SU5WQUxJRF9UWVBFOiAwLFxyXG5cdEVOVU1fTUlTTUFUQ0g6IDEsXHJcblx0QU5ZX09GX01JU1NJTkc6IDEwLFxyXG5cdE9ORV9PRl9NSVNTSU5HOiAxMSxcclxuXHRPTkVfT0ZfTVVMVElQTEU6IDEyLFxyXG5cdE5PVF9QQVNTRUQ6IDEzLFxyXG5cdC8vIE51bWVyaWMgZXJyb3JzXHJcblx0TlVNQkVSX01VTFRJUExFX09GOiAxMDAsXHJcblx0TlVNQkVSX01JTklNVU06IDEwMSxcclxuXHROVU1CRVJfTUlOSU1VTV9FWENMVVNJVkU6IDEwMixcclxuXHROVU1CRVJfTUFYSU1VTTogMTAzLFxyXG5cdE5VTUJFUl9NQVhJTVVNX0VYQ0xVU0lWRTogMTA0LFxyXG5cdE5VTUJFUl9OT1RfQV9OVU1CRVI6IDEwNSxcclxuXHQvLyBTdHJpbmcgZXJyb3JzXHJcblx0U1RSSU5HX0xFTkdUSF9TSE9SVDogMjAwLFxyXG5cdFNUUklOR19MRU5HVEhfTE9ORzogMjAxLFxyXG5cdFNUUklOR19QQVRURVJOOiAyMDIsXHJcblx0Ly8gT2JqZWN0IGVycm9yc1xyXG5cdE9CSkVDVF9QUk9QRVJUSUVTX01JTklNVU06IDMwMCxcclxuXHRPQkpFQ1RfUFJPUEVSVElFU19NQVhJTVVNOiAzMDEsXHJcblx0T0JKRUNUX1JFUVVJUkVEOiAzMDIsXHJcblx0T0JKRUNUX0FERElUSU9OQUxfUFJPUEVSVElFUzogMzAzLFxyXG5cdE9CSkVDVF9ERVBFTkRFTkNZX0tFWTogMzA0LFxyXG5cdC8vIEFycmF5IGVycm9yc1xyXG5cdEFSUkFZX0xFTkdUSF9TSE9SVDogNDAwLFxyXG5cdEFSUkFZX0xFTkdUSF9MT05HOiA0MDEsXHJcblx0QVJSQVlfVU5JUVVFOiA0MDIsXHJcblx0QVJSQVlfQURESVRJT05BTF9JVEVNUzogNDAzLFxyXG5cdC8vIEN1c3RvbS91c2VyLWRlZmluZWQgZXJyb3JzXHJcblx0Rk9STUFUX0NVU1RPTTogNTAwLFxyXG5cdEtFWVdPUkRfQ1VTVE9NOiA1MDEsXHJcblx0Ly8gU2NoZW1hIHN0cnVjdHVyZVxyXG5cdENJUkNVTEFSX1JFRkVSRU5DRTogNjAwLFxyXG5cdC8vIE5vbi1zdGFuZGFyZCB2YWxpZGF0aW9uIG9wdGlvbnNcclxuXHRVTktOT1dOX1BST1BFUlRZOiAxMDAwXHJcbn07XHJcbnZhciBFcnJvckNvZGVMb29rdXAgPSB7fTtcclxuZm9yICh2YXIga2V5IGluIEVycm9yQ29kZXMpIHtcclxuXHRFcnJvckNvZGVMb29rdXBbRXJyb3JDb2Rlc1trZXldXSA9IGtleTtcclxufVxyXG52YXIgRXJyb3JNZXNzYWdlc0RlZmF1bHQgPSB7XHJcblx0SU5WQUxJRF9UWVBFOiBcIkludmFsaWQgdHlwZToge3R5cGV9IChleHBlY3RlZCB7ZXhwZWN0ZWR9KVwiLFxyXG5cdEVOVU1fTUlTTUFUQ0g6IFwiTm8gZW51bSBtYXRjaCBmb3I6IHt2YWx1ZX1cIixcclxuXHRBTllfT0ZfTUlTU0lORzogXCJEYXRhIGRvZXMgbm90IG1hdGNoIGFueSBzY2hlbWFzIGZyb20gXFxcImFueU9mXFxcIlwiLFxyXG5cdE9ORV9PRl9NSVNTSU5HOiBcIkRhdGEgZG9lcyBub3QgbWF0Y2ggYW55IHNjaGVtYXMgZnJvbSBcXFwib25lT2ZcXFwiXCIsXHJcblx0T05FX09GX01VTFRJUExFOiBcIkRhdGEgaXMgdmFsaWQgYWdhaW5zdCBtb3JlIHRoYW4gb25lIHNjaGVtYSBmcm9tIFxcXCJvbmVPZlxcXCI6IGluZGljZXMge2luZGV4MX0gYW5kIHtpbmRleDJ9XCIsXHJcblx0Tk9UX1BBU1NFRDogXCJEYXRhIG1hdGNoZXMgc2NoZW1hIGZyb20gXFxcIm5vdFxcXCJcIixcclxuXHQvLyBOdW1lcmljIGVycm9yc1xyXG5cdE5VTUJFUl9NVUxUSVBMRV9PRjogXCJWYWx1ZSB7dmFsdWV9IGlzIG5vdCBhIG11bHRpcGxlIG9mIHttdWx0aXBsZU9mfVwiLFxyXG5cdE5VTUJFUl9NSU5JTVVNOiBcIlZhbHVlIHt2YWx1ZX0gaXMgbGVzcyB0aGFuIG1pbmltdW0ge21pbmltdW19XCIsXHJcblx0TlVNQkVSX01JTklNVU1fRVhDTFVTSVZFOiBcIlZhbHVlIHt2YWx1ZX0gaXMgZXF1YWwgdG8gZXhjbHVzaXZlIG1pbmltdW0ge21pbmltdW19XCIsXHJcblx0TlVNQkVSX01BWElNVU06IFwiVmFsdWUge3ZhbHVlfSBpcyBncmVhdGVyIHRoYW4gbWF4aW11bSB7bWF4aW11bX1cIixcclxuXHROVU1CRVJfTUFYSU1VTV9FWENMVVNJVkU6IFwiVmFsdWUge3ZhbHVlfSBpcyBlcXVhbCB0byBleGNsdXNpdmUgbWF4aW11bSB7bWF4aW11bX1cIixcclxuXHROVU1CRVJfTk9UX0FfTlVNQkVSOiBcIlZhbHVlIHt2YWx1ZX0gaXMgbm90IGEgdmFsaWQgbnVtYmVyXCIsXHJcblx0Ly8gU3RyaW5nIGVycm9yc1xyXG5cdFNUUklOR19MRU5HVEhfU0hPUlQ6IFwiU3RyaW5nIGlzIHRvbyBzaG9ydCAoe2xlbmd0aH0gY2hhcnMpLCBtaW5pbXVtIHttaW5pbXVtfVwiLFxyXG5cdFNUUklOR19MRU5HVEhfTE9ORzogXCJTdHJpbmcgaXMgdG9vIGxvbmcgKHtsZW5ndGh9IGNoYXJzKSwgbWF4aW11bSB7bWF4aW11bX1cIixcclxuXHRTVFJJTkdfUEFUVEVSTjogXCJTdHJpbmcgZG9lcyBub3QgbWF0Y2ggcGF0dGVybjoge3BhdHRlcm59XCIsXHJcblx0Ly8gT2JqZWN0IGVycm9yc1xyXG5cdE9CSkVDVF9QUk9QRVJUSUVTX01JTklNVU06IFwiVG9vIGZldyBwcm9wZXJ0aWVzIGRlZmluZWQgKHtwcm9wZXJ0eUNvdW50fSksIG1pbmltdW0ge21pbmltdW19XCIsXHJcblx0T0JKRUNUX1BST1BFUlRJRVNfTUFYSU1VTTogXCJUb28gbWFueSBwcm9wZXJ0aWVzIGRlZmluZWQgKHtwcm9wZXJ0eUNvdW50fSksIG1heGltdW0ge21heGltdW19XCIsXHJcblx0T0JKRUNUX1JFUVVJUkVEOiBcIk1pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHk6IHtrZXl9XCIsXHJcblx0T0JKRUNUX0FERElUSU9OQUxfUFJPUEVSVElFUzogXCJBZGRpdGlvbmFsIHByb3BlcnRpZXMgbm90IGFsbG93ZWRcIixcclxuXHRPQkpFQ1RfREVQRU5ERU5DWV9LRVk6IFwiRGVwZW5kZW5jeSBmYWlsZWQgLSBrZXkgbXVzdCBleGlzdDoge21pc3Npbmd9IChkdWUgdG8ga2V5OiB7a2V5fSlcIixcclxuXHQvLyBBcnJheSBlcnJvcnNcclxuXHRBUlJBWV9MRU5HVEhfU0hPUlQ6IFwiQXJyYXkgaXMgdG9vIHNob3J0ICh7bGVuZ3RofSksIG1pbmltdW0ge21pbmltdW19XCIsXHJcblx0QVJSQVlfTEVOR1RIX0xPTkc6IFwiQXJyYXkgaXMgdG9vIGxvbmcgKHtsZW5ndGh9KSwgbWF4aW11bSB7bWF4aW11bX1cIixcclxuXHRBUlJBWV9VTklRVUU6IFwiQXJyYXkgaXRlbXMgYXJlIG5vdCB1bmlxdWUgKGluZGljZXMge21hdGNoMX0gYW5kIHttYXRjaDJ9KVwiLFxyXG5cdEFSUkFZX0FERElUSU9OQUxfSVRFTVM6IFwiQWRkaXRpb25hbCBpdGVtcyBub3QgYWxsb3dlZFwiLFxyXG5cdC8vIEZvcm1hdCBlcnJvcnNcclxuXHRGT1JNQVRfQ1VTVE9NOiBcIkZvcm1hdCB2YWxpZGF0aW9uIGZhaWxlZCAoe21lc3NhZ2V9KVwiLFxyXG5cdEtFWVdPUkRfQ1VTVE9NOiBcIktleXdvcmQgZmFpbGVkOiB7a2V5fSAoe21lc3NhZ2V9KVwiLFxyXG5cdC8vIFNjaGVtYSBzdHJ1Y3R1cmVcclxuXHRDSVJDVUxBUl9SRUZFUkVOQ0U6IFwiQ2lyY3VsYXIgJHJlZnM6IHt1cmxzfVwiLFxyXG5cdC8vIE5vbi1zdGFuZGFyZCB2YWxpZGF0aW9uIG9wdGlvbnNcclxuXHRVTktOT1dOX1BST1BFUlRZOiBcIlVua25vd24gcHJvcGVydHkgKG5vdCBpbiBzY2hlbWEpXCJcclxufTtcclxuXHJcbmZ1bmN0aW9uIFZhbGlkYXRpb25FcnJvcihjb2RlLCBwYXJhbXMsIGRhdGFQYXRoLCBzY2hlbWFQYXRoLCBzdWJFcnJvcnMpIHtcclxuXHRFcnJvci5jYWxsKHRoaXMpO1xyXG5cdGlmIChjb2RlID09PSB1bmRlZmluZWQpIHtcclxuXHRcdHRocm93IG5ldyBFcnJvciAoXCJObyBlcnJvciBjb2RlIHN1cHBsaWVkOiBcIiArIHNjaGVtYVBhdGgpO1xyXG5cdH1cclxuXHR0aGlzLm1lc3NhZ2UgPSAnJztcclxuXHR0aGlzLnBhcmFtcyA9IHBhcmFtcztcclxuXHR0aGlzLmNvZGUgPSBjb2RlO1xyXG5cdHRoaXMuZGF0YVBhdGggPSBkYXRhUGF0aCB8fCBcIlwiO1xyXG5cdHRoaXMuc2NoZW1hUGF0aCA9IHNjaGVtYVBhdGggfHwgXCJcIjtcclxuXHR0aGlzLnN1YkVycm9ycyA9IHN1YkVycm9ycyB8fCBudWxsO1xyXG5cclxuXHR2YXIgZXJyID0gbmV3IEVycm9yKHRoaXMubWVzc2FnZSk7XHJcblx0dGhpcy5zdGFjayA9IGVyci5zdGFjayB8fCBlcnIuc3RhY2t0cmFjZTtcclxuXHRpZiAoIXRoaXMuc3RhY2spIHtcclxuXHRcdHRyeSB7XHJcblx0XHRcdHRocm93IGVycjtcclxuXHRcdH1cclxuXHRcdGNhdGNoKGVycikge1xyXG5cdFx0XHR0aGlzLnN0YWNrID0gZXJyLnN0YWNrIHx8IGVyci5zdGFja3RyYWNlO1xyXG5cdFx0fVxyXG5cdH1cclxufVxyXG5WYWxpZGF0aW9uRXJyb3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpO1xyXG5WYWxpZGF0aW9uRXJyb3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gVmFsaWRhdGlvbkVycm9yO1xyXG5WYWxpZGF0aW9uRXJyb3IucHJvdG90eXBlLm5hbWUgPSAnVmFsaWRhdGlvbkVycm9yJztcclxuXHJcblZhbGlkYXRpb25FcnJvci5wcm90b3R5cGUucHJlZml4V2l0aCA9IGZ1bmN0aW9uIChkYXRhUHJlZml4LCBzY2hlbWFQcmVmaXgpIHtcclxuXHRpZiAoZGF0YVByZWZpeCAhPT0gbnVsbCkge1xyXG5cdFx0ZGF0YVByZWZpeCA9IGRhdGFQcmVmaXgucmVwbGFjZSgvfi9nLCBcIn4wXCIpLnJlcGxhY2UoL1xcLy9nLCBcIn4xXCIpO1xyXG5cdFx0dGhpcy5kYXRhUGF0aCA9IFwiL1wiICsgZGF0YVByZWZpeCArIHRoaXMuZGF0YVBhdGg7XHJcblx0fVxyXG5cdGlmIChzY2hlbWFQcmVmaXggIT09IG51bGwpIHtcclxuXHRcdHNjaGVtYVByZWZpeCA9IHNjaGVtYVByZWZpeC5yZXBsYWNlKC9+L2csIFwifjBcIikucmVwbGFjZSgvXFwvL2csIFwifjFcIik7XHJcblx0XHR0aGlzLnNjaGVtYVBhdGggPSBcIi9cIiArIHNjaGVtYVByZWZpeCArIHRoaXMuc2NoZW1hUGF0aDtcclxuXHR9XHJcblx0aWYgKHRoaXMuc3ViRXJyb3JzICE9PSBudWxsKSB7XHJcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc3ViRXJyb3JzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHRoaXMuc3ViRXJyb3JzW2ldLnByZWZpeFdpdGgoZGF0YVByZWZpeCwgc2NoZW1hUHJlZml4KTtcclxuXHRcdH1cclxuXHR9XHJcblx0cmV0dXJuIHRoaXM7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBpc1RydXN0ZWRVcmwoYmFzZVVybCwgdGVzdFVybCkge1xyXG5cdGlmKHRlc3RVcmwuc3Vic3RyaW5nKDAsIGJhc2VVcmwubGVuZ3RoKSA9PT0gYmFzZVVybCl7XHJcblx0XHR2YXIgcmVtYWluZGVyID0gdGVzdFVybC5zdWJzdHJpbmcoYmFzZVVybC5sZW5ndGgpO1xyXG5cdFx0aWYgKCh0ZXN0VXJsLmxlbmd0aCA+IDAgJiYgdGVzdFVybC5jaGFyQXQoYmFzZVVybC5sZW5ndGggLSAxKSA9PT0gXCIvXCIpXHJcblx0XHRcdHx8IHJlbWFpbmRlci5jaGFyQXQoMCkgPT09IFwiI1wiXHJcblx0XHRcdHx8IHJlbWFpbmRlci5jaGFyQXQoMCkgPT09IFwiP1wiKSB7XHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRyZXR1cm4gZmFsc2U7XHJcbn1cclxuXHJcbnZhciBsYW5ndWFnZXMgPSB7fTtcclxuZnVuY3Rpb24gY3JlYXRlQXBpKGxhbmd1YWdlKSB7XHJcblx0dmFyIGdsb2JhbENvbnRleHQgPSBuZXcgVmFsaWRhdG9yQ29udGV4dCgpO1xyXG5cdHZhciBjdXJyZW50TGFuZ3VhZ2U7XHJcblx0dmFyIGN1c3RvbUVycm9yUmVwb3J0ZXI7XHJcblx0dmFyIGFwaSA9IHtcclxuXHRcdHNldEVycm9yUmVwb3J0ZXI6IGZ1bmN0aW9uIChyZXBvcnRlcikge1xyXG5cdFx0XHRpZiAodHlwZW9mIHJlcG9ydGVyID09PSAnc3RyaW5nJykge1xyXG5cdFx0XHRcdHJldHVybiB0aGlzLmxhbmd1YWdlKHJlcG9ydGVyKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRjdXN0b21FcnJvclJlcG9ydGVyID0gcmVwb3J0ZXI7XHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0fSxcclxuXHRcdGFkZEZvcm1hdDogZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRnbG9iYWxDb250ZXh0LmFkZEZvcm1hdC5hcHBseShnbG9iYWxDb250ZXh0LCBhcmd1bWVudHMpO1xyXG5cdFx0fSxcclxuXHRcdGxhbmd1YWdlOiBmdW5jdGlvbiAoY29kZSkge1xyXG5cdFx0XHRpZiAoIWNvZGUpIHtcclxuXHRcdFx0XHRyZXR1cm4gY3VycmVudExhbmd1YWdlO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmICghbGFuZ3VhZ2VzW2NvZGVdKSB7XHJcblx0XHRcdFx0Y29kZSA9IGNvZGUuc3BsaXQoJy0nKVswXTsgLy8gZmFsbCBiYWNrIHRvIGJhc2UgbGFuZ3VhZ2VcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAobGFuZ3VhZ2VzW2NvZGVdKSB7XHJcblx0XHRcdFx0Y3VycmVudExhbmd1YWdlID0gY29kZTtcclxuXHRcdFx0XHRyZXR1cm4gY29kZTsgLy8gc28geW91IGNhbiB0ZWxsIGlmIGZhbGwtYmFjayBoYXMgaGFwcGVuZWRcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9LFxyXG5cdFx0YWRkTGFuZ3VhZ2U6IGZ1bmN0aW9uIChjb2RlLCBtZXNzYWdlTWFwKSB7XHJcblx0XHRcdHZhciBrZXk7XHJcblx0XHRcdGZvciAoa2V5IGluIEVycm9yQ29kZXMpIHtcclxuXHRcdFx0XHRpZiAobWVzc2FnZU1hcFtrZXldICYmICFtZXNzYWdlTWFwW0Vycm9yQ29kZXNba2V5XV0pIHtcclxuXHRcdFx0XHRcdG1lc3NhZ2VNYXBbRXJyb3JDb2Rlc1trZXldXSA9IG1lc3NhZ2VNYXBba2V5XTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0dmFyIHJvb3RDb2RlID0gY29kZS5zcGxpdCgnLScpWzBdO1xyXG5cdFx0XHRpZiAoIWxhbmd1YWdlc1tyb290Q29kZV0pIHsgLy8gdXNlIGZvciBiYXNlIGxhbmd1YWdlIGlmIG5vdCB5ZXQgZGVmaW5lZFxyXG5cdFx0XHRcdGxhbmd1YWdlc1tjb2RlXSA9IG1lc3NhZ2VNYXA7XHJcblx0XHRcdFx0bGFuZ3VhZ2VzW3Jvb3RDb2RlXSA9IG1lc3NhZ2VNYXA7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0bGFuZ3VhZ2VzW2NvZGVdID0gT2JqZWN0LmNyZWF0ZShsYW5ndWFnZXNbcm9vdENvZGVdKTtcclxuXHRcdFx0XHRmb3IgKGtleSBpbiBtZXNzYWdlTWFwKSB7XHJcblx0XHRcdFx0XHRpZiAodHlwZW9mIGxhbmd1YWdlc1tyb290Q29kZV1ba2V5XSA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuXHRcdFx0XHRcdFx0bGFuZ3VhZ2VzW3Jvb3RDb2RlXVtrZXldID0gbWVzc2FnZU1hcFtrZXldO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0bGFuZ3VhZ2VzW2NvZGVdW2tleV0gPSBtZXNzYWdlTWFwW2tleV07XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiB0aGlzO1xyXG5cdFx0fSxcclxuXHRcdGZyZXNoQXBpOiBmdW5jdGlvbiAobGFuZ3VhZ2UpIHtcclxuXHRcdFx0dmFyIHJlc3VsdCA9IGNyZWF0ZUFwaSgpO1xyXG5cdFx0XHRpZiAobGFuZ3VhZ2UpIHtcclxuXHRcdFx0XHRyZXN1bHQubGFuZ3VhZ2UobGFuZ3VhZ2UpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiByZXN1bHQ7XHJcblx0XHR9LFxyXG5cdFx0dmFsaWRhdGU6IGZ1bmN0aW9uIChkYXRhLCBzY2hlbWEsIGNoZWNrUmVjdXJzaXZlLCBiYW5Vbmtub3duUHJvcGVydGllcykge1xyXG5cdFx0XHR2YXIgZGVmID0gZGVmYXVsdEVycm9yUmVwb3J0ZXIoY3VycmVudExhbmd1YWdlKTtcclxuXHRcdFx0dmFyIGVycm9yUmVwb3J0ZXIgPSBjdXN0b21FcnJvclJlcG9ydGVyID8gZnVuY3Rpb24gKGVycm9yLCBkYXRhLCBzY2hlbWEpIHtcclxuXHRcdFx0XHRyZXR1cm4gY3VzdG9tRXJyb3JSZXBvcnRlcihlcnJvciwgZGF0YSwgc2NoZW1hKSB8fCBkZWYoZXJyb3IsIGRhdGEsIHNjaGVtYSk7XHJcblx0XHRcdH0gOiBkZWY7XHJcblx0XHRcdHZhciBjb250ZXh0ID0gbmV3IFZhbGlkYXRvckNvbnRleHQoZ2xvYmFsQ29udGV4dCwgZmFsc2UsIGVycm9yUmVwb3J0ZXIsIGNoZWNrUmVjdXJzaXZlLCBiYW5Vbmtub3duUHJvcGVydGllcyk7XHJcblx0XHRcdGlmICh0eXBlb2Ygc2NoZW1hID09PSBcInN0cmluZ1wiKSB7XHJcblx0XHRcdFx0c2NoZW1hID0ge1wiJHJlZlwiOiBzY2hlbWF9O1xyXG5cdFx0XHR9XHJcblx0XHRcdGNvbnRleHQuYWRkU2NoZW1hKFwiXCIsIHNjaGVtYSk7XHJcblx0XHRcdHZhciBlcnJvciA9IGNvbnRleHQudmFsaWRhdGVBbGwoZGF0YSwgc2NoZW1hLCBudWxsLCBudWxsLCBcIlwiKTtcclxuXHRcdFx0aWYgKCFlcnJvciAmJiBiYW5Vbmtub3duUHJvcGVydGllcykge1xyXG5cdFx0XHRcdGVycm9yID0gY29udGV4dC5iYW5Vbmtub3duUHJvcGVydGllcyhkYXRhLCBzY2hlbWEpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHRoaXMuZXJyb3IgPSBlcnJvcjtcclxuXHRcdFx0dGhpcy5taXNzaW5nID0gY29udGV4dC5taXNzaW5nO1xyXG5cdFx0XHR0aGlzLnZhbGlkID0gKGVycm9yID09PSBudWxsKTtcclxuXHRcdFx0cmV0dXJuIHRoaXMudmFsaWQ7XHJcblx0XHR9LFxyXG5cdFx0dmFsaWRhdGVSZXN1bHQ6IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0dmFyIHJlc3VsdCA9IHt0b1N0cmluZzogZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdHJldHVybiB0aGlzLnZhbGlkID8gJ3ZhbGlkJyA6IHRoaXMuZXJyb3IubWVzc2FnZTtcclxuXHRcdFx0fX07XHJcblx0XHRcdHRoaXMudmFsaWRhdGUuYXBwbHkocmVzdWx0LCBhcmd1bWVudHMpO1xyXG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdFx0fSxcclxuXHRcdHZhbGlkYXRlTXVsdGlwbGU6IGZ1bmN0aW9uIChkYXRhLCBzY2hlbWEsIGNoZWNrUmVjdXJzaXZlLCBiYW5Vbmtub3duUHJvcGVydGllcykge1xyXG5cdFx0XHR2YXIgZGVmID0gZGVmYXVsdEVycm9yUmVwb3J0ZXIoY3VycmVudExhbmd1YWdlKTtcclxuXHRcdFx0dmFyIGVycm9yUmVwb3J0ZXIgPSBjdXN0b21FcnJvclJlcG9ydGVyID8gZnVuY3Rpb24gKGVycm9yLCBkYXRhLCBzY2hlbWEpIHtcclxuXHRcdFx0XHRyZXR1cm4gY3VzdG9tRXJyb3JSZXBvcnRlcihlcnJvciwgZGF0YSwgc2NoZW1hKSB8fCBkZWYoZXJyb3IsIGRhdGEsIHNjaGVtYSk7XHJcblx0XHRcdH0gOiBkZWY7XHJcblx0XHRcdHZhciBjb250ZXh0ID0gbmV3IFZhbGlkYXRvckNvbnRleHQoZ2xvYmFsQ29udGV4dCwgdHJ1ZSwgZXJyb3JSZXBvcnRlciwgY2hlY2tSZWN1cnNpdmUsIGJhblVua25vd25Qcm9wZXJ0aWVzKTtcclxuXHRcdFx0aWYgKHR5cGVvZiBzY2hlbWEgPT09IFwic3RyaW5nXCIpIHtcclxuXHRcdFx0XHRzY2hlbWEgPSB7XCIkcmVmXCI6IHNjaGVtYX07XHJcblx0XHRcdH1cclxuXHRcdFx0Y29udGV4dC5hZGRTY2hlbWEoXCJcIiwgc2NoZW1hKTtcclxuXHRcdFx0Y29udGV4dC52YWxpZGF0ZUFsbChkYXRhLCBzY2hlbWEsIG51bGwsIG51bGwsIFwiXCIpO1xyXG5cdFx0XHRpZiAoYmFuVW5rbm93blByb3BlcnRpZXMpIHtcclxuXHRcdFx0XHRjb250ZXh0LmJhblVua25vd25Qcm9wZXJ0aWVzKGRhdGEsIHNjaGVtYSk7XHJcblx0XHRcdH1cclxuXHRcdFx0dmFyIHJlc3VsdCA9IHt0b1N0cmluZzogZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdHJldHVybiB0aGlzLnZhbGlkID8gJ3ZhbGlkJyA6IHRoaXMuZXJyb3IubWVzc2FnZTtcclxuXHRcdFx0fX07XHJcblx0XHRcdHJlc3VsdC5lcnJvcnMgPSBjb250ZXh0LmVycm9ycztcclxuXHRcdFx0cmVzdWx0Lm1pc3NpbmcgPSBjb250ZXh0Lm1pc3Npbmc7XHJcblx0XHRcdHJlc3VsdC52YWxpZCA9IChyZXN1bHQuZXJyb3JzLmxlbmd0aCA9PT0gMCk7XHJcblx0XHRcdHJldHVybiByZXN1bHQ7XHJcblx0XHR9LFxyXG5cdFx0YWRkU2NoZW1hOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHJldHVybiBnbG9iYWxDb250ZXh0LmFkZFNjaGVtYS5hcHBseShnbG9iYWxDb250ZXh0LCBhcmd1bWVudHMpO1xyXG5cdFx0fSxcclxuXHRcdGdldFNjaGVtYTogZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRyZXR1cm4gZ2xvYmFsQ29udGV4dC5nZXRTY2hlbWEuYXBwbHkoZ2xvYmFsQ29udGV4dCwgYXJndW1lbnRzKTtcclxuXHRcdH0sXHJcblx0XHRnZXRTY2hlbWFNYXA6IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0cmV0dXJuIGdsb2JhbENvbnRleHQuZ2V0U2NoZW1hTWFwLmFwcGx5KGdsb2JhbENvbnRleHQsIGFyZ3VtZW50cyk7XHJcblx0XHR9LFxyXG5cdFx0Z2V0U2NoZW1hVXJpczogZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRyZXR1cm4gZ2xvYmFsQ29udGV4dC5nZXRTY2hlbWFVcmlzLmFwcGx5KGdsb2JhbENvbnRleHQsIGFyZ3VtZW50cyk7XHJcblx0XHR9LFxyXG5cdFx0Z2V0TWlzc2luZ1VyaXM6IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0cmV0dXJuIGdsb2JhbENvbnRleHQuZ2V0TWlzc2luZ1VyaXMuYXBwbHkoZ2xvYmFsQ29udGV4dCwgYXJndW1lbnRzKTtcclxuXHRcdH0sXHJcblx0XHRkcm9wU2NoZW1hczogZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRnbG9iYWxDb250ZXh0LmRyb3BTY2hlbWFzLmFwcGx5KGdsb2JhbENvbnRleHQsIGFyZ3VtZW50cyk7XHJcblx0XHR9LFxyXG5cdFx0ZGVmaW5lS2V5d29yZDogZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRnbG9iYWxDb250ZXh0LmRlZmluZUtleXdvcmQuYXBwbHkoZ2xvYmFsQ29udGV4dCwgYXJndW1lbnRzKTtcclxuXHRcdH0sXHJcblx0XHRkZWZpbmVFcnJvcjogZnVuY3Rpb24gKGNvZGVOYW1lLCBjb2RlTnVtYmVyLCBkZWZhdWx0TWVzc2FnZSkge1xyXG5cdFx0XHRpZiAodHlwZW9mIGNvZGVOYW1lICE9PSAnc3RyaW5nJyB8fCAhL15bQS1aXSsoX1tBLVpdKykqJC8udGVzdChjb2RlTmFtZSkpIHtcclxuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ0NvZGUgbmFtZSBtdXN0IGJlIGEgc3RyaW5nIGluIFVQUEVSX0NBU0VfV0lUSF9VTkRFUlNDT1JFUycpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmICh0eXBlb2YgY29kZU51bWJlciAhPT0gJ251bWJlcicgfHwgY29kZU51bWJlciUxICE9PSAwIHx8IGNvZGVOdW1iZXIgPCAxMDAwMCkge1xyXG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcignQ29kZSBudW1iZXIgbXVzdCBiZSBhbiBpbnRlZ2VyID4gMTAwMDAnKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAodHlwZW9mIEVycm9yQ29kZXNbY29kZU5hbWVdICE9PSAndW5kZWZpbmVkJykge1xyXG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcignRXJyb3IgYWxyZWFkeSBkZWZpbmVkOiAnICsgY29kZU5hbWUgKyAnIGFzICcgKyBFcnJvckNvZGVzW2NvZGVOYW1lXSk7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKHR5cGVvZiBFcnJvckNvZGVMb29rdXBbY29kZU51bWJlcl0gIT09ICd1bmRlZmluZWQnKSB7XHJcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCdFcnJvciBjb2RlIGFscmVhZHkgdXNlZDogJyArIEVycm9yQ29kZUxvb2t1cFtjb2RlTnVtYmVyXSArICcgYXMgJyArIGNvZGVOdW1iZXIpO1xyXG5cdFx0XHR9XHJcblx0XHRcdEVycm9yQ29kZXNbY29kZU5hbWVdID0gY29kZU51bWJlcjtcclxuXHRcdFx0RXJyb3JDb2RlTG9va3VwW2NvZGVOdW1iZXJdID0gY29kZU5hbWU7XHJcblx0XHRcdEVycm9yTWVzc2FnZXNEZWZhdWx0W2NvZGVOYW1lXSA9IEVycm9yTWVzc2FnZXNEZWZhdWx0W2NvZGVOdW1iZXJdID0gZGVmYXVsdE1lc3NhZ2U7XHJcblx0XHRcdGZvciAodmFyIGxhbmdDb2RlIGluIGxhbmd1YWdlcykge1xyXG5cdFx0XHRcdHZhciBsYW5ndWFnZSA9IGxhbmd1YWdlc1tsYW5nQ29kZV07XHJcblx0XHRcdFx0aWYgKGxhbmd1YWdlW2NvZGVOYW1lXSkge1xyXG5cdFx0XHRcdFx0bGFuZ3VhZ2VbY29kZU51bWJlcl0gPSBsYW5ndWFnZVtjb2RlTnVtYmVyXSB8fCBsYW5ndWFnZVtjb2RlTmFtZV07XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cdFx0cmVzZXQ6IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0Z2xvYmFsQ29udGV4dC5yZXNldCgpO1xyXG5cdFx0XHR0aGlzLmVycm9yID0gbnVsbDtcclxuXHRcdFx0dGhpcy5taXNzaW5nID0gW107XHJcblx0XHRcdHRoaXMudmFsaWQgPSB0cnVlO1xyXG5cdFx0fSxcclxuXHRcdG1pc3Npbmc6IFtdLFxyXG5cdFx0ZXJyb3I6IG51bGwsXHJcblx0XHR2YWxpZDogdHJ1ZSxcclxuXHRcdG5vcm1TY2hlbWE6IG5vcm1TY2hlbWEsXHJcblx0XHRyZXNvbHZlVXJsOiByZXNvbHZlVXJsLFxyXG5cdFx0Z2V0RG9jdW1lbnRVcmk6IGdldERvY3VtZW50VXJpLFxyXG5cdFx0ZXJyb3JDb2RlczogRXJyb3JDb2Rlc1xyXG5cdH07XHJcblx0YXBpLmxhbmd1YWdlKGxhbmd1YWdlIHx8ICdlbicpO1xyXG5cdHJldHVybiBhcGk7XHJcbn1cclxuXHJcbnZhciB0djQgPSBjcmVhdGVBcGkoKTtcclxudHY0LmFkZExhbmd1YWdlKCdlbi1nYicsIEVycm9yTWVzc2FnZXNEZWZhdWx0KTtcclxuXHJcbi8vbGVnYWN5IHByb3BlcnR5XHJcbnR2NC50djQgPSB0djQ7XHJcblxyXG5yZXR1cm4gdHY0OyAvLyB1c2VkIGJ5IF9oZWFkZXIuanMgdG8gZ2xvYmFsaXNlLlxyXG5cclxufSkpOyIsIi8qKlxuICogQGNsYXNzIEJhc2VDbGllbnQuVHlwZXNcbiAqXG4gKiAtIE1hbmFnZXMgYW5kIHZhbGlkYXRlcyB0eXBlcyBvZiByZW1vdGVTdG9yYWdlIG9iamVjdHMsIHVzaW5nIEpTT04tTEQgYW5kXG4gKiAgIEpTT04gU2NoZW1hXG4gKiAtIEFkZHMgc2NoZW1hIGRlY2xhcmF0aW9uL3ZhbGlkYXRpb24gbWV0aG9kcyB0byBCYXNlQ2xpZW50IGluc3RhbmNlcy5cbiAqKi9cbnR5cGUgSnNvblNjaGVtYXMgPSB7IFtrZXk6IHN0cmluZ106IHR2NC5Kc29uU2NoZW1hIH07XG5cbmV4cG9ydCBjbGFzcyBCYXNlQ2xpZW50VHlwZXMge1xuICAvKipcbiAgICogPGFsaWFzPiAtPiA8dXJpPlxuICAgKi9cbiAgdXJpczogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSA9IHt9O1xuXG4gIC8qKlxuICAgKiBDb250YWlucyBzY2hlbWEgb2JqZWN0cyBvZiBhbGwgdHlwZXMga25vd24gdG8gdGhlIEJhc2VDbGllbnQgaW5zdGFuY2VcbiAgICpcbiAgICogPHVyaT4gLT4gPHNjaGVtYT5cbiAgICovXG4gIHNjaGVtYXM6IEpzb25TY2hlbWFzID0ge307XG5cbiAgLyoqXG4gICAqIDx1cmk+IC0+IDxhbGlhcz5cbiAgICovXG4gIGFsaWFzZXM6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH0gPSB7fTtcblxuICAvKipcbiAgICogQ2FsbGVkIHZpYSBwdWJsaWMgZnVuY3Rpb24gQmFzZUNsaWVudC5kZWNsYXJlVHlwZSgpXG4gICAqICEgTm90IGludGVuZGVkIHRvIGJlIHVzZWQgYXMgcHVibGljIEFQSSAhXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBkZWNsYXJlIChtb2R1bGVOYW1lOiBzdHJpbmcsIGFsaWFzOiBzdHJpbmcsIHVyaTogc3RyaW5nLCBzY2hlbWE6IHR2NC5Kc29uU2NoZW1hKTogdm9pZCB7XG4gICAgY29uc3QgZnVsbEFsaWFzID0gbW9kdWxlTmFtZSArICcvJyArIGFsaWFzO1xuXG4gICAgaWYgKHNjaGVtYS5leHRlbmRzKSB7XG4gICAgICBjb25zdCBwYXJ0cyA9IHNjaGVtYS5leHRlbmRzLnNwbGl0KCcvJyk7XG4gICAgICBjb25zdCBleHRlbmRlZEFsaWFzID0gKHBhcnRzLmxlbmd0aCA9PT0gMSlcbiAgICAgICAgPyBtb2R1bGVOYW1lICsgJy8nICsgcGFydHMuc2hpZnQoKVxuICAgICAgICA6IHBhcnRzLmpvaW4oJy8nKTtcblxuICAgICAgY29uc3QgZXh0ZW5kZWRVcmkgPSB0aGlzLnVyaXNbZXh0ZW5kZWRBbGlhc107XG4gICAgICBpZiAoIWV4dGVuZGVkVXJpKSB7XG4gICAgICAgIHRocm93IFwiVHlwZSAnXCIgKyBmdWxsQWxpYXMgKyBcIicgdHJpZXMgdG8gZXh0ZW5kIHVua25vd24gc2NoZW1hICdcIiArIGV4dGVuZGVkQWxpYXMgKyBcIidcIjtcbiAgICAgIH1cbiAgICAgIHNjaGVtYS5leHRlbmRzID0gdGhpcy5zY2hlbWFzW2V4dGVuZGVkVXJpXTtcbiAgICB9XG5cbiAgICB0aGlzLnVyaXNbZnVsbEFsaWFzXSA9IHVyaTtcbiAgICB0aGlzLmFsaWFzZXNbdXJpXSA9IGZ1bGxBbGlhcztcbiAgICB0aGlzLnNjaGVtYXNbdXJpXSA9IHNjaGVtYTtcbiAgfVxuXG4gIHJlc29sdmVBbGlhcyAoYWxpYXM6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMudXJpc1thbGlhc107XG4gIH1cblxuICBnZXRTY2hlbWEgKHVyaTogc3RyaW5nKTogdHY0Lkpzb25TY2hlbWEge1xuICAgIHJldHVybiB0aGlzLnNjaGVtYXNbdXJpXTtcbiAgfVxuXG4gIGluU2NvcGUgKG1vZHVsZU5hbWU6IHN0cmluZyk6IEpzb25TY2hlbWFzIHtcbiAgICBjb25zdCBtbCA9IG1vZHVsZU5hbWUubGVuZ3RoO1xuICAgIGNvbnN0IHNjaGVtYXMgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGFsaWFzIGluIHRoaXMudXJpcykge1xuICAgICAgaWYgKGFsaWFzLnN1YnN0cigwLCBtbCArIDEpID09PSBtb2R1bGVOYW1lICsgJy8nKSB7XG4gICAgICAgIGNvbnN0IHVyaSA9IHRoaXMudXJpc1thbGlhc107XG4gICAgICAgIHNjaGVtYXNbdXJpXSA9IHRoaXMuc2NoZW1hc1t1cmldO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc2NoZW1hcztcbiAgfVxufVxuXG5jb25zdCBUeXBlcyA9IG5ldyBCYXNlQ2xpZW50VHlwZXMoKTtcbmV4cG9ydCBkZWZhdWx0IFR5cGVzO1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2NoZW1hTm90Rm91bmQgZXh0ZW5kcyBFcnJvciB7XG4gIGNvbnN0cnVjdG9yKHVyaTogc3RyaW5nKSB7XG4gICAgc3VwZXIoKTtcbiAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcihcIlNjaGVtYSBub3QgZm91bmQ6IFwiICsgdXJpKTtcbiAgICBlcnJvci5uYW1lID0gXCJTY2hlbWFOb3RGb3VuZFwiO1xuICAgIHJldHVybiBlcnJvcjtcbiAgfVxufVxuIiwiLyoqXG4gKiBBIGNhY2hlIHdoaWNoIGNhbiBwcm9wYWdhdGUgY2hhbmdlcyB1cCB0byBwYXJlbnQgZm9sZGVycyBhbmQgZ2VuZXJhdGUgbmV3XG4gKiByZXZpc2lvbiBpZHMgZm9yIHRoZW0uIFRoZSBnZW5lcmF0ZWQgcmV2aXNpb24gaWQgaXMgY29uc2lzdGVudCBhY3Jvc3NcbiAqIGRpZmZlcmVudCBzZXNzaW9ucy4gIFRoZSBrZXlzIGZvciB0aGUgY2FjaGUgYXJlIGNhc2UtaW5zZW5zaXRpdmUuXG4gKlxuICogQHBhcmFtIGRlZmF1bHRWYWx1ZSB7c3RyaW5nfSB0aGUgdmFsdWUgdGhhdCBpcyByZXR1cm5lZCBmb3IgYWxsIGtleXMgdGhhdFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb24ndCBleGlzdCBpbiB0aGUgY2FjaGVcbiAqIEBjbGFzc1xuICovXG5cbmNsYXNzIFJldmlzaW9uQ2FjaGUge1xuICBkZWZhdWx0VmFsdWU6IHN0cmluZztcblxuICBwcml2YXRlIF9pdGVtc1JldjogeyBba2V5OiBzdHJpbmddOiBhbnkgfSA9IHt9O1xuICBwcml2YXRlIF9zdG9yYWdlOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9ID0ge307XG4gIHByaXZhdGUgX2NhblByb3BhZ2F0ZSA9IGZhbHNlO1xuXG4gIGNvbnN0cnVjdG9yKGRlZmF1bHRWYWx1ZTogc3RyaW5nKSB7XG4gICAgdGhpcy5kZWZhdWx0VmFsdWUgPSBkZWZhdWx0VmFsdWU7XG4gICAgdGhpcy5hY3RpdmF0ZVByb3BhZ2F0aW9uKCk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBHZXQgYSB2YWx1ZSBmcm9tIHRoZSBjYWNoZSBvciBkZWZhdWx0VmFsdWUsIGlmIHRoZSBrZXkgaXMgbm90IGluIHRoZVxuICAgKiBjYWNoZVxuICAgKi9cbiAgZ2V0KGtleTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBrZXkgPSBrZXkudG9Mb3dlckNhc2UoKTtcbiAgICBsZXQgc3RvcmVkID0gdGhpcy5fc3RvcmFnZVtrZXldO1xuICAgIGlmICh0eXBlb2Ygc3RvcmVkID09PSAndW5kZWZpbmVkJykge1xuICAgICAgc3RvcmVkID0gdGhpcy5kZWZhdWx0VmFsdWU7XG4gICAgICB0aGlzLl9zdG9yYWdlW2tleV0gPSBzdG9yZWQ7XG4gICAgfVxuICAgIHJldHVybiBzdG9yZWQ7XG4gIH1cblxuICAvKipcbiAgICogU2V0IGEgdmFsdWVcbiAgICovXG4gIHNldChrZXk6IHN0cmluZywgdmFsdWUpOiB1bmtub3duIHtcbiAgICBrZXkgPSBrZXkudG9Mb3dlckNhc2UoKTtcbiAgICBpZiAodGhpcy5fc3RvcmFnZVtrZXldID09PSB2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICB0aGlzLl9zdG9yYWdlW2tleV0gPSB2YWx1ZTtcbiAgICBpZiAoIXZhbHVlKSB7XG4gICAgICBkZWxldGUgdGhpcy5faXRlbXNSZXZba2V5XTtcbiAgICB9XG4gICAgdGhpcy5fdXBkYXRlUGFyZW50Rm9sZGVySXRlbVJldihrZXksIHZhbHVlKTtcbiAgICBpZiAodGhpcy5fY2FuUHJvcGFnYXRlKSB7XG4gICAgICB0aGlzLl9wcm9wYWdhdGUoa2V5KTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAqIERlbGV0ZSBhIHZhbHVlXG4gICAqL1xuICBkZWxldGUoa2V5OiBzdHJpbmcpOiB1bmtub3duIHtcbiAgICByZXR1cm4gdGhpcy5zZXQoa2V5LCBudWxsKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNhYmxlcyBhdXRvbWF0aWMgdXBkYXRlIG9mIGZvbGRlciByZXZpc2lvbnMgd2hlbiBhIGtleSB2YWx1ZSBpcyB1cGRhdGVkXG4gICAqL1xuICBkZWFjdGl2YXRlUHJvcGFnYXRpb24oKTogdHJ1ZSB7XG4gICAgdGhpcy5fY2FuUHJvcGFnYXRlID0gZmFsc2U7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvKipcbiAgICogRW5hYmxlcyBhdXRvbWF0aWMgdXBkYXRlIG9mIGZvbGRlciByZXZpc2lvbnMgd2hlbiBhIGtleSB2YWx1ZSBpcyB1cGRhdGVkXG4gICAqIGFuZCByZWZyZXNoZXMgdGhlIGZvbGRlciByZXZpc2lvbiBpZHMgZm9yIGVudGlyZSB0cmVlLlxuICAgKi9cbiAgYWN0aXZhdGVQcm9wYWdhdGlvbigpOiB0cnVlIHtcbiAgICBpZiAodGhpcy5fY2FuUHJvcGFnYXRlKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgdGhpcy5fZ2VuZXJhdGVGb2xkZXJSZXYoXCIvXCIpO1xuICAgIHRoaXMuX2NhblByb3BhZ2F0ZSA9IHRydWU7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhIGhhc2ggY29kZSBmb3IgYSBzdHJpbmcuXG4gICAqL1xuICBwcml2YXRlIF9oYXNoQ29kZShzdHI6IHN0cmluZyk6IG51bWJlciB7XG4gICAgbGV0IGhhc2ggPSAwO1xuICAgIGlmIChzdHIubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gaGFzaDtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGNociA9IHN0ci5jaGFyQ29kZUF0KGkpO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWJpdHdpc2VcbiAgICAgIGhhc2ggPSAoKGhhc2ggPDwgNSkgLSBoYXNoKSArIGNocjtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1iaXR3aXNlXG4gICAgICBoYXNoIHw9IDA7IC8vIENvbnZlcnQgdG8gMzJiaXQgaW50ZWdlclxuICAgIH1cbiAgICByZXR1cm4gaGFzaDtcbiAgfVxuXG4gIC8qKlxuICAgKiBUYWtlcyBhbiBhcnJheSBvZiBzdHJpbmdzIGFuZCByZXR1cm5zIGEgaGFzaCBvZiB0aGUgaXRlbXNcbiAgICovXG4gIHByaXZhdGUgX2dlbmVyYXRlSGFzaChpdGVtczogc3RyaW5nW10pOiBzdHJpbmcge1xuICAgIC8vIFdlIHNvcnQgdGhlIGl0ZW1zIGJlZm9yZSBqb2luaW5nIHRoZW0gdG8gZW5zdXJlIGNvcnJlY3QgaGFzaCBnZW5lcmF0aW9uXG4gICAgLy8gZXZlcnkgdGltZVxuICAgIGNvbnN0IGZpbGVzID0gaXRlbXMuc29ydCgpLmpvaW4oJ3wnKTtcbiAgICBjb25zdCBoYXNoID0gXCJcIiArIHRoaXMuX2hhc2hDb2RlKGZpbGVzKTtcbiAgICByZXR1cm4gaGFzaDtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgdGhlIHJldmlzaW9uIG9mIGEga2V5IGluIGl0J3MgcGFyZW50IGZvbGRlciBkYXRhXG4gICAqL1xuICBwcml2YXRlIF91cGRhdGVQYXJlbnRGb2xkZXJJdGVtUmV2KGtleTogc3RyaW5nLCByZXYpOiB2b2lkIHtcbiAgICBpZiAoa2V5ICE9PSAnLycpIHtcbiAgICAgIGNvbnN0IHBhcmVudEZvbGRlciA9IHRoaXMuX2dldFBhcmVudEZvbGRlcihrZXkpO1xuICAgICAgaWYgKCF0aGlzLl9pdGVtc1JldltwYXJlbnRGb2xkZXJdKSB7XG4gICAgICAgIHRoaXMuX2l0ZW1zUmV2W3BhcmVudEZvbGRlcl0gPSB7fTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHBhcmVudEZvbGRlckl0ZW1zUmV2ID0gdGhpcy5faXRlbXNSZXZbcGFyZW50Rm9sZGVyXTtcbiAgICAgIGlmICghcmV2KSB7XG4gICAgICAgIGRlbGV0ZSBwYXJlbnRGb2xkZXJJdGVtc1JldltrZXldO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFyZW50Rm9sZGVySXRlbXNSZXZba2V5XSA9IHJldjtcbiAgICAgIH1cbiAgICAgIC8vcmVzZXQgcmV2aXNpb24gdW50aWwgcm9vdFxuICAgICAgdGhpcy5fdXBkYXRlUGFyZW50Rm9sZGVySXRlbVJldihwYXJlbnRGb2xkZXIsIHRoaXMuZGVmYXVsdFZhbHVlKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF9nZXRQYXJlbnRGb2xkZXIoa2V5OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIHJldHVybiBrZXkuc3Vic3RyKDAsIGtleS5sYXN0SW5kZXhPZignLycsIGtleS5sZW5ndGggLSAyKSArIDEpO1xuICB9XG5cbiAgLyoqXG4gICAqIFByb3BhZ2F0ZSB0aGUgY2hhbmdlcyB0byB0aGUgcGFyZW50IGZvbGRlcnMgYW5kIGdlbmVyYXRlIG5ldyByZXZpc2lvbiBpZHNcbiAgICogZm9yIHRoZW1cbiAgICovXG4gIHByaXZhdGUgX3Byb3BhZ2F0ZShrZXk6IHN0cmluZyk6IHZvaWQge1xuICAgIGlmIChrZXkgIT09ICcvJykge1xuICAgICAgY29uc3QgcGFyZW50Rm9sZGVyID0gdGhpcy5fZ2V0UGFyZW50Rm9sZGVyKGtleSk7XG4gICAgICBjb25zdCBwYXJlbnRGb2xkZXJJdGVtc1JldiA9IHRoaXMuX2l0ZW1zUmV2W3BhcmVudEZvbGRlcl07XG4gICAgICBjb25zdCBoYXNoSXRlbXMgPSBbXTtcbiAgICAgIGZvciAoY29uc3QgcGF0aCBpbiBwYXJlbnRGb2xkZXJJdGVtc1Jldikge1xuICAgICAgICBoYXNoSXRlbXMucHVzaChwYXJlbnRGb2xkZXJJdGVtc1JldltwYXRoXSk7XG4gICAgICB9XG4gICAgICBjb25zdCBuZXdSZXYgPSB0aGlzLl9nZW5lcmF0ZUhhc2goaGFzaEl0ZW1zKTtcbiAgICAgIHRoaXMuc2V0KHBhcmVudEZvbGRlciwgbmV3UmV2KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJhdGUgcmV2aXNpb24gaWQgZm9yIGEgZm9sZGVyIGFuZCBpdCdzIHN1YmZvbGRlcnMsIGJ5IGhhc2hpbmcgaXQnc1xuICAgKiBsaXN0aW5nXG4gICAqL1xuICBwcml2YXRlIF9nZW5lcmF0ZUZvbGRlclJldihmb2xkZXI6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgY29uc3QgaXRlbXNSZXYgPSB0aGlzLl9pdGVtc1Jldltmb2xkZXJdO1xuICAgIGxldCBoYXNoID0gdGhpcy5kZWZhdWx0VmFsdWU7XG4gICAgaWYgKGl0ZW1zUmV2KSB7XG4gICAgICBjb25zdCBoYXNoSXRlbXMgPSBbXTtcbiAgICAgIGZvciAoY29uc3QgcGF0aCBpbiBpdGVtc1Jldikge1xuICAgICAgICBjb25zdCBpc0RpcjogYm9vbGVhbiA9IChwYXRoLnN1YnN0cigtMSkgPT09ICcvJyk7XG4gICAgICAgIGxldCBoYXNoSXRlbTtcbiAgICAgICAgaWYgKGlzRGlyKSB7XG4gICAgICAgICAgaGFzaEl0ZW0gPSB0aGlzLl9nZW5lcmF0ZUZvbGRlclJldihwYXRoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBoYXNoSXRlbSA9IGl0ZW1zUmV2W3BhdGhdO1xuICAgICAgICB9XG4gICAgICAgIGhhc2hJdGVtcy5wdXNoKGhhc2hJdGVtKTtcbiAgICAgIH1cbiAgICAgIGlmIChoYXNoSXRlbXMubGVuZ3RoID4gMCkge1xuICAgICAgICBoYXNoID0gdGhpcy5fZ2VuZXJhdGVIYXNoKGhhc2hJdGVtcyk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuc2V0KGZvbGRlciwgaGFzaCk7XG4gICAgcmV0dXJuIGhhc2g7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUmV2aXNpb25DYWNoZTtcbiIsIi8qIGdsb2JhbCBkZWZpbmUgKi9cbi8qIVxuICogd2ViZmluZ2VyLmpzXG4gKiAgIHZlcnNpb24gMi43LjBcbiAqICAgaHR0cDovL2dpdGh1Yi5jb20vc2lsdmVyYnVja2V0L3dlYmZpbmdlci5qc1xuICpcbiAqIERldmVsb3BlZCBhbmQgTWFpbnRhaW5lZCBieTpcbiAqICAgTmljayBKZW5uaW5ncyA8bmlja0BzaWx2ZXJidWNrZXQubmV0PiAyMDEyXG4gKlxuICogd2ViZmluZ2VyLmpzIGlzIHJlbGVhc2VkIHVuZGVyIHRoZSBBR1BMIChzZWUgTElDRU5TRSkuXG4gKlxuICogWW91IGRvbid0IGhhdmUgdG8gZG8gYW55dGhpbmcgc3BlY2lhbCB0byBjaG9vc2Ugb25lIGxpY2Vuc2Ugb3IgdGhlIG90aGVyIGFuZCB5b3UgZG9uJ3RcbiAqIGhhdmUgdG8gbm90aWZ5IGFueW9uZSB3aGljaCBsaWNlbnNlIHlvdSBhcmUgdXNpbmcuXG4gKiBQbGVhc2Ugc2VlIHRoZSBjb3JyZXNwb25kaW5nIGxpY2Vuc2UgZmlsZSBmb3IgZGV0YWlscyBvZiB0aGVzZSBsaWNlbnNlcy5cbiAqIFlvdSBhcmUgZnJlZSB0byB1c2UsIG1vZGlmeSBhbmQgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlLCBidXQgYWxsIGNvcHlyaWdodFxuICogaW5mb3JtYXRpb24gbXVzdCByZW1haW4uXG4gKlxuICovXG5cbmlmICh0eXBlb2YgZmV0Y2ggIT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIFhNTEh0dHBSZXF1ZXN0ICE9PSAnZnVuY3Rpb24nKSB7XG4gIC8vIFhNTEh0dHBSZXF1ZXN0ID0gcmVxdWlyZSgneG1saHR0cHJlcXVlc3QnKS5YTUxIdHRwUmVxdWVzdDtcbiAgWE1MSHR0cFJlcXVlc3QgPSByZXF1aXJlKCd4aHIyJyk7XG59XG5cbihmdW5jdGlvbiAoZ2xvYmFsKSB7XG5cbiAgLy8gVVJJIHRvIHByb3BlcnR5IG5hbWUgbWFwXG4gIHZhciBMSU5LX1VSSV9NQVBTID0ge1xuICAgICdodHRwOi8vd2ViZmlzdC5vcmcvc3BlYy9yZWwnOiAnd2ViZmlzdCcsXG4gICAgJ2h0dHA6Ly93ZWJmaW5nZXIubmV0L3JlbC9hdmF0YXInOiAnYXZhdGFyJyxcbiAgICAncmVtb3Rlc3RvcmFnZSc6ICdyZW1vdGVzdG9yYWdlJyxcbiAgICAnaHR0cDovL3Rvb2xzLmlldGYub3JnL2lkL2RyYWZ0LWRlam9uZy1yZW1vdGVzdG9yYWdlJzogJ3JlbW90ZXN0b3JhZ2UnLFxuICAgICdyZW1vdGVTdG9yYWdlJzogJ3JlbW90ZXN0b3JhZ2UnLFxuICAgICdodHRwOi8vd3d3LnBhY2tldGl6ZXIuY29tL3JlbC9zaGFyZSc6ICdzaGFyZScsXG4gICAgJ2h0dHA6Ly93ZWJmaW5nZXIubmV0L3JlbC9wcm9maWxlLXBhZ2UnOiAncHJvZmlsZScsXG4gICAgJ21lJzogJ3Byb2ZpbGUnLFxuICAgICd2Y2FyZCc6ICd2Y2FyZCcsXG4gICAgJ2Jsb2cnOiAnYmxvZycsXG4gICAgJ2h0dHA6Ly9wYWNrZXRpemVyLmNvbS9yZWwvYmxvZyc6ICdibG9nJyxcbiAgICAnaHR0cDovL3NjaGVtYXMuZ29vZ2xlLmNvbS9nLzIwMTAjdXBkYXRlcy1mcm9tJzogJ3VwZGF0ZXMnLFxuICAgICdodHRwczovL2NhbWxpc3RvcmUub3JnL3JlbC9zZXJ2ZXInOiAnY2FtaWxzdG9yZSdcbiAgfTtcblxuICB2YXIgTElOS19QUk9QRVJUSUVTID0ge1xuICAgICdhdmF0YXInOiBbXSxcbiAgICAncmVtb3Rlc3RvcmFnZSc6IFtdLFxuICAgICdibG9nJzogW10sXG4gICAgJ3ZjYXJkJzogW10sXG4gICAgJ3VwZGF0ZXMnOiBbXSxcbiAgICAnc2hhcmUnOiBbXSxcbiAgICAncHJvZmlsZSc6IFtdLFxuICAgICd3ZWJmaXN0JzogW10sXG4gICAgJ2NhbWxpc3RvcmUnOiBbXVxuICB9O1xuXG4gIC8vIGxpc3Qgb2YgZW5kcG9pbnRzIHRvIHRyeSwgZmFsbGJhY2sgZnJvbSBiZWdpbm5pbmcgdG8gZW5kLlxuICB2YXIgVVJJUyA9IFsnd2ViZmluZ2VyJywgJ2hvc3QtbWV0YScsICdob3N0LW1ldGEuanNvbiddO1xuXG4gIGZ1bmN0aW9uIGdlbmVyYXRlRXJyb3JPYmplY3Qob2JqKSB7XG4gICAgb2JqLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMubWVzc2FnZTtcbiAgICB9O1xuICAgIHJldHVybiBvYmo7XG4gIH1cblxuICAvLyBnaXZlbiBhIFVSTCBlbnN1cmVzIGl0J3MgSFRUUFMuXG4gIC8vIHJldHVybnMgZmFsc2UgZm9yIG51bGwgc3RyaW5nIG9yIG5vbi1IVFRQUyBVUkwuXG4gIGZ1bmN0aW9uIGlzU2VjdXJlKHVybCkge1xuICAgIGlmICh0eXBlb2YgdXJsICE9PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB2YXIgcGFydHMgPSB1cmwuc3BsaXQoJzovLycpO1xuICAgIGlmIChwYXJ0c1swXSA9PT0gJ2h0dHBzJykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGdW5jdGlvbjogV2ViRmluZ2VyXG4gICAqXG4gICAqIFdlYkZpbmdlciBjb25zdHJ1Y3RvclxuICAgKlxuICAgKiBSZXR1cm5zOlxuICAgKlxuICAgKiAgIHJldHVybiBXZWJGaW5nZXIgb2JqZWN0XG4gICAqL1xuICBmdW5jdGlvbiBXZWJGaW5nZXIoY29uZmlnKSB7XG4gICAgaWYgKHR5cGVvZiBjb25maWcgIT09ICdvYmplY3QnKSB7XG4gICAgICBjb25maWcgPSB7fTtcbiAgICB9XG5cbiAgICB0aGlzLmNvbmZpZyA9IHtcbiAgICAgIHRsc19vbmx5OiAgICAgICAgICh0eXBlb2YgY29uZmlnLnRsc19vbmx5ICE9PSAndW5kZWZpbmVkJykgPyBjb25maWcudGxzX29ubHkgOiB0cnVlLFxuICAgICAgd2ViZmlzdF9mYWxsYmFjazogKHR5cGVvZiBjb25maWcud2ViZmlzdF9mYWxsYmFjayAhPT0gJ3VuZGVmaW5lZCcpID8gY29uZmlnLndlYmZpc3RfZmFsbGJhY2sgOiBmYWxzZSxcbiAgICAgIHVyaV9mYWxsYmFjazogICAgICh0eXBlb2YgY29uZmlnLnVyaV9mYWxsYmFjayAhPT0gJ3VuZGVmaW5lZCcpID8gY29uZmlnLnVyaV9mYWxsYmFjayA6IGZhbHNlLFxuICAgICAgcmVxdWVzdF90aW1lb3V0OiAgKHR5cGVvZiBjb25maWcucmVxdWVzdF90aW1lb3V0ICE9PSAndW5kZWZpbmVkJykgPyBjb25maWcucmVxdWVzdF90aW1lb3V0IDogMTAwMDBcbiAgICB9O1xuICB9XG5cbiAgLy8gbWFrZSBhbiBodHRwIHJlcXVlc3QgYW5kIGxvb2sgZm9yIEpSRCByZXNwb25zZSwgZmFpbHMgaWYgcmVxdWVzdCBmYWlsc1xuICAvLyBvciByZXNwb25zZSBub3QganNvbi5cbiAgV2ViRmluZ2VyLnByb3RvdHlwZS5fX2ZldGNoSlJEID0gZnVuY3Rpb24gKHVybCwgZXJyb3JIYW5kbGVyLCBzdWNlc3NIYW5kbGVyKSB7XG4gICAgaWYgKHR5cGVvZiBmZXRjaCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gdGhpcy5fX2ZldGNoSlJEX2ZldGNoKHVybCwgZXJyb3JIYW5kbGVyLCBzdWNlc3NIYW5kbGVyKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBYTUxIdHRwUmVxdWVzdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIHRoaXMuX19mZXRjaEpSRF9YSFIodXJsLCBlcnJvckhhbmRsZXIsIHN1Y2Vzc0hhbmRsZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJhZGQgYSBwb2x5ZmlsbCBmb3IgZmV0Y2ggb3IgWE1MSHR0cFJlcXVlc3RcIik7XG4gICAgfVxuICB9O1xuICBXZWJGaW5nZXIucHJvdG90eXBlLl9fZmV0Y2hKUkRfZmV0Y2ggPSBmdW5jdGlvbiAodXJsLCBlcnJvckhhbmRsZXIsIHN1Y2Vzc0hhbmRsZXIpIHtcbiAgICB2YXIgd2ViZmluZ2VyID0gdGhpcztcbiAgICB2YXIgYWJvcnRDb250cm9sbGVyO1xuICAgIGlmICh0eXBlb2YgQWJvcnRDb250cm9sbGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBhYm9ydENvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgfVxuICAgIHZhciBuZXR3b3JrUHJvbWlzZSA9IGZldGNoKHVybCwge1xuICAgICAgaGVhZGVyczogeydBY2NlcHQnOiAnYXBwbGljYXRpb24vanJkK2pzb24sIGFwcGxpY2F0aW9uL2pzb24nfSxcbiAgICAgIHNpZ25hbDogYWJvcnRDb250cm9sbGVyID8gYWJvcnRDb250cm9sbGVyLnNpZ25hbCA6IHVuZGVmaW5lZFxuICAgIH0pLlxuICAgIHRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnRleHQoKTtcbiAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDQpIHtcbiAgICAgICAgdGhyb3cgZ2VuZXJhdGVFcnJvck9iamVjdCh7XG4gICAgICAgICAgbWVzc2FnZTogJ3Jlc291cmNlIG5vdCBmb3VuZCcsXG4gICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgc3RhdHVzOiByZXNwb25zZS5zdGF0dXNcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgeyAgIC8vIG90aGVyIEhUVFAgc3RhdHVzIChyZWRpcmVjdHMgYXJlIGhhbmRsZWQgdHJhbnNwYXJlbnRseSlcbiAgICAgICAgdGhyb3cgZ2VuZXJhdGVFcnJvck9iamVjdCh7XG4gICAgICAgICAgbWVzc2FnZTogJ2Vycm9yIGR1cmluZyByZXF1ZXN0JyxcbiAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICBzdGF0dXM6IHJlc3BvbnNlLnN0YXR1c1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGZ1bmN0aW9uIChlcnIpIHsgICAvLyBjb25uZWN0aW9uIHJlZnVzZWQsIGV0Yy5cbiAgICAgIHRocm93IGdlbmVyYXRlRXJyb3JPYmplY3Qoe1xuICAgICAgICBtZXNzYWdlOiAnZXJyb3IgZHVyaW5nIHJlcXVlc3QnLFxuICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgc3RhdHVzOiB1bmRlZmluZWQsXG4gICAgICAgIGVycjogZXJyXG4gICAgICB9KVxuICAgIH0pLlxuICAgIHRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlVGV4dCkge1xuICAgICAgaWYgKHdlYmZpbmdlci5fX2lzVmFsaWRKU09OKHJlc3BvbnNlVGV4dCkpIHtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlVGV4dDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IGdlbmVyYXRlRXJyb3JPYmplY3Qoe1xuICAgICAgICAgIG1lc3NhZ2U6ICdpbnZhbGlkIGpzb24nLFxuICAgICAgICAgIHVybDogdXJsLFxuICAgICAgICAgIHN0YXR1czogdW5kZWZpbmVkXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdmFyIHRpbWVvdXRQcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJlamVjdChnZW5lcmF0ZUVycm9yT2JqZWN0KHtcbiAgICAgICAgICBtZXNzYWdlOiAncmVxdWVzdCB0aW1lZCBvdXQnLFxuICAgICAgICAgIHVybDogdXJsLFxuICAgICAgICAgIHN0YXR1czogdW5kZWZpbmVkXG4gICAgICAgIH0pKTtcbiAgICAgICAgaWYgKGFib3J0Q29udHJvbGxlcikge1xuICAgICAgICAgIGFib3J0Q29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgICB9XG4gICAgICB9LCB3ZWJmaW5nZXIuY29uZmlnLnJlcXVlc3RfdGltZW91dCk7XG4gICAgfSk7XG5cbiAgICBQcm9taXNlLnJhY2UoW25ldHdvcmtQcm9taXNlLCB0aW1lb3V0UHJvbWlzZV0pLlxuICAgIHRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlVGV4dCkge1xuICAgICAgc3VjZXNzSGFuZGxlcihyZXNwb25zZVRleHQpO1xuICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIGVycm9ySGFuZGxlcihlcnIpO1xuICAgIH0pO1xuICB9O1xuICBXZWJGaW5nZXIucHJvdG90eXBlLl9fZmV0Y2hKUkRfWEhSID0gZnVuY3Rpb24gKHVybCwgZXJyb3JIYW5kbGVyLCBzdWNlc3NIYW5kbGVyKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBoYW5kbGVyU3BlbnQgPSBmYWxzZTtcbiAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cbiAgICBmdW5jdGlvbiBfX3Byb2Nlc3NTdGF0ZSgpIHtcbiAgICAgIGlmIChoYW5kbGVyU3BlbnQpe1xuICAgICAgICByZXR1cm47XG4gICAgICB9ZWxzZXtcbiAgICAgICAgaGFuZGxlclNwZW50ID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHhoci5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICBpZiAoc2VsZi5fX2lzVmFsaWRKU09OKHhoci5yZXNwb25zZVRleHQpKSB7XG4gICAgICAgICAgcmV0dXJuIHN1Y2Vzc0hhbmRsZXIoeGhyLnJlc3BvbnNlVGV4dCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGVycm9ySGFuZGxlcihnZW5lcmF0ZUVycm9yT2JqZWN0KHtcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdpbnZhbGlkIGpzb24nLFxuICAgICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgICBzdGF0dXM6IHhoci5zdGF0dXNcbiAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoeGhyLnN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICAgIHJldHVybiBlcnJvckhhbmRsZXIoZ2VuZXJhdGVFcnJvck9iamVjdCh7XG4gICAgICAgICAgbWVzc2FnZTogJ3Jlc291cmNlIG5vdCBmb3VuZCcsXG4gICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgc3RhdHVzOiB4aHIuc3RhdHVzXG4gICAgICAgIH0pKTtcbiAgICAgIH0gZWxzZSBpZiAoKHhoci5zdGF0dXMgPj0gMzAxKSAmJiAoeGhyLnN0YXR1cyA8PSAzMDIpKSB7XG4gICAgICAgIHZhciBsb2NhdGlvbiA9IHhoci5nZXRSZXNwb25zZUhlYWRlcignTG9jYXRpb24nKTtcbiAgICAgICAgaWYgKGlzU2VjdXJlKGxvY2F0aW9uKSkge1xuICAgICAgICAgIHJldHVybiBfX21ha2VSZXF1ZXN0KGxvY2F0aW9uKTsgLy8gZm9sbG93IHJlZGlyZWN0XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGVycm9ySGFuZGxlcihnZW5lcmF0ZUVycm9yT2JqZWN0KHtcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdubyByZWRpcmVjdCBVUkwgZm91bmQnLFxuICAgICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgICBzdGF0dXM6IHhoci5zdGF0dXNcbiAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBlcnJvckhhbmRsZXIoZ2VuZXJhdGVFcnJvck9iamVjdCh7XG4gICAgICAgICAgbWVzc2FnZTogJ2Vycm9yIGR1cmluZyByZXF1ZXN0JyxcbiAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICBzdGF0dXM6IHhoci5zdGF0dXNcbiAgICAgICAgfSkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9fbWFrZVJlcXVlc3QoKSB7XG4gICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoeGhyLnJlYWR5U3RhdGUgPT09IDQpIHtcbiAgICAgICAgICBfX3Byb2Nlc3NTdGF0ZSgpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB4aHIub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfX3Byb2Nlc3NTdGF0ZSgpO1xuICAgICAgfTtcblxuICAgICAgeGhyLm9udGltZW91dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGVycm9ySGFuZGxlcihnZW5lcmF0ZUVycm9yT2JqZWN0KHtcbiAgICAgICAgICBtZXNzYWdlOiAncmVxdWVzdCB0aW1lZCBvdXQnLFxuICAgICAgICAgIHVybDogdXJsLFxuICAgICAgICAgIHN0YXR1czogeGhyLnN0YXR1c1xuICAgICAgICB9KSk7XG4gICAgICB9O1xuXG4gICAgICB4aHIub3BlbignR0VUJywgdXJsLCB0cnVlKTtcbiAgICAgIHhoci50aW1lb3V0ID0gc2VsZi5jb25maWcucmVxdWVzdF90aW1lb3V0O1xuICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ0FjY2VwdCcsICdhcHBsaWNhdGlvbi9qcmQranNvbiwgYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgeGhyLnNlbmQoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gX19tYWtlUmVxdWVzdCgpO1xuICB9O1xuXG4gIFdlYkZpbmdlci5wcm90b3R5cGUuX19pc1ZhbGlkSlNPTiA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgICB0cnkge1xuICAgICAgSlNPTi5wYXJzZShzdHIpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG5cbiAgV2ViRmluZ2VyLnByb3RvdHlwZS5fX2lzTG9jYWxob3N0ID0gZnVuY3Rpb24gKGhvc3QpIHtcbiAgICB2YXIgbG9jYWwgPSAvXmxvY2FsaG9zdChcXC5sb2NhbGRvbWFpbik/KFxcOlswLTldKyk/JC87XG4gICAgcmV0dXJuIGxvY2FsLnRlc3QoaG9zdCk7XG4gIH07XG5cbiAgLy8gcHJvY2Vzc2VzIEpSRCBvYmplY3QgYXMgaWYgaXQncyBhIHdlYmZpbmdlciByZXNwb25zZSBvYmplY3RcbiAgLy8gbG9va3MgZm9yIGtub3duIHByb3BlcnRpZXMgYW5kIGFkZHMgdGhlbSB0byBwcm9maWxlIGRhdGF0IHN0cnVjdC5cbiAgV2ViRmluZ2VyLnByb3RvdHlwZS5fX3Byb2Nlc3NKUkQgPSBmdW5jdGlvbiAoVVJMLCBKUkQsIGVycm9ySGFuZGxlciwgc3VjY2Vzc0hhbmRsZXIpIHtcbiAgICB2YXIgcGFyc2VkSlJEID0gSlNPTi5wYXJzZShKUkQpO1xuICAgIGlmICgodHlwZW9mIHBhcnNlZEpSRCAhPT0gJ29iamVjdCcpIHx8XG4gICAgICAgICh0eXBlb2YgcGFyc2VkSlJELmxpbmtzICE9PSAnb2JqZWN0JykpIHtcbiAgICAgIGlmICh0eXBlb2YgcGFyc2VkSlJELmVycm9yICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gZXJyb3JIYW5kbGVyKGdlbmVyYXRlRXJyb3JPYmplY3QoeyBtZXNzYWdlOiBwYXJzZWRKUkQuZXJyb3IsIHJlcXVlc3Q6IFVSTCB9KSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZXJyb3JIYW5kbGVyKGdlbmVyYXRlRXJyb3JPYmplY3QoeyBtZXNzYWdlOiAndW5rbm93biByZXNwb25zZSBmcm9tIHNlcnZlcicsIHJlcXVlc3Q6IFVSTCB9KSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGxpbmtzID0gcGFyc2VkSlJELmxpbmtzO1xuICAgIGlmICghQXJyYXkuaXNBcnJheShsaW5rcykpIHtcbiAgICAgIGxpbmtzID0gW107XG4gICAgfVxuICAgIHZhciByZXN1bHQgPSB7ICAvLyB3ZWJmaW5nZXIgSlJEIC0gb2JqZWN0LCBqc29uLCBhbmQgb3VyIG93biBpbmRleGluZ1xuICAgICAgb2JqZWN0OiBwYXJzZWRKUkQsXG4gICAgICBqc29uOiBKUkQsXG4gICAgICBpZHg6IHt9XG4gICAgfTtcblxuICAgIHJlc3VsdC5pZHgucHJvcGVydGllcyA9IHtcbiAgICAgICduYW1lJzogdW5kZWZpbmVkXG4gICAgfTtcbiAgICByZXN1bHQuaWR4LmxpbmtzID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShMSU5LX1BST1BFUlRJRVMpKTtcblxuICAgIC8vIHByb2Nlc3MgbGlua3NcbiAgICBsaW5rcy5tYXAoZnVuY3Rpb24gKGxpbmssIGkpIHtcbiAgICAgIGlmIChMSU5LX1VSSV9NQVBTLmhhc093blByb3BlcnR5KGxpbmsucmVsKSkge1xuICAgICAgICBpZiAocmVzdWx0LmlkeC5saW5rc1tMSU5LX1VSSV9NQVBTW2xpbmsucmVsXV0pIHtcbiAgICAgICAgICB2YXIgZW50cnkgPSB7fTtcbiAgICAgICAgICBPYmplY3Qua2V5cyhsaW5rKS5tYXAoZnVuY3Rpb24gKGl0ZW0sIG4pIHtcbiAgICAgICAgICAgIGVudHJ5W2l0ZW1dID0gbGlua1tpdGVtXTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXN1bHQuaWR4LmxpbmtzW0xJTktfVVJJX01BUFNbbGluay5yZWxdXS5wdXNoKGVudHJ5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gcHJvY2VzcyBwcm9wZXJ0aWVzXG4gICAgdmFyIHByb3BzID0gSlNPTi5wYXJzZShKUkQpLnByb3BlcnRpZXM7XG4gICAgZm9yICh2YXIga2V5IGluIHByb3BzKSB7XG4gICAgICBpZiAocHJvcHMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICBpZiAoa2V5ID09PSAnaHR0cDovL3BhY2tldGl6ZXIuY29tL25zL25hbWUnKSB7XG4gICAgICAgICAgcmVzdWx0LmlkeC5wcm9wZXJ0aWVzLm5hbWUgPSBwcm9wc1trZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzdWNjZXNzSGFuZGxlcihyZXN1bHQpO1xuICB9O1xuXG4gIFdlYkZpbmdlci5wcm90b3R5cGUubG9va3VwID0gZnVuY3Rpb24gKGFkZHJlc3MsIGNiKSB7XG4gICAgaWYgKHR5cGVvZiBhZGRyZXNzICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdmaXJzdCBwYXJhbWV0ZXIgbXVzdCBiZSBhIHVzZXIgYWRkcmVzcycpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGNiICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ3NlY29uZCBwYXJhbWV0ZXIgbXVzdCBiZSBhIGNhbGxiYWNrJyk7XG4gICAgfVxuXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBob3N0ID0gJyc7XG4gICAgaWYgKGFkZHJlc3MuaW5kZXhPZignOi8vJykgPiAtMSkge1xuICAgICAgLy8gb3RoZXIgdXJpIGZvcm1hdFxuICAgICAgaG9zdCA9IGFkZHJlc3MucmVwbGFjZSgvIC9nLCcnKS5zcGxpdCgnLycpWzJdO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyB1c2VyYWRkcmVzc1xuICAgICAgaG9zdCA9IGFkZHJlc3MucmVwbGFjZSgvIC9nLCcnKS5zcGxpdCgnQCcpWzFdO1xuICAgIH1cbiAgICB2YXIgdXJpX2luZGV4ID0gMDsgICAgICAvLyB0cmFjayB3aGljaCBVUklTIHdlJ3ZlIHRyaWVkIGFscmVhZHlcbiAgICB2YXIgcHJvdG9jb2wgPSAnaHR0cHMnOyAvLyB3ZSB1c2UgaHR0cHMgYnkgZGVmYXVsdFxuXG4gICAgaWYgKHNlbGYuX19pc0xvY2FsaG9zdChob3N0KSkge1xuICAgICAgcHJvdG9jb2wgPSAnaHR0cCc7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX19idWlsZFVSTCgpIHtcbiAgICAgIHZhciB1cmkgPSAnJztcbiAgICAgIGlmICghIGFkZHJlc3Muc3BsaXQoJzovLycpWzFdKSB7XG4gICAgICAgIC8vIHRoZSBVUkkgaGFzIG5vdCBiZWVuIGRlZmluZWQsIGRlZmF1bHQgdG8gYWNjdFxuICAgICAgICB1cmkgPSAnYWNjdDonO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHByb3RvY29sICsgJzovLycgKyBob3N0ICsgJy8ud2VsbC1rbm93bi8nICtcbiAgICAgICAgICAgICBVUklTW3VyaV9pbmRleF0gKyAnP3Jlc291cmNlPScgKyB1cmkgKyBhZGRyZXNzO1xuICAgIH1cblxuICAgIC8vIGNvbnRyb2wgZmxvdyBmb3IgZmFpbHVyZXMsIHdoYXQgdG8gZG8gaW4gdmFyaW91cyBjYXNlcywgZXRjLlxuICAgIGZ1bmN0aW9uIF9fZmFsbGJhY2tDaGVja3MoZXJyKSB7XG4gICAgICBpZiAoKHNlbGYuY29uZmlnLnVyaV9mYWxsYmFjaykgJiYgKGhvc3QgIT09ICd3ZWJmaXN0Lm9yZycpICYmICh1cmlfaW5kZXggIT09IFVSSVMubGVuZ3RoIC0gMSkpIHsgLy8gd2UgaGF2ZSB1cmlzIGxlZnQgdG8gdHJ5XG4gICAgICAgIHVyaV9pbmRleCA9IHVyaV9pbmRleCArIDE7XG4gICAgICAgIHJldHVybiBfX2NhbGwoKTtcbiAgICAgIH0gZWxzZSBpZiAoKCFzZWxmLmNvbmZpZy50bHNfb25seSkgJiYgKHByb3RvY29sID09PSAnaHR0cHMnKSkgeyAvLyB0cnkgbm9ybWFsIGh0dHBcbiAgICAgICAgdXJpX2luZGV4ID0gMDtcbiAgICAgICAgcHJvdG9jb2wgPSAnaHR0cCc7XG4gICAgICAgIHJldHVybiBfX2NhbGwoKTtcbiAgICAgIH0gZWxzZSBpZiAoKHNlbGYuY29uZmlnLndlYmZpc3RfZmFsbGJhY2spICYmIChob3N0ICE9PSAnd2ViZmlzdC5vcmcnKSkgeyAvLyB3ZWJmaXN0IGF0dGVtcHRcbiAgICAgICAgdXJpX2luZGV4ID0gMDtcbiAgICAgICAgcHJvdG9jb2wgPSAnaHR0cCc7XG4gICAgICAgIGhvc3QgPSAnd2ViZmlzdC5vcmcnO1xuICAgICAgICAvLyB3ZWJmaXN0IHdpbGxcbiAgICAgICAgLy8gMS4gbWFrZSBhIHF1ZXJ5IHRvIHRoZSB3ZWJmaXN0IHNlcnZlciBmb3IgdGhlIHVzZXJzIGFjY291bnRcbiAgICAgICAgLy8gMi4gZnJvbSB0aGUgcmVzcG9uc2UsIGdldCBhIGxpbmsgdG8gdGhlIGFjdHVhbCB3ZWJmaW5nZXIganNvbiBkYXRhXG4gICAgICAgIC8vICAgIChzdG9yZWQgc29tZXdoZXJlIGluIGNvbnRyb2wgb2YgdGhlIHVzZXIpXG4gICAgICAgIC8vIDMuIG1ha2UgYSByZXF1ZXN0IHRvIHRoYXQgdXJsIGFuZCBnZXQgdGhlIGpzb25cbiAgICAgICAgLy8gNC4gcHJvY2VzcyBpdCBsaWtlIGEgbm9ybWFsIHdlYmZpbmdlciByZXNwb25zZVxuICAgICAgICB2YXIgVVJMID0gX19idWlsZFVSTCgpO1xuICAgICAgICBzZWxmLl9fZmV0Y2hKUkQoVVJMLCBjYiwgZnVuY3Rpb24gKGRhdGEpIHsgLy8gZ2V0IGxpbmsgdG8gdXNlcnMgSlJEXG4gICAgICAgICAgc2VsZi5fX3Byb2Nlc3NKUkQoVVJMLCBkYXRhLCBjYiwgZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgaWYgKCh0eXBlb2YgcmVzdWx0LmlkeC5saW5rcy53ZWJmaXN0ID09PSAnb2JqZWN0JykgJiZcbiAgICAgICAgICAgICAgICAodHlwZW9mIHJlc3VsdC5pZHgubGlua3Mud2ViZmlzdFswXS5ocmVmID09PSAnc3RyaW5nJykpIHtcbiAgICAgICAgICAgICAgc2VsZi5fX2ZldGNoSlJEKHJlc3VsdC5pZHgubGlua3Mud2ViZmlzdFswXS5ocmVmLCBjYiwgZnVuY3Rpb24gKEpSRCkge1xuICAgICAgICAgICAgICAgIHNlbGYuX19wcm9jZXNzSlJEKFVSTCwgSlJELCBjYiwgZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGNiKG51bGwsIGNiKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGNiKGVycik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX19jYWxsKCkge1xuICAgICAgLy8gbWFrZSByZXF1ZXN0XG4gICAgICB2YXIgVVJMID0gX19idWlsZFVSTCgpO1xuICAgICAgc2VsZi5fX2ZldGNoSlJEKFVSTCwgX19mYWxsYmFja0NoZWNrcywgZnVuY3Rpb24gKEpSRCkge1xuICAgICAgICBzZWxmLl9fcHJvY2Vzc0pSRChVUkwsIEpSRCwgY2IsIGZ1bmN0aW9uIChyZXN1bHQpIHsgY2IobnVsbCwgcmVzdWx0KTsgfSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gc2V0VGltZW91dChfX2NhbGwsIDApO1xuICB9O1xuXG4gIFdlYkZpbmdlci5wcm90b3R5cGUubG9va3VwTGluayA9IGZ1bmN0aW9uIChhZGRyZXNzLCByZWwsIGNiKSB7XG4gICAgaWYgKExJTktfUFJPUEVSVElFUy5oYXNPd25Qcm9wZXJ0eShyZWwpKSB7XG4gICAgICB0aGlzLmxvb2t1cChhZGRyZXNzLCBmdW5jdGlvbiAoZXJyLCBwKSB7XG4gICAgICAgIHZhciBsaW5rcyAgPSBwLmlkeC5saW5rc1tyZWxdO1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgcmV0dXJuIGNiKGVycik7XG4gICAgICAgIH0gZWxzZSBpZiAobGlua3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgcmV0dXJuIGNiKCdubyBsaW5rcyBmb3VuZCB3aXRoIHJlbD1cIicgKyByZWwgKyAnXCInKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gY2IobnVsbCwgbGlua3NbMF0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGNiKCd1bnN1cHBvcnRlZCByZWwgJyArIHJlbCk7XG4gICAgfVxuICB9O1xuXG5cblxuICAvLyBBTUQgc3VwcG9ydFxuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgICBkZWZpbmUoW10sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIFdlYkZpbmdlcjsgfSk7XG4gIC8vIENvbW1vbkpTIGFuZCBOb2RlLmpzIG1vZHVsZSBzdXBwb3J0LlxuICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJykge1xuICAgIC8vIFN1cHBvcnQgTm9kZS5qcyBzcGVjaWZpYyBgbW9kdWxlLmV4cG9ydHNgICh3aGljaCBjYW4gYmUgYSBmdW5jdGlvbilcbiAgICBpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICAgICAgZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gV2ViRmluZ2VyO1xuICAgIH1cbiAgICAvLyBCdXQgYWx3YXlzIHN1cHBvcnQgQ29tbW9uSlMgbW9kdWxlIDEuMS4xIHNwZWMgKGBleHBvcnRzYCBjYW5ub3QgYmUgYSBmdW5jdGlvbilcbiAgICBleHBvcnRzLldlYkZpbmdlciA9IFdlYkZpbmdlcjtcbiAgfSBlbHNlIHtcbiAgICAvLyBicm93c2VyIDxzY3JpcHQ+IHN1cHBvcnRcbiAgICBnbG9iYWwuV2ViRmluZ2VyID0gV2ViRmluZ2VyO1xuICB9XG59KSh0aGlzKTtcbiIsIm1vZHVsZS5leHBvcnRzID0gWE1MSHR0cFJlcXVlc3Q7XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBjb25maWcgZnJvbSAnLi9jb25maWcnO1xuaW1wb3J0IEVudiBmcm9tICcuL2Vudic7XG5pbXBvcnQgbG9nIGZyb20gJy4vbG9nJztcbmltcG9ydCB7IGV4dGVuZCwgbG9nRXJyb3IgfSBmcm9tICcuL3V0aWwnO1xuaW1wb3J0IFNHUEQgZnJvbSAnLi9zeW5jZWRnZXRwdXRkZWxldGUnO1xuXG5pbXBvcnQgQWNjZXNzIGZyb20gJy4vYWNjZXNzJztcbmltcG9ydCBBdXRob3JpemUgZnJvbSAnLi9hdXRob3JpemUnO1xuaW1wb3J0IERpc2NvdmVyIGZyb20gJy4vZGlzY292ZXInO1xuaW1wb3J0IEJhc2VDbGllbnQgZnJvbSAnLi9iYXNlY2xpZW50JztcbmltcG9ydCBHb29nbGVEcml2ZSBmcm9tICcuL2dvb2dsZWRyaXZlJztcbmltcG9ydCBEcm9wYm94IGZyb20gJy4vZHJvcGJveCc7XG5pbXBvcnQgV2lyZUNsaWVudCBmcm9tICcuL3dpcmVjbGllbnQnO1xuaW1wb3J0IFN5bmMgZnJvbSAnLi9zeW5jJztcblxuLy8gQ2FjaGluZ1xuaW1wb3J0IENhY2hpbmcgZnJvbSAnLi9jYWNoaW5nJztcbmltcG9ydCBJbmRleGVkREIgZnJvbSAnLi9pbmRleGVkZGInO1xuaW1wb3J0IExvY2FsU3RvcmFnZSBmcm9tICcuL2xvY2Fsc3RvcmFnZSc7XG5pbXBvcnQgSW5NZW1vcnlTdG9yYWdlIGZyb20gJy4vaW5tZW1vcnlzdG9yYWdlJztcblxuY29uc3QgRmVhdHVyZXMgPSB7XG4gIGZlYXR1cmVzOiBbXSxcbiAgZmVhdHVyZXNEb25lOiAwLFxuICByZWFkeUZpcmVkOiBmYWxzZSxcblxuICBsb2FkRmVhdHVyZXMgKCk6IHZvaWQge1xuICAgIHRoaXMuZmVhdHVyZXMgPSBbXTtcbiAgICB0aGlzLmZlYXR1cmVzRG9uZSA9IDA7XG4gICAgdGhpcy5yZWFkeUZpcmVkID0gZmFsc2U7XG5cbiAgICB0aGlzLmZlYXR1cmVNb2R1bGVzID0ge1xuICAgICAgJ1dpcmVDbGllbnQnOiBXaXJlQ2xpZW50LFxuICAgICAgJ0Ryb3Bib3gnOiBEcm9wYm94LFxuICAgICAgJ0dvb2dsZURyaXZlJzogR29vZ2xlRHJpdmUsXG4gICAgICAnQWNjZXNzJzogQWNjZXNzLFxuICAgICAgJ0Rpc2NvdmVyJzogRGlzY292ZXIsXG4gICAgICAnQXV0aG9yaXplJzogQXV0aG9yaXplLFxuICAgICAgJ0Jhc2VDbGllbnQnOiBCYXNlQ2xpZW50LFxuICAgICAgJ0Vudic6IEVudlxuICAgIH07XG5cbiAgICAvLyBlbmFibGUgY2FjaGluZyByZWxhdGVkIG1vZHVsZXMgaWYgbmVlZGVkXG4gICAgaWYgKGNvbmZpZy5jYWNoZSkge1xuICAgICAgLy8gVE9ETyByZXBsYWNlIHV0aWwuZXh0ZW5kIHdpdGggbW9kZXJuIEpTIHsuLi5vYmplY3QsIC4uLm9iamVjdH1cbiAgICAgIGV4dGVuZCh0aGlzLmZlYXR1cmVNb2R1bGVzLCB7XG4gICAgICAgICdDYWNoaW5nJzogQ2FjaGluZyxcbiAgICAgICAgJ0luZGV4ZWREQic6IEluZGV4ZWREQixcbiAgICAgICAgJ0xvY2FsU3RvcmFnZSc6IExvY2FsU3RvcmFnZSxcbiAgICAgICAgJ0luTWVtb3J5U3RvcmFnZSc6IEluTWVtb3J5U3RvcmFnZSxcbiAgICAgICAgJ1N5bmMnOiBTeW5jXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBkaXNhYmxlIGZlYXR1cmVzIHNldCBpbiB0aGUgY29uZmlnIG9iamVjdCBwYXNzZWQgdG8gdGhlIFJlbW90ZVN0b3JhZ2VcbiAgICAvLyBjb25zdHJ1Y3RvclxuICAgIC8vIEZvciBleGFtcGxlOiBbJ0luZGV4ZWREQiddXG4gICAgY29uZmlnLmRpc2FibGVGZWF0dXJlcy5mb3JFYWNoKGZlYXR1cmUgPT4ge1xuICAgICAgaWYgKHRoaXMuZmVhdHVyZU1vZHVsZXNbZmVhdHVyZV0pIHtcbiAgICAgICAgLy8gdGhpcy5mZWF0dXJlTW9kdWxlc1tmZWF0dXJlXSA9IHVuZGVmaW5lZFxuICAgICAgICBkZWxldGUgdGhpcy5mZWF0dXJlTW9kdWxlc1tmZWF0dXJlXTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuX2FsbExvYWRlZCA9IGZhbHNlO1xuXG4gICAgZm9yIChjb25zdCBmZWF0dXJlTmFtZSBpbiB0aGlzLmZlYXR1cmVNb2R1bGVzKSB7XG4gICAgICAvLyBGSVhNRTogdGhpcyBoYXMgdG8gcHVzaCB0aGUgcHJvbWlzZWQgcmV0dXJuIHZhbHVlIGludG8gYW5cbiAgICAgIC8vIGFycmF5IG9mIHByb21pc2VzIGFuZCB1c2UgUHJvbWlzZS5hbGwgdG8gZW1pdCBgcmVhZHlgXG4gICAgICAvLyBpbnN0ZWFkIG9mIGluY3JlbWVudCBhIGNvdW50ZXIgb2YgbG9hZGVkIGZlYXR1cmVzLiAtbGVzXG4gICAgICB0aGlzLmxvYWRGZWF0dXJlKGZlYXR1cmVOYW1lKTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIE1ldGhvZDogaGFzRmVhdHVyZVxuICAgKlxuICAgKiBDaGVja3Mgd2hldGhlciBhIGZlYXR1cmUgaXMgZW5hYmxlZCBvciBub3Qgd2l0aGluIHJlbW90ZVN0b3JhZ2UuXG4gICAqIFJldHVybnMgYSBib29sZWFuLlxuICAgKlxuICAgKiBQYXJhbWV0ZXJzOlxuICAgKiAgIG5hbWUgLSBDYXBpdGFsaXplZCBuYW1lIG9mIHRoZSBmZWF0dXJlLiBlLmcuIEF1dGhvcml6ZSwgb3IgSW5kZXhlZERCXG4gICAqXG4gICAqIEV4YW1wbGU6XG4gICAqICAgKHN0YXJ0IGNvZGUpXG4gICAqICAgaWYgKHJlbW90ZVN0b3JhZ2UuaGFzRmVhdHVyZSgnTG9jYWxTdG9yYWdlJykpIHtcbiAgICogICAgIGNvbnNvbGUubG9nKCdMb2NhbFN0b3JhZ2UgaXMgZW5hYmxlZCEnKTtcbiAgICogICB9XG4gICAqICAgKGVuZCBjb2RlKVxuICAgKlxuICAgKi9cbiAgaGFzRmVhdHVyZSAoZmVhdHVyZSkge1xuICAgIGZvciAobGV0IGkgPSB0aGlzLmZlYXR1cmVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICBpZiAodGhpcy5mZWF0dXJlc1tpXS5uYW1lID09PSBmZWF0dXJlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZlYXR1cmVzW2ldLnN1cHBvcnRlZDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuXG4gIGxvYWRGZWF0dXJlIChmZWF0dXJlTmFtZSkge1xuICAgIGNvbnN0IGZlYXR1cmUgPSB0aGlzLmZlYXR1cmVNb2R1bGVzW2ZlYXR1cmVOYW1lXTtcbiAgICBjb25zdCBzdXBwb3J0ZWQgPSAhZmVhdHVyZS5fcnNfc3VwcG9ydGVkIHx8IGZlYXR1cmUuX3JzX3N1cHBvcnRlZCgpO1xuXG4gICAgbG9nKGBbUmVtb3RlU3RvcmFnZV0gW0ZFQVRVUkUgJHtmZWF0dXJlTmFtZX1dIGluaXRpYWxpemluZyAuLi5gKTtcblxuICAgIGlmICh0eXBlb2Ygc3VwcG9ydGVkID09PSAnb2JqZWN0Jykge1xuICAgICAgc3VwcG9ydGVkLnRoZW4oICgpID0+IHtcbiAgICAgICAgdGhpcy5mZWF0dXJlU3VwcG9ydGVkKGZlYXR1cmVOYW1lLCB0cnVlKTtcbiAgICAgICAgdGhpcy5pbml0RmVhdHVyZShmZWF0dXJlTmFtZSk7XG4gICAgICB9LCAoKSA9PiB7XG4gICAgICAgIHRoaXMuZmVhdHVyZVN1cHBvcnRlZChmZWF0dXJlTmFtZSwgZmFsc2UpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygc3VwcG9ydGVkID09PSAnYm9vbGVhbicpIHtcbiAgICAgIHRoaXMuZmVhdHVyZVN1cHBvcnRlZChmZWF0dXJlTmFtZSwgc3VwcG9ydGVkKTtcbiAgICAgIGlmIChzdXBwb3J0ZWQpIHtcbiAgICAgICAgdGhpcy5pbml0RmVhdHVyZShmZWF0dXJlTmFtZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZmVhdHVyZVN1cHBvcnRlZChmZWF0dXJlTmFtZSwgZmFsc2UpO1xuICAgIH1cbiAgfSxcblxuICBpbml0RmVhdHVyZSAoZmVhdHVyZU5hbWUpIHtcbiAgICBjb25zdCBmZWF0dXJlID0gdGhpcy5mZWF0dXJlTW9kdWxlc1tmZWF0dXJlTmFtZV07XG4gICAgbGV0IGluaXRSZXN1bHQ7XG4gICAgdHJ5IHtcbiAgICAgIGluaXRSZXN1bHQgPSBmZWF0dXJlLl9yc19pbml0KHRoaXMpO1xuICAgIH0gY2F0Y2goZSkge1xuICAgICAgdGhpcy5mZWF0dXJlRmFpbGVkKGZlYXR1cmVOYW1lLCBlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mKGluaXRSZXN1bHQpID09PSAnb2JqZWN0JyAmJiB0eXBlb2YoaW5pdFJlc3VsdC50aGVuKSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgaW5pdFJlc3VsdC50aGVuKFxuICAgICAgICAoKSA9PiB7IHRoaXMuZmVhdHVyZUluaXRpYWxpemVkKGZlYXR1cmVOYW1lKTsgfSxcbiAgICAgICAgKGVycikgPT4geyB0aGlzLmZlYXR1cmVGYWlsZWQoZmVhdHVyZU5hbWUsIGVycik7IH1cbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZmVhdHVyZUluaXRpYWxpemVkKGZlYXR1cmVOYW1lKTtcbiAgICB9XG4gIH0sXG5cbiAgZmVhdHVyZUZhaWxlZCAoZmVhdHVyZU5hbWUsIGVycikge1xuICAgIGxvZyhgW1JlbW90ZVN0b3JhZ2VdIFtGRUFUVVJFICR7ZmVhdHVyZU5hbWV9XSBpbml0aWFsaXphdGlvbiBmYWlsZWQgKCR7ZXJyfSlgKTtcbiAgICB0aGlzLmZlYXR1cmVEb25lKCk7XG4gIH0sXG5cbiAgZmVhdHVyZVN1cHBvcnRlZCAoZmVhdHVyZU5hbWUsIHN1Y2Nlc3MpIHtcbiAgICBsb2coYFtSZW1vdGVTdG9yYWdlXSBbRkVBVFVSRSAke2ZlYXR1cmVOYW1lfV0ke3N1Y2Nlc3MgPyAnJyA6ICdub3QgJ30gc3VwcG9ydGVkYCk7XG4gICAgaWYgKCFzdWNjZXNzKSB7XG4gICAgICB0aGlzLmZlYXR1cmVEb25lKCk7XG4gICAgfVxuICB9LFxuXG4gIGZlYXR1cmVJbml0aWFsaXplZCAoZmVhdHVyZU5hbWUpIHtcbiAgICBsb2coYFtSZW1vdGVTdG9yYWdlXSBbRkVBVFVSRSAke2ZlYXR1cmVOYW1lfV0gaW5pdGlhbGl6ZWRgKTtcbiAgICB0aGlzLmZlYXR1cmVzLnB1c2goe1xuICAgICAgbmFtZSA6IGZlYXR1cmVOYW1lLFxuICAgICAgaW5pdCA6ICB0aGlzLmZlYXR1cmVNb2R1bGVzW2ZlYXR1cmVOYW1lXS5fcnNfaW5pdCxcbiAgICAgIHN1cHBvcnRlZCA6IHRydWUsXG4gICAgICBjbGVhbnVwIDogdGhpcy5mZWF0dXJlTW9kdWxlc1tmZWF0dXJlTmFtZV0uX3JzX2NsZWFudXBcbiAgICB9KTtcbiAgICB0aGlzLmZlYXR1cmVEb25lKCk7XG4gIH0sXG5cbiAgZmVhdHVyZURvbmUgKCkge1xuICAgIHRoaXMuZmVhdHVyZXNEb25lKys7XG4gICAgaWYgKHRoaXMuZmVhdHVyZXNEb25lID09PSBPYmplY3Qua2V5cyh0aGlzLmZlYXR1cmVNb2R1bGVzKS5sZW5ndGgpIHtcbiAgICAgIHNldFRpbWVvdXQodGhpcy5mZWF0dXJlc0xvYWRlZC5iaW5kKHRoaXMpLCAwKTtcbiAgICB9XG4gIH0sXG5cbiAgX3NldENhY2hpbmdNb2R1bGUgKCkge1xuICAgIGNvbnN0IGNhY2hpbmdNb2R1bGVzID0gWydJbmRleGVkREInLCAnTG9jYWxTdG9yYWdlJywgJ0luTWVtb3J5U3RvcmFnZSddO1xuXG4gICAgY2FjaGluZ01vZHVsZXMuc29tZSggY2FjaGluZ0xheWVyID0+IHtcbiAgICAgIGlmICh0aGlzLmZlYXR1cmVzLnNvbWUoZmVhdHVyZSA9PiBmZWF0dXJlLm5hbWUgPT09IGNhY2hpbmdMYXllcikpIHtcbiAgICAgICAgdGhpcy5mZWF0dXJlcy5sb2NhbCA9IHRoaXMuZmVhdHVyZU1vZHVsZXNbY2FjaGluZ0xheWVyXTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG5cbiAgX2ZpcmVSZWFkeSgpIHtcbiAgICB0cnkge1xuICAgICAgaWYgKCF0aGlzLnJlYWR5RmlyZWQpIHtcbiAgICAgICAgdGhpcy5fZW1pdCgncmVhZHknKTtcbiAgICAgICAgdGhpcy5yZWFkeUZpcmVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCIncmVhZHknIGZhaWxlZDogXCIsIGUsIGUuc3RhY2spO1xuICAgICAgdGhpcy5fZW1pdCgnZXJyb3InLCBlKTtcbiAgICB9XG4gIH0sXG5cbiAgZmVhdHVyZXNMb2FkZWQgKCkge1xuICAgIGxvZyhgW1JlbW90ZVN0b3JhZ2VdIEFsbCBmZWF0dXJlcyBsb2FkZWRgKTtcblxuICAgIHRoaXMuX3NldENhY2hpbmdNb2R1bGUoKTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbmV3LWNhcFxuICAgIHRoaXMubG9jYWwgPSBjb25maWcuY2FjaGUgJiYgdGhpcy5mZWF0dXJlcy5sb2NhbCAmJiBuZXcgdGhpcy5mZWF0dXJlcy5sb2NhbCgpO1xuXG4gICAgLy8gdGhpcy5yZW1vdGUgc2V0IGJ5IFdpcmVDbGllbnQuX3JzX2luaXQgYXMgbGF6eSBwcm9wZXJ0eSBvblxuICAgIC8vIFJTLnByb3RvdHlwZVxuXG4gICAgaWYgKHRoaXMubG9jYWwgJiYgdGhpcy5yZW1vdGUpIHtcbiAgICAgIHRoaXMuX3NldEdQRChTR1BELCB0aGlzKTtcbiAgICAgIHRoaXMuX2JpbmRDaGFuZ2UodGhpcy5sb2NhbCk7XG4gICAgfSBlbHNlIGlmICh0aGlzLnJlbW90ZSkge1xuICAgICAgdGhpcy5fc2V0R1BEKHRoaXMucmVtb3RlLCB0aGlzLnJlbW90ZSk7XG4gICAgfVxuICAgIGlmICh0aGlzLnJlbW90ZSkge1xuICAgICAgdGhpcy5yZW1vdGUub24oJ2Nvbm5lY3RlZCcsICgpID0+IHtcbiAgICAgICAgdGhpcy5fZmlyZVJlYWR5KCk7XG4gICAgICAgIHRoaXMuX2VtaXQoJ2Nvbm5lY3RlZCcpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLnJlbW90ZS5vbignbm90LWNvbm5lY3RlZCcsICgpID0+IHtcbiAgICAgICAgdGhpcy5fZmlyZVJlYWR5KCk7XG4gICAgICAgIHRoaXMuX2VtaXQoJ25vdC1jb25uZWN0ZWQnKTtcbiAgICAgIH0pO1xuICAgICAgaWYgKHRoaXMucmVtb3RlLmNvbm5lY3RlZCkge1xuICAgICAgICB0aGlzLl9maXJlUmVhZHkoKTtcbiAgICAgICAgdGhpcy5fZW1pdCgnY29ubmVjdGVkJyk7XG4gICAgICB9XG5cbiAgICAgIGlmICghdGhpcy5oYXNGZWF0dXJlKCdBdXRob3JpemUnKSkge1xuICAgICAgICB0aGlzLnJlbW90ZS5zdG9wV2FpdGluZ0ZvclRva2VuKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5fY29sbGVjdENsZWFudXBGdW5jdGlvbnMoKTtcblxuICAgIHRyeSB7XG4gICAgICB0aGlzLl9hbGxMb2FkZWQgPSB0cnVlO1xuICAgICAgdGhpcy5fZW1pdCgnZmVhdHVyZXMtbG9hZGVkJyk7XG4gICAgfSBjYXRjaChleGMpIHtcbiAgICAgIGxvZ0Vycm9yKGV4Yyk7XG4gICAgICB0aGlzLl9lbWl0KCdlcnJvcicsIGV4Yyk7XG4gICAgfVxuICAgIHRoaXMuX3Byb2Nlc3NQZW5kaW5nKCk7XG4gIH0sXG5cbiAgX2NvbGxlY3RDbGVhbnVwRnVuY3Rpb25zICgpOiB2b2lkIHtcbiAgICB0aGlzLl9jbGVhbnVwcyA9IFtdO1xuICAgIGZvciAobGV0IGk9MDsgaSA8IHRoaXMuZmVhdHVyZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGNsZWFudXAgPSB0aGlzLmZlYXR1cmVzW2ldLmNsZWFudXA7XG4gICAgICBpZiAodHlwZW9mKGNsZWFudXApID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRoaXMuX2NsZWFudXBzLnB1c2goY2xlYW51cCk7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBGZWF0dXJlcztcbiIsImltcG9ydCBsb2cgZnJvbSAnLi9sb2cnO1xuXG5mdW5jdGlvbiBzaGFyZUZpcnN0KHBhdGg6IHN0cmluZyk6IGJvb2xlYW4ge1xuICByZXR1cm4gKCB0aGlzLmJhY2tlbmQgPT09ICdkcm9wYm94JyAmJlxuICAgICAgICAgICAhIXBhdGgubWF0Y2goL15cXC9wdWJsaWNcXC8uKlteXFwvXSQvKSApO1xufVxuXG5mdW5jdGlvbiBkZWZhdWx0TWF4QWdlKGNvbnRleHQpOiBmYWxzZSB8IG51bWJlciB7XG4gIGlmICgodHlwZW9mIGNvbnRleHQucmVtb3RlID09PSAnb2JqZWN0JykgJiZcbiAgICAgIGNvbnRleHQucmVtb3RlLmNvbm5lY3RlZCAmJiBjb250ZXh0LnJlbW90ZS5vbmxpbmUpIHtcbiAgICByZXR1cm4gMiAqIGNvbnRleHQuZ2V0U3luY0ludGVydmFsKCk7XG4gIH0gZWxzZSB7XG4gICAgbG9nKCdOb3Qgc2V0dGluZyBkZWZhdWx0IG1heEFnZSwgYmVjYXVzZSByZW1vdGUgaXMgb2ZmbGluZSBvciBub3QgY29ubmVjdGVkJyk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmNvbnN0IFN5bmNlZEdldFB1dERlbGV0ZSA9IHtcbiAgZ2V0OiBmdW5jdGlvbiAocGF0aDogc3RyaW5nLCBtYXhBZ2U6IHVuZGVmaW5lZCB8IGZhbHNlIHwgbnVtYmVyKTogUHJvbWlzZTx1bmtub3duPiB7XG4gICAgaWYgKCF0aGlzLmxvY2FsKSB7XG4gICAgICByZXR1cm4gdGhpcy5yZW1vdGUuZ2V0KHBhdGgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodHlwZW9mIG1heEFnZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgbWF4QWdlID0gZGVmYXVsdE1heEFnZSh0aGlzKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG1heEFnZSAhPT0gJ251bWJlcicgJiYgbWF4QWdlICE9PSBmYWxzZSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEFyZ3VtZW50ICdtYXhBZ2UnIG11c3QgYmUgJ2ZhbHNlJyBvciBhIG51bWJlcmApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMubG9jYWwuZ2V0KHBhdGgsIG1heEFnZSwgdGhpcy5zeW5jLnF1ZXVlR2V0UmVxdWVzdC5iaW5kKHRoaXMuc3luYykpO1xuICAgIH1cbiAgfSxcblxuICBwdXQ6IGZ1bmN0aW9uIChwYXRoOiBzdHJpbmcsIGJvZHk6IHVua25vd24sIGNvbnRlbnRUeXBlOiBzdHJpbmcpOiBQcm9taXNlPHVua25vd24+IHtcbiAgICBpZiAoc2hhcmVGaXJzdC5iaW5kKHRoaXMpKHBhdGgpKSB7XG4gICAgICByZXR1cm4gU3luY2VkR2V0UHV0RGVsZXRlLl93cmFwQnVzeURvbmUuY2FsbCh0aGlzLCB0aGlzLnJlbW90ZS5wdXQocGF0aCwgYm9keSwgY29udGVudFR5cGUpKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodGhpcy5sb2NhbCkge1xuICAgICAgcmV0dXJuIHRoaXMubG9jYWwucHV0KHBhdGgsIGJvZHksIGNvbnRlbnRUeXBlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFN5bmNlZEdldFB1dERlbGV0ZS5fd3JhcEJ1c3lEb25lLmNhbGwodGhpcywgdGhpcy5yZW1vdGUucHV0KHBhdGgsIGJvZHksIGNvbnRlbnRUeXBlKSk7XG4gICAgfVxuICB9LFxuXG4gICdkZWxldGUnOiBmdW5jdGlvbiAocGF0aDogc3RyaW5nKTogUHJvbWlzZTx1bmtub3duPiB7XG4gICAgaWYgKHRoaXMubG9jYWwpIHtcbiAgICAgIHJldHVybiB0aGlzLmxvY2FsLmRlbGV0ZShwYXRoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFN5bmNlZEdldFB1dERlbGV0ZS5fd3JhcEJ1c3lEb25lLmNhbGwodGhpcywgdGhpcy5yZW1vdGUuZGVsZXRlKHBhdGgpKTtcbiAgICB9XG4gIH0sXG5cbiAgX3dyYXBCdXN5RG9uZTogYXN5bmMgZnVuY3Rpb24gKHJlc3VsdDogUHJvbWlzZTx1bmtub3duPik6IFByb21pc2U8dW5rbm93bj4ge1xuICAgIHRoaXMuX2VtaXQoJ3dpcmUtYnVzeScpO1xuICAgIHJldHVybiByZXN1bHQudGhlbigocikgPT4ge1xuICAgICAgdGhpcy5fZW1pdCgnd2lyZS1kb25lJywgeyBzdWNjZXNzOiB0cnVlIH0pO1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyKTtcbiAgICB9LCAoZXJyOiBFcnJvcikgPT4ge1xuICAgICAgdGhpcy5fZW1pdCgnd2lyZS1kb25lJywgeyBzdWNjZXNzOiBmYWxzZSB9KTtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnIpO1xuICAgIH0pO1xuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBTeW5jZWRHZXRQdXREZWxldGU7XG4iLCJpbXBvcnQgY29uZmlnIGZyb20gJy4vY29uZmlnJztcbmltcG9ydCBFbnYgZnJvbSAnLi9lbnYnO1xuaW1wb3J0IEV2ZW50SGFuZGxpbmcgZnJvbSAnLi9ldmVudGhhbmRsaW5nJztcbmltcG9ydCBsb2cgZnJvbSAnLi9sb2cnO1xuaW1wb3J0IEF1dGhvcml6ZSBmcm9tICcuL2F1dGhvcml6ZSc7XG5pbXBvcnQgU3luY0Vycm9yIGZyb20gJy4vc3luYy1lcnJvcic7XG5pbXBvcnQgVW5hdXRob3JpemVkRXJyb3IgZnJvbSAnLi91bmF1dGhvcml6ZWQtZXJyb3InO1xuaW1wb3J0IHtcbiAgYXBwbHlNaXhpbnMsXG4gIGRlZXBDbG9uZSxcbiAgZXF1YWwsXG4gIGlzRm9sZGVyLFxuICBpc0RvY3VtZW50LFxuICBwYXRoc0Zyb21Sb290XG59IGZyb20gJy4vdXRpbCc7XG5cbmxldCBzeW5jQ3ljbGVDYiwgc3luY09uQ29ubmVjdDtcblxuaW50ZXJmYWNlIFJlc3BvbnNlU3RhdHVzIHtcbiAgc3RhdHVzQ29kZTogc3RyaW5nIHwgbnVtYmVyO1xuICBzdWNjZXNzZnVsOiBib29sZWFuIHwgdW5kZWZpbmVkO1xuICBjb25mbGljdDogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbiAgdW5BdXRoOiBib29sZWFuIHwgdW5kZWZpbmVkO1xuICBub3RGb3VuZDogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbiAgY2hhbmdlZDogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbiAgbmV0d29ya1Byb2JsZW1zOiBib29sZWFuIHwgdW5kZWZpbmVkO1xufVxuXG5pbnRlcmZhY2UgU3luY1Rhc2sge1xuICBhY3Rpb246IGFueTtcbiAgcGF0aDogc3RyaW5nO1xuICBwcm9taXNlOiBQcm9taXNlPGFueT47XG59XG5cbmZ1bmN0aW9uIHRhc2tGb3IgKGFjdGlvbiwgcGF0aDogc3RyaW5nLCBwcm9taXNlOiBQcm9taXNlPGFueT4pOiBTeW5jVGFzayB7XG4gIHJldHVybiB7IGFjdGlvbiwgcGF0aCwgcHJvbWlzZSB9O1xufVxuXG5mdW5jdGlvbiBub2RlQ2hhbmdlZCAobm9kZTogUlNOb2RlLCBldGFnOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgcmV0dXJuIG5vZGUuY29tbW9uLnJldmlzaW9uICE9PSBldGFnICYmXG4gICAgICAgICAoIW5vZGUucmVtb3RlIHx8IG5vZGUucmVtb3RlLnJldmlzaW9uICE9PSBldGFnKTtcbn1cblxuZnVuY3Rpb24gaXNTdGFsZUNoaWxkIChub2RlOiBSU05vZGUpOiBib29sZWFuIHtcbiAgcmV0dXJuIG5vZGUucmVtb3RlICYmIG5vZGUucmVtb3RlLnJldmlzaW9uICYmICFub2RlLnJlbW90ZS5pdGVtc01hcCAmJiAhbm9kZS5yZW1vdGUuYm9keTtcbn1cblxuZnVuY3Rpb24gaGFzQ29tbW9uUmV2aXNpb24gKG5vZGU6IFJTTm9kZSk6IGJvb2xlYW4ge1xuICByZXR1cm4gbm9kZS5jb21tb24gJiYgbm9kZS5jb21tb24ucmV2aXNpb247XG59XG5cbmZ1bmN0aW9uIGhhc05vUmVtb3RlQ2hhbmdlcyAobm9kZTogUlNOb2RlKTogYm9vbGVhbiB7XG4gIGlmIChub2RlLnJlbW90ZSAmJiBub2RlLnJlbW90ZS5yZXZpc2lvbiAmJlxuICAgICAgbm9kZS5yZW1vdGUucmV2aXNpb24gIT09IG5vZGUuY29tbW9uLnJldmlzaW9uKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiAobm9kZS5jb21tb24uYm9keSA9PT0gdW5kZWZpbmVkICYmIG5vZGUucmVtb3RlLmJvZHkgPT09IGZhbHNlKSB8fFxuICAgIChub2RlLnJlbW90ZS5ib2R5ID09PSBub2RlLmNvbW1vbi5ib2R5ICYmXG4gICAgIG5vZGUucmVtb3RlLmNvbnRlbnRUeXBlID09PSBub2RlLmNvbW1vbi5jb250ZW50VHlwZSk7XG59XG5cbmZ1bmN0aW9uIG1lcmdlTXV0dWFsRGVsZXRpb24gKG5vZGU6IFJTTm9kZSk6IFJTTm9kZSB7XG4gIGlmIChub2RlLnJlbW90ZSAmJiBub2RlLnJlbW90ZS5ib2R5ID09PSBmYWxzZSAmJlxuICAgICAgbm9kZS5sb2NhbCAmJiBub2RlLmxvY2FsLmJvZHkgPT09IGZhbHNlKSB7XG4gICAgZGVsZXRlIG5vZGUubG9jYWw7XG4gIH1cbiAgcmV0dXJuIG5vZGU7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZVZpc2liaWxpdHkgKGVudiwgcnMpOiB2b2lkIHtcbiAgZnVuY3Rpb24gaGFuZGxlQ2hhbmdlIChpc0ZvcmVncm91bmQpOiB2b2lkIHtcbiAgICBjb25zdCBvbGRWYWx1ZSA9IHJzLmdldEN1cnJlbnRTeW5jSW50ZXJ2YWwoKTtcbiAgICBjb25maWcuaXNCYWNrZ3JvdW5kID0gIWlzRm9yZWdyb3VuZDtcbiAgICBjb25zdCBuZXdWYWx1ZSA9IHJzLmdldEN1cnJlbnRTeW5jSW50ZXJ2YWwoKTtcbiAgICBycy5fZW1pdCgnc3luYy1pbnRlcnZhbC1jaGFuZ2UnLCB7b2xkVmFsdWU6IG9sZFZhbHVlLCBuZXdWYWx1ZTogbmV3VmFsdWV9KTtcbiAgfVxuICBlbnYub24oJ2JhY2tncm91bmQnLCAoKSA9PiBoYW5kbGVDaGFuZ2UoZmFsc2UpKTtcbiAgZW52Lm9uKCdmb3JlZ3JvdW5kJywgKCkgPT4gaGFuZGxlQ2hhbmdlKHRydWUpKTtcbn1cblxuLyoqXG4gKiBDbGFzczogUmVtb3RlU3RvcmFnZS5TeW5jXG4gKlxuICogVGhpcyBjbGFzcyBiYXNpY2FsbHkgZG9lcyBzaXggdGhpbmdzOlxuICpcbiAqIC0gcmV0cmlldmUgdGhlIHJlbW90ZSB2ZXJzaW9uIG9mIHJlbGV2YW50IGRvY3VtZW50cyBhbmQgZm9sZGVyc1xuICogLSBhZGQgYWxsIGxvY2FsIGFuZCByZW1vdGUgZG9jdW1lbnRzIHRvZ2V0aGVyIGludG8gb25lIHRyZWVcbiAqIC0gcHVzaCBsb2NhbCBkb2N1bWVudHMgb3V0IGlmIHRoZXkgZG9uJ3QgZXhpc3QgcmVtb3RlbHlcbiAqIC0gcHVzaCBsb2NhbCBjaGFuZ2VzIG91dCB0byByZW1vdGUgZG9jdW1lbnRzIChjb25kaXRpb25hbGx5LCB0byBhdm9pZCByYWNlXG4gKiAgIGNvbmRpdGlvbnMgd2hlcmUgYm90aCBoYXZlIGNoYW5nZWQpXG4gKiAtIGFkb3B0IHRoZSBsb2NhbCB2ZXJzaW9uIG9mIGEgZG9jdW1lbnQgdG8gaXRzIHJlbW90ZSB2ZXJzaW9uIGlmIGJvdGggZXhpc3RcbiAqICAgYW5kIHRoZXkgZGlmZmVyXG4gKiAtIGRlbGV0ZSB0aGUgbG9jYWwgdmVyc2lvbiBvZiBhIGRvY3VtZW50IGlmIGl0IHdhcyBkZWxldGVkIHJlbW90ZWx5XG4gKiAtIGlmIGFueSBHRVQgcmVxdWVzdHMgd2VyZSB3YWl0aW5nIGZvciByZW1vdGUgZGF0YSwgcmVzb2x2ZSB0aGVtIG9uY2UgdGhpc1xuICogICBkYXRhIGNvbWVzIGluLlxuICpcbiAqIEl0IGRvZXMgdGhpcyB1c2luZyByZXF1ZXN0cyB0byBkb2N1bWVudHMgYW5kIGZvbGRlcnMuIFdoZW5ldmVyIGEgZm9sZGVyIEdFVFxuICogY29tZXMgaW4sIGl0IGdpdmVzIGluZm9ybWF0aW9uIGFib3V0IGFsbCB0aGUgZG9jdW1lbnRzIGl0IGNvbnRhaW5zICh0aGlzIGlzXG4gKiB0aGUgYG1hcmtDaGlsZHJlbmAgZnVuY3Rpb24pLlxuICoqL1xuY2xhc3MgU3luYyB7XG4gIC8vIFRPRE8gcmVtb3ZlIHdoZW4gUlMgaXMgZGVmaW5lZCwgb3IgaWYgdW5uZWNlc3NhcnlcbiAgcnM6IHsgW3Byb3BOYW1lOiBzdHJpbmddOiBhbnkgfVxuXG4gIG51bVRocmVhZHM6IG51bWJlclxuICBkb25lOiBib29sZWFuXG4gIHN0b3BwZWQ6IGJvb2xlYW5cblxuICAvLyBUT0RPIGRlZmluZSBpbiBtb3JlIGRldGFpbFxuICBfdGFza3M6IG9iamVjdFxuICBfcnVubmluZzogb2JqZWN0XG4gIF90aW1lU3RhcnRlZDogb2JqZWN0XG5cbiAgY29uc3RydWN0b3IgKHJlbW90ZVN0b3JhZ2U6IG9iamVjdCkge1xuICAgIHRoaXMucnMgPSByZW1vdGVTdG9yYWdlO1xuXG4gICAgdGhpcy5fdGFza3MgICAgICAgPSB7fTtcbiAgICB0aGlzLl9ydW5uaW5nICAgICA9IHt9O1xuICAgIHRoaXMuX3RpbWVTdGFydGVkID0ge307XG5cbiAgICB0aGlzLm51bVRocmVhZHMgPSAxMDtcblxuICAgIHRoaXMucnMubG9jYWwub25EaWZmKHBhdGggPT4ge1xuICAgICAgdGhpcy5hZGRUYXNrKHBhdGgpO1xuICAgICAgdGhpcy5kb1Rhc2tzKCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLnJzLmNhY2hpbmcub25BY3RpdmF0ZSgocGF0aDogc3RyaW5nKTogdm9pZCA9PiB7XG4gICAgICB0aGlzLmFkZFRhc2socGF0aCk7XG4gICAgICB0aGlzLmRvVGFza3MoKTtcbiAgICB9KTtcblxuICAgIHRoaXMuYWRkRXZlbnRzKFsnZG9uZScsICdyZXEtZG9uZSddKTtcbiAgfVxuXG4gIHB1YmxpYyBub3cgKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICB9XG5cbiAgcHVibGljIHF1ZXVlR2V0UmVxdWVzdCAocGF0aDogc3RyaW5nKTogb2JqZWN0IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgaWYgKCF0aGlzLnJzLnJlbW90ZS5jb25uZWN0ZWQpIHtcbiAgICAgICAgcmVqZWN0KCdjYW5ub3QgZnVsZmlsbCBtYXhBZ2UgcmVxdWlyZW1lbnQgLSByZW1vdGUgaXMgbm90IGNvbm5lY3RlZCcpO1xuICAgICAgfSBlbHNlIGlmICghdGhpcy5ycy5yZW1vdGUub25saW5lKSB7XG4gICAgICAgIHJlamVjdCgnY2Fubm90IGZ1bGZpbGwgbWF4QWdlIHJlcXVpcmVtZW50IC0gcmVtb3RlIGlzIG5vdCBvbmxpbmUnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuYWRkVGFzayhwYXRoLCBmdW5jdGlvbiAoKTogdm9pZCB7XG4gICAgICAgICAgdGhpcy5ycy5sb2NhbC5nZXQocGF0aCkudGhlbihyID0+IHJlc29sdmUocikpO1xuICAgICAgICB9LmJpbmQodGhpcykpO1xuXG4gICAgICAgIHRoaXMuZG9UYXNrcygpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLy8gRklYTUUgZm9yY2UwMiBzb3VuZHMgbGlrZSBycyBzcGVjIDAyLCB0aHVzIGNvdWxkIGJlIHJlbW92ZWRcbiAgcHVibGljIGNvcnJ1cHRTZXJ2ZXJJdGVtc01hcCAoaXRlbXNNYXAsIGZvcmNlMDI/OiBib29sZWFuKTogYm9vbGVhbiB7XG4gICAgaWYgKCh0eXBlb2YoaXRlbXNNYXApICE9PSAnb2JqZWN0JykgfHwgKEFycmF5LmlzQXJyYXkoaXRlbXNNYXApKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBpdGVtTmFtZSBpbiBpdGVtc01hcCkge1xuICAgICAgY29uc3QgaXRlbSA9IGl0ZW1zTWFwW2l0ZW1OYW1lXTtcblxuICAgICAgaWYgKHR5cGVvZihpdGVtKSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mKGl0ZW0uRVRhZykgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKGlzRm9sZGVyKGl0ZW1OYW1lKSkge1xuICAgICAgICBpZiAoaXRlbU5hbWUuc3Vic3RyaW5nKDAsIGl0ZW1OYW1lLmxlbmd0aC0xKS5pbmRleE9mKCcvJykgIT09IC0xKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChpdGVtTmFtZS5pbmRleE9mKCcvJykgIT09IC0xKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZvcmNlMDIpIHtcbiAgICAgICAgICBpZiAodHlwZW9mKGl0ZW1bJ0NvbnRlbnQtVHlwZSddKSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodHlwZW9mKGl0ZW1bJ0NvbnRlbnQtTGVuZ3RoJ10pICE9PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcHVibGljIGNvcnJ1cHRJdGVtc01hcCAoaXRlbXNNYXApOiBib29sZWFuIHtcbiAgICBpZiAoKHR5cGVvZihpdGVtc01hcCkgIT09ICdvYmplY3QnKSB8fCAoQXJyYXkuaXNBcnJheShpdGVtc01hcCkpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IHBhdGggaW4gaXRlbXNNYXApIHtcbiAgICAgIGlmICh0eXBlb2YgaXRlbXNNYXBbcGF0aF0gIT09ICdib29sZWFuJykge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBwdWJsaWMgY29ycnVwdFJldmlzaW9uIChyZXYpOiBib29sZWFuIHtcbiAgICByZXR1cm4gKCh0eXBlb2YocmV2KSAhPT0gJ29iamVjdCcpIHx8XG4gICAgICAgICAgICAoQXJyYXkuaXNBcnJheShyZXYpKSB8fFxuICAgICAgICAgICAgKHJldi5yZXZpc2lvbiAmJiB0eXBlb2YocmV2LnJldmlzaW9uKSAhPT0gJ3N0cmluZycpIHx8XG4gICAgICAgICAgICAocmV2LmJvZHkgJiYgdHlwZW9mKHJldi5ib2R5KSAhPT0gJ3N0cmluZycgJiYgdHlwZW9mKHJldi5ib2R5KSAhPT0gJ29iamVjdCcpIHx8XG4gICAgICAgICAgICAocmV2LmNvbnRlbnRUeXBlICYmIHR5cGVvZihyZXYuY29udGVudFR5cGUpICE9PSAnc3RyaW5nJykgfHxcbiAgICAgICAgICAgIChyZXYuY29udGVudExlbmd0aCAmJiB0eXBlb2YocmV2LmNvbnRlbnRMZW5ndGgpICE9PSAnbnVtYmVyJykgfHxcbiAgICAgICAgICAgIChyZXYudGltZXN0YW1wICYmIHR5cGVvZihyZXYudGltZXN0YW1wKSAhPT0gJ251bWJlcicpIHx8XG4gICAgICAgICAgICAocmV2Lml0ZW1zTWFwICYmIHRoaXMuY29ycnVwdEl0ZW1zTWFwKHJldi5pdGVtc01hcCkpKTtcbiAgfVxuXG4gIHB1YmxpYyBpc0NvcnJ1cHQgKG5vZGU6IFJTTm9kZSk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAoKHR5cGVvZihub2RlKSAhPT0gJ29iamVjdCcpIHx8XG4gICAgICAgICAgICAoQXJyYXkuaXNBcnJheShub2RlKSkgfHxcbiAgICAgICAgICAgICh0eXBlb2Yobm9kZS5wYXRoKSAhPT0gJ3N0cmluZycpIHx8XG4gICAgICAgICAgICAodGhpcy5jb3JydXB0UmV2aXNpb24obm9kZS5jb21tb24pKSB8fFxuICAgICAgICAgICAgKG5vZGUubG9jYWwgJiYgdGhpcy5jb3JydXB0UmV2aXNpb24obm9kZS5sb2NhbCkpIHx8XG4gICAgICAgICAgICAobm9kZS5yZW1vdGUgJiYgdGhpcy5jb3JydXB0UmV2aXNpb24obm9kZS5yZW1vdGUpKSB8fFxuICAgICAgICAgICAgKG5vZGUucHVzaCAmJiB0aGlzLmNvcnJ1cHRSZXZpc2lvbihub2RlLnB1c2gpKSk7XG4gIH1cblxuICBwdWJsaWMgaGFzVGFza3MgKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0aGlzLl90YXNrcykubGVuZ3RoID4gMDtcbiAgfVxuXG4gIHB1YmxpYyBhc3luYyBjb2xsZWN0RGlmZlRhc2tzICgpOiBQcm9taXNlPG51bWJlcj4ge1xuICAgIGxldCBudW0gPSAwO1xuXG4gICAgcmV0dXJuIHRoaXMucnMubG9jYWwuZm9yQWxsTm9kZXMoKG5vZGU6IFJTTm9kZSkgPT4ge1xuICAgICAgaWYgKG51bSA+IDEwMCkgeyByZXR1cm47IH1cblxuICAgICAgaWYgKHRoaXMuaXNDb3JydXB0KG5vZGUpKSB7XG4gICAgICAgIGxvZygnW1N5bmNdIFdBUk5JTkc6IGNvcnJ1cHQgbm9kZSBpbiBsb2NhbCBjYWNoZScsIG5vZGUpO1xuICAgICAgICBpZiAodHlwZW9mKG5vZGUpID09PSAnb2JqZWN0JyAmJiBub2RlLnBhdGgpIHtcbiAgICAgICAgICB0aGlzLmFkZFRhc2sobm9kZS5wYXRoKTtcbiAgICAgICAgICBudW0rKztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0aGlzLm5lZWRzRmV0Y2gobm9kZSkgJiYgdGhpcy5ycy5hY2Nlc3MuY2hlY2tQYXRoUGVybWlzc2lvbihub2RlLnBhdGgsICdyJykpIHtcbiAgICAgICAgdGhpcy5hZGRUYXNrKG5vZGUucGF0aCk7XG4gICAgICAgIG51bSsrO1xuICAgICAgfSBlbHNlIGlmIChpc0RvY3VtZW50KG5vZGUucGF0aCkgJiYgdGhpcy5uZWVkc1B1c2gobm9kZSkgJiZcbiAgICAgICAgICAgICAgICAgdGhpcy5ycy5hY2Nlc3MuY2hlY2tQYXRoUGVybWlzc2lvbihub2RlLnBhdGgsICdydycpKSB7XG4gICAgICAgIHRoaXMuYWRkVGFzayhub2RlLnBhdGgpO1xuICAgICAgICBudW0rKztcbiAgICAgIH1cbiAgICB9KVxuICAgIC50aGVuKCgpOiBudW1iZXIgPT4gbnVtKVxuICAgIC5jYXRjaChlID0+IHsgdGhyb3cgZTsgfSk7XG4gIH1cblxuICBwdWJsaWMgaW5Db25mbGljdCAobm9kZTogUlNOb2RlKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIChub2RlLmxvY2FsICYmIG5vZGUucmVtb3RlICYmXG4gICAgICAgICAgICAobm9kZS5yZW1vdGUuYm9keSAhPT0gdW5kZWZpbmVkIHx8IG5vZGUucmVtb3RlLml0ZW1zTWFwKSk7XG4gIH1cblxuICBwdWJsaWMgbmVlZHNSZWZyZXNoIChub2RlOiBSU05vZGUpOiBib29sZWFuIHtcbiAgICBpZiAobm9kZS5jb21tb24pIHtcbiAgICAgIGlmICghbm9kZS5jb21tb24udGltZXN0YW1wKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuICh0aGlzLm5vdygpIC0gbm9kZS5jb21tb24udGltZXN0YW1wID4gY29uZmlnLnN5bmNJbnRlcnZhbCk7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHB1YmxpYyBuZWVkc0ZldGNoIChub2RlOiBSU05vZGUpOiBib29sZWFuIHtcbiAgICBpZiAodGhpcy5pbkNvbmZsaWN0KG5vZGUpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKG5vZGUuY29tbW9uICYmXG4gICAgICAgIG5vZGUuY29tbW9uLml0ZW1zTWFwID09PSB1bmRlZmluZWQgJiZcbiAgICAgICAgbm9kZS5jb21tb24uYm9keSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKG5vZGUucmVtb3RlICYmXG4gICAgICAgIG5vZGUucmVtb3RlLml0ZW1zTWFwID09PSB1bmRlZmluZWQgJiZcbiAgICAgICAgbm9kZS5yZW1vdGUuYm9keSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcHVibGljIG5lZWRzUHVzaCAobm9kZTogUlNOb2RlKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMuaW5Db25mbGljdChub2RlKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAobm9kZS5sb2NhbCAmJiAhbm9kZS5wdXNoKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgbmVlZHNSZW1vdGVQdXQgKG5vZGU6IFJTTm9kZSk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBub2RlLmxvY2FsICYmIG5vZGUubG9jYWwuYm9keTtcbiAgfVxuXG4gIHB1YmxpYyBuZWVkc1JlbW90ZURlbGV0ZSAobm9kZTogUlNOb2RlKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIG5vZGUubG9jYWwgJiYgbm9kZS5sb2NhbC5ib2R5ID09PSBmYWxzZTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRQYXJlbnRQYXRoIChwYXRoOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGNvbnN0IHBhcnRzID0gcGF0aC5tYXRjaCgvXiguKlxcLykoW15cXC9dK1xcLz8pJC8pO1xuXG4gICAgaWYgKHBhcnRzKSB7XG4gICAgICByZXR1cm4gcGFydHNbMV07XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTm90IGEgdmFsaWQgcGF0aDogXCInK3BhdGgrJ1wiJyk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIGRlbGV0ZUNoaWxkUGF0aHNGcm9tVGFza3MgKCk6IHZvaWQge1xuICAgIGZvciAoY29uc3QgcGF0aCBpbiB0aGlzLl90YXNrcykge1xuICAgICAgY29uc3QgcGF0aHMgPSBwYXRoc0Zyb21Sb290KHBhdGgpO1xuXG4gICAgICBmb3IgKGxldCBpPTE7IGk8cGF0aHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHRoaXMuX3Rhc2tzW3BhdGhzW2ldXSkge1xuICAgICAgICAgIC8vIG1vdmUgcGVuZGluZyBwcm9taXNlcyB0byBwYXJlbnQgdGFza1xuICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMuX3Rhc2tzW3BhdGhdKSAmJiB0aGlzLl90YXNrc1twYXRoXS5sZW5ndGgpIHtcbiAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KFxuICAgICAgICAgICAgICB0aGlzLl90YXNrc1twYXRoc1tpXV0sXG4gICAgICAgICAgICAgIHRoaXMuX3Rhc2tzW3BhdGhdXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBkZWxldGUgdGhpcy5fdGFza3NbcGF0aF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwdWJsaWMgYXN5bmMgY29sbGVjdFJlZnJlc2hUYXNrcyAoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuIHRoaXMucnMubG9jYWwuZm9yQWxsTm9kZXMoKG5vZGU6IFJTTm9kZSkgPT4ge1xuICAgICAgbGV0IHBhcmVudFBhdGg6IHN0cmluZztcbiAgICAgIGlmICh0aGlzLm5lZWRzUmVmcmVzaChub2RlKSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHBhcmVudFBhdGggPSB0aGlzLmdldFBhcmVudFBhdGgobm9kZS5wYXRoKTtcbiAgICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgICAgLy8gbm9kZS5wYXRoIGlzIGFscmVhZHkgJy8nLCBjYW4ndCB0YWtlIHBhcmVudFBhdGhcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyZW50UGF0aCAmJiB0aGlzLnJzLmFjY2Vzcy5jaGVja1BhdGhQZXJtaXNzaW9uKHBhcmVudFBhdGgsICdyJykpIHtcbiAgICAgICAgICB0aGlzLmFkZFRhc2socGFyZW50UGF0aCk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5ycy5hY2Nlc3MuY2hlY2tQYXRoUGVybWlzc2lvbihub2RlLnBhdGgsICdyJykpIHtcbiAgICAgICAgICB0aGlzLmFkZFRhc2sobm9kZS5wYXRoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG4gICAgLnRoZW4oKCkgPT4gdGhpcy5kZWxldGVDaGlsZFBhdGhzRnJvbVRhc2tzKCkpXG4gICAgLmNhdGNoKChlOiBFcnJvcikgPT4geyB0aHJvdyBlOyB9KTtcbiAgfVxuXG4gIHB1YmxpYyBmbHVzaCAobm9kZXM6IFJTTm9kZXMpOiBSU05vZGVzIHtcbiAgICBmb3IgKGNvbnN0IHBhdGggaW4gbm9kZXMpIHtcbiAgICAgIC8vIFN0cmF0ZWd5IGlzICdGTFVTSCcgYW5kIG5vIGxvY2FsIGNoYW5nZXMgZXhpc3RcbiAgICAgIGlmICh0aGlzLnJzLmNhY2hpbmcuY2hlY2tQYXRoKHBhdGgpID09PSAnRkxVU0gnICYmXG4gICAgICAgICAgbm9kZXNbcGF0aF0gJiYgIW5vZGVzW3BhdGhdLmxvY2FsKSB7XG4gICAgICAgIGxvZygnW1N5bmNdIEZsdXNoaW5nJywgcGF0aCk7XG4gICAgICAgIG5vZGVzW3BhdGhdID0gdW5kZWZpbmVkOyAvLyBDYXVzZSBub2RlIHRvIGJlIGZsdXNoZWQgZnJvbSBjYWNoZVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbm9kZXM7XG4gIH1cblxuICBwdWJsaWMgZG9UYXNrIChwYXRoOiBzdHJpbmcpOiBvYmplY3Qge1xuICAgIHJldHVybiB0aGlzLnJzLmxvY2FsLmdldE5vZGVzKFtwYXRoXSkudGhlbigobm9kZXM6IFJTTm9kZXMpID0+IHtcbiAgICAgIGNvbnN0IG5vZGUgPSBub2Rlc1twYXRoXTtcbiAgICAgIC8vIEZpcnN0IGZldGNoOlxuICAgICAgaWYgKHR5cGVvZihub2RlKSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIHRhc2tGb3IoJ2dldCcsIHBhdGgsIHRoaXMucnMucmVtb3RlLmdldChwYXRoKSk7XG4gICAgICB9XG4gICAgICAvLyBGZXRjaCBrbm93bi1zdGFsZSBjaGlsZDpcbiAgICAgIGVsc2UgaWYgKGlzU3RhbGVDaGlsZChub2RlKSkge1xuICAgICAgICByZXR1cm4gdGFza0ZvcignZ2V0JywgcGF0aCwgdGhpcy5ycy5yZW1vdGUuZ2V0KHBhdGgpKTtcbiAgICAgIH1cbiAgICAgIC8vIFB1c2ggUFVUOlxuICAgICAgZWxzZSBpZiAodGhpcy5uZWVkc1JlbW90ZVB1dChub2RlKSkge1xuICAgICAgICBub2RlLnB1c2ggPSBkZWVwQ2xvbmUobm9kZS5sb2NhbCk7XG4gICAgICAgIG5vZGUucHVzaC50aW1lc3RhbXAgPSB0aGlzLm5vdygpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLnJzLmxvY2FsLnNldE5vZGVzKHRoaXMuZmx1c2gobm9kZXMpKS50aGVuKCgpID0+IHtcbiAgICAgICAgICBsZXQgb3B0aW9ucztcbiAgICAgICAgICBpZiAoaGFzQ29tbW9uUmV2aXNpb24obm9kZSkpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSB7IGlmTWF0Y2g6IG5vZGUuY29tbW9uLnJldmlzaW9uIH07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIEluaXRpYWwgUFVUIChmYWlsIGlmIHNvbWV0aGluZyBpcyBhbHJlYWR5IHRoZXJlKVxuICAgICAgICAgICAgb3B0aW9ucyA9IHsgaWZOb25lTWF0Y2g6ICcqJyB9O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiB0YXNrRm9yKCdwdXQnLCBwYXRoLFxuICAgICAgICAgICAgdGhpcy5ycy5yZW1vdGUucHV0KHBhdGgsIG5vZGUucHVzaC5ib2R5LCBub2RlLnB1c2guY29udGVudFR5cGUsIG9wdGlvbnMpXG4gICAgICAgICAgKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICAvLyBQdXNoIERFTEVURTpcbiAgICAgIGVsc2UgaWYgKHRoaXMubmVlZHNSZW1vdGVEZWxldGUobm9kZSkpIHtcbiAgICAgICAgbm9kZS5wdXNoID0geyBib2R5OiBmYWxzZSwgdGltZXN0YW1wOiB0aGlzLm5vdygpIH07XG5cbiAgICAgICAgcmV0dXJuIHRoaXMucnMubG9jYWwuc2V0Tm9kZXModGhpcy5mbHVzaChub2RlcykpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIGlmIChoYXNDb21tb25SZXZpc2lvbihub2RlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRhc2tGb3IoJ2RlbGV0ZScsIHBhdGgsXG4gICAgICAgICAgICAgIHRoaXMucnMucmVtb3RlLmRlbGV0ZShwYXRoLCB7IGlmTWF0Y2g6IG5vZGUuY29tbW9uLnJldmlzaW9uIH0pXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0gZWxzZSB7IC8vIEFzY2VydGFpbiBjdXJyZW50IGNvbW1vbiBvciByZW1vdGUgcmV2aXNpb24gZmlyc3RcbiAgICAgICAgICAgIHJldHVybiB0YXNrRm9yKCdnZXQnLCBwYXRoLCB0aGlzLnJzLnJlbW90ZS5nZXQocGF0aCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICAvLyBDb25kaXRpb25hbCByZWZyZXNoOlxuICAgICAgZWxzZSBpZiAoaGFzQ29tbW9uUmV2aXNpb24obm9kZSkpIHtcbiAgICAgICAgcmV0dXJuIHRhc2tGb3IoJ2dldCcsIHBhdGgsXG4gICAgICAgICAgdGhpcy5ycy5yZW1vdGUuZ2V0KHBhdGgsIHsgaWZOb25lTWF0Y2g6IG5vZGUuY29tbW9uLnJldmlzaW9uIH0pXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRhc2tGb3IoJ2dldCcsIHBhdGgsIHRoaXMucnMucmVtb3RlLmdldChwYXRoKSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgYXV0b01lcmdlRm9sZGVyIChub2RlOiBSU05vZGUpOiBSU05vZGUge1xuICAgIGlmIChub2RlLnJlbW90ZS5pdGVtc01hcCkge1xuICAgICAgbm9kZS5jb21tb24gPSBub2RlLnJlbW90ZTtcbiAgICAgIGRlbGV0ZSBub2RlLnJlbW90ZTtcblxuICAgICAgaWYgKG5vZGUuY29tbW9uLml0ZW1zTWFwKSB7XG4gICAgICAgIGZvciAoY29uc3QgaXRlbU5hbWUgaW4gbm9kZS5jb21tb24uaXRlbXNNYXApIHtcbiAgICAgICAgICBpZiAoIW5vZGUubG9jYWwuaXRlbXNNYXBbaXRlbU5hbWVdKSB7XG4gICAgICAgICAgICAvLyBJbmRpY2F0ZXMgdGhlIG5vZGUgaXMgZWl0aGVyIG5ld2x5IGJlaW5nIGZldGNoZWRcbiAgICAgICAgICAgIC8vIGhhcyBiZWVuIGRlbGV0ZWQgbG9jYWxseSAod2hldGhlciBvciBub3QgbGVhZGluZyB0byBjb25mbGljdCk7XG4gICAgICAgICAgICAvLyBiZWZvcmUgbGlzdGluZyBpdCBpbiBsb2NhbCBsaXN0aW5ncywgY2hlY2sgaWYgYSBsb2NhbCBkZWxldGlvblxuICAgICAgICAgICAgLy8gZXhpc3RzLlxuICAgICAgICAgICAgbm9kZS5sb2NhbC5pdGVtc01hcFtpdGVtTmFtZV0gPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXF1YWwobm9kZS5sb2NhbC5pdGVtc01hcCwgbm9kZS5jb21tb24uaXRlbXNNYXApKSB7XG4gICAgICAgICAgZGVsZXRlIG5vZGUubG9jYWw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cblxuICBwdWJsaWMgYXV0b01lcmdlRG9jdW1lbnQgKG5vZGU6IFJTTm9kZSk6IFJTTm9kZSB7XG4gICAgaWYgKGhhc05vUmVtb3RlQ2hhbmdlcyhub2RlKSkge1xuICAgICAgbm9kZSA9IG1lcmdlTXV0dWFsRGVsZXRpb24obm9kZSk7XG4gICAgICBkZWxldGUgbm9kZS5yZW1vdGU7XG4gICAgfSBlbHNlIGlmIChub2RlLnJlbW90ZS5ib2R5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIGtlZXAvcmV2ZXJ0OlxuICAgICAgbG9nKCdbU3luY10gRW1pdHRpbmcga2VlcC9yZXZlcnQnKTtcblxuICAgICAgdGhpcy5ycy5sb2NhbC5fZW1pdENoYW5nZSh7XG4gICAgICAgIG9yaWdpbjogICAgICAgICAnY29uZmxpY3QnLFxuICAgICAgICBwYXRoOiAgICAgICAgICAgbm9kZS5wYXRoLFxuICAgICAgICBvbGRWYWx1ZTogICAgICAgbm9kZS5sb2NhbC5ib2R5LFxuICAgICAgICBuZXdWYWx1ZTogICAgICAgbm9kZS5yZW1vdGUuYm9keSxcbiAgICAgICAgbGFzdENvbW1vblZhbHVlOiBub2RlLmNvbW1vbi5ib2R5LFxuICAgICAgICBvbGRDb250ZW50VHlwZTogbm9kZS5sb2NhbC5jb250ZW50VHlwZSxcbiAgICAgICAgbmV3Q29udGVudFR5cGU6IG5vZGUucmVtb3RlLmNvbnRlbnRUeXBlLFxuICAgICAgICBsYXN0Q29tbW9uQ29udGVudFR5cGU6IG5vZGUuY29tbW9uLmNvbnRlbnRUeXBlXG4gICAgICB9KTtcblxuICAgICAgaWYgKG5vZGUucmVtb3RlLmJvZHkpIHtcbiAgICAgICAgbm9kZS5jb21tb24gPSBub2RlLnJlbW90ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5vZGUuY29tbW9uID0ge307XG4gICAgICB9XG4gICAgICBkZWxldGUgbm9kZS5yZW1vdGU7XG4gICAgICBkZWxldGUgbm9kZS5sb2NhbDtcbiAgICB9XG5cbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuXG4gIHB1YmxpYyBhdXRvTWVyZ2UgKG5vZGU6IFJTTm9kZSk6IFJTTm9kZSB7XG4gICAgaWYgKG5vZGUucmVtb3RlKSB7XG4gICAgICBpZiAobm9kZS5sb2NhbCkge1xuICAgICAgICBpZiAoaXNGb2xkZXIobm9kZS5wYXRoKSkge1xuICAgICAgICAgIHJldHVybiB0aGlzLmF1dG9NZXJnZUZvbGRlcihub2RlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5hdXRvTWVyZ2VEb2N1bWVudChub2RlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHsgLy8gbm8gbG9jYWwgY2hhbmdlc1xuICAgICAgICBpZiAoaXNGb2xkZXIobm9kZS5wYXRoKSkge1xuICAgICAgICAgIGlmIChub2RlLnJlbW90ZS5pdGVtc01hcCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBub2RlLmNvbW1vbiA9IG5vZGUucmVtb3RlO1xuICAgICAgICAgICAgZGVsZXRlIG5vZGUucmVtb3RlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAobm9kZS5yZW1vdGUuYm9keSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zdCBjaGFuZ2UgPSB7XG4gICAgICAgICAgICAgIG9yaWdpbjogICAncmVtb3RlJyxcbiAgICAgICAgICAgICAgcGF0aDogICAgIG5vZGUucGF0aCxcbiAgICAgICAgICAgICAgb2xkVmFsdWU6IChub2RlLmNvbW1vbi5ib2R5ID09PSBmYWxzZSA/IHVuZGVmaW5lZCA6IG5vZGUuY29tbW9uLmJvZHkpLFxuICAgICAgICAgICAgICBuZXdWYWx1ZTogKG5vZGUucmVtb3RlLmJvZHkgPT09IGZhbHNlID8gdW5kZWZpbmVkIDogbm9kZS5yZW1vdGUuYm9keSksXG4gICAgICAgICAgICAgIG9sZENvbnRlbnRUeXBlOiBub2RlLmNvbW1vbi5jb250ZW50VHlwZSxcbiAgICAgICAgICAgICAgbmV3Q29udGVudFR5cGU6IG5vZGUucmVtb3RlLmNvbnRlbnRUeXBlXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKGNoYW5nZS5vbGRWYWx1ZSB8fCBjaGFuZ2UubmV3VmFsdWUpIHtcbiAgICAgICAgICAgICAgdGhpcy5ycy5sb2NhbC5fZW1pdENoYW5nZShjaGFuZ2UpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIW5vZGUucmVtb3RlLmJvZHkpIHsgLy8gbm8gcmVtb3RlLCBzbyBkZWxldGUvZG9uJ3QgY3JlYXRlXG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbm9kZS5jb21tb24gPSBub2RlLnJlbW90ZTtcbiAgICAgICAgICAgIGRlbGV0ZSBub2RlLnJlbW90ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKG5vZGUuY29tbW9uLmJvZHkpIHtcbiAgICAgICAgdGhpcy5ycy5sb2NhbC5fZW1pdENoYW5nZSh7XG4gICAgICAgICAgb3JpZ2luOiAgICdyZW1vdGUnLFxuICAgICAgICAgIHBhdGg6ICAgICBub2RlLnBhdGgsXG4gICAgICAgICAgb2xkVmFsdWU6IG5vZGUuY29tbW9uLmJvZHksXG4gICAgICAgICAgbmV3VmFsdWU6IHVuZGVmaW5lZCxcbiAgICAgICAgICBvbGRDb250ZW50VHlwZTogbm9kZS5jb21tb24uY29udGVudFR5cGUsXG4gICAgICAgICAgbmV3Q29udGVudFR5cGU6IHVuZGVmaW5lZFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuXG4gIHB1YmxpYyBhc3luYyB1cGRhdGVDb21tb25UaW1lc3RhbXAgKHBhdGg6IHN0cmluZywgcmV2aXNpb246IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybiB0aGlzLnJzLmxvY2FsLmdldE5vZGVzKFtwYXRoXSkudGhlbigobm9kZXM6IFJTTm9kZXMpID0+IHtcbiAgICAgIGlmIChub2Rlc1twYXRoXSAmJlxuICAgICAgICAgIG5vZGVzW3BhdGhdLmNvbW1vbiAmJlxuICAgICAgICAgIG5vZGVzW3BhdGhdLmNvbW1vbi5yZXZpc2lvbiA9PT0gcmV2aXNpb24pIHtcbiAgICAgICAgbm9kZXNbcGF0aF0uY29tbW9uLnRpbWVzdGFtcCA9IHRoaXMubm93KCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5ycy5sb2NhbC5zZXROb2Rlcyh0aGlzLmZsdXNoKG5vZGVzKSk7XG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgYXN5bmMgbWFya0NoaWxkcmVuIChwYXRoLCBpdGVtc01hcCwgY2hhbmdlZE5vZGVzOiBSU05vZGVzLCBtaXNzaW5nQ2hpbGRyZW4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBwYXRocyA9IFtdO1xuICAgIGNvbnN0IG1ldGEgPSB7fTtcbiAgICBjb25zdCByZWN1cnNlID0ge307XG5cbiAgICBmb3IgKGNvbnN0IGl0ZW0gaW4gaXRlbXNNYXApIHtcbiAgICAgIHBhdGhzLnB1c2gocGF0aCtpdGVtKTtcbiAgICAgIG1ldGFbcGF0aCtpdGVtXSA9IGl0ZW1zTWFwW2l0ZW1dO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGNoaWxkTmFtZSBpbiBtaXNzaW5nQ2hpbGRyZW4pIHtcbiAgICAgIHBhdGhzLnB1c2gocGF0aCtjaGlsZE5hbWUpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnJzLmxvY2FsLmdldE5vZGVzKHBhdGhzKS50aGVuKChub2RlczogUlNOb2RlcykgPT4ge1xuICAgICAgbGV0IGNhY2hpbmdTdHJhdGVneTtcbiAgICAgIGxldCBub2RlO1xuXG4gICAgICBmb3IgKGNvbnN0IG5vZGVQYXRoIGluIG5vZGVzKSB7XG4gICAgICAgIG5vZGUgPSBub2Rlc1tub2RlUGF0aF07XG5cbiAgICAgICAgaWYgKG1ldGFbbm9kZVBhdGhdKSB7XG4gICAgICAgICAgaWYgKG5vZGUgJiYgbm9kZS5jb21tb24pIHtcbiAgICAgICAgICAgIGlmIChub2RlQ2hhbmdlZChub2RlLCBtZXRhW25vZGVQYXRoXS5FVGFnKSkge1xuICAgICAgICAgICAgICBjaGFuZ2VkTm9kZXNbbm9kZVBhdGhdID0gZGVlcENsb25lKG5vZGUpO1xuICAgICAgICAgICAgICBjaGFuZ2VkTm9kZXNbbm9kZVBhdGhdLnJlbW90ZSA9IHtcbiAgICAgICAgICAgICAgICByZXZpc2lvbjogIG1ldGFbbm9kZVBhdGhdLkVUYWcsXG4gICAgICAgICAgICAgICAgdGltZXN0YW1wOiB0aGlzLm5vdygpXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIGNoYW5nZWROb2Rlc1tub2RlUGF0aF0gPSB0aGlzLmF1dG9NZXJnZShjaGFuZ2VkTm9kZXNbbm9kZVBhdGhdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGluZ1N0cmF0ZWd5ID0gdGhpcy5ycy5jYWNoaW5nLmNoZWNrUGF0aChub2RlUGF0aCk7XG4gICAgICAgICAgICBpZiAoY2FjaGluZ1N0cmF0ZWd5ID09PSAnQUxMJykge1xuICAgICAgICAgICAgICBjaGFuZ2VkTm9kZXNbbm9kZVBhdGhdID0ge1xuICAgICAgICAgICAgICAgIHBhdGg6IG5vZGVQYXRoLFxuICAgICAgICAgICAgICAgIGNvbW1vbjoge1xuICAgICAgICAgICAgICAgICAgdGltZXN0YW1wOiB0aGlzLm5vdygpXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICByZW1vdGU6IHtcbiAgICAgICAgICAgICAgICAgIHJldmlzaW9uOiBtZXRhW25vZGVQYXRoXS5FVGFnLFxuICAgICAgICAgICAgICAgICAgdGltZXN0YW1wOiB0aGlzLm5vdygpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChjaGFuZ2VkTm9kZXNbbm9kZVBhdGhdICYmIG1ldGFbbm9kZVBhdGhdWydDb250ZW50LVR5cGUnXSkge1xuICAgICAgICAgICAgY2hhbmdlZE5vZGVzW25vZGVQYXRoXS5yZW1vdGUuY29udGVudFR5cGUgPSBtZXRhW25vZGVQYXRoXVsnQ29udGVudC1UeXBlJ107XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGNoYW5nZWROb2Rlc1tub2RlUGF0aF0gJiYgbWV0YVtub2RlUGF0aF1bJ0NvbnRlbnQtTGVuZ3RoJ10pIHtcbiAgICAgICAgICAgIGNoYW5nZWROb2Rlc1tub2RlUGF0aF0ucmVtb3RlLmNvbnRlbnRMZW5ndGggPSBtZXRhW25vZGVQYXRoXVsnQ29udGVudC1MZW5ndGgnXTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAobWlzc2luZ0NoaWxkcmVuW25vZGVQYXRoLnN1YnN0cmluZyhwYXRoLmxlbmd0aCldICYmIG5vZGUgJiYgbm9kZS5jb21tb24pIHtcbiAgICAgICAgICBpZiAobm9kZS5jb21tb24uaXRlbXNNYXApIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgY29tbW9uSXRlbSBpbiBub2RlLmNvbW1vbi5pdGVtc01hcCkge1xuICAgICAgICAgICAgICByZWN1cnNlW25vZGVQYXRoK2NvbW1vbkl0ZW1dID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAobm9kZS5sb2NhbCAmJiBub2RlLmxvY2FsLml0ZW1zTWFwKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGxvY2FsSXRlbSBpbiBub2RlLmxvY2FsLml0ZW1zTWFwKSB7XG4gICAgICAgICAgICAgIHJlY3Vyc2Vbbm9kZVBhdGgrbG9jYWxJdGVtXSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKG5vZGUucmVtb3RlIHx8IGlzRm9sZGVyKG5vZGVQYXRoKSkge1xuICAgICAgICAgICAgY2hhbmdlZE5vZGVzW25vZGVQYXRoXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2hhbmdlZE5vZGVzW25vZGVQYXRoXSA9IHRoaXMuYXV0b01lcmdlKG5vZGUpO1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNoYW5nZWROb2Rlc1tub2RlUGF0aF0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHBhcmVudFBhdGggPSB0aGlzLmdldFBhcmVudFBhdGgobm9kZVBhdGgpO1xuICAgICAgICAgICAgICBjb25zdCBwYXJlbnROb2RlID0gY2hhbmdlZE5vZGVzW3BhcmVudFBhdGhdO1xuICAgICAgICAgICAgICBjb25zdCBpdGVtTmFtZSA9IG5vZGVQYXRoLnN1YnN0cmluZyhwYXRoLmxlbmd0aCk7XG4gICAgICAgICAgICAgIGlmIChwYXJlbnROb2RlICYmIHBhcmVudE5vZGUubG9jYWwpIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgcGFyZW50Tm9kZS5sb2NhbC5pdGVtc01hcFtpdGVtTmFtZV07XG5cbiAgICAgICAgICAgICAgICBpZiAoZXF1YWwocGFyZW50Tm9kZS5sb2NhbC5pdGVtc01hcCwgcGFyZW50Tm9kZS5jb21tb24uaXRlbXNNYXApKSB7XG4gICAgICAgICAgICAgICAgICBkZWxldGUgcGFyZW50Tm9kZS5sb2NhbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuZGVsZXRlUmVtb3RlVHJlZXMoT2JqZWN0LmtleXMocmVjdXJzZSksIGNoYW5nZWROb2RlcylcbiAgICAgICAgLnRoZW4oY2hhbmdlZE9ianMyID0+IHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5ycy5sb2NhbC5zZXROb2Rlcyh0aGlzLmZsdXNoKGNoYW5nZWRPYmpzMikpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyBhc3luYyBkZWxldGVSZW1vdGVUcmVlcyAocGF0aHM6IEFycmF5PHN0cmluZz4sIGNoYW5nZWROb2RlczogUlNOb2Rlcyk6IFByb21pc2U8UlNOb2Rlcz4ge1xuICAgIGlmIChwYXRocy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoY2hhbmdlZE5vZGVzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5ycy5sb2NhbC5nZXROb2RlcyhwYXRocykudGhlbihhc3luYyAobm9kZXM6IFJTTm9kZXMpID0+IHtcbiAgICAgIGNvbnN0IHN1YlBhdGhzID0ge307XG5cbiAgICAgIGZ1bmN0aW9uIGNvbGxlY3RTdWJQYXRocyAoZm9sZGVyLCBwYXRoOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgaWYgKGZvbGRlciAmJiBmb2xkZXIuaXRlbXNNYXApIHtcbiAgICAgICAgICBmb3IgKGNvbnN0IGl0ZW1OYW1lIGluIGZvbGRlci5pdGVtc01hcCkge1xuICAgICAgICAgICAgc3ViUGF0aHNbcGF0aCtpdGVtTmFtZV0gPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgZm9yIChjb25zdCBwYXRoIGluIG5vZGVzKSB7XG4gICAgICAgIGNvbnN0IG5vZGUgPSBub2Rlc1twYXRoXTtcblxuICAgICAgICAvLyBUT0RPIFdoeSBjaGVjayBmb3IgdGhlIG5vZGUgaGVyZT8gSSBkb24ndCB0aGluayB0aGlzIGNoZWNrIGV2ZXIgYXBwbGllc1xuICAgICAgICBpZiAoIW5vZGUpIHsgY29udGludWU7IH1cblxuICAgICAgICBpZiAoaXNGb2xkZXIocGF0aCkpIHtcbiAgICAgICAgICBjb2xsZWN0U3ViUGF0aHMobm9kZS5jb21tb24sIHBhdGgpO1xuICAgICAgICAgIGNvbGxlY3RTdWJQYXRocyhub2RlLmxvY2FsLCBwYXRoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAobm9kZS5jb21tb24gJiYgdHlwZW9mKG5vZGUuY29tbW9uLmJvZHkpICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNoYW5nZWROb2Rlc1twYXRoXSA9IGRlZXBDbG9uZShub2RlKTtcbiAgICAgICAgICAgIGNoYW5nZWROb2Rlc1twYXRoXS5yZW1vdGUgPSB7XG4gICAgICAgICAgICAgIGJvZHk6ICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgIHRpbWVzdGFtcDogdGhpcy5ub3coKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNoYW5nZWROb2Rlc1twYXRoXSA9IHRoaXMuYXV0b01lcmdlKGNoYW5nZWROb2Rlc1twYXRoXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFJlY3Vyc2Ugd2hvbGUgdHJlZSBkZXB0aCBsZXZlbHMgYXQgb25jZTpcbiAgICAgIHJldHVybiB0aGlzLmRlbGV0ZVJlbW90ZVRyZWVzKE9iamVjdC5rZXlzKHN1YlBhdGhzKSwgY2hhbmdlZE5vZGVzKVxuICAgICAgICAudGhlbihjaGFuZ2VkTm9kZXMyID0+IHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5ycy5sb2NhbC5zZXROb2Rlcyh0aGlzLmZsdXNoKGNoYW5nZWROb2RlczIpKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgYXN5bmMgY29tcGxldGVGZXRjaCAocGF0aDogc3RyaW5nLCBib2R5T3JJdGVtc01hcDogb2JqZWN0LCBjb250ZW50VHlwZTogc3RyaW5nLCByZXZpc2lvbjogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcbiAgICBsZXQgcGF0aHM6IEFycmF5PHN0cmluZz47XG4gICAgbGV0IHBhcmVudFBhdGg6IHN0cmluZztcbiAgICBjb25zdCBwYXRoc0Zyb21Sb290QXJyID0gcGF0aHNGcm9tUm9vdChwYXRoKTtcblxuICAgIGlmIChpc0ZvbGRlcihwYXRoKSkge1xuICAgICAgcGF0aHMgPSBbcGF0aF07XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhcmVudFBhdGggPSBwYXRoc0Zyb21Sb290QXJyWzFdO1xuICAgICAgcGF0aHMgPSBbcGF0aCwgcGFyZW50UGF0aF07XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMucnMubG9jYWwuZ2V0Tm9kZXMocGF0aHMpLnRoZW4oKG5vZGVzOiBSU05vZGVzKSA9PiB7XG4gICAgICBsZXQgaXRlbU5hbWU6IHN0cmluZztcbiAgICAgIGxldCBub2RlOiBSU05vZGUgPSBub2Rlc1twYXRoXTtcbiAgICAgIGxldCBwYXJlbnROb2RlOiBSU05vZGU7XG4gICAgICBjb25zdCBtaXNzaW5nQ2hpbGRyZW4gPSB7fTtcblxuICAgICAgZnVuY3Rpb24gY29sbGVjdE1pc3NpbmdDaGlsZHJlbiAoZm9sZGVyKTogdm9pZCB7XG4gICAgICAgIGlmIChmb2xkZXIgJiYgZm9sZGVyLml0ZW1zTWFwKSB7XG4gICAgICAgICAgZm9yIChpdGVtTmFtZSBpbiBmb2xkZXIuaXRlbXNNYXApIHtcbiAgICAgICAgICAgIGlmICghYm9keU9ySXRlbXNNYXBbaXRlbU5hbWVdKSB7XG4gICAgICAgICAgICAgIG1pc3NpbmdDaGlsZHJlbltpdGVtTmFtZV0gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgaWYgKHR5cGVvZihub2RlKSAhPT0gJ29iamVjdCcgIHx8XG4gICAgICAgICAgbm9kZS5wYXRoICE9PSBwYXRoIHx8XG4gICAgICAgICAgdHlwZW9mKG5vZGUuY29tbW9uKSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgbm9kZSA9IHsgcGF0aDogcGF0aCwgY29tbW9uOiB7fSB9O1xuICAgICAgICBub2Rlc1twYXRoXSA9IG5vZGU7XG4gICAgICB9XG5cbiAgICAgIG5vZGUucmVtb3RlID0ge1xuICAgICAgICByZXZpc2lvbjogcmV2aXNpb24sXG4gICAgICAgIHRpbWVzdGFtcDogdGhpcy5ub3coKVxuICAgICAgfTtcblxuICAgICAgaWYgKGlzRm9sZGVyKHBhdGgpKSB7XG4gICAgICAgIGNvbGxlY3RNaXNzaW5nQ2hpbGRyZW4obm9kZS5jb21tb24pO1xuICAgICAgICBjb2xsZWN0TWlzc2luZ0NoaWxkcmVuKG5vZGUucmVtb3RlKTtcblxuICAgICAgICBub2RlLnJlbW90ZS5pdGVtc01hcCA9IHt9O1xuICAgICAgICBmb3IgKGl0ZW1OYW1lIGluIGJvZHlPckl0ZW1zTWFwKSB7XG4gICAgICAgICAgbm9kZS5yZW1vdGUuaXRlbXNNYXBbaXRlbU5hbWVdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbm9kZS5yZW1vdGUuYm9keSA9IGJvZHlPckl0ZW1zTWFwO1xuICAgICAgICBub2RlLnJlbW90ZS5jb250ZW50VHlwZSA9IGNvbnRlbnRUeXBlO1xuXG4gICAgICAgIHBhcmVudE5vZGUgPSBub2Rlc1twYXJlbnRQYXRoXTtcbiAgICAgICAgaWYgKHBhcmVudE5vZGUgJiYgcGFyZW50Tm9kZS5sb2NhbCAmJiBwYXJlbnROb2RlLmxvY2FsLml0ZW1zTWFwKSB7XG4gICAgICAgICAgaXRlbU5hbWUgPSBwYXRoLnN1YnN0cmluZyhwYXJlbnRQYXRoLmxlbmd0aCk7XG4gICAgICAgICAgcGFyZW50Tm9kZS5sb2NhbC5pdGVtc01hcFtpdGVtTmFtZV0gPSB0cnVlO1xuICAgICAgICAgIGlmIChlcXVhbChwYXJlbnROb2RlLmxvY2FsLml0ZW1zTWFwLCBwYXJlbnROb2RlLmNvbW1vbi5pdGVtc01hcCkpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBwYXJlbnROb2RlLmxvY2FsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBub2Rlc1twYXRoXSA9IHRoaXMuYXV0b01lcmdlKG5vZGUpO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICB0b0JlU2F2ZWQ6ICAgICAgIG5vZGVzLFxuICAgICAgICBtaXNzaW5nQ2hpbGRyZW46IG1pc3NpbmdDaGlsZHJlblxuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyBhc3luYyBjb21wbGV0ZVB1c2ggKHBhdGg6IHN0cmluZywgYWN0aW9uLCBjb25mbGljdCwgcmV2aXNpb246IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybiB0aGlzLnJzLmxvY2FsLmdldE5vZGVzKFtwYXRoXSkudGhlbigobm9kZXM6IFJTTm9kZXMpID0+IHtcbiAgICAgIGNvbnN0IG5vZGUgPSBub2Rlc1twYXRoXTtcblxuICAgICAgaWYgKCFub2RlLnB1c2gpIHtcbiAgICAgICAgdGhpcy5zdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjb21wbGV0ZVB1c2ggY2FsbGVkIGJ1dCBubyBwdXNoIHZlcnNpb24hJyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChjb25mbGljdCkge1xuICAgICAgICBsb2coJ1tTeW5jXSBXZSBoYXZlIGEgY29uZmxpY3QnKTtcblxuICAgICAgICBpZiAoIW5vZGUucmVtb3RlIHx8IG5vZGUucmVtb3RlLnJldmlzaW9uICE9PSByZXZpc2lvbikge1xuICAgICAgICAgIG5vZGUucmVtb3RlID0ge1xuICAgICAgICAgICAgcmV2aXNpb246ICByZXZpc2lvbiB8fCAnY29uZmxpY3QnLFxuICAgICAgICAgICAgdGltZXN0YW1wOiB0aGlzLm5vdygpXG4gICAgICAgICAgfTtcbiAgICAgICAgICBkZWxldGUgbm9kZS5wdXNoO1xuICAgICAgICB9XG5cbiAgICAgICAgbm9kZXNbcGF0aF0gPSB0aGlzLmF1dG9NZXJnZShub2RlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5vZGUuY29tbW9uID0ge1xuICAgICAgICAgIHJldmlzaW9uOiAgcmV2aXNpb24sXG4gICAgICAgICAgdGltZXN0YW1wOiB0aGlzLm5vdygpXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKGFjdGlvbiA9PT0gJ3B1dCcpIHtcbiAgICAgICAgICBub2RlLmNvbW1vbi5ib2R5ID0gbm9kZS5wdXNoLmJvZHk7XG4gICAgICAgICAgbm9kZS5jb21tb24uY29udGVudFR5cGUgPSBub2RlLnB1c2guY29udGVudFR5cGU7XG5cbiAgICAgICAgICBpZiAoZXF1YWwobm9kZS5sb2NhbC5ib2R5LCBub2RlLnB1c2guYm9keSkgJiZcbiAgICAgICAgICAgICAgbm9kZS5sb2NhbC5jb250ZW50VHlwZSA9PT0gbm9kZS5wdXNoLmNvbnRlbnRUeXBlKSB7XG4gICAgICAgICAgICBkZWxldGUgbm9kZS5sb2NhbDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBkZWxldGUgbm9kZS5wdXNoO1xuICAgICAgICB9IGVsc2UgaWYgKGFjdGlvbiA9PT0gJ2RlbGV0ZScpIHtcbiAgICAgICAgICBpZiAobm9kZS5sb2NhbC5ib2R5ID09PSBmYWxzZSkgeyAvLyBObyBuZXcgbG9jYWwgY2hhbmdlcyBzaW5jZSBwdXNoOyBmbHVzaCBpdC5cbiAgICAgICAgICAgIG5vZGVzW3BhdGhdID0gdW5kZWZpbmVkO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkZWxldGUgbm9kZS5wdXNoO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5ycy5sb2NhbC5zZXROb2Rlcyh0aGlzLmZsdXNoKG5vZGVzKSk7XG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgYXN5bmMgZGVhbFdpdGhGYWlsdXJlIChwYXRoOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm4gdGhpcy5ycy5sb2NhbC5nZXROb2RlcyhbcGF0aF0pLnRoZW4oKG5vZGVzOiBSU05vZGVzKSA9PiB7XG4gICAgICBpZiAobm9kZXNbcGF0aF0pIHtcbiAgICAgICAgZGVsZXRlIG5vZGVzW3BhdGhdLnB1c2g7XG4gICAgICAgIHJldHVybiB0aGlzLnJzLmxvY2FsLnNldE5vZGVzKHRoaXMuZmx1c2gobm9kZXMpKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyBpbnRlcnByZXRTdGF0dXMgKHN0YXR1c0NvZGU6IHN0cmluZyB8IG51bWJlcik6IFJlc3BvbnNlU3RhdHVzIHtcbiAgICBjb25zdCBzdGF0dXM6IFJlc3BvbnNlU3RhdHVzID0ge1xuICAgICAgc3RhdHVzQ29kZTogICAgICBzdGF0dXNDb2RlLFxuICAgICAgc3VjY2Vzc2Z1bDogICAgICB1bmRlZmluZWQsXG4gICAgICBjb25mbGljdDogICAgICAgIHVuZGVmaW5lZCxcbiAgICAgIHVuQXV0aDogICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgbm90Rm91bmQ6ICAgICAgICB1bmRlZmluZWQsXG4gICAgICBjaGFuZ2VkOiAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgIG5ldHdvcmtQcm9ibGVtczogdW5kZWZpbmVkXG4gICAgfTtcblxuICAgIGlmICh0eXBlb2Ygc3RhdHVzQ29kZSA9PT0gJ3N0cmluZycgJiZcbiAgICAgICAgKHN0YXR1c0NvZGUgPT09ICdvZmZsaW5lJyB8fCBzdGF0dXNDb2RlID09PSAndGltZW91dCcpKSB7XG4gICAgICBzdGF0dXMuc3VjY2Vzc2Z1bCA9IGZhbHNlO1xuICAgICAgc3RhdHVzLm5ldHdvcmtQcm9ibGVtcyA9IHRydWU7XG4gICAgICByZXR1cm4gc3RhdHVzO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHN0YXR1c0NvZGUgPT09ICdudW1iZXInKSB7XG4gICAgICBjb25zdCBzZXJpZXMgPSBNYXRoLmZsb29yKHN0YXR1c0NvZGUgLyAxMDApO1xuXG4gICAgICBzdGF0dXMuc3VjY2Vzc2Z1bCA9IChzZXJpZXMgPT09IDIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1c0NvZGUgPT09IDMwNCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzQ29kZSA9PT0gNDEyIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXNDb2RlID09PSA0MDQpLFxuICAgICAgc3RhdHVzLmNvbmZsaWN0ICAgPSAoc3RhdHVzQ29kZSA9PT0gNDEyKTtcbiAgICAgIHN0YXR1cy51bkF1dGggICAgID0gKChzdGF0dXNDb2RlID09PSA0MDEgJiYgdGhpcy5ycy5yZW1vdGUudG9rZW4gIT09IEF1dGhvcml6ZS5JTVBMSUVEX0ZBS0VfVE9LRU4pIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXNDb2RlID09PSA0MDIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1c0NvZGUgPT09IDQwMyk7XG4gICAgICBzdGF0dXMubm90Rm91bmQgICA9IChzdGF0dXNDb2RlID09PSA0MDQpO1xuICAgICAgc3RhdHVzLmNoYW5nZWQgICAgPSAoc3RhdHVzQ29kZSAhPT0gMzA0KTtcblxuICAgICAgcmV0dXJuIHN0YXR1cztcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgYXN5bmMgaGFuZGxlR2V0UmVzcG9uc2UgKHBhdGg6IHN0cmluZywgc3RhdHVzOiBSZXNwb25zZVN0YXR1cywgYm9keU9ySXRlbXNNYXAsIGNvbnRlbnRUeXBlOiBzdHJpbmcsIHJldmlzaW9uOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICBpZiAoc3RhdHVzLm5vdEZvdW5kKSB7XG4gICAgICBpZiAoaXNGb2xkZXIocGF0aCkpIHtcbiAgICAgICAgYm9keU9ySXRlbXNNYXAgPSB7fTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJvZHlPckl0ZW1zTWFwID0gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHN0YXR1cy5jaGFuZ2VkKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb21wbGV0ZUZldGNoKHBhdGgsIGJvZHlPckl0ZW1zTWFwLCBjb250ZW50VHlwZSwgcmV2aXNpb24pXG4gICAgICAgIC50aGVuKGRhdGFGcm9tRmV0Y2ggPT4ge1xuICAgICAgICAgIGlmIChpc0ZvbGRlcihwYXRoKSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuY29ycnVwdFNlcnZlckl0ZW1zTWFwKGJvZHlPckl0ZW1zTWFwKSkge1xuICAgICAgICAgICAgICBsb2coJ1tTeW5jXSBXQVJOSU5HOiBEaXNjYXJkaW5nIGNvcnJ1cHQgZm9sZGVyIGRlc2NyaXB0aW9uIGZyb20gc2VydmVyIGZvciAnICsgcGF0aCk7XG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLm1hcmtDaGlsZHJlbihwYXRoLCBib2R5T3JJdGVtc01hcCwgZGF0YUZyb21GZXRjaC50b0JlU2F2ZWQsIGRhdGFGcm9tRmV0Y2gubWlzc2luZ0NoaWxkcmVuKVxuICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHsgcmV0dXJuIHRydWU7IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ycy5sb2NhbC5zZXROb2Rlcyh0aGlzLmZsdXNoKGRhdGFGcm9tRmV0Y2gudG9CZVNhdmVkKSlcbiAgICAgICAgICAgICAgLnRoZW4oKCkgPT4geyByZXR1cm4gdHJ1ZTsgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMudXBkYXRlQ29tbW9uVGltZXN0YW1wKHBhdGgsIHJldmlzaW9uKVxuICAgICAgICAudGhlbigoKSA9PiB7IHJldHVybiB0cnVlOyB9KTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgaGFuZGxlUmVzcG9uc2UgKHBhdGg6IHN0cmluZywgYWN0aW9uLCByKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgY29uc3Qgc3RhdHVzID0gdGhpcy5pbnRlcnByZXRTdGF0dXMoci5zdGF0dXNDb2RlKTtcblxuICAgIGlmIChzdGF0dXMuc3VjY2Vzc2Z1bCkge1xuICAgICAgaWYgKGFjdGlvbiA9PT0gJ2dldCcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlR2V0UmVzcG9uc2UocGF0aCwgc3RhdHVzLCByLmJvZHksIHIuY29udGVudFR5cGUsIHIucmV2aXNpb24pO1xuICAgICAgfSBlbHNlIGlmIChhY3Rpb24gPT09ICdwdXQnIHx8IGFjdGlvbiA9PT0gJ2RlbGV0ZScpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29tcGxldGVQdXNoKHBhdGgsIGFjdGlvbiwgc3RhdHVzLmNvbmZsaWN0LCByLnJldmlzaW9uKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGNhbm5vdCBoYW5kbGUgcmVzcG9uc2UgZm9yIHVua25vd24gYWN0aW9uICR7YWN0aW9ufWApO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBVbnN1Y2Nlc3NmdWxcbiAgICAgIGxldCBlcnJvcjogRXJyb3I7XG4gICAgICBpZiAoc3RhdHVzLnVuQXV0aCkge1xuICAgICAgICBlcnJvciA9IG5ldyBVbmF1dGhvcml6ZWRFcnJvcigpO1xuICAgICAgfSBlbHNlIGlmIChzdGF0dXMubmV0d29ya1Byb2JsZW1zKSB7XG4gICAgICAgIGVycm9yID0gbmV3IFN5bmNFcnJvcignTmV0d29yayByZXF1ZXN0IGZhaWxlZC4nKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVycm9yID0gbmV3IEVycm9yKCdIVFRQIHJlc3BvbnNlIGNvZGUgJyArIHN0YXR1cy5zdGF0dXNDb2RlICsgJyByZWNlaXZlZC4nKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuZGVhbFdpdGhGYWlsdXJlKHBhdGgpLnRoZW4oKCkgPT4ge1xuICAgICAgICB0aGlzLnJzLl9lbWl0KCdlcnJvcicsIGVycm9yKTtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgZmluaXNoVGFzayAodGFzazogU3luY1Rhc2spOiB2b2lkIHwgUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKHRhc2suYWN0aW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGRlbGV0ZSB0aGlzLl9ydW5uaW5nW3Rhc2sucGF0aF07XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhc2sucHJvbWlzZVxuICAgICAgLnRoZW4ocmVzID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlUmVzcG9uc2UodGFzay5wYXRoLCB0YXNrLmFjdGlvbiwgcmVzKTtcbiAgICAgIH0sIGVyciA9PiB7XG4gICAgICAgIGxvZygnW1N5bmNdIHdpcmVjbGllbnQgcmVqZWN0cyBpdHMgcHJvbWlzZSEnLCB0YXNrLnBhdGgsIHRhc2suYWN0aW9uLCBlcnIpO1xuICAgICAgICByZXR1cm4gdGhpcy5oYW5kbGVSZXNwb25zZSh0YXNrLnBhdGgsIHRhc2suYWN0aW9uLCB7IHN0YXR1c0NvZGU6ICdvZmZsaW5lJyB9KTtcbiAgICAgIH0pXG4gICAgICAudGhlbihjb21wbGV0ZWQgPT4ge1xuICAgICAgICBkZWxldGUgdGhpcy5fdGltZVN0YXJ0ZWRbdGFzay5wYXRoXTtcbiAgICAgICAgZGVsZXRlIHRoaXMuX3J1bm5pbmdbdGFzay5wYXRoXTtcblxuICAgICAgICBpZiAoY29tcGxldGVkKSB7XG4gICAgICAgICAgaWYgKHRoaXMuX3Rhc2tzW3Rhc2sucGF0aF0pIHtcbiAgICAgICAgICAgIGZvciAobGV0IGk9MDsgaSA8IHRoaXMuX3Rhc2tzW3Rhc2sucGF0aF0ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgdGhpcy5fdGFza3NbdGFzay5wYXRoXVtpXSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3Rhc2tzW3Rhc2sucGF0aF07XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5ycy5fZW1pdCgnc3luYy1yZXEtZG9uZScpO1xuXG4gICAgICAgIHRoaXMuY29sbGVjdFRhc2tzKGZhbHNlKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAvLyBTZWUgaWYgdGhlcmUgYXJlIGFueSBtb3JlIHRhc2tzIHRoYXQgYXJlIG5vdCByZWZyZXNoIHRhc2tzXG4gICAgICAgICAgaWYgKCF0aGlzLmhhc1Rhc2tzKCkgfHwgdGhpcy5zdG9wcGVkKSB7XG4gICAgICAgICAgICBsb2coJ1tTeW5jXSBTeW5jIGlzIGRvbmUhIFJlc2NoZWR1bGU/JywgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGhpcy5fdGFza3MpLmxlbmd0aCwgdGhpcy5zdG9wcGVkKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5kb25lKSB7XG4gICAgICAgICAgICAgIHRoaXMuZG9uZSA9IHRydWU7XG4gICAgICAgICAgICAgIHRoaXMucnMuX2VtaXQoJ3N5bmMtZG9uZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBVc2UgYSAxMG1zIHRpbWVvdXQgdG8gbGV0IHRoZSBKYXZhU2NyaXB0IHJ1bnRpbWUgY2F0Y2ggaXRzIGJyZWF0aFxuICAgICAgICAgICAgLy8gKGFuZCBob3BlZnVsbHkgZm9yY2UgYW4gSW5kZXhlZERCIGF1dG8tY29tbWl0PyksIGFuZCBhbHNvIHRvIGNhdXNlXG4gICAgICAgICAgICAvLyB0aGUgdGhyZWFkcyB0byBnZXQgc3RhZ2dlcmVkIGFuZCBnZXQgYSBnb29kIHNwcmVhZCBvdmVyIHRpbWU6XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsgdGhpcy5kb1Rhc2tzKCk7IH0sIDEwKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSwgZXJyID0+IHtcbiAgICAgICAgbG9nKCdbU3luY10gRXJyb3InLCBlcnIpO1xuICAgICAgICBkZWxldGUgdGhpcy5fdGltZVN0YXJ0ZWRbdGFzay5wYXRoXTtcbiAgICAgICAgZGVsZXRlIHRoaXMuX3J1bm5pbmdbdGFzay5wYXRoXTtcbiAgICAgICAgdGhpcy5ycy5fZW1pdCgnc3luYy1yZXEtZG9uZScpO1xuICAgICAgICBpZiAoIXRoaXMuZG9uZSkge1xuICAgICAgICAgIHRoaXMuZG9uZSA9IHRydWU7XG4gICAgICAgICAgdGhpcy5ycy5fZW1pdCgnc3luYy1kb25lJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9XG5cbiAgcHVibGljIGRvVGFza3MgKCk6IGJvb2xlYW4ge1xuICAgIGxldCBudW1Ub0hhdmU6IG51bWJlciwgbnVtQWRkZWQgPSAwLCBwYXRoOiBzdHJpbmc7XG4gICAgaWYgKHRoaXMucnMucmVtb3RlLmNvbm5lY3RlZCkge1xuICAgICAgaWYgKHRoaXMucnMucmVtb3RlLm9ubGluZSkge1xuICAgICAgICBudW1Ub0hhdmUgPSB0aGlzLm51bVRocmVhZHM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBudW1Ub0hhdmUgPSAxO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBudW1Ub0hhdmUgPSAwO1xuICAgIH1cbiAgICBjb25zdCBudW1Ub0FkZCA9IG51bVRvSGF2ZSAtIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRoaXMuX3J1bm5pbmcpLmxlbmd0aDtcbiAgICBpZiAobnVtVG9BZGQgPD0gMCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGZvciAocGF0aCBpbiB0aGlzLl90YXNrcykge1xuICAgICAgaWYgKCF0aGlzLl9ydW5uaW5nW3BhdGhdKSB7XG4gICAgICAgIHRoaXMuX3RpbWVTdGFydGVkW3BhdGhdID0gdGhpcy5ub3coKTtcbiAgICAgICAgdGhpcy5fcnVubmluZ1twYXRoXSA9IHRoaXMuZG9UYXNrKHBhdGgpO1xuICAgICAgICB0aGlzLl9ydW5uaW5nW3BhdGhdLnRoZW4odGhpcy5maW5pc2hUYXNrLmJpbmQodGhpcykpO1xuICAgICAgICBudW1BZGRlZCsrO1xuICAgICAgICBpZiAobnVtQWRkZWQgPj0gbnVtVG9BZGQpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gKG51bUFkZGVkID49IG51bVRvQWRkKTtcbiAgfVxuXG4gIHB1YmxpYyBhc3luYyBjb2xsZWN0VGFza3MgKGFsc29DaGVja1JlZnJlc2g/OiBib29sZWFuKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKHRoaXMuaGFzVGFza3MoKSB8fCB0aGlzLnN0b3BwZWQpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5jb2xsZWN0RGlmZlRhc2tzKCkudGhlbihudW1EaWZmcyA9PiB7XG4gICAgICBpZiAobnVtRGlmZnMgfHwgYWxzb0NoZWNrUmVmcmVzaCA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29sbGVjdFJlZnJlc2hUYXNrcygpO1xuICAgICAgfVxuICAgIH0sIGZ1bmN0aW9uIChlcnIpIHsgdGhyb3cgZXJyOyB9KTtcbiAgfVxuXG4gIHB1YmxpYyBhZGRUYXNrIChwYXRoOiBzdHJpbmcsIGNiPzogRnVuY3Rpb24pOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuX3Rhc2tzW3BhdGhdKSB7XG4gICAgICB0aGlzLl90YXNrc1twYXRoXSA9IFtdO1xuICAgIH1cbiAgICBpZiAodHlwZW9mKGNiKSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhpcy5fdGFza3NbcGF0aF0ucHVzaChjYik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIE1ldGhvZDogc3luY1xuICAgKiovXG4gIHB1YmxpYyBzeW5jICgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0aGlzLmRvbmUgPSBmYWxzZTtcblxuICAgIGlmICghdGhpcy5kb1Rhc2tzKCkpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbGxlY3RUYXNrcygpLnRoZW4oKCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHRoaXMuZG9UYXNrcygpO1xuICAgICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgICBsb2coJ1tTeW5jXSBkb1Rhc2tzIGVycm9yJywgZSk7XG4gICAgICAgIH1cbiAgICAgIH0sIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGxvZygnW1N5bmNdIFN5bmMgZXJyb3InLCBlKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdMb2NhbCBjYWNoZSB1bmF2YWlsYWJsZScpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgX3JzX2luaXQgKHJlbW90ZVN0b3JhZ2UpOiB2b2lkIHtcbiAgICBzeW5jQ3ljbGVDYiA9IGZ1bmN0aW9uICgpOiB2b2lkIHtcbiAgICAgIC8vIGlmICghY29uZmlnLmNhY2hlKSByZXR1cm4gZmFsc2VcbiAgICAgIGxvZygnW1N5bmNdIHN5bmNDeWNsZUNiIGNhbGxpbmcgc3luY0N5Y2xlJyk7XG5cbiAgICAgIGNvbnN0IGVudiA9IG5ldyBFbnYoKTtcbiAgICAgIGlmIChlbnYuaXNCcm93c2VyKCkpIHsgaGFuZGxlVmlzaWJpbGl0eShlbnYsIHJlbW90ZVN0b3JhZ2UpOyB9XG5cbiAgICAgIGlmICghcmVtb3RlU3RvcmFnZS5zeW5jKSB7XG4gICAgICAgIC8vIENhbGwgdGhpcyBub3cgdGhhdCBhbGwgb3RoZXIgbW9kdWxlcyBhcmUgYWxzbyByZWFkeTpcbiAgICAgICAgcmVtb3RlU3RvcmFnZS5zeW5jID0gbmV3IFN5bmMocmVtb3RlU3RvcmFnZSk7XG5cbiAgICAgICAgaWYgKHJlbW90ZVN0b3JhZ2Uuc3luY1N0b3BwZWQpIHtcbiAgICAgICAgICBsb2coJ1tTeW5jXSBJbnN0YW50aWF0aW5nIHN5bmMgc3RvcHBlZCcpO1xuICAgICAgICAgIHJlbW90ZVN0b3JhZ2Uuc3luYy5zdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgICBkZWxldGUgcmVtb3RlU3RvcmFnZS5zeW5jU3RvcHBlZDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBsb2coJ1tTeW5jXSBzeW5jQ3ljbGVDYiBjYWxsaW5nIHN5bmNDeWNsZScpO1xuICAgICAgcmVtb3RlU3RvcmFnZS5zeW5jQ3ljbGUoKTtcbiAgICB9O1xuXG4gICAgc3luY09uQ29ubmVjdCA9IGZ1bmN0aW9uICgpOiB2b2lkIHtcbiAgICAgIHJlbW90ZVN0b3JhZ2UucmVtb3ZlRXZlbnRMaXN0ZW5lcignY29ubmVjdGVkJywgc3luY09uQ29ubmVjdCk7XG4gICAgICByZW1vdGVTdG9yYWdlLnN0YXJ0U3luYygpO1xuICAgIH07XG5cbiAgICByZW1vdGVTdG9yYWdlLm9uKCdyZWFkeScsIHN5bmNDeWNsZUNiKTtcbiAgICByZW1vdGVTdG9yYWdlLm9uKCdjb25uZWN0ZWQnLCBzeW5jT25Db25uZWN0KTtcbiAgfVxuXG4gIHN0YXRpYyBfcnNfY2xlYW51cCAocmVtb3RlU3RvcmFnZSk6IHZvaWQge1xuICAgIHJlbW90ZVN0b3JhZ2Uuc3RvcFN5bmMoKTtcbiAgICByZW1vdGVTdG9yYWdlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3JlYWR5Jywgc3luY0N5Y2xlQ2IpO1xuICAgIHJlbW90ZVN0b3JhZ2UucmVtb3ZlRXZlbnRMaXN0ZW5lcignY29ubmVjdGVkJywgc3luY09uQ29ubmVjdCk7XG5cbiAgICByZW1vdGVTdG9yYWdlLnN5bmMgPSB1bmRlZmluZWQ7XG4gICAgZGVsZXRlIHJlbW90ZVN0b3JhZ2Uuc3luYztcbiAgfVxufTtcblxuaW50ZXJmYWNlIFN5bmMgZXh0ZW5kcyBFdmVudEhhbmRsaW5nIHt9O1xuYXBwbHlNaXhpbnMoU3luYywgW0V2ZW50SGFuZGxpbmddKTtcblxuZXhwb3J0IGRlZmF1bHQgU3luYztcbiIsIi8qKlxuICogVE9ETyByZXdyaXRlLCBkb2Vzbid0IGV4cG9zZSBHUEQgYW55bW9yZSwgaXQncyBpbiBjYWNoaW5nbGF5ZXIgbm93XG4gKlxuICogVGhpcyBmaWxlIGV4cG9zZXMgYSBnZXQvcHV0L2RlbGV0ZSBpbnRlcmZhY2UsIGFjY2Vzc2luZyBkYXRhIGluIGFuIEluZGV4ZWREQi5cbiAqXG4gKiBUaGVyZSBhcmUgbXVsdGlwbGUgcGFydHMgdG8gdGhpcyBpbnRlcmZhY2U6XG4gKlxuICogICBUaGUgUmVtb3RlU3RvcmFnZSBpbnRlZ3JhdGlvbjpcbiAqICAgICAtIEluZGV4ZWREQi5fcnNfc3VwcG9ydGVkKCkgZGV0ZXJtaW5lcyBpZiBJbmRleGVkREIgc3VwcG9ydFxuICogICAgICAgaXMgYXZhaWxhYmxlLiBJZiBpdCBpc24ndCwgUmVtb3RlU3RvcmFnZSB3b24ndCBpbml0aWFsaXplIHRoZSBmZWF0dXJlLlxuICogICAgIC0gSW5kZXhlZERCLl9yc19pbml0KCkgaW5pdGlhbGl6ZXMgdGhlIGZlYXR1cmUuIEl0IHJldHVybnNcbiAqICAgICAgIGEgcHJvbWlzZSB0aGF0IGlzIGZ1bGZpbGxlZCBhcyBzb29uIGFzIHRoZSBkYXRhYmFzZSBoYXMgYmVlbiBvcGVuZWQgYW5kXG4gKiAgICAgICBtaWdyYXRlZC5cbiAqXG4gKiAgIFRoZSBzdG9yYWdlIGludGVyZmFjZSAoSW5kZXhlZERCIG9iamVjdCk6XG4gKiAgICAgLSBVc3VhbGx5IHRoaXMgaXMgYWNjZXNzaWJsZSB2aWEgXCJyZW1vdGVTdG9yYWdlLmxvY2FsXCJcbiAqICAgICAtICNnZXQoKSB0YWtlcyBhIHBhdGggYW5kIHJldHVybnMgYSBwcm9taXNlLlxuICogICAgIC0gI3B1dCgpIHRha2VzIGEgcGF0aCwgYm9keSBhbmQgY29udGVudFR5cGUgYW5kIGFsc28gcmV0dXJucyBhIHByb21pc2UuXG4gKiAgICAgLSAjZGVsZXRlKCkgdGFrZXMgYSBwYXRoIGFuZCBhbHNvIHJldHVybnMgYSBwcm9taXNlLlxuICogICAgIC0gI29uKCdjaGFuZ2UnLCAuLi4pIGV2ZW50cywgYmVpbmcgZmlyZWQgd2hlbmV2ZXIgc29tZXRoaW5nIGNoYW5nZXMgaW5cbiAqICAgICAgIHRoZSBzdG9yYWdlLiBDaGFuZ2UgZXZlbnRzIHJvdWdobHkgZm9sbG93IHRoZSBTdG9yYWdlRXZlbnQgcGF0dGVybi5cbiAqICAgICAgIFRoZXkgaGF2ZSBcIm9sZFZhbHVlXCIgYW5kIFwibmV3VmFsdWVcIiBwcm9wZXJ0aWVzLCB3aGljaCBjYW4gYmUgdXNlZCB0b1xuICogICAgICAgZGlzdGluZ3Vpc2ggY3JlYXRlL3VwZGF0ZS9kZWxldGUgb3BlcmF0aW9ucyBhbmQgYW5hbHl6ZSBjaGFuZ2VzIGluXG4gKiAgICAgICBjaGFuZ2UgaGFuZGxlcnMuIEluIGFkZGl0aW9uIHRoZXkgY2FycnkgYSBcIm9yaWdpblwiIHByb3BlcnR5LCB3aGljaFxuICogICAgICAgaXMgZWl0aGVyIFwid2luZG93XCIsIFwibG9jYWxcIiwgb3IgXCJyZW1vdGVcIi4gXCJyZW1vdGVcIiBldmVudHMgYXJlIGZpcmVkXG4gKiAgICAgICB3aGVuZXZlciBhIGNoYW5nZSBjb21lcyBpbiBmcm9tIFN5bmMuXG4gKlxuICogICBUaGUgc3luYyBpbnRlcmZhY2UgKGFsc28gb24gSW5kZXhlZERCIG9iamVjdCk6XG4gKiAgICAgLSAjZ2V0Tm9kZXMoW3BhdGhzXSkgcmV0dXJucyB0aGUgcmVxdWVzdGVkIG5vZGVzIGluIGEgcHJvbWlzZS5cbiAqICAgICAtICNzZXROb2RlcyhtYXApIHN0b3JlcyBhbGwgdGhlIG5vZGVzIGdpdmVuIGluIHRoZSAocGF0aCAtPiBub2RlKSBtYXAuXG4gKlxuICogQGludGVyZmFjZVxuICovXG5cbmltcG9ydCBFdmVudEhhbmRsaW5nIGZyb20gJy4vZXZlbnRoYW5kbGluZyc7XG5pbXBvcnQgQ2FjaGluZ0xheWVyIGZyb20gJy4vY2FjaGluZ2xheWVyJztcbmltcG9ydCBsb2cgZnJvbSAnLi9sb2cnO1xuaW1wb3J0IHtcbiAgYXBwbHlNaXhpbnMsXG4gIGRlZXBDbG9uZSxcbiAgZ2V0R2xvYmFsQ29udGV4dFxufSBmcm9tICcuL3V0aWwnO1xuXG5jb25zdCBEQl9WRVJTSU9OID0gMjtcblxuY29uc3QgREVGQVVMVF9EQl9OQU1FID0gJ3JlbW90ZXN0b3JhZ2UnO1xuXG4vLyBUT0RPIHZlcnkgd2VpcmQgdGhhdCB0aGlzIGlzIHJlLWFzc2lnbmVkXG5sZXQgREVGQVVMVF9EQjtcblxuY2xhc3MgSW5kZXhlZERCIGV4dGVuZHMgQ2FjaGluZ0xheWVyIHtcbiAgZGI6IGFueTtcbiAgZ2V0c1J1bm5pbmc6IG51bWJlcjtcbiAgcHV0c1J1bm5pbmc6IG51bWJlcjtcbiAgY2hhbmdlc1F1ZXVlZDogeyBba2V5OiBzdHJpbmddOiB1bmtub3duIH07XG4gIGNoYW5nZXNSdW5uaW5nOiB7IFtrZXk6IHN0cmluZ106IHVua25vd24gfTtcbiAgY29tbWl0U2xvd25lc3NXYXJuaW5nOiBhbnk7IC8vIFRPRE8gbnVsbCB8IG51bWJlciAoYnV0IG5vZGUncyBzZXRJbnRlcnZhbCByZXR1cm5zIGFuIHVua25vd24gdHlwZSlcblxuICBjb25zdHJ1Y3RvcihkYXRhYmFzZSkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5hZGRFdmVudHMoWydjaGFuZ2UnLCAnbG9jYWwtZXZlbnRzLWRvbmUnXSk7XG5cbiAgICB0aGlzLmRiID0gZGF0YWJhc2UgfHwgREVGQVVMVF9EQjtcblxuICAgIGlmICghdGhpcy5kYikge1xuICAgICAgLy8gVE9ETyBzaG91bGRuJ3QgdGhpcyB0aHJvdyBhbiBlcnJvcj9cbiAgICAgIGxvZyhcIltJbmRleGVkREJdIEZhaWxlZCB0byBvcGVuIERCXCIpO1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICB0aGlzLmdldHNSdW5uaW5nID0gMDtcbiAgICB0aGlzLnB1dHNSdW5uaW5nID0gMDtcblxuICAgIC8qKlxuICAgICAqIEdpdmVuIGEgbm9kZSBmb3Igd2hpY2ggdW5jb21taXR0ZWQgY2hhbmdlcyBleGlzdCwgdGhpcyBjYWNoZVxuICAgICAqIHN0b3JlcyBlaXRoZXIgdGhlIGVudGlyZSB1bmNvbW1pdHRlZCBub2RlLCBvciBmYWxzZSBmb3IgYSBkZWxldGlvbi5cbiAgICAgKiBUaGUgbm9kZSdzIHBhdGggaXMgdXNlZCBhcyB0aGUga2V5LlxuICAgICAqXG4gICAgICogY2hhbmdlc1F1ZXVlZCBzdG9yZXMgY2hhbmdlcyBmb3Igd2hpY2ggbm8gSW5kZXhlZERCIHRyYW5zYWN0aW9uIGhhc1xuICAgICAqIGJlZW4gc3RhcnRlZCB5ZXQuXG4gICAgICovXG4gICAgdGhpcy5jaGFuZ2VzUXVldWVkID0ge307XG5cbiAgICAvKipcbiAgICAgKiBHaXZlbiBhIG5vZGUgZm9yIHdoaWNoIHVuY29tbWl0dGVkIGNoYW5nZXMgZXhpc3QsIHRoaXMgY2FjaGVcbiAgICAgKiBzdG9yZXMgZWl0aGVyIHRoZSBlbnRpcmUgdW5jb21taXR0ZWQgbm9kZSwgb3IgZmFsc2UgZm9yIGEgZGVsZXRpb24uXG4gICAgICogVGhlIG5vZGUncyBwYXRoIGlzIHVzZWQgYXMgdGhlIGtleS5cbiAgICAgKlxuICAgICAqIEF0IGFueSB0aW1lIHRoZXJlIGlzIGF0IG1vc3Qgb25lIEluZGV4ZWREQiB0cmFuc2FjdGlvbiBydW5uaW5nLlxuICAgICAqIGNoYW5nZXNSdW5uaW5nIHN0b3JlcyB0aGUgY2hhbmdlcyB0aGF0IGFyZSBpbmNsdWRlZCBpbiB0aGF0IGN1cnJlbnRseVxuICAgICAqIHJ1bm5pbmcgSW5kZXhlZERCIHRyYW5zYWN0aW9uLCBvciBpZiBub25lIGlzIHJ1bm5pbmcsIG9mIHRoZSBsYXN0IG9uZVxuICAgICAqIHRoYXQgcmFuLlxuICAgICAqL1xuICAgIHRoaXMuY2hhbmdlc1J1bm5pbmcgPSB7fTtcblxuICAgIC8vIFRPRE8gZG9jdW1lbnRcbiAgICB0aGlzLmNvbW1pdFNsb3duZXNzV2FybmluZyA9IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogVE9ETzogRG9jdW1lbnRcbiAgICovXG4gIGFzeW5jIGdldE5vZGVzIChwYXRoczogc3RyaW5nW10pOiBQcm9taXNlPFJTTm9kZXM+IHtcbiAgICBjb25zdCBtaXNzZXMgPSBbXSwgZnJvbUNhY2hlID0ge307XG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHBhdGhzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBpZiAodGhpcy5jaGFuZ2VzUXVldWVkW3BhdGhzW2ldXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGZyb21DYWNoZVtwYXRoc1tpXV0gPSBkZWVwQ2xvbmUodGhpcy5jaGFuZ2VzUXVldWVkW3BhdGhzW2ldXSB8fCB1bmRlZmluZWQpO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLmNoYW5nZXNSdW5uaW5nW3BhdGhzW2ldXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGZyb21DYWNoZVtwYXRoc1tpXV0gPSBkZWVwQ2xvbmUodGhpcy5jaGFuZ2VzUnVubmluZ1twYXRoc1tpXV0gfHwgdW5kZWZpbmVkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1pc3Nlcy5wdXNoKHBhdGhzW2ldKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKG1pc3Nlcy5sZW5ndGggPiAwKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXROb2Rlc0Zyb21EYihtaXNzZXMpLnRoZW4oZnVuY3Rpb24gKG5vZGVzKSB7XG4gICAgICAgIGZvciAoY29uc3QgaSBpbiBmcm9tQ2FjaGUpIHtcbiAgICAgICAgICBub2Rlc1tpXSA9IGZyb21DYWNoZVtpXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm9kZXM7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShmcm9tQ2FjaGUpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBUT0RPOiBEb2N1bWVudFxuICAgKi9cbiAgYXN5bmMgc2V0Tm9kZXMgKG5vZGVzOiBSU05vZGVzKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgZm9yIChjb25zdCBpIGluIG5vZGVzKSB7XG4gICAgICB0aGlzLmNoYW5nZXNRdWV1ZWRbaV0gPSBub2Rlc1tpXSB8fCBmYWxzZTtcbiAgICB9XG4gICAgdGhpcy5tYXliZUZsdXNoKCk7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRPRE86IERvY3VtZW50XG4gICAqL1xuICBtYXliZUZsdXNoICgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5wdXRzUnVubmluZyA9PT0gMCkge1xuICAgICAgdGhpcy5mbHVzaENoYW5nZXNRdWV1ZWQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCF0aGlzLmNvbW1pdFNsb3duZXNzV2FybmluZykge1xuICAgICAgICB0aGlzLmNvbW1pdFNsb3duZXNzV2FybmluZyA9IGdsb2JhbC5zZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKCdXQVJOSU5HOiB3YWl0ZWQgbW9yZSB0aGFuIDEwIHNlY29uZHMgZm9yIHByZXZpb3VzIGNvbW1pdCB0byBmaW5pc2gnKTtcbiAgICAgICAgfSwgMTAwMDApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBUT0RPOiBEb2N1bWVudFxuICAgKi9cbiAgZmx1c2hDaGFuZ2VzUXVldWVkICgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5jb21taXRTbG93bmVzc1dhcm5pbmcpIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5jb21taXRTbG93bmVzc1dhcm5pbmcpO1xuICAgICAgdGhpcy5jb21taXRTbG93bmVzc1dhcm5pbmcgPSBudWxsO1xuICAgIH1cbiAgICBpZiAoT2JqZWN0LmtleXModGhpcy5jaGFuZ2VzUXVldWVkKS5sZW5ndGggPiAwKSB7XG4gICAgICB0aGlzLmNoYW5nZXNSdW5uaW5nID0gdGhpcy5jaGFuZ2VzUXVldWVkO1xuICAgICAgdGhpcy5jaGFuZ2VzUXVldWVkID0ge307XG4gICAgICB0aGlzLnNldE5vZGVzSW5EYih0aGlzLmNoYW5nZXNSdW5uaW5nKS50aGVuKHRoaXMuZmx1c2hDaGFuZ2VzUXVldWVkLmJpbmQodGhpcykpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBUT0RPOiBEb2N1bWVudFxuICAgKi9cbiAgZ2V0Tm9kZXNGcm9tRGIgKHBhdGhzOiBzdHJpbmdbXSk6IFByb21pc2U8UlNOb2Rlcz4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cbiAgICAgIGNvbnN0IHRyYW5zYWN0aW9uID0gdGhpcy5kYi50cmFuc2FjdGlvbihbJ25vZGVzJ10sICdyZWFkb25seScpO1xuICAgICAgY29uc3Qgbm9kZXMgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZSgnbm9kZXMnKTtcbiAgICAgIGNvbnN0IHJldHJpZXZlZE5vZGVzID0ge307XG5cbiAgICAgIHRoaXMuZ2V0c1J1bm5pbmcrKztcblxuICAgICAgcGF0aHMubWFwKChwYXRoOiBzdHJpbmcpID0+IHtcbiAgICAgICAgbm9kZXMuZ2V0KHBhdGgpLm9uc3VjY2VzcyA9IChldnQpID0+IHtcbiAgICAgICAgICByZXRyaWV2ZWROb2Rlc1twYXRoXSA9IGV2dC50YXJnZXQucmVzdWx0O1xuICAgICAgICB9O1xuICAgICAgfSk7XG5cbiAgICAgIHRyYW5zYWN0aW9uLm9uY29tcGxldGUgPSAoKSA9PiB7XG4gICAgICAgIHJlc29sdmUocmV0cmlldmVkTm9kZXMpO1xuICAgICAgICB0aGlzLmdldHNSdW5uaW5nLS07XG4gICAgICB9O1xuXG4gICAgICB0cmFuc2FjdGlvbi5vbmVycm9yID0gdHJhbnNhY3Rpb24ub25hYm9ydCA9ICgpID0+IHtcbiAgICAgICAgcmVqZWN0KCdnZXQgdHJhbnNhY3Rpb24gZXJyb3IvYWJvcnQnKTtcbiAgICAgICAgdGhpcy5nZXRzUnVubmluZy0tO1xuICAgICAgfTtcblxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFRPRE86IERvY3VtZW50XG4gICAqL1xuICBhc3luYyBzZXROb2Rlc0luRGIgKG5vZGVzOiB7IFtrZXk6IHN0cmluZ106IHVua25vd24gfSk6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cbiAgICAgIGNvbnN0IHRyYW5zYWN0aW9uID0gdGhpcy5kYi50cmFuc2FjdGlvbihbJ25vZGVzJ10sICdyZWFkd3JpdGUnKTtcbiAgICAgIGNvbnN0IG5vZGVzU3RvcmUgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZSgnbm9kZXMnKTtcbiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuXG4gICAgICB0aGlzLnB1dHNSdW5uaW5nKys7XG5cbiAgICAgIGxvZygnW0luZGV4ZWREQl0gU3RhcnRpbmcgcHV0Jywgbm9kZXMsIHRoaXMucHV0c1J1bm5pbmcpO1xuXG4gICAgICBmb3IgKGNvbnN0IHBhdGggaW4gbm9kZXMpIHtcbiAgICAgICAgY29uc3Qgbm9kZSA9IG5vZGVzW3BhdGhdO1xuICAgICAgICBpZiAodHlwZW9mIChub2RlKSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgbm9kZXNTdG9yZS5wdXQobm9kZSk7XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgbG9nKCdbSW5kZXhlZERCXSBFcnJvciB3aGlsZSBwdXR0aW5nJywgbm9kZSwgZSk7XG4gICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgbm9kZXNTdG9yZS5kZWxldGUocGF0aCk7XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgbG9nKCdbSW5kZXhlZERCXSBFcnJvciB3aGlsZSByZW1vdmluZycsIG5vZGVzU3RvcmUsIG5vZGUsIGUpO1xuICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdHJhbnNhY3Rpb24ub25jb21wbGV0ZSA9ICgpID0+IHtcbiAgICAgICAgdGhpcy5wdXRzUnVubmluZy0tO1xuICAgICAgICBsb2coJ1tJbmRleGVkREJdIEZpbmlzaGVkIHB1dCcsIG5vZGVzLCB0aGlzLnB1dHNSdW5uaW5nLCAobmV3IERhdGUoKS5nZXRUaW1lKCkgLSBzdGFydFRpbWUpICsgJ21zJyk7XG4gICAgICAgIHJlc29sdmUoKTtcbiAgICAgIH07XG5cbiAgICAgIHRyYW5zYWN0aW9uLm9uZXJyb3IgPSAoKSA9PiB7XG4gICAgICAgIHRoaXMucHV0c1J1bm5pbmctLTtcbiAgICAgICAgcmVqZWN0KCd0cmFuc2FjdGlvbiBlcnJvcicpO1xuICAgICAgfTtcblxuICAgICAgdHJhbnNhY3Rpb24ub25hYm9ydCA9ICgpID0+IHtcbiAgICAgICAgcmVqZWN0KCd0cmFuc2FjdGlvbiBhYm9ydCcpO1xuICAgICAgICB0aGlzLnB1dHNSdW5uaW5nLS07XG4gICAgICB9O1xuXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVE9ETzogRG9jdW1lbnRcbiAgICovXG4gIC8vIFRPRE8gYWRkIHJlYWwgdHlwZXMgb25jZSBrbm93blxuICByZXNldCAoY2FsbGJhY2s6IChwOiB1bmtub3duKSA9PiB1bmtub3duKTogdm9pZCB7XG4gICAgY29uc3QgZGJOYW1lID0gdGhpcy5kYi5uYW1lO1xuXG4gICAgdGhpcy5kYi5jbG9zZSgpO1xuXG4gICAgSW5kZXhlZERCLmNsZWFuKHRoaXMuZGIubmFtZSwgKCkgPT4ge1xuICAgICAgSW5kZXhlZERCLm9wZW4oZGJOYW1lLCAoZXJyLCBvdGhlcikgPT4ge1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgbG9nKCdbSW5kZXhlZERCXSBFcnJvciB3aGlsZSByZXNldHRpbmcgbG9jYWwgc3RvcmFnZScsIGVycik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gaGFja3khXG4gICAgICAgICAgdGhpcy5kYiA9IG90aGVyO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBjYWxsYmFjayhzZWxmKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVE9ETzogRG9jdW1lbnRcbiAgICovXG4gIC8vIFRPRE8gYWRkIHJlYWwgdHlwZXMgb25jZSBrbm93blxuICBhc3luYyBmb3JBbGxOb2RlcyAoY2I6IChwOiB1bmtub3duKSA9PiB1bmtub3duKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLyosIHJlamVjdCovKSA9PiB7XG5cbiAgICAgIGNvbnN0IHRyYW5zYWN0aW9uID0gdGhpcy5kYi50cmFuc2FjdGlvbihbJ25vZGVzJ10sICdyZWFkb25seScpO1xuICAgICAgY29uc3QgY3Vyc29yUmVxID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoJ25vZGVzJykub3BlbkN1cnNvcigpO1xuXG4gICAgICBjdXJzb3JSZXEub25zdWNjZXNzID0gKGV2dCkgPT4ge1xuICAgICAgICBjb25zdCBjdXJzb3IgPSBldnQudGFyZ2V0LnJlc3VsdDtcblxuICAgICAgICBpZiAoY3Vyc29yKSB7XG4gICAgICAgICAgY2IodGhpcy5taWdyYXRlKGN1cnNvci52YWx1ZSkpO1xuICAgICAgICAgIGN1cnNvci5jb250aW51ZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuXG4gIGNsb3NlREIgKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLnB1dHNSdW5uaW5nID09PSAwKSB7IC8vIGNoZWNrIGlmIHdlIGFyZSBjdXJyZW50bHkgd3JpdGluZyB0byB0aGUgREJcbiAgICAgIHRoaXMuZGIuY2xvc2UoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0VGltZW91dCh0aGlzLmNsb3NlREIuYmluZCh0aGlzKSwgMTAwKTsgLy8gdHJ5IGFnYWluIGEgbGl0dGxlIGxhdGVyXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRPRE86IERvY3VtZW50XG4gICAqL1xuICAvLyBUT0RPIGFkZCByZWFsIHR5cGVzIG9uY2Uga25vd25cbiAgc3RhdGljIG9wZW4gKG5hbWU6IHN0cmluZywgY2FsbGJhY2s6IChwOiB1bmtub3duLCBwMj86IHVua25vd24pID0+IHVua25vd24pIHtcbiAgICBjb25zdCB0aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgY2FsbGJhY2soXCJ0aW1lb3V0IHRyeWluZyB0byBvcGVuIGRiXCIpO1xuICAgIH0sIDEwMDAwKTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXEgPSBpbmRleGVkREIub3BlbihuYW1lLCBEQl9WRVJTSU9OKTtcblxuICAgICAgcmVxLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGxvZygnW0luZGV4ZWREQl0gT3BlbmluZyBEQiBmYWlsZWQnLCByZXEpO1xuXG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgICAgIGNhbGxiYWNrKHJlcS5lcnJvcik7XG4gICAgICB9O1xuXG4gICAgICByZXEub251cGdyYWRlbmVlZGVkID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGNvbnN0IGRiID0gcmVxLnJlc3VsdDtcblxuICAgICAgICBsb2coXCJbSW5kZXhlZERCXSBVcGdyYWRlOiBmcm9tIFwiLCBldmVudC5vbGRWZXJzaW9uLCBcIiB0byBcIiwgZXZlbnQubmV3VmVyc2lvbik7XG5cbiAgICAgICAgaWYgKGV2ZW50Lm9sZFZlcnNpb24gIT09IDEpIHtcbiAgICAgICAgICBsb2coXCJbSW5kZXhlZERCXSBDcmVhdGluZyBvYmplY3Qgc3RvcmU6IG5vZGVzXCIpO1xuICAgICAgICAgIGRiLmNyZWF0ZU9iamVjdFN0b3JlKCdub2RlcycsIHtrZXlQYXRoOiAncGF0aCd9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxvZyhcIltJbmRleGVkREJdIENyZWF0aW5nIG9iamVjdCBzdG9yZTogY2hhbmdlc1wiKTtcblxuICAgICAgICBkYi5jcmVhdGVPYmplY3RTdG9yZSgnY2hhbmdlcycsIHtrZXlQYXRoOiAncGF0aCd9KTtcbiAgICAgIH07XG5cbiAgICAgIHJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7XG5cbiAgICAgICAgLy8gY2hlY2sgaWYgYWxsIG9iamVjdCBzdG9yZXMgZXhpc3RcbiAgICAgICAgY29uc3QgZGIgPSByZXEucmVzdWx0O1xuICAgICAgICBpZiAoIWRiLm9iamVjdFN0b3JlTmFtZXMuY29udGFpbnMoJ25vZGVzJykgfHwgIWRiLm9iamVjdFN0b3JlTmFtZXMuY29udGFpbnMoJ2NoYW5nZXMnKSkge1xuICAgICAgICAgIGxvZyhcIltJbmRleGVkREJdIE1pc3Npbmcgb2JqZWN0IHN0b3JlLiBSZXNldHRpbmcgdGhlIGRhdGFiYXNlLlwiKTtcbiAgICAgICAgICBJbmRleGVkREIuY2xlYW4obmFtZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgSW5kZXhlZERCLm9wZW4obmFtZSwgY2FsbGJhY2spO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNhbGxiYWNrKG51bGwsIHJlcS5yZXN1bHQpO1xuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbG9nKFwiW0luZGV4ZWREQl0gRmFpbGVkIHRvIG9wZW4gZGF0YWJhc2U6IFwiICsgZXJyb3IpO1xuICAgICAgbG9nKFwiW0luZGV4ZWREQl0gUmVzZXR0aW5nIGRhdGFiYXNlIGFuZCB0cnlpbmcgYWdhaW4uXCIpO1xuXG4gICAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuXG4gICAgICBJbmRleGVkREIuY2xlYW4obmFtZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICBJbmRleGVkREIub3BlbihuYW1lLCBjYWxsYmFjayk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVE9ETzogRG9jdW1lbnRcbiAgICovXG4gIHN0YXRpYyBjbGVhbiAoZGF0YWJhc2VOYW1lOiBzdHJpbmcsIGNhbGxiYWNrOiAoKSA9PiB2b2lkKSB7XG4gICAgY29uc3QgcmVxID0gaW5kZXhlZERCLmRlbGV0ZURhdGFiYXNlKGRhdGFiYXNlTmFtZSk7XG5cbiAgICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgbG9nKCdbSW5kZXhlZERCXSBEb25lIHJlbW92aW5nIERCJyk7XG4gICAgICBjYWxsYmFjaygpO1xuICAgIH07XG5cbiAgICAvLyBUT0RPIGNoZWNrIGlmIHRoaXMgZG9lcyBhbnl0aGluZyBhcyBvbmFib3J0IGRvZXMgbm90IGV4aXN0IG9uIHR5cGUgYWNjb3JkaW5nIHRvIHRzXG4gICAgcmVxLm9uZXJyb3IgPSAocmVxIGFzIGFueSkub25hYm9ydCA9IGZ1bmN0aW9uIChldnQpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byByZW1vdmUgZGF0YWJhc2UgXCInICsgZGF0YWJhc2VOYW1lICsgJ1wiJywgZXZ0KTtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgdGhlIEluZGV4ZWREQiBiYWNrZW5kLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gcmVtb3RlU3RvcmFnZSAtIFJlbW90ZVN0b3JhZ2UgaW5zdGFuY2VcbiAgICpcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgLy8gVE9ETyBhZGQgcmVhbCB0eXBlIG9uY2Uga25vd25cbiAgc3RhdGljIF9yc19pbml0IChyZW1vdGVTdG9yYWdlOiB1bmtub3duKTogUHJvbWlzZTx1bmtub3duPiB7XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXG4gICAgICBJbmRleGVkREIub3BlbihERUZBVUxUX0RCX05BTUUsIGZ1bmN0aW9uIChlcnIsIGRiKSB7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBERUZBVUxUX0RCID0gZGI7XG4gICAgICAgICAgLy8gVE9ETyByZW1vdmUgb25jZSByZWFsIHR5cGUgb25jZSBrbm93blxuICAgICAgICAgIChkYiBhcyBhbnkpLm9uZXJyb3IgPSAoKSA9PiB7XG4gICAgICAgICAgICAocmVtb3RlU3RvcmFnZSBhcyBhbnkpLl9lbWl0KCdlcnJvcicsIGVycik7XG4gICAgICAgICAgfTtcbiAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogSW5mb3JtIGFib3V0IHRoZSBhdmFpbGFiaWxpdHkgb2YgdGhlIEluZGV4ZWREQiBiYWNrZW5kLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gcnMgLSBSZW1vdGVTdG9yYWdlIGluc3RhbmNlXG4gICAqIEByZXR1cm5zIHtCb29sZWFufVxuICAgKlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBzdGF0aWMgX3JzX3N1cHBvcnRlZCAoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblxuICAgICAgY29uc3QgY29udGV4dCA9IGdldEdsb2JhbENvbnRleHQoKTtcblxuICAgICAgLy8gRklYTUU6IHRoaXMgaXMgY2F1c2luZyBhbiBlcnJvciBpbiBjaHJvbWVcbiAgICAgIC8vIGNvbnRleHQuaW5kZXhlZERCID0gY29udGV4dC5pbmRleGVkREIgICAgfHwgY29udGV4dC53ZWJraXRJbmRleGVkREIgfHxcbiAgICAgIC8vICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lm1vekluZGV4ZWREQiB8fCBjb250ZXh0Lm9JbmRleGVkREIgICAgICB8fFxuICAgICAgLy8gICAgICAgICAgICAgICAgICAgIGNvbnRleHQubXNJbmRleGVkREI7XG5cbiAgICAgIC8vIERldGVjdCBicm93c2VycyB3aXRoIGtub3duIEluZGV4ZWREYiBpc3N1ZXMgKGUuZy4gQW5kcm9pZCBwcmUtNC40KVxuICAgICAgbGV0IHBvb3JJbmRleGVkRGJTdXBwb3J0ID0gZmFsc2U7XG4gICAgICBpZiAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvQW5kcm9pZCAoMnwzfDRcXC5bMC0zXSkvKSkge1xuICAgICAgICAvLyBDaHJvbWUgYW5kIEZpcmVmb3ggc3VwcG9ydCBJbmRleGVkREJcbiAgICAgICAgaWYgKCFuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9DaHJvbWV8RmlyZWZveC8pKSB7XG4gICAgICAgICAgcG9vckluZGV4ZWREYlN1cHBvcnQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICgnaW5kZXhlZERCJyBpbiBjb250ZXh0ICYmICFwb29ySW5kZXhlZERiU3VwcG9ydCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IGNoZWNrID0gaW5kZXhlZERCLm9wZW4oXCJycy1jaGVja1wiKTtcbiAgICAgICAgICBjaGVjay5vbmVycm9yID0gZnVuY3Rpb24gKC8qIGV2ZW50ICovKSB7XG4gICAgICAgICAgICByZWplY3QoKTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIGNoZWNrLm9uc3VjY2VzcyA9IGZ1bmN0aW9uICgvKiBldmVudCAqLykge1xuICAgICAgICAgICAgY2hlY2sucmVzdWx0LmNsb3NlKCk7XG4gICAgICAgICAgICBpbmRleGVkREIuZGVsZXRlRGF0YWJhc2UoXCJycy1jaGVja1wiKTtcbiAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgcmVqZWN0KCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlamVjdCgpO1xuICAgICAgfVxuXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIEluZGV4ZWREQiBhcyBhIGJhY2tlbmQuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSByZW1vdGVTdG9yYWdlIC0gUmVtb3RlU3RvcmFnZSBpbnN0YW5jZVxuICAgKlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICAvLyBUT0RPIGFkZCByZWFsIHR5cGUgb25jZSBkZWZpbmVkXG4gIHN0YXRpYyBfcnNfY2xlYW51cCAocmVtb3RlU3RvcmFnZTogYW55KSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLyosIHJlamVjdCovKSA9PiB7XG4gICAgICBpZiAocmVtb3RlU3RvcmFnZS5sb2NhbCkge1xuICAgICAgICByZW1vdGVTdG9yYWdlLmxvY2FsLmNsb3NlREIoKTtcbiAgICAgIH1cblxuICAgICAgSW5kZXhlZERCLmNsZWFuKERFRkFVTFRfREJfTkFNRSwgcmVzb2x2ZSk7XG4gICAgfSk7XG4gIH1cblxuICBkaWZmSGFuZGxlcigpIHtcbiAgICAvLyBlbXB0eVxuICB9XG59O1xuXG4vLyBUT0RPIG1vdmUgdG8gQ2FjaGluZ0xheWVyLCBzYW1lIGZvciBhbGwgbGF5ZXJzXG5pbnRlcmZhY2UgSW5kZXhlZERCIGV4dGVuZHMgRXZlbnRIYW5kbGluZyB7fTtcbmFwcGx5TWl4aW5zKEluZGV4ZWREQiwgW0V2ZW50SGFuZGxpbmddKTtcblxuZXhwb3J0IGRlZmF1bHQgSW5kZXhlZERCO1xuIiwiaW1wb3J0IENhY2hpbmdMYXllciBmcm9tICcuL2NhY2hpbmdsYXllcic7XG5pbXBvcnQgRXZlbnRIYW5kbGluZyBmcm9tICcuL2V2ZW50aGFuZGxpbmcnO1xuaW1wb3J0IGxvZyBmcm9tICcuL2xvZyc7XG5pbXBvcnQgeyBhcHBseU1peGlucywgbG9jYWxTdG9yYWdlQXZhaWxhYmxlIH0gZnJvbSAnLi91dGlsJztcblxuLyoqXG4gKiBsb2NhbFN0b3JhZ2UgY2FjaGluZyBhZGFwdGVyLiBVc2VkIHdoZW4gbm8gSW5kZXhlZERCIGF2YWlsYWJsZS5cbiAqKi9cblxuY29uc3QgTk9ERVNfUFJFRklYID0gXCJyZW1vdGVzdG9yYWdlOmNhY2hlOm5vZGVzOlwiO1xuY29uc3QgQ0hBTkdFU19QUkVGSVggPSBcInJlbW90ZXN0b3JhZ2U6Y2FjaGU6Y2hhbmdlczpcIjtcblxuZnVuY3Rpb24gaXNSZW1vdGVTdG9yYWdlS2V5KGtleTogc3RyaW5nKTogYm9vbGVhbiB7XG4gIHJldHVybiBrZXkuc3Vic3RyKDAsIE5PREVTX1BSRUZJWC5sZW5ndGgpID09PSBOT0RFU19QUkVGSVggfHxcbiAgICBrZXkuc3Vic3RyKDAsIENIQU5HRVNfUFJFRklYLmxlbmd0aCkgPT09IENIQU5HRVNfUFJFRklYO1xufVxuXG5mdW5jdGlvbiBpc05vZGVLZXkoa2V5OiBzdHJpbmcpOiBib29sZWFuIHtcbiAgcmV0dXJuIGtleS5zdWJzdHIoMCwgTk9ERVNfUFJFRklYLmxlbmd0aCkgPT09IE5PREVTX1BSRUZJWDtcbn1cblxuY2xhc3MgTG9jYWxTdG9yYWdlIGV4dGVuZHMgQ2FjaGluZ0xheWVyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmFkZEV2ZW50cyhbJ2NoYW5nZScsICdsb2NhbC1ldmVudHMtZG9uZSddKTtcbiAgfVxuXG4gIC8vIFRPRE8gZml4IHRoaXNcbiAgZGlmZkhhbmRsZXIoLi4uYXJnczogYW55W10pOiB2b2lkIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBnZXROb2RlcyhwYXRoczogc3RyaW5nW10pOiBQcm9taXNlPFJTTm9kZXM+IHtcbiAgICBjb25zdCBub2RlcyA9IHt9O1xuXG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHBhdGhzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICB0cnkge1xuICAgICAgICBub2Rlc1twYXRoc1tpXV0gPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZVtOT0RFU19QUkVGSVggKyBwYXRoc1tpXV0pO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBub2Rlc1twYXRoc1tpXV0gPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShub2Rlcyk7XG4gIH1cblxuICBzZXROb2Rlcyhub2RlczogUlNOb2Rlcyk6IFByb21pc2U8dm9pZD4ge1xuICAgIGZvciAoY29uc3QgcGF0aCBpbiBub2Rlcykge1xuICAgICAgLy8gVE9ETyBzaG91bGRuJ3Qgd2UgdXNlIGdldEl0ZW0vc2V0SXRlbT9cbiAgICAgIGxvY2FsU3RvcmFnZVtOT0RFU19QUkVGSVggKyBwYXRoXSA9IEpTT04uc3RyaW5naWZ5KG5vZGVzW3BhdGhdKTtcbiAgICB9XG5cbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH1cblxuICBmb3JBbGxOb2RlcyhjYjogKG5vZGUpID0+IGFueSk6IFByb21pc2U8dm9pZD4ge1xuICAgIGxldCBub2RlO1xuXG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGxvY2FsU3RvcmFnZS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgaWYgKGlzTm9kZUtleShsb2NhbFN0b3JhZ2Uua2V5KGkpKSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIE5PVEU6IHRoaXMgaXMgY29taW5nIGZyb20gY2FjaGluZyBsYXllciB0b2RvIGZpeCB2aWEgaW50ZXJmYWNlIG9yIHNpbWlsYXJcbiAgICAgICAgICBub2RlID0gdGhpcy5taWdyYXRlKEpTT04ucGFyc2UobG9jYWxTdG9yYWdlW2xvY2FsU3RvcmFnZS5rZXkoaSldKSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBub2RlID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChub2RlKSB7XG4gICAgICAgICAgY2Iobm9kZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgdGhlIExvY2FsU3RvcmFnZSBiYWNrZW5kLlxuICAgKlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBzdGF0aWMgX3JzX2luaXQoKTogdm9pZCB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIEluZm9ybSBhYm91dCB0aGUgYXZhaWxhYmlsaXR5IG9mIHRoZSBMb2NhbFN0b3JhZ2UgYmFja2VuZC5cbiAgICpcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgc3RhdGljIF9yc19zdXBwb3J0ZWQoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGxvY2FsU3RvcmFnZUF2YWlsYWJsZSgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZW1vdmUgTG9jYWxTdG9yYWdlIGFzIGEgYmFja2VuZC5cbiAgICpcbiAgICogQHByb3RlY3RlZFxuICAgKlxuICAgKiBUT0RPOiB0ZXN0cyBtaXNzaW5nIVxuICAgKi9cbiAgc3RhdGljIF9yc19jbGVhbnVwKCk6IHZvaWQge1xuICAgIGNvbnN0IGtleXMgPSBbXTtcblxuICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBsb2NhbFN0b3JhZ2UubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGNvbnN0IGtleSA9IGxvY2FsU3RvcmFnZS5rZXkoaSk7XG4gICAgICBpZiAoaXNSZW1vdGVTdG9yYWdlS2V5KGtleSkpIHtcbiAgICAgICAga2V5cy5wdXNoKGtleSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAga2V5cy5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgIGxvZygnW0xvY2FsU3RvcmFnZV0gUmVtb3ZpbmcnLCBrZXkpO1xuICAgICAgZGVsZXRlIGxvY2FsU3RvcmFnZVtrZXldO1xuICAgIH0pO1xuICB9O1xufVxuXG4vLyBUT0RPIG1vdmUgdG8gQ2FjaGluZ0xheWVyLCBzYW1lIGZvciBhbGwgbGF5ZXJzXG5pbnRlcmZhY2UgTG9jYWxTdG9yYWdlIGV4dGVuZHMgRXZlbnRIYW5kbGluZyB7fTtcbmFwcGx5TWl4aW5zKExvY2FsU3RvcmFnZSwgW0V2ZW50SGFuZGxpbmddKTtcblxuZXhwb3J0IGRlZmF1bHQgTG9jYWxTdG9yYWdlO1xuIiwiaW1wb3J0IEV2ZW50SGFuZGxpbmcgZnJvbSAnLi9ldmVudGhhbmRsaW5nJztcbmltcG9ydCBDYWNoaW5nTGF5ZXIgZnJvbSAnLi9jYWNoaW5nbGF5ZXInO1xuaW1wb3J0IHsgYXBwbHlNaXhpbnMgfSBmcm9tICcuL3V0aWwnO1xuXG4vKipcbiAqIEluLW1lbW9yeSBjYWNoaW5nIGFkYXB0ZXIuIFVzZWQgd2hlbiBubyBJbmRleGVkREIgb3IgbG9jYWxTdG9yYWdlXG4gKiBhdmFpbGFibGUuXG4gKlxuICogQGNsYXNzXG4gKiovXG5cbmNsYXNzIEluTWVtb3J5U3RvcmFnZSBleHRlbmRzIENhY2hpbmdMYXllciB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gIHByaXZhdGUgX3N0b3JhZ2U6IHsgW2tleTogc3RyaW5nXTogYW55IH0gPSB7fTtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuYWRkRXZlbnRzKFsnY2hhbmdlJywgJ2xvY2FsLWV2ZW50cy1kb25lJ10pO1xuICB9XG5cbiAgZ2V0Tm9kZXMocGF0aHM6IHN0cmluZ1tdKTogUHJvbWlzZTxSU05vZGVzPiB7XG4gICAgY29uc3Qgbm9kZXM6IFJTTm9kZXMgPSB7fTtcblxuICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBwYXRocy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgbm9kZXNbcGF0aHNbaV1dID0gdGhpcy5fc3RvcmFnZVtwYXRoc1tpXV07XG4gICAgfVxuXG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShub2Rlcyk7XG4gIH1cblxuICBzZXROb2Rlcyhub2RlczogUlNOb2Rlcyk6IFByb21pc2U8dm9pZD4ge1xuICAgIGZvciAoY29uc3QgcGF0aCBpbiBub2Rlcykge1xuICAgICAgaWYgKG5vZGVzW3BhdGhdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMuX3N0b3JhZ2VbcGF0aF07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9zdG9yYWdlW3BhdGhdID0gbm9kZXNbcGF0aF07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICB9XG5cbiAgZm9yQWxsTm9kZXMoY2I6IChub2RlOiBSU05vZGUpID0+IFByb21pc2U8dm9pZD4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBmb3IgKGNvbnN0IHBhdGggaW4gdGhpcy5fc3RvcmFnZSkge1xuICAgICAgY2IodGhpcy5taWdyYXRlKHRoaXMuX3N0b3JhZ2VbcGF0aF0pKTtcbiAgICB9XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICB9XG5cbiAgZGlmZkhhbmRsZXIoKSB7XG4gICAgLy8gZW1wdHlcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplIHRoZSBJbk1lbW9yeVN0b3JhZ2UgYmFja2VuZC5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IHJlbW90ZVN0b3JhZ2UgLSBSZW1vdGVTdG9yYWdlIGluc3RhbmNlXG4gICAqXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIHByb3RlY3RlZCBzdGF0aWMgX3JzX2luaXQoKTogdm9pZCB7XG4gICAgLy8gZW1wdHlcbiAgfVxuXG4gIC8qKlxuICAgKiBJbmZvcm0gYWJvdXQgdGhlIGF2YWlsYWJpbGl0eSBvZiB0aGUgSW5NZW1vcnlTdG9yYWdlIGJhY2tlbmQuXG4gICAqXG4gICAqIEByZXR1cm5zIHtCb29sZWFufVxuICAgKlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBwcm90ZWN0ZWQgc3RhdGljIF9yc19zdXBwb3J0ZWQoKTogdHJ1ZSB7XG4gICAgLy8gSW4tbWVtb3J5IHN0b3JhZ2UgaXMgYWx3YXlzIHN1cHBvcnRlZFxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBJbk1lbW9yeVN0b3JhZ2UgYXMgYSBiYWNrZW5kLlxuICAgKlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBwcm90ZWN0ZWQgc3RhdGljIF9yc19jbGVhbnVwKCk6IHZvaWQge1xuICAgIC8vIGVtcHR5XG4gIH1cbn1cblxuLy8gVE9ETyBtb3ZlIHRvIENhY2hpbmdMYXllciwgc2FtZSBmb3IgYWxsIGxheWVyc1xuaW50ZXJmYWNlIEluTWVtb3J5U3RvcmFnZSBleHRlbmRzIEV2ZW50SGFuZGxpbmcge307XG5hcHBseU1peGlucyhJbk1lbW9yeVN0b3JhZ2UsIFtFdmVudEhhbmRsaW5nXSk7XG5cbmV4cG9ydCBkZWZhdWx0IEluTWVtb3J5U3RvcmFnZTtcbiJdLCJzb3VyY2VSb290IjoiIn0=