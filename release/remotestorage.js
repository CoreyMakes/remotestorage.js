/*! remotestorage.js 2.0.0-alpha.2, https://remotestorage.io, MIT licensed */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("RemoteStorage",[],t):"object"==typeof exports?exports.RemoteStorage=t():e.RemoteStorage=t()}(this,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=17)}([function(e,t,r){"use strict";(function(e,r){Object.defineProperty(t,"__esModule",{value:!0}),t.logError=e=>{"string"==typeof e?console.error(e):console.error(e.message,e.stack)},t.globalContext="undefined"!=typeof window?window:"object"==typeof self?self:e,t.getGlobalContext=()=>"undefined"!=typeof window?window:"object"==typeof self?self:e,t.extend=(...e)=>{const t=e[0];return Array.prototype.slice.call(e,1).forEach((function(e){for(const r in e)t[r]=e[r]})),t},t.containingFolder=e=>{if(""===e)return"/";if(!e)throw"Path not given!";return e.replace(/\/+/g,"/").replace(/[^\/]+\/?$/,"")},t.isFolder=e=>"/"===e.substr(-1),t.isDocument=e=>!t.isFolder(e),t.baseName=e=>{const r=e.split("/");return t.isFolder(e)?r[r.length-2]+"/":r[r.length-1]},t.cleanPath=e=>e.replace(/\/+/g,"/").split("/").map(encodeURIComponent).join("/").replace(/'/g,"%27"),t.bindAll=e=>{for(const t in this)"function"==typeof e[t]&&(e[t]=e[t].bind(e))},t.equal=(e,r,n=[])=>{let o;if(typeof e!=typeof r)return!1;if("number"==typeof e||"boolean"==typeof e||"string"==typeof e)return e===r;if("function"==typeof e)return e.toString()===r.toString();if(e instanceof ArrayBuffer&&r instanceof ArrayBuffer&&(e=new Uint8Array(e),r=new Uint8Array(r)),e instanceof Array){if(e.length!==r.length)return!1;for(let o=0,i=e.length;o<i;o++)if(!t.equal(e[o],r[o],n))return!1}else{for(o in e)if(e.hasOwnProperty(o)&&!(o in r))return!1;for(o in r){if(!r.hasOwnProperty(o))continue;if(!(o in e))return!1;let i;if("object"==typeof r[o]){if(n.indexOf(r[o])>=0)continue;i=n.slice(),i.push(r[o])}if(!t.equal(e[o],r[o],i))return!1}}return!0},t.deepClone=e=>{if(void 0!==e){const t=JSON.parse(JSON.stringify(e));return function e(t,r){if("object"==typeof t&&!Array.isArray(t)&&null!==t)for(const n in t)if("object"==typeof t[n]&&null!==t[n])if("[object ArrayBuffer]"===t[n].toString()){r[n]=new ArrayBuffer(t[n].byteLength);const e=new Int8Array(t[n]);new Int8Array(r[n]).set(e)}else e(t[n],r[n])}(e,t),t}},t.pathsFromRoot=e=>{const t=[e],r=e.replace(/\/$/,"").split("/");for(;r.length>1;)r.pop(),t.push(r.join("/")+"/");return t},t.localStorageAvailable=()=>{const e=t.getGlobalContext();if(!("localStorage"in e))return!1;try{return e.localStorage.setItem("rs-check","1"),e.localStorage.removeItem("rs-check"),!0}catch(e){return!1}},t.getJSONFromLocalStorage=e=>{const r=t.getGlobalContext();try{return JSON.parse(r.localStorage.getItem(e))}catch(e){}},t.shouldBeTreatedAsBinary=(e,t)=>!!(t&&t.match(/charset=binary/)||/[\x00-\x08\x0E-\x1F\uFFFD]/.test(e)),t.getTextFromArrayBuffer=(e,n)=>new Promise(o=>{if("undefined"==typeof Blob){const t=new r(new Uint8Array(e));o(t.toString(n))}else{let r;const i=t.globalContext;if(i.BlobBuilder=i.BlobBuilder||i.WebKitBlobBuilder,void 0!==i.BlobBuilder){const t=new i.BlobBuilder;t.append(e),r=t.getBlob()}else r=new Blob([e]);const s=new FileReader;"function"==typeof s.addEventListener?s.addEventListener("loadend",(function(e){o(e.target.result)})):s.onloadend=function(e){o(e.target.result)},s.readAsText(r,n)}}),t.toBase64=e=>{const n=t.getGlobalContext();return"btoa"in n?n.btoa(e):r.from(e).toString("base64")},t.applyMixins=function(e,t){t.forEach(t=>{Object.getOwnPropertyNames(t.prototype).forEach(r=>{Object.defineProperty(e.prototype,r,Object.getOwnPropertyDescriptor(t.prototype,r))})})}}).call(this,r(5),r(19).Buffer)},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(3));t.default=function(...e){o.default.logging&&console.log(...e)}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(1));t.default=class{addEvents(e){e.forEach(e=>this._addEvent(e))}addEventListener(e,t){if("string"!=typeof e)throw new Error("Argument eventName should be a string");if("function"!=typeof t)throw new Error("Argument handler should be a function");o.default("[EventHandling] Adding event listener",e),this._validateEvent(e),this._handlers[e].push(t)}on(e,t){return this.addEventListener(e,t)}removeEventListener(e,t){this._validateEvent(e);const r=this._handlers[e].length;for(let n=0;n<r;n++)if(this._handlers[e][n]===t)return void this._handlers[e].splice(n,1)}_emit(e,...t){this._validateEvent(e),this._handlers[e].slice().forEach(e=>{e.apply(this,t)})}_validateEvent(e){if(!(e in this._handlers))throw new Error("Unknown event: "+e)}_delegateEvent(e,t){t.on(e,t=>{this._emit(e,t)})}_addEvent(e){void 0===this._handlers&&(this._handlers={}),this._handlers[e]=[]}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n={cache:!0,changeEvents:{local:!0,window:!1,remote:!0,conflict:!0},cordovaRedirectUri:void 0,logging:!1,modules:[],backgroundSyncInterval:6e4,disableFeatures:[],discoveryTimeout:1e4,isBackground:!1,requestTimeout:3e4,syncInterval:1e4};t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{constructor(e,t={}){super(),this.name="Unauthorized",this.message=void 0===e?"App authorization expired or revoked.":e,void 0!==t.code&&(this.code=t.code),this.stack=(new Error).stack}}t.default=n},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(1)),i=r(0),s=n(r(4));let a;function u(e){const t=e||c.getLocation().href,r=t.indexOf("#");if(-1===r)return;const n=t.substring(r+1);return n.includes("=")?n.split("&").reduce((function(e,t){const r=t.split("=");if("state"===r[0]&&r[1].match(/rsDiscovery/)){let t=decodeURIComponent(r[1]);const n=t.substr(t.indexOf("rsDiscovery=")).split("&")[0].split("=")[1];e.rsDiscovery=JSON.parse(atob(n)),t=t.replace(new RegExp("&?rsDiscovery="+n),""),t.length>0&&(e.state=t)}else e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]);return e}),{}):void 0}class c{static authorize(e,{authURL:t,scope:r,redirectUri:n,clientId:s}){if(o.default("[Authorize] authURL = ",t,"scope = ",r,"redirectUri = ",n,"clientId = ",s),!i.localStorageAvailable()&&"remotestorage"===e.backend){n+=n.indexOf("#")>0?"&":"#";const t={userAddress:e.remote.userAddress,href:e.remote.href,storageApi:e.remote.storageApi,properties:e.remote.properties};n+="rsDiscovery="+i.toBase64(JSON.stringify(t))}const a=function(e,t,r,n){const o=t.indexOf("#");let i=e;return i+=e.indexOf("?")>0?"&":"?",i+="redirect_uri="+encodeURIComponent(t.replace(/#.*$/,"")),i+="&scope="+encodeURIComponent(r),i+="&client_id="+encodeURIComponent(n),-1!==o&&o+1!==t.length&&(i+="&state="+encodeURIComponent(t.substring(o+1))),i+="&response_type=token",i}(t,n,r,s);i.globalContext.cordova?c.openWindow(a,n,"location=yes,clearsessioncache=yes,clearcache=yes").then(t=>{e.remote.configure({token:t.access_token})}):c.setLocation(a)}static setLocation(e){if("string"==typeof e)document.location.href=e;else{if("object"!=typeof e)throw"Invalid location "+e;document.location=e}}static _rs_supported(){return"undefined"!=typeof document}static _rs_cleanup(e){e.removeEventListener("features-loaded",a)}}t.default=c,c.IMPLIED_FAKE_TOKEN=!1,c.getLocation=function(){return document.location},c.openWindow=function(e,t,r){return new Promise((n,o)=>{const i=open(e,"_blank",r);if(!i||i.closed)return o("Authorization popup was blocked");function s(){return o("Authorization was canceled")}i.addEventListener("loadstart",(function(e){if(0!==e.url.indexOf(t))return;i.removeEventListener("exit",s),i.close();const r=u(e.url);return r?n(r):o("Authorization error")})),i.addEventListener("exit",s)})},c._rs_init=function(e){const t=u();let r;t&&(r=c.getLocation(),r.hash=""),a=function(){let n=!1;if(t){if(t.error)throw"access_denied"===t.error?new s.default("Authorization failed: access denied",{code:"access_denied"}):new s.default(`Authorization failed: ${t.error}`);t.rsDiscovery&&e.remote.configure(t.rsDiscovery),t.access_token&&(e.remote.configure({token:t.access_token}),n=!0),t.remotestorage&&(e.connect(t.remotestorage),n=!0),t.state&&(r=c.getLocation(),c.setLocation(r.href.split("#")[0]+"#"+t.state)),n||e.remote.stopWaitingForToken()}else e.remote.stopWaitingForToken()},e.on("features-loaded",a)}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(23)),i=n(r(24)),s=n(r(25)),a=n(r(2)),u=n(r(3)),c=r(0);function l(e,t){if("/"!==t[t.length-1])throw"Not a folder: "+t;"/"===t&&(this.makePath=e=>("/"===e[0]?"":"/")+e),this.storage=e,this.base=t;const r=this.base.split("/");r.length>2?this.moduleName=r[1]:this.moduleName="root",this.addEvents(["change"]),this.on=this.on.bind(this),e.onChange(this.base,this._fireChange.bind(this))}l.Types=i.default,l.prototype={scope:function(e){return new l(this.storage,this.makePath(e))},getListing:function(e,t){if("string"!=typeof e)e="";else if(e.length>0&&"/"!==e[e.length-1])return Promise.reject("Not a folder: "+e);return this.storage.get(this.makePath(e),t).then((function(e){return 404===e.statusCode?{}:e.body}))},getAll:function(e,t){if("string"!=typeof e)e="";else if(e.length>0&&"/"!==e[e.length-1])return Promise.reject("Not a folder: "+e);return this.storage.get(this.makePath(e),t).then(r=>{if(404===r.statusCode)return{};if("object"==typeof r.body){const n=Object.keys(r.body);if(0===n.length)return{};const o=n.map(n=>this.storage.get(this.makePath(e+n),t).then((function(e){if("string"==typeof e.body)try{e.body=JSON.parse(e.body)}catch(e){}"object"==typeof e.body&&(r.body[n]=e.body)})));return Promise.all(o).then((function(){return r.body}))}})},getFile:function(e,t){return"string"!=typeof e?Promise.reject("Argument 'path' of baseClient.getFile must be a string"):this.storage.get(this.makePath(e),t).then((function(e){return{data:e.body,contentType:e.contentType,revision:e.revision}}))},storeFile:function(e,t,r){return"string"!=typeof e?Promise.reject("Argument 'mimeType' of baseClient.storeFile must be a string"):"string"!=typeof t?Promise.reject("Argument 'path' of baseClient.storeFile must be a string"):"string"!=typeof r&&"object"!=typeof r?Promise.reject("Argument 'body' of baseClient.storeFile must be a string, ArrayBuffer, or ArrayBufferView"):(this.storage.access.checkPathPermission(this.makePath(t),"rw")||console.warn("WARNING: Editing a document to which only read access ('r') was claimed"),this.storage.put(this.makePath(t),r,e).then(e=>200===e.statusCode||201===e.statusCode?e.revision:Promise.reject("Request (PUT "+this.makePath(t)+") failed with status: "+e.statusCode)))},getObject:function(e,t){return"string"!=typeof e?Promise.reject("Argument 'path' of baseClient.getObject must be a string"):this.storage.get(this.makePath(e),t).then(t=>{if("object"==typeof t.body)return t.body;if("string"==typeof t.body)try{return JSON.parse(t.body)}catch(t){throw"Not valid JSON: "+this.makePath(e)}else if(void 0!==t.body&&200===t.statusCode)return Promise.reject("Not an object: "+this.makePath(e))})},storeObject:function(e,t,r){if("string"!=typeof e)return Promise.reject("Argument 'typeAlias' of baseClient.storeObject must be a string");if("string"!=typeof t)return Promise.reject("Argument 'path' of baseClient.storeObject must be a string");if("object"!=typeof r)return Promise.reject("Argument 'object' of baseClient.storeObject must be an object");this._attachType(r,e);try{const e=this.validate(r);if(!e.valid)return Promise.reject(e)}catch(e){return Promise.reject(e)}return this.storage.put(this.makePath(t),JSON.stringify(r),"application/json; charset=UTF-8").then(e=>200===e.statusCode||201===e.statusCode?e.revision:Promise.reject("Request (PUT "+this.makePath(t)+") failed with status: "+e.statusCode))},remove:function(e){return"string"!=typeof e?Promise.reject("Argument 'path' of baseClient.remove must be a string"):(this.storage.access.checkPathPermission(this.makePath(e),"rw")||console.warn("WARNING: Removing a document to which only read access ('r') was claimed"),this.storage.delete(this.makePath(e)))},getItemURL:function(e){if("string"!=typeof e)throw"Argument 'path' of baseClient.getItemURL must be a string";return this.storage.connected?(e=c.cleanPath(this.makePath(e)),this.storage.remote.href+e):void 0},cache:function(e,t="ALL"){if("string"!=typeof e)throw"Argument 'path' of baseClient.cache must be a string";if("string"!=typeof t)throw"Argument 'strategy' of baseClient.cache must be a string or undefined";if("FLUSH"!==t&&"SEEN"!==t&&"ALL"!==t)throw'Argument \'strategy\' of baseclient.cache must be one of ["FLUSH", "SEEN", "ALL"]';return this.storage.caching.set(this.makePath(e),t),this},flush:function(e){return this.storage.local.flush(e)},declareType:function(e,t,r){let n;r?n=t:(r=t,n=this._defaultTypeURI(e)),l.Types.declare(this.moduleName,e,n,r)},validate:function(e){const t=l.Types.getSchema(e["@context"]);if(t)return o.default.validateResult(e,t);throw new s.default(e["@context"])},schemas:{configurable:!0,get:function(){return l.Types.inScope(this.moduleName)}},_defaultTypeURI:function(e){return"http://remotestorage.io/spec/modules/"+encodeURIComponent(this.moduleName)+"/"+encodeURIComponent(e)},_attachType:function(e,t){e["@context"]=l.Types.resolveAlias(this.moduleName+"/"+t)||this._defaultTypeURI(t)},makePath:function(e){return this.base+(e||"")},_fireChange:function(e){u.default.changeEvents[e.origin]&&(["new","old","lastCommon"].forEach((function(t){if((!e[t+"ContentType"]||/^application\/(.*)json(.*)/.exec(e[t+"ContentType"]))&&"string"==typeof e[t+"Value"])try{e[t+"Value"]=JSON.parse(e[t+"Value"])}catch(e){}})),this._emit("change",e))}},l._rs_init=function(){},c.applyMixins(l,[a.default]),t.default=l},function(e,t,r){"use strict";(function(e){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=o(r(6)),s=o(r(2)),a=o(r(4)),u=o(r(3)),c=o(r(1)),l=r(0);let h;const d="remotestorage:wireclient",f={"draft-dejong-remotestorage-00":2,"draft-dejong-remotestorage-01":3,"draft-dejong-remotestorage-02":4,"https://www.w3.org/community/rww/wiki/read-write-web-00#simple":1};let p;if("function"==typeof(e||window).ArrayBufferView)p=function(t){return t&&t instanceof(e||window).ArrayBufferView};else{const e=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];p=function(t){for(let r=0;r<8;r++)if(t instanceof e[r])return!0;return!1}}function m(e){return"string"!=typeof e?e:"*"===e?"*":'"'+e+'"'}function g(e){return"string"!=typeof e?e:e.replace(/^["']|["']$/g,"")}const y=function(e){if(this.rs=e,this.connected=!1,this.addEvents(["connected","not-connected"]),h){const e=l.getJSONFromLocalStorage(d);e&&setTimeout(()=>{this.configure(e)},0)}this._revisionCache={},this.connected&&setTimeout(this._emit.bind(this),0,"connected")};y.prototype={_request:function(e,t,r,o,s,u,h){return n(this,void 0,void 0,(function*(){if(function(e,t){return("PUT"===e||"DELETE"===e)&&l.isFolder(t)}(e,t))return Promise.reject(`Don't use ${e} on directories!`);let n;return r!==i.default.IMPLIED_FAKE_TOKEN&&(o.Authorization="Bearer "+r),this.rs._emit("wire-busy",{method:e,isFolder:l.isFolder(t)}),y.request(e,t,{body:s,headers:o,responseType:"arraybuffer"}).then(r=>{if(this.online||(this.online=!0,this.rs._emit("network-online")),this.rs._emit("wire-done",{method:e,isFolder:l.isFolder(t),success:!0}),o=r.status,[401,403,404,412].indexOf(o)>=0)return c.default("[WireClient] Error response status",r.status),n=u?g(r.getResponseHeader("ETag")):void 0,401===r.status&&this.rs._emit("error",new a.default),Promise.resolve({statusCode:r.status,revision:n});if(function(e){return[201,204,304].indexOf(e)>=0}(r.status)||200===r.status&&"GET"!==e)return n=g(r.getResponseHeader("ETag")),c.default("[WireClient] Successful request",n),Promise.resolve({statusCode:r.status,revision:n});{const e=r.getResponseHeader("Content-Type");n=u?g(r.getResponseHeader("ETag")):200===r.status?h:void 0;const t=function(e){let t,r="UTF-8";return e&&(t=e.match(/charset=(.+)$/),t&&(r=t[1])),r}(e);return l.shouldBeTreatedAsBinary(r.response,e)?(c.default("[WireClient] Successful request with unknown or binary mime-type",n),Promise.resolve({statusCode:r.status,body:r.response,contentType:e,revision:n})):l.getTextFromArrayBuffer(r.response,t).then(t=>(c.default("[WireClient] Successful request",n),Promise.resolve({statusCode:r.status,body:t,contentType:e,revision:n})))}var o},r=>(this.online&&(this.online=!1,this.rs._emit("network-offline")),this.rs._emit("wire-done",{method:e,isFolder:l.isFolder(t),success:!1}),Promise.reject(r)))}))},configure:function(e){if("object"!=typeof e)throw new Error("WireClient configure settings parameter should be an object");void 0!==e.userAddress&&(this.userAddress=e.userAddress),void 0!==e.href&&(this.href=e.href),void 0!==e.storageApi&&(this.storageApi=e.storageApi),void 0!==e.token&&(this.token=e.token),void 0!==e.properties&&(this.properties=e.properties),void 0!==this.storageApi&&(this._storageApi=f[this.storageApi]||5,this.supportsRevs=this._storageApi>=2),this.href&&this.token?(this.connected=!0,this.online=!0,this._emit("connected")):this.connected=!1,h&&(localStorage[d]=JSON.stringify({userAddress:this.userAddress,href:this.href,storageApi:this.storageApi,token:this.token,properties:this.properties}))},stopWaitingForToken:function(){this.connected||this._emit("not-connected")},get:function(e,t={}){if(!this.connected)return Promise.reject("not connected (path: "+e+")");const r={};return this.supportsRevs&&t.ifNoneMatch&&(r["If-None-Match"]=m(t.ifNoneMatch)),this._request("GET",this.href+l.cleanPath(e),this.token,r,void 0,this.supportsRevs,this._revisionCache[e]).then(t=>{if(!l.isFolder(e))return Promise.resolve(t);let r={};if(void 0!==t.body)try{t.body=JSON.parse(t.body)}catch(t){return Promise.reject("Folder description at "+this.href+l.cleanPath(e)+" is not JSON")}if(200===t.statusCode&&"object"==typeof t.body){if(0===Object.keys(t.body).length)t.statusCode=404;else if("http://remotestorage.io/spec/folder-description"===(n=t.body)["@context"]&&"object"==typeof n.items){for(const r in t.body.items)this._revisionCache[e+r]=t.body.items[r].ETag;r=t.body.items}else Object.keys(t.body).forEach(n=>{this._revisionCache[e+n]=t.body[n],r[n]={ETag:t.body[n]}});return t.body=r,Promise.resolve(t)}return Promise.resolve(t);var n})},put:function(e,t,r,n={}){if(!this.connected)return Promise.reject("not connected (path: "+e+")");!r.match(/charset=/)&&(t instanceof ArrayBuffer||p(t))&&(r+="; charset=binary");const o={"Content-Type":r};return this.supportsRevs&&(n.ifMatch&&(o["If-Match"]=m(n.ifMatch)),n.ifNoneMatch&&(o["If-None-Match"]=m(n.ifNoneMatch))),this._request("PUT",this.href+l.cleanPath(e),this.token,o,t,this.supportsRevs)},delete:function(e,t={}){if(!this.connected)throw new Error("not connected (path: "+e+")");t||(t={});const r={};return this.supportsRevs&&t.ifMatch&&(r["If-Match"]=m(t.ifMatch)),this._request("DELETE",this.href+l.cleanPath(e),this.token,r,void 0,this.supportsRevs)}},y.isArrayBufferView=p,y.request=function(e,t,r){return n(this,void 0,void 0,(function*(){return"function"==typeof fetch?y._fetchRequest(e,t,r):"function"==typeof XMLHttpRequest?y._xhrRequest(e,t,r):(c.default("[WireClient] You need to add a polyfill for fetch or XMLHttpRequest"),Promise.reject("[WireClient] You need to add a polyfill for fetch or XMLHttpRequest"))}))},y._fetchRequest=function(e,t,r){let n;const o={};let i;"function"==typeof AbortController&&(i=new AbortController);const s=fetch(t,{method:e,headers:r.headers,body:r.body,signal:i?i.signal:void 0}).then(e=>{switch(c.default("[WireClient fetch]",e),e.headers.forEach((e,t)=>{o[t.toUpperCase()]=e}),n={readyState:4,status:e.status,statusText:e.statusText,response:void 0,getResponseHeader:e=>o[e.toUpperCase()]||null,responseType:r.responseType,responseURL:t},r.responseType){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json();case void 0:case"":case"text":return e.text();default:throw new Error("responseType 'document' is not currently supported using fetch")}}).then(e=>(n.response=e,r.responseType&&"text"!==r.responseType||(n.responseText=e),n)),a=new Promise((e,t)=>{setTimeout(()=>{t("timeout"),i&&i.abort()},u.default.requestTimeout)});return Promise.race([s,a])},y._xhrRequest=function(e,t,r){return new Promise((n,o)=>{c.default("[WireClient]",e,t);let i=!1;const s=setTimeout(()=>{i=!0,o("timeout")},u.default.requestTimeout),a=new XMLHttpRequest;if(a.open(e,t,!0),r.responseType&&(a.responseType=r.responseType),r.headers)for(const e in r.headers)a.setRequestHeader(e,r.headers[e]);a.onload=()=>{i||(clearTimeout(s),n(a))},a.onerror=e=>{i||(clearTimeout(s),o(e))};let l=r.body;"object"==typeof l&&!p(l)&&l instanceof ArrayBuffer&&(l=new Uint8Array(l)),a.send(l)})},Object.defineProperty(y.prototype,"storageType",{get:function(){if(this.storageApi){const e=this.storageApi.match(/draft-dejong-(remotestorage-\d\d)/);return e?e[1]:"2012.04"}}}),y._rs_init=function(e){h=l.localStorageAvailable(),e.remote=new y(e),this.online=!0},y._rs_supported=function(){return"function"==typeof fetch||"function"==typeof XMLHttpRequest},y._rs_cleanup=function(){h&&delete localStorage[d]},l.applyMixins(y,[s.default]),t.default=y}).call(this,r(5))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{constructor(e){super(),this.name="SyncError",this.message="Sync failed: ","string"==typeof e?this.message+=e:(this.message+=e.message,this.stack=e.stack,this.originalError=e)}}t.default=n},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(2)),i=n(r(3)),s=n(r(1)),a=r(0);class u{constructor(){this._updateNodesRunning=!1,this._updateNodesQueued=[]}get(e,t,r){return"number"==typeof t?this.getNodes(a.pathsFromRoot(e)).then(n=>{const o=c(n[e]);return l(n,t)?r(e):o?{statusCode:200,body:o.body||o.itemsMap,contentType:o.contentType}:{statusCode:404}}):this.getNodes([e]).then(t=>{const r=c(t[e]);if(r){if(a.isFolder(e))for(const e in r.itemsMap)r.itemsMap.hasOwnProperty(e)&&!1===r.itemsMap[e]&&delete r.itemsMap[e];return{statusCode:200,body:r.body||r.itemsMap,contentType:r.contentType}}return{statusCode:404}})}put(e,t,r){const n=a.pathsFromRoot(e);return this._updateNodes(n,(function(e,n){try{for(let o=0,i=e.length;o<i;o++){const i=e[o];let s,a=n[i];if(a||(n[i]=a=h(i)),0===o)s=c(a),a.local={body:t,contentType:r,previousBody:s?s.body:void 0,previousContentType:s?s.contentType:void 0};else{a=d(a,e[o-1].substring(i.length))}}return n}catch(e){throw s.default("[Cachinglayer] Error during PUT",n,e),e}}))}delete(e){const t=a.pathsFromRoot(e);return this._updateNodes(t,(function(e,t){for(let r=0,n=e.length;r<n;r++){const n=e[r],o=t[n];let i;if(o)if(0===r)i=c(o),o.local={body:!1,previousBody:i?i.body:void 0,previousContentType:i?i.contentType:void 0};else{o.local||(o.local=a.deepClone(o.common));const t=e[r-1].substring(n.length);if(delete o.local.itemsMap[t],Object.getOwnPropertyNames(o.local.itemsMap).length>0)break}else console.error("Cannot delete non-existing node "+n)}return t}))}flush(e){return this._getAllDescendentPaths(e).then(e=>this.getNodes(e)).then(e=>{for(const t in e){const r=e[t];r&&r.common&&r.local&&this._emitChange({path:r.path,origin:"local",oldValue:!1===r.local.body?void 0:r.local.body,newValue:!1===r.common.body?void 0:r.common.body}),e[t]=void 0}return this.setNodes(e)})}_emitChange(e){i.default.changeEvents[e.origin]&&this._emit("change",e)}fireInitial(){i.default.changeEvents.local&&this.forAllNodes(e=>{if(a.isDocument(e.path)){const t=c(e);t&&this._emitChange({path:e.path,origin:"local",oldValue:void 0,oldContentType:void 0,newValue:t.body,newContentType:t.contentType})}}).then(()=>{this._emit("local-events-done")})}onDiff(e){this.diffHandler=e}migrate(e){return"object"!=typeof e||e.common||(e.common={},"string"==typeof e.path?"/"===e.path.substr(-1)&&"object"==typeof e.body&&(e.common.itemsMap=e.body):(e.local||(e.local={}),e.local.body=e.body,e.local.contentType=e.contentType)),e}_updateNodes(e,t){return new Promise((r,n)=>{this._doUpdateNodes(e,t,{resolve:r,reject:n})})}_doUpdateNodes(e,t,r){this._updateNodesRunning?this._updateNodesQueued.push({paths:e,cb:t,promise:r}):(this._updateNodesRunning=!0,this.getNodes(e).then(n=>{const o=a.deepClone(n),i=[];n=t(e,n);for(const e in n){const t=n[e];a.equal(t,o[e])?delete n[e]:a.isDocument(e)&&(a.equal(t.local.body,t.local.previousBody)&&t.local.contentType===t.local.previousContentType||i.push({path:e,origin:"window",oldValue:t.local.previousBody,newValue:!1===t.local.body?void 0:t.local.body,oldContentType:t.local.previousContentType,newContentType:t.local.contentType}),delete t.local.previousBody,delete t.local.previousContentType)}this.setNodes(n).then(()=>{this._emitChangeEvents(i),r.resolve({statusCode:200})})}).then(()=>Promise.resolve(),e=>{r.reject(e)}).then(()=>{this._updateNodesRunning=!1;const e=this._updateNodesQueued.shift();e&&this._doUpdateNodes(e.paths,e.cb,e.promise)}))}_emitChangeEvents(e){for(let t=0,r=e.length;t<r;t++)this._emitChange(e[t]),this.diffHandler&&this.diffHandler(e[t].path)}_getAllDescendentPaths(e){return a.isFolder(e)?this.getNodes([e]).then(t=>{const r=[e],n=c(t[e]),o=Object.keys(n.itemsMap).map(t=>this._getAllDescendentPaths(e+t).then(e=>{for(let t=0,n=e.length;t<n;t++)r.push(e[t])}));return Promise.all(o).then(()=>r)}):Promise.resolve([e])}_getInternals(){return{getLatest:c,makeNode:h,isOutdated:l}}}function c(e){if("object"==typeof e&&"string"==typeof e.path)if(a.isFolder(e.path)){if(e.local&&e.local.itemsMap)return e.local;if(e.common&&e.common.itemsMap)return e.common}else{if(e.local){if(e.local.body&&e.local.contentType)return e.local;if(!1===e.local.body)return}if(e.common&&e.common.body&&e.common.contentType)return e.common;if(e.body&&e.contentType)return{body:e.body,contentType:e.contentType}}}function l(e,t){for(const r in e){if(e[r]&&e[r].remote)return!0;const n=c(e[r]);if(n&&n.timestamp&&(new Date).getTime()-n.timestamp<=t)return!1;if(!n)return!0}return!0}function h(e){const t={path:e,common:{}};return a.isFolder(e)&&(t.common.itemsMap={}),t}function d(e,t){return e.common||(e.common={itemsMap:{}}),e.common.itemsMap||(e.common.itemsMap={}),e.local||(e.local=a.deepClone(e.common)),e.local.itemsMap||(e.local.itemsMap=e.common.itemsMap),e.local.itemsMap[t]=!0,e}a.applyMixins(u,[o.default]),t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(){this.reset()}static _rs_init(){}get scopes(){return Object.keys(this.scopeModeMap).map(e=>({name:e,mode:this.scopeModeMap[e]}))}get scopeParameter(){return this.scopes.map(e=>`${this._scopeNameForParameter(e)}:${e.mode}`).join(" ")}claim(e,t){if("string"!=typeof e||-1!==e.indexOf("/")||0===e.length)throw new Error("Scope should be a non-empty string without forward slashes");if(!t.match(/^rw?$/))throw new Error("Mode should be either 'r' or 'rw'");this._adjustRootPaths(e),this.scopeModeMap[e]=t}get(e){return this.scopeModeMap[e]}remove(e){const t={};for(const e in this.scopeModeMap)t[e]=this.scopeModeMap[e];this.reset(),delete t[e];for(const e in t)this.claim(e,t[e])}checkPermission(e,t){const r=this.get(e);return r&&("r"===t||"rw"===r)}checkPathPermission(e,t){if(this.checkPermission("*",t))return!0;const r=this._getModuleName(e);return!!this.checkPermission(r,t)}reset(){this.rootPaths=[],this.scopeModeMap={}}_getModuleName(e){if("/"!==e[0])throw new Error("Path should start with a slash");const t=e.replace(/^\/public/,"").match(/^\/([^/]*)\//);return t?t[1]:"*"}_adjustRootPaths(e){"*"in this.scopeModeMap||"*"===e?this.rootPaths=["/"]:e in this.scopeModeMap||(this.rootPaths.push("/"+e+"/"),this.rootPaths.push("/public/"+e+"/"))}_scopeNameForParameter(e){if("*"===e.name&&this.storageType){if("2012.04"===this.storageType)return"";if(this.storageType.match(/remotestorage-0[01]/))return"root"}return e.name}setStorageType(e){this.storageType=e}}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(0),i=n(r(1));t.default=class{constructor(){this.pendingActivations=[],this.reset()}set(e,t){if("string"!=typeof e)throw new Error("path should be a string");if(!o.isFolder(e))throw new Error("path should be a folder");if(!t.match(/^(FLUSH|SEEN|ALL)$/))throw new Error("strategy should be 'FLUSH', 'SEEN', or 'ALL'");this._rootPaths[e]=t,"ALL"===t&&(this.activateHandler?this.activateHandler(e):this.pendingActivations.push(e))}enable(e){this.set(e,"ALL")}disable(e){this.set(e,"FLUSH")}onActivate(e){i.default("[Caching] Setting activate handler",e,this.pendingActivations),this.activateHandler=e;for(let t=0;t<this.pendingActivations.length;t++)e(this.pendingActivations[t]);delete this.pendingActivations}checkPath(e){return void 0!==this._rootPaths[e]?this._rootPaths[e]:"/"===e?"SEEN":this.checkPath(o.containingFolder(e))}reset(){this._rootPaths={}}static _rs_init(){}}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(7)),i=n(r(8)),s=n(r(2)),a=r(0),u="https://www.googleapis.com",c="remotestorage:googledrive";let l;function h(e){return"/"===e.substr(-1)&&(e=e.substr(0,e.length-1)),decodeURIComponent(e)}function d(e){return e.replace(/[^\/]+\/?$/,"")}function f(e){const t=e.split("/");return"/"===e.substr(-1)?t[t.length-2]+"/":t[t.length-1]}function p(e){return a.cleanPath(`/remotestorage/${e}`)}function m(e){return e.replace(/^["'](.*)["']$/,"$1")}class g{constructor(e){this._items={},this.maxAge=e,this._items={}}get(e){const t=this._items[e],r=(new Date).getTime();return t&&t.t>=r-this.maxAge?t.v:void 0}set(e,t){this._items[e]={v:t,t:(new Date).getTime()}}}class y{constructor(e,t){if(this.connected=!1,this.online=!0,this.addEvents(["connected","not-connected"]),this.rs=e,this.clientId=t,this._fileIdCache=new g(300),l=a.localStorageAvailable(),l){const e=a.getJSONFromLocalStorage(c);e&&this.configure(e)}}configure(e){void 0!==e.userAddress&&(this.userAddress=e.userAddress),void 0!==e.token&&(this.token=e.token);const t=function(){l&&localStorage.setItem(c,JSON.stringify({userAddress:this.userAddress,token:this.token}))},r=function(){this.connected=!1,delete this.token,l&&localStorage.removeItem(c)};this.token?(this.connected=!0,this.userAddress?(this._emit("connected"),t.apply(this)):this.info().then(e=>{this.userAddress=e.user.emailAddress,this._emit("connected"),t.apply(this)}).catch(()=>{r.apply(this),this.rs._emit("error",new Error("Could not fetch user info."))})):r.apply(this)}connect(){this.rs.setBackend("googledrive"),this.rs.authorize({authURL:"https://accounts.google.com/o/oauth2/auth",scope:"https://www.googleapis.com/auth/drive",clientId:this.clientId})}stopWaitingForToken(){this.connected||this._emit("not-connected")}get(e,t){return a.isFolder(e)?this._getFolder(p(e)):this._getFile(p(e),t)}put(e,t,r,n){const o=p(e);function i(e){if(e.status>=200&&e.status<300){const t=JSON.parse(e.responseText),r=m(t.etag);return Promise.resolve({statusCode:200,contentType:t.mimeType,revision:r})}return 412===e.status?Promise.resolve({statusCode:412,revision:"conflict"}):Promise.reject("PUT failed with status "+e.status+" ("+e.responseText+")")}return this._getFileId(o).then(e=>e?n&&"*"===n.ifNoneMatch?i({status:412}):this._updateFile(e,o,t,r,n).then(i):this._createFile(o,t,r).then(i))}delete(e,t){const r=p(e);return this._getFileId(r).then(e=>e?this._getMeta(e).then(r=>{let n;return"object"==typeof r&&"string"==typeof r.etag&&(n=m(r.etag)),t&&t.ifMatch&&t.ifMatch!==n?{statusCode:412,revision:n}:this._request("DELETE",u+"/drive/v2/files/"+e,{}).then(e=>200===e.status||204===e.status?{statusCode:200}:Promise.reject("Delete failed: "+e.status+" ("+e.responseText+")"))}):Promise.resolve({statusCode:200}))}info(){return this._request("GET","https://www.googleapis.com/drive/v2/about?fields=user",{}).then((function(e){try{const t=JSON.parse(e.responseText);return Promise.resolve(t)}catch(e){return Promise.reject(e)}}))}_updateFile(e,t,r,n,o){const i={mimeType:n},s={"Content-Type":"application/json; charset=UTF-8"};return o&&o.ifMatch&&(s["If-Match"]='"'+o.ifMatch+'"'),this._request("PUT",u+"/upload/drive/v2/files/"+e+"?uploadType=resumable",{body:JSON.stringify(i),headers:s}).then(e=>412===e.status?e:this._request("PUT",e.getResponseHeader("Location"),{body:n.match(/^application\/json/)?JSON.stringify(r):r}))}_createFile(e,t,r){return this._getParentId(e).then(n=>{const o={title:h(f(e)),mimeType:r,parents:[{kind:"drive#fileLink",id:n}]};return this._request("POST",u+"/upload/drive/v2/files?uploadType=resumable",{body:JSON.stringify(o),headers:{"Content-Type":"application/json; charset=UTF-8"}}).then(e=>this._request("POST",e.getResponseHeader("Location"),{body:r.match(/^application\/json/)?JSON.stringify(t):t}))})}_getFile(e,t){return this._getFileId(e).then(e=>this._getMeta(e).then(e=>{let r;if("object"==typeof e&&"string"==typeof e.etag&&(r=m(e.etag)),t&&t.ifNoneMatch&&r===t.ifNoneMatch)return Promise.resolve({statusCode:304});if(!e.downloadUrl){if(!e.exportLinks||!e.exportLinks["text/html"])return Promise.resolve({statusCode:200,body:"",contentType:e.mimeType,revision:r});e.mimeType+=";export=text/html",e.downloadUrl=e.exportLinks["text/html"]}return this._request("GET",e.downloadUrl,{responseType:"arraybuffer"}).then(t=>a.getTextFromArrayBuffer(t.response,"UTF-8").then((function(n){let o=n;if(e.mimeType.match(/^application\/json/))try{o=JSON.parse(o)}catch(e){}else a.shouldBeTreatedAsBinary(n,e.mimeType)&&(o=t.response);return{statusCode:200,body:o,contentType:e.mimeType,revision:r}})))}))}_getFolder(e){return this._getFileId(e).then(t=>{let r,n,o;if(!t)return Promise.resolve({statusCode:404});const i="'"+t+"' in parents";return this._request("GET",u+"/drive/v2/files?q="+encodeURIComponent(i)+"&fields="+encodeURIComponent("items(downloadUrl,etag,fileSize,id,mimeType,title)")+"&maxResults=1000",{}).then(t=>{if(200!==t.status)return Promise.reject("request failed or something: "+t.status);try{r=JSON.parse(t.responseText)}catch(e){return Promise.reject("non-JSON response from GoogleDrive")}o={};for(const t of r.items)n=m(t.etag),"application/vnd.google-apps.folder"===t.mimeType?(this._fileIdCache.set(e+a.cleanPath(t.title)+"/",t.id),o[t.title+"/"]={ETag:n}):(this._fileIdCache.set(e+a.cleanPath(t.title),t.id),o[t.title]={ETag:n,"Content-Type":t.mimeType,"Content-Length":t.fileSize});return Promise.resolve({statusCode:200,body:o,contentType:"application/json; charset=UTF-8",revision:void 0})})})}_getParentId(e){const t=d(e);return this._getFileId(t).then(e=>e?Promise.resolve(e):this._createFolder(t))}_createFolder(e){return this._getParentId(e).then(t=>this._request("POST",u+"/drive/v2/files",{body:JSON.stringify({title:h(f(e)),mimeType:"application/vnd.google-apps.folder",parents:[{id:t}]}),headers:{"Content-Type":"application/json; charset=UTF-8"}}).then(e=>{const t=JSON.parse(e.responseText);return Promise.resolve(t.id)}))}_getFileId(e){let t;return"/"===e?Promise.resolve("root"):(t=this._fileIdCache.get(e))?Promise.resolve(t):this._getFolder(d(e)).then(()=>(t=this._fileIdCache.get(e),t?Promise.resolve(t):"/"===e.substr(-1)?this._createFolder(e).then(()=>this._getFileId(e)):Promise.resolve()))}_getMeta(e){return this._request("GET",u+"/drive/v2/files/"+e,{}).then((function(t){return 200===t.status?Promise.resolve(JSON.parse(t.responseText)):Promise.reject("request (getting metadata for "+e+") failed with status: "+t.status)}))}_request(e,t,r){return r.headers||(r.headers={}),r.headers.Authorization="Bearer "+this.token,this.rs._emit("wire-busy",{method:e,isFolder:a.isFolder(t)}),i.default.request.call(this,e,t,r).then(r=>r&&401===r.status?void this.connect():(this.online||(this.online=!0,this.rs._emit("network-online")),this.rs._emit("wire-done",{method:e,isFolder:a.isFolder(t),success:!0}),Promise.resolve(r)),r=>(this.online&&(this.online=!1,this.rs._emit("network-offline")),this.rs._emit("wire-done",{method:e,isFolder:a.isFolder(t),success:!1}),Promise.reject(r)))}static _rs_init(e){const t=e.apiKeys.googledrive;var r;t&&(e.googledrive=new y(e,t.clientId),"googledrive"===e.backend&&(e._origRemote=e.remote,e.remote=e.googledrive,(r=e)._origBaseClientGetItemURL||(r._origBaseClientGetItemURL=o.default.prototype.getItemURL,o.default.prototype.getItemURL=function(){throw new Error("getItemURL is not implemented for Google Drive yet")})))}static _rs_supported(){return!0}static _rs_cleanup(e){var t;e.setBackend(void 0),e._origRemote&&(e.remote=e._origRemote,delete e._origRemote),(t=e)._origBaseClientGetItemURL&&(o.default.prototype.getItemURL=t._origBaseClientGetItemURL,delete t._origBaseClientGetItemURL)}}a.applyMixins(y,[s.default]),t.default=y},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=o(r(2)),s=o(r(8)),a=o(r(7)),u=o(r(26)),c=o(r(9)),l=o(r(4)),h=r(0);let d;const f="remotestorage:dropbox";function p(e){return h.cleanPath("/remotestorage/"+e).replace(/\/$/,"")}function m(e,t){return new RegExp("^"+t.join("\\/")+"(\\/|$)").test(e.error_summary)}function g(e){return e instanceof ArrayBuffer||s.default.isArrayBufferView(e)}class y{constructor(e){if(this.rs=e,this.connected=!1,this.online=!0,this._initialFetchDone=!1,this.addEvents(["connected","not-connected"]),this.clientId=e.apiKeys.dropbox.appKey,this._revCache=new u.default("rev"),this._fetchDeltaCursor=null,this._fetchDeltaPromise=null,this._itemRefs={},d=h.localStorageAvailable(),d){const e=h.getJSONFromLocalStorage(f);e&&this.configure(e),this._itemRefs=h.getJSONFromLocalStorage(`${f}:shares`)||{}}this.connected&&setTimeout(this._emit.bind(this),0,"connected")}connect(){this.rs.setBackend("dropbox"),this.token?b(this.rs):this.rs.authorize({authURL:"https://www.dropbox.com/oauth2/authorize",scope:"",clientId:this.clientId})}configure(e){void 0!==e.userAddress&&(this.userAddress=e.userAddress),void 0!==e.token&&(this.token=e.token);const t=function(){d&&localStorage.setItem(f,JSON.stringify({userAddress:this.userAddress,token:this.token}))},r=function(){this.connected=!1,d&&localStorage.removeItem(f)};this.token?(this.connected=!0,this.userAddress?(this._emit("connected"),t.apply(this)):this.info().then(function(e){this.userAddress=e.email,this._emit("connected"),t.apply(this)}.bind(this)).catch(function(){r.apply(this),this.rs._emit("error",new Error("Could not fetch user info."))}.bind(this))):r.apply(this)}stopWaitingForToken(){this.connected||this._emit("not-connected")}_getFolder(e){const t=this._revCache,r=r=>{let o;if(200!==r.status&&409!==r.status)return Promise.reject("Unexpected response status: "+r.status);try{o=JSON.parse(r.responseText)}catch(e){return Promise.reject(e)}if(409===r.status)return m(o,["path","not_found"])?Promise.resolve({}):Promise.reject(new Error("API returned an error: "+o.error_summary));const i=o.entries.reduce((r,n)=>{const o="folder"===n[".tag"],i=n.path_lower.split("/").slice(-1)[0]+(o?"/":"");return o?r[i]={ETag:t.get(e+i)}:(r[i]={ETag:n.rev},this._revCache.set(e+i,n.rev)),r},{});return o.has_more?n(o.cursor).then((function(e){return Object.assign(i,e)})):Promise.resolve(i)},n=e=>{const t={body:{cursor:e}};return this._request("POST","https://api.dropboxapi.com/2/files/list_folder/continue",t).then(r)};return this._request("POST","https://api.dropboxapi.com/2/files/list_folder",{body:{path:p(e)}}).then(r).then((function(r){return Promise.resolve({statusCode:200,body:r,contentType:"application/json; charset=UTF-8",revision:t.get(e)})}))}get(e,t){if(!this.connected)return Promise.reject("not connected (path: "+e+")");const r=this._revCache.get(e);if(null===r)return Promise.resolve({statusCode:404});if(t&&t.ifNoneMatch){if(!this._initialFetchDone)return this.fetchDelta().then(()=>this.get(e,t));if(r&&r===t.ifNoneMatch)return Promise.resolve({statusCode:304})}if("/"===e.substr(-1))return this._getFolder(e);const n={headers:{"Dropbox-API-Arg":JSON.stringify({path:p(e)})},responseType:"arraybuffer"};return t&&t.ifNoneMatch&&(n.headers["If-None-Match"]=t.ifNoneMatch),this._request("GET","https://content.dropboxapi.com/2/files/download",n).then(t=>{const r=t.status;let n,o,i,s;return 200!==r&&409!==r?Promise.resolve({statusCode:r}):(n=t.getResponseHeader("Dropbox-API-Result"),h.getTextFromArrayBuffer(t.response,"UTF-8").then(a=>{o=a,409===r&&(n=o);try{n=JSON.parse(n)}catch(e){return Promise.reject(e)}if(409===r)return m(n,["path","not_found"])?{statusCode:404}:Promise.reject(new Error('API error while downloading file ("'+e+'"): '+n.error_summary));if(i=t.getResponseHeader("Content-Type"),s=n.rev,this._revCache.set(e,s),this._shareIfNeeded(e),h.shouldBeTreatedAsBinary(a,i))o=t.response;else try{o=JSON.parse(o),i="application/json; charset=UTF-8"}catch(e){}return{statusCode:r,body:o,contentType:i,revision:s}}))})}put(e,t,r,n){if(!this.connected)throw new Error("not connected (path: "+e+")");const o=this._revCache.get(e);if(n&&n.ifMatch&&o&&o!==n.ifMatch)return Promise.resolve({statusCode:412,revision:o});if(n&&"*"===n.ifNoneMatch&&o&&"rev"!==o)return Promise.resolve({statusCode:412,revision:o});if(!r.match(/charset=/)&&g(t)&&(r+="; charset=binary"),t.length>157286400)return Promise.reject(new Error("Cannot upload file larger than 150MB"));let i;const s=n&&(n.ifMatch||"*"===n.ifNoneMatch),a={body:t,contentType:r,path:e};return i=s?this._getMetadata(e).then(e=>n&&"*"===n.ifNoneMatch&&e?Promise.resolve({statusCode:412,revision:e.rev}):n&&n.ifMatch&&e&&e.rev!==n.ifMatch?Promise.resolve({statusCode:412,revision:e.rev}):this._uploadSimple(a)):this._uploadSimple(a),i.then(t=>(this._shareIfNeeded(e),t))}delete(e,t){if(!this.connected)throw new Error("not connected (path: "+e+")");const r=this._revCache.get(e);return t&&t.ifMatch&&r&&t.ifMatch!==r?Promise.resolve({statusCode:412,revision:r}):t&&t.ifMatch?this._getMetadata(e).then(r=>t&&t.ifMatch&&r&&r.rev!==t.ifMatch?Promise.resolve({statusCode:412,revision:r.rev}):this._deleteSimple(e)):this._deleteSimple(e)}_shareIfNeeded(e){e.match(/^\/public\/.*[^/]$/)&&void 0===this._itemRefs[e]&&this.share(e)}share(e){const t={body:{path:p(e)}};return this._request("POST","https://api.dropboxapi.com/2/sharing/create_shared_link_with_settings",t).then(t=>{if(200!==t.status&&409!==t.status)return Promise.reject(new Error("Invalid response status:"+t.status));let r;try{r=JSON.parse(t.responseText)}catch(e){return Promise.reject(new Error("Invalid response body: "+t.responseText))}return 409===t.status?m(r,["shared_link_already_exists"])?this._getSharedLink(e):Promise.reject(new Error("API error: "+r.error_summary)):Promise.resolve(r.url)}).then(t=>(this._itemRefs[e]=t,d&&localStorage.setItem(f+":shares",JSON.stringify(this._itemRefs)),Promise.resolve(t)),t=>(t.message='Sharing Dropbox file or folder ("'+e+'") failed: '+t.message,Promise.reject(t)))}info(){return this._request("POST","https://api.dropboxapi.com/2/users/get_current_account",{}).then((function(e){let t=e.responseText;try{t=JSON.parse(t)}catch(e){return Promise.reject(new Error("Could not query current account info: Invalid API response: "+t))}return Promise.resolve({email:t.email})}))}_request(e,t,r){return r.headers||(r.headers={}),r.headers.Authorization="Bearer "+this.token,"object"!=typeof r.body||g(r.body)||(r.body=JSON.stringify(r.body),r.headers["Content-Type"]="application/json; charset=UTF-8"),this.rs._emit("wire-busy",{method:e,isFolder:h.isFolder(t)}),s.default.request.call(this,e,t,r).then(n=>n&&503===n.status?(this.online&&(this.online=!1,this.rs._emit("network-offline")),setTimeout(this._request(e,t,r),3210)):(this.online||(this.online=!0,this.rs._emit("network-online")),this.rs._emit("wire-done",{method:e,isFolder:h.isFolder(t),success:!0}),Promise.resolve(n)),r=>(this.online&&(this.online=!1,this.rs._emit("network-offline")),this.rs._emit("wire-done",{method:e,isFolder:h.isFolder(t),success:!1}),Promise.reject(r)))}fetchDelta(...e){if(this._fetchDeltaPromise)return this._fetchDeltaPromise;const t=r=>{let n,o="https://api.dropboxapi.com/2/files/list_folder";return"string"==typeof r?(o+="/continue",n={cursor:r}):n={path:"/remotestorage",recursive:!0,include_deleted:!0},this._request("POST",o,{body:n}).then(n=>{if(401===n.status)return this.rs._emit("error",new l.default),Promise.resolve(e);if(200!==n.status&&409!==n.status)return Promise.reject(new Error("Invalid response status: "+n.status));let o;try{o=JSON.parse(n.responseText)}catch(e){return Promise.reject(new Error("Invalid response body: "+n.responseText))}if(409===n.status){if(!m(o,["path","not_found"]))return Promise.reject(new Error("API returned an error: "+o.error_summary));o={cursor:null,entries:[],has_more:!1}}if(r||this._revCache.deactivatePropagation(),o.entries.forEach(e=>{const t=e.path_lower.substr("/remotestorage".length);"deleted"===e[".tag"]?(this._revCache.delete(t),this._revCache.delete(t+"/")):"file"===e[".tag"]&&this._revCache.set(t,e.rev)}),this._fetchDeltaCursor=o.cursor,o.has_more)return t(o.cursor);this._revCache.activatePropagation(),this._initialFetchDone=!0}).catch(e=>"timeout"===e||e instanceof ProgressEvent?Promise.resolve():Promise.reject(e))};return this._fetchDeltaPromise=t(this._fetchDeltaCursor).catch(e=>("object"==typeof e&&"message"in e?e.message="Dropbox: fetchDelta: "+e.message:e=`Dropbox: fetchDelta: ${e}`,this._fetchDeltaPromise=null,Promise.reject(e))).then(()=>(this._fetchDeltaPromise=null,Promise.resolve(e))),this._fetchDeltaPromise}_getMetadata(e){const t={path:p(e)};return this._request("POST","https://api.dropboxapi.com/2/files/get_metadata",{body:t}).then(e=>{if(200!==e.status&&409!==e.status)return Promise.reject(new Error("Invalid response status:"+e.status));let t;try{t=JSON.parse(e.responseText)}catch(t){return Promise.reject(new Error("Invalid response body: "+e.responseText))}return 409===e.status?m(t,["path","not_found"])?Promise.resolve():Promise.reject(new Error("API error: "+t.error_summary)):Promise.resolve(t)}).then(void 0,t=>(t.message='Could not load metadata for file or folder ("'+e+'"): '+t.message,Promise.reject(t)))}_uploadSimple(e){const t={path:p(e.path),mode:{".tag":"overwrite",update:void 0},mute:!0};return e.ifMatch&&(t.mode={".tag":"update",update:e.ifMatch}),this._request("POST","https://content.dropboxapi.com/2/files/upload",{body:e.body,headers:{"Content-Type":"application/octet-stream","Dropbox-API-Arg":JSON.stringify(t)}}).then(t=>{if(200!==t.status&&409!==t.status)return Promise.resolve({statusCode:t.status});let r=t.responseText;try{r=JSON.parse(r)}catch(e){return Promise.reject(new Error("Invalid API result: "+r))}return 409===t.status?m(r,["path","conflict"])?this._getMetadata(e.path).then((function(e){return Promise.resolve({statusCode:412,revision:e.rev})})):Promise.reject(new Error("API error: "+r.error_summary)):(this._revCache.set(e.path,r.rev),Promise.resolve({statusCode:t.status,revision:r.rev}))})}_deleteSimple(e){const t={path:p(e)};return this._request("POST","https://api.dropboxapi.com/2/files/delete",{body:t}).then(e=>{if(200!==e.status&&409!==e.status)return Promise.resolve({statusCode:e.status});let t=e.responseText;try{t=JSON.parse(t)}catch(e){return Promise.reject(new Error("Invalid response body: "+t))}return 409===e.status?m(t,["path_lookup","not_found"])?Promise.resolve({statusCode:404}):Promise.reject(new Error("API error: "+t.error_summary)):Promise.resolve({statusCode:200})}).then(t=>(200!==t.statusCode&&404!==t.statusCode||(this._revCache.delete(e),delete this._itemRefs[e]),Promise.resolve(t)),t=>(t.message='Could not delete Dropbox file or folder ("'+e+'"): '+t.message,Promise.reject(t)))}_getSharedLink(e){return n(this,void 0,void 0,(function*(){const t={body:{path:p(e),direct_only:!0}};return this._request("POST","https://api.dropbox.com/2/sharing/list_shared_links",t).then(e=>{if(200!==e.status&&409!==e.status)return Promise.reject(new Error("Invalid response status: "+e.status));let t;try{t=JSON.parse(e.responseText)}catch(t){return Promise.reject(new Error("Invalid response body: "+e.responseText))}return 409===e.status?Promise.reject(new Error("API error: "+e.error_summary)):t.links.length?Promise.resolve(t.links[0].url):Promise.reject(new Error("No links returned"))},t=>(t.message='Could not get link to a shared file or folder ("'+e+'"): '+t.message,Promise.reject(t)))}))}static _rs_init(e){d=h.localStorageAvailable(),e.apiKeys.dropbox&&(e.dropbox=new y(e)),"dropbox"===e.backend&&b(e)}static _rs_supported(){return!0}static _rs_cleanup(e){!function(e){(function(e){e._origRemote&&(e.remote=e._origRemote,delete e._origRemote)})(e),function(e){if(!e._dropboxOrigSync)return;e.sync.sync=e._dropboxOrigSync,delete e._dropboxOrigSync}(e),function(e){if(!e._origBaseClientGetItemURL)return;a.default.prototype.getItemURL=e._origBaseClientGetItemURL,delete e._origBaseClientGetItemURL}(e),_(e)}(e),d&&localStorage.removeItem(f),e.setBackend(void 0)}}function v(e,...t){e._dropboxOrigSync||(e._dropboxOrigSync=e.sync.sync.bind(e.sync),e.sync.sync=function(){return this.dropbox.fetchDelta(e,...t).then(e._dropboxOrigSync,(function(t){e._emit("error",new c.default(t)),e._emit("sync-done")}))}.bind(e))}function _(e){e._dropboxOrigSyncCycle&&(e.syncCycle=e._dropboxOrigSyncCycle,delete e._dropboxOrigSyncCycle)}function b(e){!function(e){e._origRemote||(e._origRemote=e.remote,e.remote=e.dropbox)}(e),e.sync?v(e):function(e,...t){e._dropboxOrigSyncCycle||(e._dropboxOrigSyncCycle=e.syncCycle,e.syncCycle=()=>{if(!e.sync)throw new Error("expected sync to be initialized by now");v(e),e._dropboxOrigSyncCycle(e,...t),_(e)})}(e),function(e){e._origBaseClientGetItemURL||(e._origBaseClientGetItemURL=a.default.prototype.getItemURL,a.default.prototype.getItemURL=function(){throw new Error("getItemURL is not implemented for Dropbox yet")})}(e)}h.applyMixins(y,[i.default]),t.default=y},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(27)),i=n(r(1)),s=r(0);let a,u;let c={};const l=function(e){return new Promise((t,r)=>{if(e in c)return t(c[e]);return new o.default({tls_only:!1,uri_fallback:!0,request_timeout:5e3}).lookup(e,(function(n,o){if(n)return r(n);if("object"!=typeof o.idx.links.remotestorage||"number"!=typeof o.idx.links.remotestorage.length||o.idx.links.remotestorage.length<=0)return i.default("[Discover] WebFinger record for "+e+" does not have remotestorage defined in the links section ",JSON.stringify(o.json)),r("WebFinger record for "+e+" does not have remotestorage defined in the links section.");const s=o.idx.links.remotestorage[0],a=s.properties["http://tools.ietf.org/html/rfc6749#section-4.2"]||s.properties["auth-endpoint"],l=s.properties["http://remotestorage.io/spec/version"]||s.type;return c[e]={href:s.href,storageApi:l,authURL:a,properties:s.properties},u&&(localStorage["remotestorage:discover"]=JSON.stringify({cache:c})),t(c[e])}))})};(l.DiscoveryError=function(e){this.name="DiscoveryError",this.message=e,this.stack=(new Error).stack}).prototype=Object.create(Error.prototype),l.DiscoveryError.prototype.constructor=l.DiscoveryError,l._rs_init=function(){if(u=s.localStorageAvailable(),u)try{const e=JSON.parse(localStorage["remotestorage:discover"]);c=e.cache}catch(e){}},l._rs_supported=function(){return a=Object.prototype.hasOwnProperty.call(s.globalContext,"XMLHttpRequest"),a},l._rs_cleanup=function(){u&&delete localStorage["remotestorage:discover"]},t.default=l},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(2));class i{constructor(){this.addEvents(["background","foreground"]),this.mode="undefined"!=typeof window?"browser":"node","browser"===this.mode&&(this.setBrowserPrefixedNames(),document.addEventListener(this.visibilityChangeEvent,this.setVisibility.bind(this),!1),this.setVisibility())}setBrowserPrefixedNames(){"browser"===this.mode&&(void 0!==document.hidden?(this.hiddenProperty="hidden",this.visibilityChangeEvent="visibilitychange"):void 0!==document.mozHidden?(this.hiddenProperty="mozHidden",this.visibilityChangeEvent="mozvisibilitychange"):void 0!==document.msHidden?(this.hiddenProperty="msHidden",this.visibilityChangeEvent="msvisibilitychange"):void 0!==document.webkitHidden&&(this.hiddenProperty="webkitHidden",this.visibilityChangeEvent="webkitvisibilitychange"))}setVisibility(){document[this.hiddenProperty]?this.goBackground():this.goForeground()}isBrowser(){return"browser"===this.mode}isNode(){return"node"===this.mode}goBackground(){this._emit("background")}goForeground(){this._emit("foreground")}static _rs_init(){}static _rs_cleanup(){}}r(0).applyMixins(i,[o.default]),t.default=i},function(e,t,r){e.exports=r(18)},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(3)),s=n(r(1)),a=r(0),u=n(r(11)),c=n(r(6)),l=n(r(7)),h=n(r(12)),d=n(r(2)),f=n(r(13)),p=n(r(14)),m=n(r(15)),g=n(r(9)),y=n(r(4)),v=n(r(29)),_=o(r(0)),b=a.getGlobalContext();let w;function P(e){return 403!==e.statusCode&&401!==e.statusCode||this._emit("error",new y.default),Promise.resolve(e)}function E(e){return"number"==typeof e&&e>1e3&&e<36e5}class T{constructor(e){this._pending=[],this._cleanups=[],this._pathHandlers={change:{}},this.apiKeys={},this._init=v.default.loadFeatures,this.features=v.default.features,this.loadFeature=v.default.loadFeature,this.featureSupported=v.default.featureSupported,this.featureDone=v.default.featureDone,this.featuresDone=v.default.featuresDone,this.featuresLoaded=v.default.featuresLoaded,this.featureInitialized=v.default.featureInitialized,this.featureFailed=v.default.featureFailed,this.hasFeature=v.default.hasFeature,this._setCachingModule=v.default._setCachingModule,this._collectCleanupFunctions=v.default._collectCleanupFunctions,this._fireReady=v.default._fireReady,this.initFeature=v.default.initFeature,"object"==typeof e&&a.extend(i.default,e),this.addEvents(["ready","authing","connecting","connected","disconnected","not-connected","conflict","error","features-loaded","sync-interval-change","sync-req-done","sync-done","wire-busy","wire-done","network-offline","network-online"]),this._setGPD({get:this._pendingGPD("get"),put:this._pendingGPD("put"),delete:this._pendingGPD("delete")}),w=a.localStorageAvailable(),w&&(this.apiKeys=a.getJSONFromLocalStorage("remotestorage:api-keys")||{},this.setBackend(localStorage.getItem("remotestorage:backend")||"remotestorage"));const t=this.on;this.on=function(e,r){if(this._allLoaded)switch(e){case"features-loaded":setTimeout(r,0);break;case"ready":this.remote&&setTimeout(r,0);break;case"connected":this.remote&&this.remote.connected&&setTimeout(r,0);break;case"not-connected":this.remote&&!this.remote.connected&&setTimeout(r,0)}return t.call(this,e,r)},this._init(),this.fireInitial=function(){this.local&&setTimeout(this.local.fireInitial.bind(this.local),0)}.bind(this),this.on("ready",this.fireInitial.bind(this)),this.loadModules()}loadModules(){i.default.modules.forEach(this.addModule.bind(this))}authorize(e){this.access.setStorageType(this.remote.storageApi),void 0===e.scope&&(e.scope=this.access.scopeParameter),e.redirectUri=b.cordova?i.default.cordovaRedirectUri:String(c.default.getLocation()),void 0===e.clientId&&(e.clientId=e.redirectUri.match(/^(https?:\/\/[^/]+)/)[0]),c.default.authorize(this,e)}impliedauth(e,t){e=e||this.remote.storageApi,t=t||String(document.location),s.default("ImpliedAuth proceeding due to absent authURL; storageApi = "+e+" redirectUri = "+t),this.remote.configure({token:c.default.IMPLIED_FAKE_TOKEN}),document.location.href=t}connect(e,t){if(this.setBackend("remotestorage"),e.indexOf("@")<0)return void this._emit("error",new T.DiscoveryError("User address doesn't contain an @."));if(b.cordova){if("string"!=typeof i.default.cordovaRedirectUri)return void this._emit("error",new T.DiscoveryError("Please supply a custom HTTPS redirect URI for your Cordova app"));if(!b.cordova.InAppBrowser)return void this._emit("error",new T.DiscoveryError("Please include the InAppBrowser Cordova plugin to enable OAuth"))}this.remote.configure({userAddress:e}),this._emit("connecting");const r=setTimeout(()=>{this._emit("error",new T.DiscoveryError("No storage information found for this user address."))},i.default.discoveryTimeout);m.default(e).then(n=>{if(clearTimeout(r),this._emit("authing"),n.userAddress=e,this.remote.configure(n),!this.remote.connected)if(n.authURL)if(void 0===t)this.authorize({authURL:n.authURL});else{if("string"!=typeof t)throw new Error("Supplied bearer token must be a string");s.default("Skipping authorization sequence and connecting with known token"),this.remote.configure({token:t})}else this.impliedauth()},()=>{clearTimeout(r),this._emit("error",new T.DiscoveryError("No storage information found for this user address."))})}reconnect(){this.remote.configure({token:null}),"remotestorage"===this.backend?this.connect(this.remote.userAddress):this.remote.connect()}disconnect(){this.remote&&this.remote.configure({userAddress:null,href:null,storageApi:null,token:null,properties:null}),this._setGPD({get:this._pendingGPD("get"),put:this._pendingGPD("put"),delete:this._pendingGPD("delete")});const e=this._cleanups.length;let t=0;const r=()=>{t++,t>=e&&(this._init(),this._emit("disconnected"))};e>0?this._cleanups.forEach(e=>{const t=e(this);"object"==typeof t&&"function"==typeof t.then?t.then(r):r()}):r()}setBackend(e){this.backend=e,w&&(e?localStorage.setItem("remotestorage:backend",e):localStorage.removeItem("remotestorage:backend"))}onChange(e,t){this._pathHandlers.change[e]||(this._pathHandlers.change[e]=[]),this._pathHandlers.change[e].push(t)}enableLog(){i.default.logging=!0}disableLog(){i.default.logging=!1}log(...e){s.default.apply(T,e)}setApiKeys(e){const t=["googledrive","dropbox"];if("object"!=typeof e||!Object.keys(e).every(e=>t.includes(e)))return console.error("setApiKeys() was called with invalid arguments"),!1;Object.keys(e).forEach(t=>{const r=e[t];if(r){switch(t){case"dropbox":this.apiKeys.dropbox={appKey:r},void 0!==this.dropbox&&this.dropbox.clientId===r||p.default._rs_init(this);break;case"googledrive":this.apiKeys.googledrive={clientId:r},void 0!==this.googledrive&&this.googledrive.clientId===r||f.default._rs_init(this)}return!0}delete this.apiKeys[t]}),w&&localStorage.setItem("remotestorage:api-keys",JSON.stringify(this.apiKeys))}setCordovaRedirectUri(e){if("string"!=typeof e||!e.match(/http(s)?:\/\//))throw new Error("Cordova redirect URI must be a URI string");i.default.cordovaRedirectUri=e}_setGPD(e,t){function r(e){return function(...r){return e.apply(t,r).then(P.bind(this))}}this.get=r(e.get),this.put=r(e.put),this.delete=r(e.delete)}_pendingGPD(e){return(...t)=>{const r=Array.prototype.slice.call(t);return new Promise((t,n)=>{this._pending.push({method:e,args:r,promise:{resolve:t,reject:n}})})}}_processPending(){this._pending.forEach(e=>{try{this[e.method](...e.args).then(e.promise.resolve,e.promise.reject)}catch(t){e.promise.reject(t)}}),this._pending=[]}_bindChange(e){e.on("change",this._dispatchEvent.bind(this,"change"))}_dispatchEvent(e,t){Object.keys(this._pathHandlers[e]).forEach(r=>{const n=r.length;t.path.substr(0,n)===r&&this._pathHandlers[e][r].forEach(e=>{const n={};for(const e in t)n[e]=t[e];n.relativePath=t.path.replace(new RegExp("^"+r),"");try{e(n)}catch(e){console.error("'change' handler failed: ",e,e.stack),this._emit("error",e)}})})}scope(e){if("string"!=typeof e)throw"Argument 'path' of baseClient.scope must be a string";if(!this.access.checkPathPermission(e,"r")){const t=e.replace(/(['\\])/g,"\\$1");console.warn("WARNING: please call remoteStorage.access.claim('"+t+"', 'r') (read only) or remoteStorage.access.claim('"+t+"', 'rw') (read/write) first")}return new l.default(this,e)}getSyncInterval(){return i.default.syncInterval}setSyncInterval(e){if(!E(e))throw e+" is not a valid sync interval";const t=i.default.syncInterval;i.default.syncInterval=e,this._emit("sync-interval-change",{oldValue:t,newValue:e})}getBackgroundSyncInterval(){return i.default.backgroundSyncInterval}setBackgroundSyncInterval(e){if(!E(e))throw e+" is not a valid sync interval";const t=i.default.backgroundSyncInterval;i.default.backgroundSyncInterval=e,this._emit("sync-interval-change",{oldValue:t,newValue:e})}getCurrentSyncInterval(){return i.default.isBackground?i.default.backgroundSyncInterval:i.default.syncInterval}getRequestTimeout(){return i.default.requestTimeout}setRequestTimeout(e){if("number"!=typeof e)throw e+" is not a valid request timeout";i.default.requestTimeout=e}syncCycle(){this.sync&&!this.sync.stopped&&(this.on("sync-done",()=>{this.sync&&!this.sync.stopped&&(this._syncTimer&&(clearTimeout(this._syncTimer),this._syncTimer=void 0),this._syncTimer=setTimeout(this.sync.sync.bind(this.sync),this.getCurrentSyncInterval()))}),this.sync.sync())}startSync(){return i.default.cache?(this.sync.stopped=!1,this.syncStopped=!1,this.sync.sync()):(console.warn("Nothing to sync, because caching is disabled."),Promise.resolve())}stopSync(){clearTimeout(this._syncTimer),this._syncTimer=void 0,this.sync?this.sync.stopped=!0:this.syncStopped=!0}addModule(e){const t=e.name,r=e.builder;if(Object.defineProperty(this,t,{configurable:!0,get:function(){const e=this._loadModule(t,r);return Object.defineProperty(this,t,{value:e}),e}}),-1!==t.indexOf("-")){const e=t.replace(/\-[a-z]/g,(function(e){return e[1].toUpperCase()}));Object.defineProperty(this,e,{get:function(){return this[t]}})}}_loadModule(e,t){if(t){return t(new l.default(this,"/"+e+"/"),new l.default(this,"/public/"+e+"/")).exports}throw"Unknown module: "+e}}T.Authorize=c.default,T.SyncError=g.default,T.Unauthorized=y.default,T.DiscoveryError=m.default.DiscoveryError,T.util=_,Object.defineProperty(T.prototype,"connected",{get:function(){return this.remote.connected}}),Object.defineProperty(T.prototype,"access",{get:function(){const e=new u.default;return Object.defineProperty(this,"access",{value:e}),e},configurable:!0}),Object.defineProperty(T.prototype,"caching",{configurable:!0,get:function(){const e=new h.default;return Object.defineProperty(this,"caching",{value:e}),e}}),a.applyMixins(T,[d.default]),t.default=T},function(e,t,r){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var n=r(20),o=r(21),i=r(22);function s(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,t){if(s()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,r){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return h(this,e)}return c(this,e,t,r)}function c(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=d(e,t);return e}(e,t,r,n):"string"==typeof t?function(e,t,r){"string"==typeof r&&""!==r||(r="utf8");if(!u.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|p(t,r),o=(e=a(e,n)).write(t,r);o!==n&&(e=e.slice(0,o));return e}(e,t,r):function(e,t){if(u.isBuffer(t)){var r=0|f(t.length);return 0===(e=a(e,r)).length?e:(t.copy(e,0,0,r),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?a(e,0):d(e,t);if("Buffer"===t.type&&i(t.data))return d(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function h(e,t){if(l(t),e=a(e,t<0?0:0|f(t)),!u.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function d(e,t){var r=t.length<0?0:0|f(t.length);e=a(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function f(e){if(e>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|e}function p(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return B(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return q(e).length;default:if(n)return B(e).length;t=(""+t).toLowerCase(),n=!0}}function m(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return O(this,t,r);case"utf8":case"utf-8":return R(this,t,r);case"ascii":return S(this,t,r);case"latin1":case"binary":return M(this,t,r);case"base64":return A(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function g(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function y(e,t,r,n,o){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=o?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(o)return-1;r=e.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof t&&(t=u.from(t,n)),u.isBuffer(t))return 0===t.length?-1:v(e,t,r,n,o);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):v(e,[t],r,n,o);throw new TypeError("val must be string, number or Buffer")}function v(e,t,r,n,o){var i,s=1,a=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,r/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(o){var l=-1;for(i=r;i<a;i++)if(c(e,i)===c(t,-1===l?0:i-l)){if(-1===l&&(l=i),i-l+1===u)return l*s}else-1!==l&&(i-=i-l),l=-1}else for(r+u>a&&(r=a-u),i=r;i>=0;i--){for(var h=!0,d=0;d<u;d++)if(c(e,i+d)!==c(t,d)){h=!1;break}if(h)return i}return-1}function _(e,t,r,n){r=Number(r)||0;var o=e.length-r;n?(n=Number(n))>o&&(n=o):n=o;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");n>i/2&&(n=i/2);for(var s=0;s<n;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[r+s]=a}return s}function b(e,t,r,n){return J(B(t,e.length-r),e,r,n)}function w(e,t,r,n){return J(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function P(e,t,r,n){return w(e,t,r,n)}function E(e,t,r,n){return J(q(t),e,r,n)}function T(e,t,r,n){return J(function(e,t){for(var r,n,o,i=[],s=0;s<e.length&&!((t-=2)<0);++s)r=e.charCodeAt(s),n=r>>8,o=r%256,i.push(o),i.push(n);return i}(t,e.length-r),e,r,n)}function A(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function R(e,t,r){r=Math.min(e.length,r);for(var n=[],o=t;o<r;){var i,s,a,u,c=e[o],l=null,h=c>239?4:c>223?3:c>191?2:1;if(o+h<=r)switch(h){case 1:c<128&&(l=c);break;case 2:128==(192&(i=e[o+1]))&&(u=(31&c)<<6|63&i)>127&&(l=u);break;case 3:i=e[o+1],s=e[o+2],128==(192&i)&&128==(192&s)&&(u=(15&c)<<12|(63&i)<<6|63&s)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:i=e[o+1],s=e[o+2],a=e[o+3],128==(192&i)&&128==(192&s)&&128==(192&a)&&(u=(15&c)<<18|(63&i)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(l=u)}null===l?(l=65533,h=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),o+=h}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}(n)}t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=s(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,r){return c(null,e,t,r)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,r){return function(e,t,r,n){return l(t),t<=0?a(e,t):void 0!==r?"string"==typeof n?a(e,t).fill(r,n):a(e,t).fill(r):a(e,t)}(null,e,t,r)},u.allocUnsafe=function(e){return h(null,e)},u.allocUnsafeSlow=function(e){return h(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,o=0,i=Math.min(r,n);o<i;++o)if(e[o]!==t[o]){r=e[o],n=t[o];break}return r<n?-1:n<r?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=u.allocUnsafe(t),o=0;for(r=0;r<e.length;++r){var s=e[r];if(!u.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,o),o+=s.length}return n},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?R(this,0,e):m.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,r,n,o){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),t<0||r>e.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&t>=r)return 0;if(n>=o)return-1;if(t>=r)return 1;if(this===e)return 0;for(var i=(o>>>=0)-(n>>>=0),s=(r>>>=0)-(t>>>=0),a=Math.min(i,s),c=this.slice(n,o),l=e.slice(t,r),h=0;h<a;++h)if(c[h]!==l[h]){i=c[h],s=l[h];break}return i<s?-1:s<i?1:0},u.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},u.prototype.indexOf=function(e,t,r){return y(this,e,t,r,!0)},u.prototype.lastIndexOf=function(e,t,r){return y(this,e,t,r,!1)},u.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var o=this.length-t;if((void 0===r||r>o)&&(r=o),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return _(this,e,t,r);case"utf8":case"utf-8":return b(this,e,t,r);case"ascii":return w(this,e,t,r);case"latin1":case"binary":return P(this,e,t,r);case"base64":return E(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function S(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(127&e[o]);return n}function M(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(e[o]);return n}function O(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var o="",i=t;i<r;++i)o+=L(e[i]);return o}function k(e,t,r){for(var n=e.slice(t,r),o="",i=0;i<n.length;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}function C(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function I(e,t,r,n,o,i){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function N(e,t,r,n){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-r,2);o<i;++o)e[r+o]=(t&255<<8*(n?o:1-o))>>>8*(n?o:1-o)}function x(e,t,r,n){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-r,4);o<i;++o)e[r+o]=t>>>8*(n?o:3-o)&255}function j(e,t,r,n,o,i){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function U(e,t,r,n,i){return i||j(e,0,r,4),o.write(e,t,r,n,23,4),r+4}function F(e,t,r,n,i){return i||j(e,0,r,8),o.write(e,t,r,n,52,8),r+8}u.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=u.prototype;else{var o=t-e;r=new u(o,void 0);for(var i=0;i<o;++i)r[i]=this[i+e]}return r},u.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||C(e,t,this.length);for(var n=this[e],o=1,i=0;++i<t&&(o*=256);)n+=this[e+i]*o;return n},u.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||C(e,t,this.length);for(var n=this[e+--t],o=1;t>0&&(o*=256);)n+=this[e+--t]*o;return n},u.prototype.readUInt8=function(e,t){return t||C(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||C(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||C(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||C(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||C(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||C(e,t,this.length);for(var n=this[e],o=1,i=0;++i<t&&(o*=256);)n+=this[e+i]*o;return n>=(o*=128)&&(n-=Math.pow(2,8*t)),n},u.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||C(e,t,this.length);for(var n=t,o=1,i=this[e+--n];n>0&&(o*=256);)i+=this[e+--n]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},u.prototype.readInt8=function(e,t){return t||C(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||C(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(e,t){t||C(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(e,t){return t||C(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||C(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||C(e,4,this.length),o.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||C(e,4,this.length),o.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||C(e,8,this.length),o.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||C(e,8,this.length),o.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||I(this,e,t,r,Math.pow(2,8*r)-1,0);var o=1,i=0;for(this[t]=255&e;++i<r&&(o*=256);)this[t+i]=e/o&255;return t+r},u.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||I(this,e,t,r,Math.pow(2,8*r)-1,0);var o=r-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+r},u.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):N(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):N(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):x(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):x(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var o=Math.pow(2,8*r-1);I(this,e,t,r,o-1,-o)}var i=0,s=1,a=0;for(this[t]=255&e;++i<r&&(s*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/s>>0)-a&255;return t+r},u.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var o=Math.pow(2,8*r-1);I(this,e,t,r,o-1,-o)}var i=r-1,s=1,a=0;for(this[t+i]=255&e;--i>=0&&(s*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/s>>0)-a&255;return t+r},u.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):N(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):N(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):x(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||I(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):x(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,r){return U(this,e,t,!0,r)},u.prototype.writeFloatBE=function(e,t,r){return U(this,e,t,!1,r)},u.prototype.writeDoubleLE=function(e,t,r){return F(this,e,t,!0,r)},u.prototype.writeDoubleBE=function(e,t,r){return F(this,e,t,!1,r)},u.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var o,i=n-r;if(this===e&&r<t&&t<n)for(o=i-1;o>=0;--o)e[o+t]=this[o+r];else if(i<1e3||!u.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)e[o+t]=this[o+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+i),t);return i},u.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{var s=u.isBuffer(e)?e:B(new u(e,n).toString()),a=s.length;for(i=0;i<r-t;++i)this[i+t]=s[i%a]}return this};var D=/[^+\/0-9A-Za-z-_]/g;function L(e){return e<16?"0"+e.toString(16):e.toString(16)}function B(e,t){var r;t=t||1/0;for(var n=e.length,o=null,i=[],s=0;s<n;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!o){if(r>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function q(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(D,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function J(e,t,r,n){for(var o=0;o<n&&!(o+r>=t.length||o>=e.length);++o)t[o+r]=e[o];return o}}).call(this,r(5))},function(e,t,r){"use strict";t.byteLength=function(e){var t=c(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,n=c(e),s=n[0],a=n[1],u=new i(function(e,t,r){return 3*(t+r)/4-r}(0,s,a)),l=0,h=a>0?s-4:s;for(r=0;r<h;r+=4)t=o[e.charCodeAt(r)]<<18|o[e.charCodeAt(r+1)]<<12|o[e.charCodeAt(r+2)]<<6|o[e.charCodeAt(r+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;2===a&&(t=o[e.charCodeAt(r)]<<2|o[e.charCodeAt(r+1)]>>4,u[l++]=255&t);1===a&&(t=o[e.charCodeAt(r)]<<10|o[e.charCodeAt(r+1)]<<4|o[e.charCodeAt(r+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t);return u},t.fromByteArray=function(e){for(var t,r=e.length,o=r%3,i=[],s=0,a=r-o;s<a;s+=16383)i.push(l(e,s,s+16383>a?a:s+16383));1===o?(t=e[r-1],i.push(n[t>>2]+n[t<<4&63]+"==")):2===o&&(t=(e[r-2]<<8)+e[r-1],i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return i.join("")};for(var n=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=s.length;a<u;++a)n[a]=s[a],o[s.charCodeAt(a)]=a;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function l(e,t,r){for(var o,i,s=[],a=t;a<r;a+=3)o=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(n[(i=o)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return s.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,r,n,o){var i,s,a=8*o-n-1,u=(1<<a)-1,c=u>>1,l=-7,h=r?o-1:0,d=r?-1:1,f=e[t+h];for(h+=d,i=f&(1<<-l)-1,f>>=-l,l+=a;l>0;i=256*i+e[t+h],h+=d,l-=8);for(s=i&(1<<-l)-1,i>>=-l,l+=n;l>0;s=256*s+e[t+h],h+=d,l-=8);if(0===i)i=1-c;else{if(i===u)return s?NaN:1/0*(f?-1:1);s+=Math.pow(2,n),i-=c}return(f?-1:1)*s*Math.pow(2,i-n)},t.write=function(e,t,r,n,o,i){var s,a,u,c=8*i-o-1,l=(1<<c)-1,h=l>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:i-1,p=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+h>=1?d/u:d*Math.pow(2,1-h))*u>=2&&(s++,u/=2),s+h>=l?(a=0,s=l):s+h>=1?(a=(t*u-1)*Math.pow(2,o),s+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,o),s=0));o>=8;e[r+f]=255&a,f+=p,a/=256,o-=8);for(s=s<<o|a,c+=o;c>0;e[r+f]=255&s,f+=p,s/=256,c-=8);e[r+f-p]|=128*m}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){var n,o,i;o=[],void 0===(i="function"==typeof(n=function(){var e,t,r,n;Object.keys||(Object.keys=(e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),n=(r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]).length,function(o){if("object"!=typeof o&&"function"!=typeof o||null===o)throw new TypeError("Object.keys called on non-object");var i=[];for(var s in o)e.call(o,s)&&i.push(s);if(t)for(var a=0;a<n;a++)e.call(o,r[a])&&i.push(r[a]);return i})),Object.create||(Object.create=function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("Object.create implementation only accepts one parameter.");return e.prototype=t,new e}}()),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){if(null===this)throw new TypeError;var t=Object(this),r=t.length>>>0;if(0===r)return-1;var n=0;if(arguments.length>1&&((n=Number(arguments[1]))!=n?n=0:0!==n&&n!==1/0&&n!==-1/0&&(n=(n>0||-1)*Math.floor(Math.abs(n)))),n>=r)return-1;for(var o=n>=0?n:Math.max(r-Math.abs(n),0);o<r;o++)if(o in t&&t[o]===e)return o;return-1}),Object.isFrozen||(Object.isFrozen=function(e){for(var t="tv4_test_frozen_key";e.hasOwnProperty(t);)t+=Math.random();try{return e[t]=!0,delete e[t],!1}catch(e){return!0}});var o={"+":!0,"#":!0,".":!0,"/":!0,";":!0,"?":!0,"&":!0},i={"*":!0};function s(e){return encodeURI(e).replace(/%25[0-9][0-9]/g,(function(e){return"%"+e.substring(3)}))}function a(e){var t="";o[e.charAt(0)]&&(t=e.charAt(0),e=e.substring(1));var r="",n="",a=!0,u=!1,c=!1;"+"===t?a=!1:"."===t?(n=".",r="."):"/"===t?(n="/",r="/"):"#"===t?(n="#",a=!1):";"===t?(n=";",r=";",u=!0,c=!0):"?"===t?(n="?",r="&",u=!0):"&"===t&&(n="&",r="&",u=!0);for(var l=[],h=e.split(","),d=[],f={},p=0;p<h.length;p++){var m=h[p],g=null;if(-1!==m.indexOf(":")){var y=m.split(":");m=y[0],g=parseInt(y[1],10)}for(var v={};i[m.charAt(m.length-1)];)v[m.charAt(m.length-1)]=!0,m=m.substring(0,m.length-1);var _={truncate:g,name:m,suffices:v};d.push(_),f[m]=_,l.push(m)}var b=function(e){for(var t="",o=0,i=0;i<d.length;i++){var l=d[i],h=e(l.name);if(null==h||Array.isArray(h)&&0===h.length||"object"==typeof h&&0===Object.keys(h).length)o++;else if(t+=i===o?n:r||",",Array.isArray(h)){u&&(t+=l.name+"=");for(var f=0;f<h.length;f++)f>0&&(t+=l.suffices["*"]&&r||",",l.suffices["*"]&&u&&(t+=l.name+"=")),t+=a?encodeURIComponent(h[f]).replace(/!/g,"%21"):s(h[f])}else if("object"==typeof h){u&&!l.suffices["*"]&&(t+=l.name+"=");var p=!0;for(var m in h)p||(t+=l.suffices["*"]&&r||","),p=!1,t+=a?encodeURIComponent(m).replace(/!/g,"%21"):s(m),t+=l.suffices["*"]?"=":",",t+=a?encodeURIComponent(h[m]).replace(/!/g,"%21"):s(h[m])}else u&&(t+=l.name,c&&""===h||(t+="=")),null!=l.truncate&&(h=h.substring(0,l.truncate)),t+=a?encodeURIComponent(h).replace(/!/g,"%21"):s(h)}return t};return b.varNames=l,{prefix:n,substitution:b}}function u(e){if(!(this instanceof u))return new u(e);for(var t=e.split("{"),r=[t.shift()],n=[],o=[],i=[];t.length>0;){var s=t.shift(),c=s.split("}")[0],l=s.substring(c.length+1),h=a(c);o.push(h.substitution),n.push(h.prefix),r.push(l),i=i.concat(h.substitution.varNames)}this.fill=function(e){for(var t=r[0],n=0;n<o.length;n++)t+=(0,o[n])(e),t+=r[n+1];return t},this.varNames=i,this.template=e}u.prototype={toString:function(){return this.template},fillFromObject:function(e){return this.fill((function(t){return e[t]}))}};var c=function(e,t,r,n,o){if(this.missing=[],this.missingMap={},this.formatValidators=e?Object.create(e.formatValidators):{},this.schemas=e?Object.create(e.schemas):{},this.collectMultiple=t,this.errors=[],this.handleError=t?this.collectError:this.returnError,n&&(this.checkRecursive=!0,this.scanned=[],this.scannedFrozen=[],this.scannedFrozenSchemas=[],this.scannedFrozenValidationErrors=[],this.validatedSchemasKey="tv4_validation_id",this.validationErrorsKey="tv4_validation_errors_id"),o&&(this.trackUnknownProperties=!0,this.knownPropertyPaths={},this.unknownPropertyPaths={}),this.errorReporter=r||y("en"),"string"==typeof this.errorReporter)throw new Error("debug");if(this.definedKeywords={},e)for(var i in e.definedKeywords)this.definedKeywords[i]=e.definedKeywords[i].slice(0)};function l(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(Array.isArray(e)!==Array.isArray(t))return!1;if(Array.isArray(e)){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!l(e[r],t[r]))return!1}else{var n;for(n in e)if(void 0===t[n]&&void 0!==e[n])return!1;for(n in t)if(void 0===e[n]&&void 0!==t[n])return!1;for(n in e)if(!l(e[n],t[n]))return!1}return!0}return!1}c.prototype.defineKeyword=function(e,t){this.definedKeywords[e]=this.definedKeywords[e]||[],this.definedKeywords[e].push(t)},c.prototype.createError=function(e,t,r,n,o,i,s){var a=new P(e,t,r,n,o);return a.message=this.errorReporter(a,i,s),a},c.prototype.returnError=function(e){return e},c.prototype.collectError=function(e){return e&&this.errors.push(e),null},c.prototype.prefixErrors=function(e,t,r){for(var n=e;n<this.errors.length;n++)this.errors[n]=this.errors[n].prefixWith(t,r);return this},c.prototype.banUnknownProperties=function(e,t){for(var r in this.unknownPropertyPaths){var n=this.createError(v.UNKNOWN_PROPERTY,{path:r},r,"",null,e,t),o=this.handleError(n);if(o)return o}return null},c.prototype.addFormat=function(e,t){if("object"==typeof e){for(var r in e)this.addFormat(r,e[r]);return this}this.formatValidators[e]=t},c.prototype.resolveRefs=function(e,t){if(void 0!==e.$ref){if((t=t||{})[e.$ref])return this.createError(v.CIRCULAR_REFERENCE,{urls:Object.keys(t).join(", ")},"","",null,void 0,e);t[e.$ref]=!0,e=this.getSchema(e.$ref,t)}return e},c.prototype.getSchema=function(e,t){var r;if(void 0!==this.schemas[e])return r=this.schemas[e],this.resolveRefs(r,t);var n=e,o="";if(-1!==e.indexOf("#")&&(o=e.substring(e.indexOf("#")+1),n=e.substring(0,e.indexOf("#"))),"object"==typeof this.schemas[n]){r=this.schemas[n];var i=decodeURIComponent(o);if(""===i)return this.resolveRefs(r,t);if("/"!==i.charAt(0))return;for(var s=i.split("/").slice(1),a=0;a<s.length;a++){var u=s[a].replace(/~1/g,"/").replace(/~0/g,"~");if(void 0===r[u]){r=void 0;break}r=r[u]}if(void 0!==r)return this.resolveRefs(r,t)}void 0===this.missing[n]&&(this.missing.push(n),this.missing[n]=n,this.missingMap[n]=n)},c.prototype.searchSchemas=function(e,t){if(Array.isArray(e))for(var r=0;r<e.length;r++)this.searchSchemas(e[r],t);else if(e&&"object"==typeof e)for(var n in"string"==typeof e.id&&function(e,t){if(t.substring(0,e.length)===e){var r=t.substring(e.length);if(t.length>0&&"/"===t.charAt(e.length-1)||"#"===r.charAt(0)||"?"===r.charAt(0))return!0}return!1}(t,e.id)&&void 0===this.schemas[e.id]&&(this.schemas[e.id]=e),e)if("enum"!==n)if("object"==typeof e[n])this.searchSchemas(e[n],t);else if("$ref"===n){var o=m(e[n]);o&&void 0===this.schemas[o]&&void 0===this.missingMap[o]&&(this.missingMap[o]=o)}},c.prototype.addSchema=function(e,t){if("string"!=typeof e||void 0===t){if("object"!=typeof e||"string"!=typeof e.id)return;e=(t=e).id}e===m(e)+"#"&&(e=m(e)),this.schemas[e]=t,delete this.missingMap[e],g(t,e),this.searchSchemas(t,e)},c.prototype.getSchemaMap=function(){var e={};for(var t in this.schemas)e[t]=this.schemas[t];return e},c.prototype.getSchemaUris=function(e){var t=[];for(var r in this.schemas)e&&!e.test(r)||t.push(r);return t},c.prototype.getMissingUris=function(e){var t=[];for(var r in this.missingMap)e&&!e.test(r)||t.push(r);return t},c.prototype.dropSchemas=function(){this.schemas={},this.reset()},c.prototype.reset=function(){this.missing=[],this.missingMap={},this.errors=[]},c.prototype.validateAll=function(e,t,r,n,o){var i;if(!(t=this.resolveRefs(t)))return null;if(t instanceof P)return this.errors.push(t),t;var s,a=this.errors.length,u=null,c=null;if(this.checkRecursive&&e&&"object"==typeof e){if(i=!this.scanned.length,e[this.validatedSchemasKey]){var l=e[this.validatedSchemasKey].indexOf(t);if(-1!==l)return this.errors=this.errors.concat(e[this.validationErrorsKey][l]),null}if(Object.isFrozen(e)&&-1!==(s=this.scannedFrozen.indexOf(e))){var h=this.scannedFrozenSchemas[s].indexOf(t);if(-1!==h)return this.errors=this.errors.concat(this.scannedFrozenValidationErrors[s][h]),null}if(this.scanned.push(e),Object.isFrozen(e))-1===s&&(s=this.scannedFrozen.length,this.scannedFrozen.push(e),this.scannedFrozenSchemas.push([])),u=this.scannedFrozenSchemas[s].length,this.scannedFrozenSchemas[s][u]=t,this.scannedFrozenValidationErrors[s][u]=[];else{if(!e[this.validatedSchemasKey])try{Object.defineProperty(e,this.validatedSchemasKey,{value:[],configurable:!0}),Object.defineProperty(e,this.validationErrorsKey,{value:[],configurable:!0})}catch(t){e[this.validatedSchemasKey]=[],e[this.validationErrorsKey]=[]}c=e[this.validatedSchemasKey].length,e[this.validatedSchemasKey][c]=t,e[this.validationErrorsKey][c]=[]}}var d=this.errors.length,f=this.validateBasic(e,t,o)||this.validateNumeric(e,t,o)||this.validateString(e,t,o)||this.validateArray(e,t,o)||this.validateObject(e,t,o)||this.validateCombinations(e,t,o)||this.validateHypermedia(e,t,o)||this.validateFormat(e,t,o)||this.validateDefinedKeywords(e,t,o)||null;if(i){for(;this.scanned.length;)delete this.scanned.pop()[this.validatedSchemasKey];this.scannedFrozen=[],this.scannedFrozenSchemas=[]}if(f||d!==this.errors.length)for(;r&&r.length||n&&n.length;){var p=r&&r.length?""+r.pop():null,m=n&&n.length?""+n.pop():null;f&&(f=f.prefixWith(p,m)),this.prefixErrors(d,p,m)}return null!==u?this.scannedFrozenValidationErrors[s][u]=this.errors.slice(a):null!==c&&(e[this.validationErrorsKey][c]=this.errors.slice(a)),this.handleError(f)},c.prototype.validateFormat=function(e,t){if("string"!=typeof t.format||!this.formatValidators[t.format])return null;var r=this.formatValidators[t.format].call(null,e,t);return"string"==typeof r||"number"==typeof r?this.createError(v.FORMAT_CUSTOM,{message:r},"","/format",null,e,t):r&&"object"==typeof r?this.createError(v.FORMAT_CUSTOM,{message:r.message||"?"},r.dataPath||"",r.schemaPath||"/format",null,e,t):null},c.prototype.validateDefinedKeywords=function(e,t,r){for(var n in this.definedKeywords)if(void 0!==t[n])for(var o=this.definedKeywords[n],i=0;i<o.length;i++){var s=(0,o[i])(e,t[n],t,r);if("string"==typeof s||"number"==typeof s)return this.createError(v.KEYWORD_CUSTOM,{key:n,message:s},"","",null,e,t).prefixWith(null,n);if(s&&"object"==typeof s){var a=s.code;if("string"==typeof a){if(!v[a])throw new Error("Undefined error code (use defineError): "+a);a=v[a]}else"number"!=typeof a&&(a=v.KEYWORD_CUSTOM);var u="object"==typeof s.message?s.message:{key:n,message:s.message||"?"},c=s.schemaPath||"/"+n.replace(/~/g,"~0").replace(/\//g,"~1");return this.createError(a,u,s.dataPath||null,c,null,e,t)}}return null},c.prototype.validateBasic=function(e,t,r){var n;return(n=this.validateType(e,t,r))?n.prefixWith(null,"type"):(n=this.validateEnum(e,t,r))?n.prefixWith(null,"type"):null},c.prototype.validateType=function(e,t){if(void 0===t.type)return null;var r=typeof e;null===e?r="null":Array.isArray(e)&&(r="array");var n=t.type;Array.isArray(n)||(n=[n]);for(var o=0;o<n.length;o++){var i=n[o];if(i===r||"integer"===i&&"number"===r&&e%1==0)return null}return this.createError(v.INVALID_TYPE,{type:r,expected:n.join("/")},"","",null,e,t)},c.prototype.validateEnum=function(e,t){if(void 0===t.enum)return null;for(var r=0;r<t.enum.length;r++)if(l(e,t.enum[r]))return null;return this.createError(v.ENUM_MISMATCH,{value:"undefined"!=typeof JSON?JSON.stringify(e):e},"","",null,e,t)},c.prototype.validateNumeric=function(e,t,r){return this.validateMultipleOf(e,t,r)||this.validateMinMax(e,t,r)||this.validateNaN(e,t,r)||null};var h=Math.pow(2,-51),d=1-h;function f(e){var t=String(e).replace(/^\s+|\s+$/g,"").match(/^([^:\/?#]+:)?(\/\/(?:[^:@]*(?::[^:@]*)?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);return t?{href:t[0]||"",protocol:t[1]||"",authority:t[2]||"",host:t[3]||"",hostname:t[4]||"",port:t[5]||"",pathname:t[6]||"",search:t[7]||"",hash:t[8]||""}:null}function p(e,t){return t=f(t||""),e=f(e||""),t&&e?(t.protocol||e.protocol)+(t.protocol||t.authority?t.authority:e.authority)+(r=t.protocol||t.authority||"/"===t.pathname.charAt(0)?t.pathname:t.pathname?(e.authority&&!e.pathname?"/":"")+e.pathname.slice(0,e.pathname.lastIndexOf("/")+1)+t.pathname:e.pathname,n=[],r.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,(function(e){"/.."===e?n.pop():n.push(e)})),n.join("").replace(/^\//,"/"===r.charAt(0)?"/":""))+(t.protocol||t.authority||t.pathname?t.search:t.search||e.search)+t.hash:null;var r,n}function m(e){return e.split("#")[0]}function g(e,t){if(e&&"object"==typeof e)if(void 0===t?t=e.id:"string"==typeof e.id&&(t=p(t,e.id),e.id=t),Array.isArray(e))for(var r=0;r<e.length;r++)g(e[r],t);else for(var n in"string"==typeof e.$ref&&(e.$ref=p(t,e.$ref)),e)"enum"!==n&&g(e[n],t)}function y(e){var t=E[e=e||"en"];return function(e){var r=t[e.code]||w[e.code];if("string"!=typeof r)return"Unknown error code "+e.code+": "+JSON.stringify(e.messageParams);var n=e.params;return r.replace(/\{([^{}]*)\}/g,(function(e,t){var r=n[t];return"string"==typeof r||"number"==typeof r?r:e}))}}c.prototype.validateMultipleOf=function(e,t){var r=t.multipleOf||t.divisibleBy;if(void 0===r)return null;if("number"==typeof e){var n=e/r%1;if(n>=h&&n<d)return this.createError(v.NUMBER_MULTIPLE_OF,{value:e,multipleOf:r},"","",null,e,t)}return null},c.prototype.validateMinMax=function(e,t){if("number"!=typeof e)return null;if(void 0!==t.minimum){if(e<t.minimum)return this.createError(v.NUMBER_MINIMUM,{value:e,minimum:t.minimum},"","/minimum",null,e,t);if(t.exclusiveMinimum&&e===t.minimum)return this.createError(v.NUMBER_MINIMUM_EXCLUSIVE,{value:e,minimum:t.minimum},"","/exclusiveMinimum",null,e,t)}if(void 0!==t.maximum){if(e>t.maximum)return this.createError(v.NUMBER_MAXIMUM,{value:e,maximum:t.maximum},"","/maximum",null,e,t);if(t.exclusiveMaximum&&e===t.maximum)return this.createError(v.NUMBER_MAXIMUM_EXCLUSIVE,{value:e,maximum:t.maximum},"","/exclusiveMaximum",null,e,t)}return null},c.prototype.validateNaN=function(e,t){return"number"!=typeof e?null:!0===isNaN(e)||e===1/0||e===-1/0?this.createError(v.NUMBER_NOT_A_NUMBER,{value:e},"","/type",null,e,t):null},c.prototype.validateString=function(e,t,r){return this.validateStringLength(e,t,r)||this.validateStringPattern(e,t,r)||null},c.prototype.validateStringLength=function(e,t){return"string"!=typeof e?null:void 0!==t.minLength&&e.length<t.minLength?this.createError(v.STRING_LENGTH_SHORT,{length:e.length,minimum:t.minLength},"","/minLength",null,e,t):void 0!==t.maxLength&&e.length>t.maxLength?this.createError(v.STRING_LENGTH_LONG,{length:e.length,maximum:t.maxLength},"","/maxLength",null,e,t):null},c.prototype.validateStringPattern=function(e,t){if("string"!=typeof e||"string"!=typeof t.pattern&&!(t.pattern instanceof RegExp))return null;var r;if(t.pattern instanceof RegExp)r=t.pattern;else{var n,o="",i=t.pattern.match(/^\/(.+)\/([img]*)$/);i?(n=i[1],o=i[2]):n=t.pattern,r=new RegExp(n,o)}return r.test(e)?null:this.createError(v.STRING_PATTERN,{pattern:t.pattern},"","/pattern",null,e,t)},c.prototype.validateArray=function(e,t,r){return Array.isArray(e)&&(this.validateArrayLength(e,t,r)||this.validateArrayUniqueItems(e,t,r)||this.validateArrayItems(e,t,r))||null},c.prototype.validateArrayLength=function(e,t){var r;return void 0!==t.minItems&&e.length<t.minItems&&(r=this.createError(v.ARRAY_LENGTH_SHORT,{length:e.length,minimum:t.minItems},"","/minItems",null,e,t),this.handleError(r))?r:void 0!==t.maxItems&&e.length>t.maxItems&&(r=this.createError(v.ARRAY_LENGTH_LONG,{length:e.length,maximum:t.maxItems},"","/maxItems",null,e,t),this.handleError(r))?r:null},c.prototype.validateArrayUniqueItems=function(e,t){if(t.uniqueItems)for(var r=0;r<e.length;r++)for(var n=r+1;n<e.length;n++)if(l(e[r],e[n])){var o=this.createError(v.ARRAY_UNIQUE,{match1:r,match2:n},"","/uniqueItems",null,e,t);if(this.handleError(o))return o}return null},c.prototype.validateArrayItems=function(e,t,r){if(void 0===t.items)return null;var n,o;if(Array.isArray(t.items)){for(o=0;o<e.length;o++)if(o<t.items.length){if(n=this.validateAll(e[o],t.items[o],[o],["items",o],r+"/"+o))return n}else if(void 0!==t.additionalItems)if("boolean"==typeof t.additionalItems){if(!t.additionalItems&&(n=this.createError(v.ARRAY_ADDITIONAL_ITEMS,{},"/"+o,"/additionalItems",null,e,t),this.handleError(n)))return n}else if(n=this.validateAll(e[o],t.additionalItems,[o],["additionalItems"],r+"/"+o))return n}else for(o=0;o<e.length;o++)if(n=this.validateAll(e[o],t.items,[o],["items"],r+"/"+o))return n;return null},c.prototype.validateObject=function(e,t,r){return"object"!=typeof e||null===e||Array.isArray(e)?null:this.validateObjectMinMaxProperties(e,t,r)||this.validateObjectRequiredProperties(e,t,r)||this.validateObjectProperties(e,t,r)||this.validateObjectDependencies(e,t,r)||null},c.prototype.validateObjectMinMaxProperties=function(e,t){var r,n=Object.keys(e);return void 0!==t.minProperties&&n.length<t.minProperties&&(r=this.createError(v.OBJECT_PROPERTIES_MINIMUM,{propertyCount:n.length,minimum:t.minProperties},"","/minProperties",null,e,t),this.handleError(r))?r:void 0!==t.maxProperties&&n.length>t.maxProperties&&(r=this.createError(v.OBJECT_PROPERTIES_MAXIMUM,{propertyCount:n.length,maximum:t.maxProperties},"","/maxProperties",null,e,t),this.handleError(r))?r:null},c.prototype.validateObjectRequiredProperties=function(e,t){if(void 0!==t.required)for(var r=0;r<t.required.length;r++){var n=t.required[r];if(void 0===e[n]){var o=this.createError(v.OBJECT_REQUIRED,{key:n},"","/required/"+r,null,e,t);if(this.handleError(o))return o}}return null},c.prototype.validateObjectProperties=function(e,t,r){var n;for(var o in e){var i=r+"/"+o.replace(/~/g,"~0").replace(/\//g,"~1"),s=!1;if(void 0!==t.properties&&void 0!==t.properties[o]&&(s=!0,n=this.validateAll(e[o],t.properties[o],[o],["properties",o],i)))return n;if(void 0!==t.patternProperties)for(var a in t.patternProperties)if(new RegExp(a).test(o)&&(s=!0,n=this.validateAll(e[o],t.patternProperties[a],[o],["patternProperties",a],i)))return n;if(s)this.trackUnknownProperties&&(this.knownPropertyPaths[i]=!0,delete this.unknownPropertyPaths[i]);else if(void 0!==t.additionalProperties){if(this.trackUnknownProperties&&(this.knownPropertyPaths[i]=!0,delete this.unknownPropertyPaths[i]),"boolean"==typeof t.additionalProperties){if(!t.additionalProperties&&(n=this.createError(v.OBJECT_ADDITIONAL_PROPERTIES,{key:o},"","/additionalProperties",null,e,t).prefixWith(o,null),this.handleError(n)))return n}else if(n=this.validateAll(e[o],t.additionalProperties,[o],["additionalProperties"],i))return n}else this.trackUnknownProperties&&!this.knownPropertyPaths[i]&&(this.unknownPropertyPaths[i]=!0)}return null},c.prototype.validateObjectDependencies=function(e,t,r){var n;if(void 0!==t.dependencies)for(var o in t.dependencies)if(void 0!==e[o]){var i=t.dependencies[o];if("string"==typeof i){if(void 0===e[i]&&(n=this.createError(v.OBJECT_DEPENDENCY_KEY,{key:o,missing:i},"","",null,e,t).prefixWith(null,o).prefixWith(null,"dependencies"),this.handleError(n)))return n}else if(Array.isArray(i))for(var s=0;s<i.length;s++){var a=i[s];if(void 0===e[a]&&(n=this.createError(v.OBJECT_DEPENDENCY_KEY,{key:o,missing:a},"","/"+s,null,e,t).prefixWith(null,o).prefixWith(null,"dependencies"),this.handleError(n)))return n}else if(n=this.validateAll(e,i,[],["dependencies",o],r))return n}return null},c.prototype.validateCombinations=function(e,t,r){return this.validateAllOf(e,t,r)||this.validateAnyOf(e,t,r)||this.validateOneOf(e,t,r)||this.validateNot(e,t,r)||null},c.prototype.validateAllOf=function(e,t,r){if(void 0===t.allOf)return null;for(var n,o=0;o<t.allOf.length;o++){var i=t.allOf[o];if(n=this.validateAll(e,i,[],["allOf",o],r))return n}return null},c.prototype.validateAnyOf=function(e,t,r){if(void 0===t.anyOf)return null;var n,o,i=[],s=this.errors.length;this.trackUnknownProperties&&(n=this.unknownPropertyPaths,o=this.knownPropertyPaths);for(var a=!0,u=0;u<t.anyOf.length;u++){this.trackUnknownProperties&&(this.unknownPropertyPaths={},this.knownPropertyPaths={});var c=t.anyOf[u],l=this.errors.length,h=this.validateAll(e,c,[],["anyOf",u],r);if(null===h&&l===this.errors.length){if(this.errors=this.errors.slice(0,s),this.trackUnknownProperties){for(var d in this.knownPropertyPaths)o[d]=!0,delete n[d];for(var f in this.unknownPropertyPaths)o[f]||(n[f]=!0);a=!1;continue}return null}h&&i.push(h.prefixWith(null,""+u).prefixWith(null,"anyOf"))}return this.trackUnknownProperties&&(this.unknownPropertyPaths=n,this.knownPropertyPaths=o),a?(i=i.concat(this.errors.slice(s)),this.errors=this.errors.slice(0,s),this.createError(v.ANY_OF_MISSING,{},"","/anyOf",i,e,t)):void 0},c.prototype.validateOneOf=function(e,t,r){if(void 0===t.oneOf)return null;var n,o,i=null,s=[],a=this.errors.length;this.trackUnknownProperties&&(n=this.unknownPropertyPaths,o=this.knownPropertyPaths);for(var u=0;u<t.oneOf.length;u++){this.trackUnknownProperties&&(this.unknownPropertyPaths={},this.knownPropertyPaths={});var c=t.oneOf[u],l=this.errors.length,h=this.validateAll(e,c,[],["oneOf",u],r);if(null===h&&l===this.errors.length){if(null!==i)return this.errors=this.errors.slice(0,a),this.createError(v.ONE_OF_MULTIPLE,{index1:i,index2:u},"","/oneOf",null,e,t);if(i=u,this.trackUnknownProperties){for(var d in this.knownPropertyPaths)o[d]=!0,delete n[d];for(var f in this.unknownPropertyPaths)o[f]||(n[f]=!0)}}else h&&s.push(h)}return this.trackUnknownProperties&&(this.unknownPropertyPaths=n,this.knownPropertyPaths=o),null===i?(s=s.concat(this.errors.slice(a)),this.errors=this.errors.slice(0,a),this.createError(v.ONE_OF_MISSING,{},"","/oneOf",s,e,t)):(this.errors=this.errors.slice(0,a),null)},c.prototype.validateNot=function(e,t,r){if(void 0===t.not)return null;var n,o,i=this.errors.length;this.trackUnknownProperties&&(n=this.unknownPropertyPaths,o=this.knownPropertyPaths,this.unknownPropertyPaths={},this.knownPropertyPaths={});var s=this.validateAll(e,t.not,null,null,r),a=this.errors.slice(i);return this.errors=this.errors.slice(0,i),this.trackUnknownProperties&&(this.unknownPropertyPaths=n,this.knownPropertyPaths=o),null===s&&0===a.length?this.createError(v.NOT_PASSED,{},"","/not",null,e,t):null},c.prototype.validateHypermedia=function(e,t,r){if(!t.links)return null;for(var n,o=0;o<t.links.length;o++){var i=t.links[o];if("describedby"===i.rel){for(var s=new u(i.href),a=!0,c=0;c<s.varNames.length;c++)if(!(s.varNames[c]in e)){a=!1;break}if(a){var l={$ref:s.fillFromObject(e)};if(n=this.validateAll(e,l,[],["links",o],r))return n}}}};var v={INVALID_TYPE:0,ENUM_MISMATCH:1,ANY_OF_MISSING:10,ONE_OF_MISSING:11,ONE_OF_MULTIPLE:12,NOT_PASSED:13,NUMBER_MULTIPLE_OF:100,NUMBER_MINIMUM:101,NUMBER_MINIMUM_EXCLUSIVE:102,NUMBER_MAXIMUM:103,NUMBER_MAXIMUM_EXCLUSIVE:104,NUMBER_NOT_A_NUMBER:105,STRING_LENGTH_SHORT:200,STRING_LENGTH_LONG:201,STRING_PATTERN:202,OBJECT_PROPERTIES_MINIMUM:300,OBJECT_PROPERTIES_MAXIMUM:301,OBJECT_REQUIRED:302,OBJECT_ADDITIONAL_PROPERTIES:303,OBJECT_DEPENDENCY_KEY:304,ARRAY_LENGTH_SHORT:400,ARRAY_LENGTH_LONG:401,ARRAY_UNIQUE:402,ARRAY_ADDITIONAL_ITEMS:403,FORMAT_CUSTOM:500,KEYWORD_CUSTOM:501,CIRCULAR_REFERENCE:600,UNKNOWN_PROPERTY:1e3},_={};for(var b in v)_[v[b]]=b;var w={INVALID_TYPE:"Invalid type: {type} (expected {expected})",ENUM_MISMATCH:"No enum match for: {value}",ANY_OF_MISSING:'Data does not match any schemas from "anyOf"',ONE_OF_MISSING:'Data does not match any schemas from "oneOf"',ONE_OF_MULTIPLE:'Data is valid against more than one schema from "oneOf": indices {index1} and {index2}',NOT_PASSED:'Data matches schema from "not"',NUMBER_MULTIPLE_OF:"Value {value} is not a multiple of {multipleOf}",NUMBER_MINIMUM:"Value {value} is less than minimum {minimum}",NUMBER_MINIMUM_EXCLUSIVE:"Value {value} is equal to exclusive minimum {minimum}",NUMBER_MAXIMUM:"Value {value} is greater than maximum {maximum}",NUMBER_MAXIMUM_EXCLUSIVE:"Value {value} is equal to exclusive maximum {maximum}",NUMBER_NOT_A_NUMBER:"Value {value} is not a valid number",STRING_LENGTH_SHORT:"String is too short ({length} chars), minimum {minimum}",STRING_LENGTH_LONG:"String is too long ({length} chars), maximum {maximum}",STRING_PATTERN:"String does not match pattern: {pattern}",OBJECT_PROPERTIES_MINIMUM:"Too few properties defined ({propertyCount}), minimum {minimum}",OBJECT_PROPERTIES_MAXIMUM:"Too many properties defined ({propertyCount}), maximum {maximum}",OBJECT_REQUIRED:"Missing required property: {key}",OBJECT_ADDITIONAL_PROPERTIES:"Additional properties not allowed",OBJECT_DEPENDENCY_KEY:"Dependency failed - key must exist: {missing} (due to key: {key})",ARRAY_LENGTH_SHORT:"Array is too short ({length}), minimum {minimum}",ARRAY_LENGTH_LONG:"Array is too long ({length}), maximum {maximum}",ARRAY_UNIQUE:"Array items are not unique (indices {match1} and {match2})",ARRAY_ADDITIONAL_ITEMS:"Additional items not allowed",FORMAT_CUSTOM:"Format validation failed ({message})",KEYWORD_CUSTOM:"Keyword failed: {key} ({message})",CIRCULAR_REFERENCE:"Circular $refs: {urls}",UNKNOWN_PROPERTY:"Unknown property (not in schema)"};function P(e,t,r,n,o){if(Error.call(this),void 0===e)throw new Error("No error code supplied: "+n);this.message="",this.params=t,this.code=e,this.dataPath=r||"",this.schemaPath=n||"",this.subErrors=o||null;var i=new Error(this.message);if(this.stack=i.stack||i.stacktrace,!this.stack)try{throw i}catch(i){this.stack=i.stack||i.stacktrace}}P.prototype=Object.create(Error.prototype),P.prototype.constructor=P,P.prototype.name="ValidationError",P.prototype.prefixWith=function(e,t){if(null!==e&&(e=e.replace(/~/g,"~0").replace(/\//g,"~1"),this.dataPath="/"+e+this.dataPath),null!==t&&(t=t.replace(/~/g,"~0").replace(/\//g,"~1"),this.schemaPath="/"+t+this.schemaPath),null!==this.subErrors)for(var r=0;r<this.subErrors.length;r++)this.subErrors[r].prefixWith(e,t);return this};var E={},T=function e(t){var r,n,o=new c,i={setErrorReporter:function(e){return"string"==typeof e?this.language(e):(n=e,!0)},addFormat:function(){o.addFormat.apply(o,arguments)},language:function(e){return e?(E[e]||(e=e.split("-")[0]),!!E[e]&&(r=e,e)):r},addLanguage:function(e,t){var r;for(r in v)t[r]&&!t[v[r]]&&(t[v[r]]=t[r]);var n=e.split("-")[0];if(E[n])for(r in E[e]=Object.create(E[n]),t)void 0===E[n][r]&&(E[n][r]=t[r]),E[e][r]=t[r];else E[e]=t,E[n]=t;return this},freshApi:function(t){var r=e();return t&&r.language(t),r},validate:function(e,t,i,s){var a=y(r),u=new c(o,!1,n?function(e,t,r){return n(e,t,r)||a(e,t,r)}:a,i,s);"string"==typeof t&&(t={$ref:t}),u.addSchema("",t);var l=u.validateAll(e,t,null,null,"");return!l&&s&&(l=u.banUnknownProperties(e,t)),this.error=l,this.missing=u.missing,this.valid=null===l,this.valid},validateResult:function(){var e={toString:function(){return this.valid?"valid":this.error.message}};return this.validate.apply(e,arguments),e},validateMultiple:function(e,t,i,s){var a=y(r),u=new c(o,!0,n?function(e,t,r){return n(e,t,r)||a(e,t,r)}:a,i,s);"string"==typeof t&&(t={$ref:t}),u.addSchema("",t),u.validateAll(e,t,null,null,""),s&&u.banUnknownProperties(e,t);var l={toString:function(){return this.valid?"valid":this.error.message}};return l.errors=u.errors,l.missing=u.missing,l.valid=0===l.errors.length,l},addSchema:function(){return o.addSchema.apply(o,arguments)},getSchema:function(){return o.getSchema.apply(o,arguments)},getSchemaMap:function(){return o.getSchemaMap.apply(o,arguments)},getSchemaUris:function(){return o.getSchemaUris.apply(o,arguments)},getMissingUris:function(){return o.getMissingUris.apply(o,arguments)},dropSchemas:function(){o.dropSchemas.apply(o,arguments)},defineKeyword:function(){o.defineKeyword.apply(o,arguments)},defineError:function(e,t,r){if("string"!=typeof e||!/^[A-Z]+(_[A-Z]+)*$/.test(e))throw new Error("Code name must be a string in UPPER_CASE_WITH_UNDERSCORES");if("number"!=typeof t||t%1!=0||t<1e4)throw new Error("Code number must be an integer > 10000");if(void 0!==v[e])throw new Error("Error already defined: "+e+" as "+v[e]);if(void 0!==_[t])throw new Error("Error code already used: "+_[t]+" as "+t);for(var n in v[e]=t,_[t]=e,w[e]=w[t]=r,E){var o=E[n];o[e]&&(o[t]=o[t]||o[e])}},reset:function(){o.reset(),this.error=null,this.missing=[],this.valid=!0},missing:[],error:null,valid:!0,normSchema:g,resolveUrl:p,getDocumentUri:m,errorCodes:v};return i.language(t||"en"),i}();return T.addLanguage("en-gb",w),T.tv4=T,T})?n.apply(t,o):n)||(e.exports=i)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n{constructor(){this.uris={},this.schemas={},this.aliases={}}declare(e,t,r,n){const o=e+"/"+t;if(n.extends){const t=n.extends.split("/"),r=1===t.length?e+"/"+t.shift():t.join("/"),i=this.uris[r];if(!i)throw"Type '"+o+"' tries to extend unknown schema '"+r+"'";n.extends=this.schemas[i]}this.uris[o]=r,this.aliases[r]=o,this.schemas[r]=n}resolveAlias(e){return this.uris[e]}getSchema(e){return this.schemas[e]}inScope(e){const t=e.length,r={};for(const n in this.uris)if(n.substr(0,t+1)===e+"/"){const e=this.uris[n];r[e]=this.schemas[e]}return r}}t.BaseClientTypes=n;const o=new n;t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{constructor(e){super();const t=new Error("Schema not found: "+e);return t.name="SchemaNotFound",t}}t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e){this._itemsRev={},this._storage={},this._canPropagate=!1,this.defaultValue=e,this.activatePropagation()}get(e){e=e.toLowerCase();let t=this._storage[e];return void 0===t&&(t=this.defaultValue,this._storage[e]=t),t}set(e,t){return e=e.toLowerCase(),this._storage[e]===t?t:(this._storage[e]=t,t||delete this._itemsRev[e],this._updateParentFolderItemRev(e,t),this._canPropagate&&this._propagate(e),t)}delete(e){return this.set(e,null)}deactivatePropagation(){return this._canPropagate=!1,!0}activatePropagation(){return!!this._canPropagate||(this._generateFolderRev("/"),this._canPropagate=!0,!0)}_hashCode(e){let t=0;if(0===e.length)return t;for(let r=0;r<e.length;r++){t=(t<<5)-t+e.charCodeAt(r),t|=0}return t}_generateHash(e){const t=e.sort().join("|");return""+this._hashCode(t)}_updateParentFolderItemRev(e,t){if("/"!==e){const r=this._getParentFolder(e);this._itemsRev[r]||(this._itemsRev[r]={});const n=this._itemsRev[r];t?n[e]=t:delete n[e],this._updateParentFolderItemRev(r,this.defaultValue)}}_getParentFolder(e){return e.substr(0,e.lastIndexOf("/",e.length-2)+1)}_propagate(e){if("/"!==e){const t=this._getParentFolder(e),r=this._itemsRev[t],n=[];for(const e in r)n.push(r[e]);const o=this._generateHash(n);this.set(t,o)}}_generateFolderRev(e){const t=this._itemsRev[e];let r=this.defaultValue;if(t){const e=[];for(const r in t){let n;n="/"===r.substr(-1)?this._generateFolderRev(r):t[r],e.push(n)}e.length>0&&(r=this._generateHash(e))}return this.set(e,r),r}}},function(e,t,r){var n;
/*!
 * webfinger.js
 *   version 2.7.0
 *   http://github.com/silverbucket/webfinger.js
 *
 * Developed and Maintained by:
 *   Nick Jennings <nick@silverbucket.net> 2012
 *
 * webfinger.js is released under the AGPL (see LICENSE).
 *
 * You don't have to do anything special to choose one license or the other and you don't
 * have to notify anyone which license you are using.
 * Please see the corresponding license file for details of these licenses.
 * You are free to use, modify and distribute this software, but all copyright
 * information must remain.
 *
 */"function"!=typeof fetch&&"function"!=typeof XMLHttpRequest&&(XMLHttpRequest=r(28)),function(r){var o={"http://webfist.org/spec/rel":"webfist","http://webfinger.net/rel/avatar":"avatar",remotestorage:"remotestorage","http://tools.ietf.org/id/draft-dejong-remotestorage":"remotestorage",remoteStorage:"remotestorage","http://www.packetizer.com/rel/share":"share","http://webfinger.net/rel/profile-page":"profile",me:"profile",vcard:"vcard",blog:"blog","http://packetizer.com/rel/blog":"blog","http://schemas.google.com/g/2010#updates-from":"updates","https://camlistore.org/rel/server":"camilstore"},i={avatar:[],remotestorage:[],blog:[],vcard:[],updates:[],share:[],profile:[],webfist:[],camlistore:[]},s=["webfinger","host-meta","host-meta.json"];function a(e){return e.toString=function(){return this.message},e}function u(e){"object"!=typeof e&&(e={}),this.config={tls_only:void 0===e.tls_only||e.tls_only,webfist_fallback:void 0!==e.webfist_fallback&&e.webfist_fallback,uri_fallback:void 0!==e.uri_fallback&&e.uri_fallback,request_timeout:void 0!==e.request_timeout?e.request_timeout:1e4}}u.prototype.__fetchJRD=function(e,t,r){if("function"==typeof fetch)return this.__fetchJRD_fetch(e,t,r);if("function"==typeof XMLHttpRequest)return this.__fetchJRD_XHR(e,t,r);throw new Error("add a polyfill for fetch or XMLHttpRequest")},u.prototype.__fetchJRD_fetch=function(e,t,r){var n,o=this;"function"==typeof AbortController&&(n=new AbortController);var i=fetch(e,{headers:{Accept:"application/jrd+json, application/json"},signal:n?n.signal:void 0}).then((function(t){if(t.ok)return t.text();throw 404===t.status?a({message:"resource not found",url:e,status:t.status}):a({message:"error during request",url:e,status:t.status})}),(function(t){throw a({message:"error during request",url:e,status:void 0,err:t})})).then((function(t){if(o.__isValidJSON(t))return t;throw a({message:"invalid json",url:e,status:void 0})})),s=new Promise((function(t,r){setTimeout((function(){r(a({message:"request timed out",url:e,status:void 0})),n&&n.abort()}),o.config.request_timeout)}));Promise.race([i,s]).then((function(e){r(e)})).catch((function(e){t(e)}))},u.prototype.__fetchJRD_XHR=function(e,t,r){var n=this,o=!1,i=new XMLHttpRequest;function s(){if(!o){if(o=!0,200===i.status)return n.__isValidJSON(i.responseText)?r(i.responseText):t(a({message:"invalid json",url:e,status:i.status}));if(404===i.status)return t(a({message:"resource not found",url:e,status:i.status}));if(i.status>=301&&i.status<=302){var s=i.getResponseHeader("Location");return function(e){return"string"==typeof e&&"https"===e.split("://")[0]}(s)?u():t(a({message:"no redirect URL found",url:e,status:i.status}))}return t(a({message:"error during request",url:e,status:i.status}))}}function u(){i.onreadystatechange=function(){4===i.readyState&&s()},i.onload=function(){s()},i.ontimeout=function(){return t(a({message:"request timed out",url:e,status:i.status}))},i.open("GET",e,!0),i.timeout=n.config.request_timeout,i.setRequestHeader("Accept","application/jrd+json, application/json"),i.send()}return u()},u.prototype.__isValidJSON=function(e){try{JSON.parse(e)}catch(e){return!1}return!0},u.prototype.__isLocalhost=function(e){return/^localhost(\.localdomain)?(\:[0-9]+)?$/.test(e)},u.prototype.__processJRD=function(e,t,r,n){var s=JSON.parse(t);if("object"!=typeof s||"object"!=typeof s.links)return void 0!==s.error?r(a({message:s.error,request:e})):r(a({message:"unknown response from server",request:e}));var u=s.links;Array.isArray(u)||(u=[]);var c={object:s,json:t,idx:{}};c.idx.properties={name:void 0},c.idx.links=JSON.parse(JSON.stringify(i)),u.map((function(e,t){if(o.hasOwnProperty(e.rel)&&c.idx.links[o[e.rel]]){var r={};Object.keys(e).map((function(t,n){r[t]=e[t]})),c.idx.links[o[e.rel]].push(r)}}));var l=JSON.parse(t).properties;for(var h in l)l.hasOwnProperty(h)&&"http://packetizer.com/ns/name"===h&&(c.idx.properties.name=l[h]);return n(c)},u.prototype.lookup=function(e,t){if("string"!=typeof e)throw new Error("first parameter must be a user address");if("function"!=typeof t)throw new Error("second parameter must be a callback");var r=this,n="";n=e.indexOf("://")>-1?e.replace(/ /g,"").split("/")[2]:e.replace(/ /g,"").split("@")[1];var o=0,i="https";function a(){var t="";return e.split("://")[1]||(t="acct:"),i+"://"+n+"/.well-known/"+s[o]+"?resource="+t+e}function u(e){if(r.config.uri_fallback&&"webfist.org"!==n&&o!==s.length-1)return o+=1,c();if(!r.config.tls_only&&"https"===i)return o=0,i="http",c();if(!r.config.webfist_fallback||"webfist.org"===n)return t(e);o=0,i="http",n="webfist.org";var u=a();r.__fetchJRD(u,t,(function(e){r.__processJRD(u,e,t,(function(e){"object"==typeof e.idx.links.webfist&&"string"==typeof e.idx.links.webfist[0].href&&r.__fetchJRD(e.idx.links.webfist[0].href,t,(function(e){r.__processJRD(u,e,t,(function(e){return t(null,t)}))}))}))}))}function c(){var e=a();r.__fetchJRD(e,u,(function(n){r.__processJRD(e,n,t,(function(e){t(null,e)}))}))}return(r.__isLocalhost(n)&&(i="http"),setTimeout(c,0))},u.prototype.lookupLink=function(e,t,r){if(!i.hasOwnProperty(t))return r("unsupported rel "+t);this.lookup(e,(function(e,n){var o=n.idx.links[t];return e?r(e):0===o.length?r('no links found with rel="'+t+'"'):r(null,o[0])}))},void 0===(n=function(){return u}.apply(t,[]))||(e.exports=n)}()},function(e,t){e.exports=XMLHttpRequest},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(3)),i=n(r(16)),s=n(r(1)),a=r(0),u=n(r(30)),c=n(r(11)),l=n(r(6)),h=n(r(15)),d=n(r(7)),f=n(r(13)),p=n(r(14)),m=n(r(8)),g=n(r(31)),y=n(r(12)),v=n(r(32)),_=n(r(33)),b=n(r(34)),w={features:[],featuresDone:0,readyFired:!1,loadFeatures(){this.features=[],this.featuresDone=0,this.readyFired=!1,this.featureModules={WireClient:m.default,Dropbox:p.default,GoogleDrive:f.default,Access:c.default,Discover:h.default,Authorize:l.default,BaseClient:d.default,Env:i.default},o.default.cache&&a.extend(this.featureModules,{Caching:y.default,IndexedDB:v.default,LocalStorage:_.default,InMemoryStorage:b.default,Sync:g.default}),o.default.disableFeatures.forEach(e=>{this.featureModules[e]&&delete this.featureModules[e]}),this._allLoaded=!1;for(const e in this.featureModules)this.loadFeature(e)},hasFeature(e){for(let t=this.features.length-1;t>=0;t--)if(this.features[t].name===e)return this.features[t].supported;return!1},loadFeature(e){const t=this.featureModules[e],r=!t._rs_supported||t._rs_supported();s.default(`[RemoteStorage] [FEATURE ${e}] initializing ...`),"object"==typeof r?r.then(()=>{this.featureSupported(e,!0),this.initFeature(e)},()=>{this.featureSupported(e,!1)}):"boolean"==typeof r?(this.featureSupported(e,r),r&&this.initFeature(e)):this.featureSupported(e,!1)},initFeature(e){const t=this.featureModules[e];let r;try{r=t._rs_init(this)}catch(t){return void this.featureFailed(e,t)}"object"==typeof r&&"function"==typeof r.then?r.then(()=>{this.featureInitialized(e)},t=>{this.featureFailed(e,t)}):this.featureInitialized(e)},featureFailed(e,t){s.default(`[RemoteStorage] [FEATURE ${e}] initialization failed (${t})`),this.featureDone()},featureSupported(e,t){s.default(`[RemoteStorage] [FEATURE ${e}]${t?"":"not "} supported`),t||this.featureDone()},featureInitialized(e){s.default(`[RemoteStorage] [FEATURE ${e}] initialized`),this.features.push({name:e,init:this.featureModules[e]._rs_init,supported:!0,cleanup:this.featureModules[e]._rs_cleanup}),this.featureDone()},featureDone(){this.featuresDone++,this.featuresDone===Object.keys(this.featureModules).length&&setTimeout(this.featuresLoaded.bind(this),0)},_setCachingModule(){["IndexedDB","LocalStorage","InMemoryStorage"].some(e=>{if(this.features.some(t=>t.name===e))return this.features.local=this.featureModules[e],!0})},_fireReady(){try{this.readyFired||(this._emit("ready"),this.readyFired=!0)}catch(e){console.error("'ready' failed: ",e,e.stack),this._emit("error",e)}},featuresLoaded(){s.default("[RemoteStorage] All features loaded"),this._setCachingModule(),this.local=o.default.cache&&this.features.local&&new this.features.local,this.local&&this.remote?(this._setGPD(u.default,this),this._bindChange(this.local)):this.remote&&this._setGPD(this.remote,this.remote),this.remote&&(this.remote.on("connected",()=>{this._fireReady(),this._emit("connected")}),this.remote.on("not-connected",()=>{this._fireReady(),this._emit("not-connected")}),this.remote.connected&&(this._fireReady(),this._emit("connected")),this.hasFeature("Authorize")||this.remote.stopWaitingForToken()),this._collectCleanupFunctions();try{this._allLoaded=!0,this._emit("features-loaded")}catch(e){a.logError(e),this._emit("error",e)}this._processPending()},_collectCleanupFunctions(){this._cleanups=[];for(let e=0;e<this.features.length;e++){const t=this.features[e].cleanup;"function"==typeof t&&this._cleanups.push(t)}}};t.default=w},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=o(r(1));function s(e){return"dropbox"===this.backend&&!!e.match(/^\/public\/.*[^\/]$/)}const a={get:function(e,t){if(this.local){if(void 0===t)t="object"==typeof(r=this).remote&&r.remote.connected&&r.remote.online?2*r.getSyncInterval():(i.default("Not setting default maxAge, because remote is offline or not connected"),!1);else if("number"!=typeof t&&!1!==t)return Promise.reject("Argument 'maxAge' must be 'false' or a number");return this.local.get(e,t,this.sync.queueGetRequest.bind(this.sync))}return this.remote.get(e);var r},put:function(e,t,r){return s.bind(this)(e)?a._wrapBusyDone.call(this,this.remote.put(e,t,r)):this.local?this.local.put(e,t,r):a._wrapBusyDone.call(this,this.remote.put(e,t,r))},delete:function(e){return this.local?this.local.delete(e):a._wrapBusyDone.call(this,this.remote.delete(e))},_wrapBusyDone:function(e){return n(this,void 0,void 0,(function*(){return this._emit("wire-busy"),e.then(e=>(this._emit("wire-done",{success:!0}),Promise.resolve(e)),e=>(this._emit("wire-done",{success:!1}),Promise.reject(e)))}))}};t.default=a},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=o(r(3)),s=o(r(16)),a=o(r(2)),u=o(r(1)),c=o(r(6)),l=o(r(9)),h=o(r(4)),d=r(0);let f,p;function m(e,t,r){return{action:e,path:t,promise:r}}function g(e,t){return e.common.revision!==t&&(!e.remote||e.remote.revision!==t)}function y(e){return e.common&&e.common.revision}class v{constructor(e){this.rs=e,this._tasks={},this._running={},this._timeStarted={},this.numThreads=10,this.rs.local.onDiff(e=>{this.addTask(e),this.doTasks()}),this.rs.caching.onActivate(e=>{this.addTask(e),this.doTasks()}),this.addEvents(["done","req-done"])}now(){return(new Date).getTime()}queueGetRequest(e){return new Promise((t,r)=>{this.rs.remote.connected?this.rs.remote.online?(this.addTask(e,function(){this.rs.local.get(e).then(e=>t(e))}.bind(this)),this.doTasks()):r("cannot fulfill maxAge requirement - remote is not online"):r("cannot fulfill maxAge requirement - remote is not connected")})}corruptServerItemsMap(e,t){if("object"!=typeof e||Array.isArray(e))return!0;for(const r in e){const n=e[r];if("object"!=typeof n)return!0;if("string"!=typeof n.ETag)return!0;if(d.isFolder(r)){if(-1!==r.substring(0,r.length-1).indexOf("/"))return!0}else{if(-1!==r.indexOf("/"))return!0;if(t){if("string"!=typeof n["Content-Type"])return!0;if("number"!=typeof n["Content-Length"])return!0}}}return!1}corruptItemsMap(e){if("object"!=typeof e||Array.isArray(e))return!0;for(const t in e)if("boolean"!=typeof e[t])return!0;return!1}corruptRevision(e){return"object"!=typeof e||Array.isArray(e)||e.revision&&"string"!=typeof e.revision||e.body&&"string"!=typeof e.body&&"object"!=typeof e.body||e.contentType&&"string"!=typeof e.contentType||e.contentLength&&"number"!=typeof e.contentLength||e.timestamp&&"number"!=typeof e.timestamp||e.itemsMap&&this.corruptItemsMap(e.itemsMap)}isCorrupt(e){return"object"!=typeof e||Array.isArray(e)||"string"!=typeof e.path||this.corruptRevision(e.common)||e.local&&this.corruptRevision(e.local)||e.remote&&this.corruptRevision(e.remote)||e.push&&this.corruptRevision(e.push)}hasTasks(){return Object.getOwnPropertyNames(this._tasks).length>0}collectDiffTasks(){return n(this,void 0,void 0,(function*(){let e=0;return this.rs.local.forAllNodes(t=>{e>100||(this.isCorrupt(t)?(u.default("[Sync] WARNING: corrupt node in local cache",t),"object"==typeof t&&t.path&&(this.addTask(t.path),e++)):this.needsFetch(t)&&this.rs.access.checkPathPermission(t.path,"r")?(this.addTask(t.path),e++):d.isDocument(t.path)&&this.needsPush(t)&&this.rs.access.checkPathPermission(t.path,"rw")&&(this.addTask(t.path),e++))}).then(()=>e).catch(e=>{throw e})}))}inConflict(e){return e.local&&e.remote&&(void 0!==e.remote.body||e.remote.itemsMap)}needsRefresh(e){return!!e.common&&(!e.common.timestamp||this.now()-e.common.timestamp>i.default.syncInterval)}needsFetch(e){return!!this.inConflict(e)||(!(!e.common||void 0!==e.common.itemsMap||void 0!==e.common.body)||!(!e.remote||void 0!==e.remote.itemsMap||void 0!==e.remote.body))}needsPush(e){return!this.inConflict(e)&&(!(!e.local||e.push)||void 0)}needsRemotePut(e){return e.local&&e.local.body}needsRemoteDelete(e){return e.local&&!1===e.local.body}getParentPath(e){const t=e.match(/^(.*\/)([^\/]+\/?)$/);if(t)return t[1];throw new Error('Not a valid path: "'+e+'"')}deleteChildPathsFromTasks(){for(const e in this._tasks){const t=d.pathsFromRoot(e);for(let r=1;r<t.length;r++)this._tasks[t[r]]&&(Array.isArray(this._tasks[e])&&this._tasks[e].length&&Array.prototype.push.apply(this._tasks[t[r]],this._tasks[e]),delete this._tasks[e])}}collectRefreshTasks(){return n(this,void 0,void 0,(function*(){return this.rs.local.forAllNodes(e=>{let t;if(this.needsRefresh(e)){try{t=this.getParentPath(e.path)}catch(e){}t&&this.rs.access.checkPathPermission(t,"r")?this.addTask(t):this.rs.access.checkPathPermission(e.path,"r")&&this.addTask(e.path)}}).then(()=>this.deleteChildPathsFromTasks()).catch(e=>{throw e})}))}flush(e){for(const t in e)"FLUSH"===this.rs.caching.checkPath(t)&&e[t]&&!e[t].local&&(u.default("[Sync] Flushing",t),e[t]=void 0);return e}doTask(e){return this.rs.local.getNodes([e]).then(t=>{const r=t[e];return void 0===r?m("get",e,this.rs.remote.get(e)):function(e){return e.remote&&e.remote.revision&&!e.remote.itemsMap&&!e.remote.body}(r)?m("get",e,this.rs.remote.get(e)):this.needsRemotePut(r)?(r.push=d.deepClone(r.local),r.push.timestamp=this.now(),this.rs.local.setNodes(this.flush(t)).then(()=>{let t;return t=y(r)?{ifMatch:r.common.revision}:{ifNoneMatch:"*"},m("put",e,this.rs.remote.put(e,r.push.body,r.push.contentType,t))})):this.needsRemoteDelete(r)?(r.push={body:!1,timestamp:this.now()},this.rs.local.setNodes(this.flush(t)).then(()=>y(r)?m("delete",e,this.rs.remote.delete(e,{ifMatch:r.common.revision})):m("get",e,this.rs.remote.get(e)))):y(r)?m("get",e,this.rs.remote.get(e,{ifNoneMatch:r.common.revision})):m("get",e,this.rs.remote.get(e))})}autoMergeFolder(e){if(e.remote.itemsMap&&(e.common=e.remote,delete e.remote,e.common.itemsMap)){for(const t in e.common.itemsMap)e.local.itemsMap[t]||(e.local.itemsMap[t]=!1);d.equal(e.local.itemsMap,e.common.itemsMap)&&delete e.local}return e}autoMergeDocument(e){return!function(e){return(!e.remote||!e.remote.revision||e.remote.revision===e.common.revision)&&(void 0===e.common.body&&!1===e.remote.body||e.remote.body===e.common.body&&e.remote.contentType===e.common.contentType)}(e)?void 0!==e.remote.body&&(u.default("[Sync] Emitting keep/revert"),this.rs.local._emitChange({origin:"conflict",path:e.path,oldValue:e.local.body,newValue:e.remote.body,lastCommonValue:e.common.body,oldContentType:e.local.contentType,newContentType:e.remote.contentType,lastCommonContentType:e.common.contentType}),e.remote.body?e.common=e.remote:e.common={},delete e.remote,delete e.local):delete(e=function(e){return e.remote&&!1===e.remote.body&&e.local&&!1===e.local.body&&delete e.local,e}(e)).remote,e}autoMerge(e){if(e.remote){if(e.local)return d.isFolder(e.path)?this.autoMergeFolder(e):this.autoMergeDocument(e);if(d.isFolder(e.path))void 0!==e.remote.itemsMap&&(e.common=e.remote,delete e.remote);else if(void 0!==e.remote.body){const t={origin:"remote",path:e.path,oldValue:!1===e.common.body?void 0:e.common.body,newValue:!1===e.remote.body?void 0:e.remote.body,oldContentType:e.common.contentType,newContentType:e.remote.contentType};if((t.oldValue||t.newValue)&&this.rs.local._emitChange(t),!e.remote.body)return;e.common=e.remote,delete e.remote}return e}e.common.body&&this.rs.local._emitChange({origin:"remote",path:e.path,oldValue:e.common.body,newValue:void 0,oldContentType:e.common.contentType,newContentType:void 0})}updateCommonTimestamp(e,t){return n(this,void 0,void 0,(function*(){return this.rs.local.getNodes([e]).then(r=>(r[e]&&r[e].common&&r[e].common.revision===t&&(r[e].common.timestamp=this.now()),this.rs.local.setNodes(this.flush(r))))}))}markChildren(e,t,r,o){return n(this,void 0,void 0,(function*(){const n=[],i={},s={};for(const r in t)n.push(e+r),i[e+r]=t[r];for(const t in o)n.push(e+t);return this.rs.local.getNodes(n).then(t=>{let n,a;for(const u in t)if(a=t[u],i[u])a&&a.common?g(a,i[u].ETag)&&(r[u]=d.deepClone(a),r[u].remote={revision:i[u].ETag,timestamp:this.now()},r[u]=this.autoMerge(r[u])):(n=this.rs.caching.checkPath(u),"ALL"===n&&(r[u]={path:u,common:{timestamp:this.now()},remote:{revision:i[u].ETag,timestamp:this.now()}})),r[u]&&i[u]["Content-Type"]&&(r[u].remote.contentType=i[u]["Content-Type"]),r[u]&&i[u]["Content-Length"]&&(r[u].remote.contentLength=i[u]["Content-Length"]);else if(o[u.substring(e.length)]&&a&&a.common){if(a.common.itemsMap)for(const e in a.common.itemsMap)s[u+e]=!0;if(a.local&&a.local.itemsMap)for(const e in a.local.itemsMap)s[u+e]=!0;if(a.remote||d.isFolder(u))r[u]=void 0;else if(r[u]=this.autoMerge(a),void 0===r[u]){const t=this.getParentPath(u),n=r[t],o=u.substring(e.length);n&&n.local&&(delete n.local.itemsMap[o],d.equal(n.local.itemsMap,n.common.itemsMap)&&delete n.local)}}return this.deleteRemoteTrees(Object.keys(s),r).then(e=>this.rs.local.setNodes(this.flush(e)))})}))}deleteRemoteTrees(e,t){return n(this,void 0,void 0,(function*(){return 0===e.length?Promise.resolve(t):this.rs.local.getNodes(e).then(e=>n(this,void 0,void 0,(function*(){const r={};function n(e,t){if(e&&e.itemsMap)for(const n in e.itemsMap)r[t+n]=!0}for(const r in e){const o=e[r];o&&(d.isFolder(r)?(n(o.common,r),n(o.local,r)):o.common&&void 0!==typeof o.common.body&&(t[r]=d.deepClone(o),t[r].remote={body:!1,timestamp:this.now()},t[r]=this.autoMerge(t[r])))}return this.deleteRemoteTrees(Object.keys(r),t).then(e=>this.rs.local.setNodes(this.flush(e)))})))}))}completeFetch(e,t,r,o){return n(this,void 0,void 0,(function*(){let n,i;const s=d.pathsFromRoot(e);return d.isFolder(e)?n=[e]:(i=s[1],n=[e,i]),this.rs.local.getNodes(n).then(n=>{let s,a,u=n[e];const c={};function l(e){if(e&&e.itemsMap)for(s in e.itemsMap)t[s]||(c[s]=!0)}if("object"==typeof u&&u.path===e&&"object"==typeof u.common||(u={path:e,common:{}},n[e]=u),u.remote={revision:o,timestamp:this.now()},d.isFolder(e))for(s in l(u.common),l(u.remote),u.remote.itemsMap={},t)u.remote.itemsMap[s]=!0;else u.remote.body=t,u.remote.contentType=r,a=n[i],a&&a.local&&a.local.itemsMap&&(s=e.substring(i.length),a.local.itemsMap[s]=!0,d.equal(a.local.itemsMap,a.common.itemsMap)&&delete a.local);return n[e]=this.autoMerge(u),{toBeSaved:n,missingChildren:c}})}))}completePush(e,t,r,o){return n(this,void 0,void 0,(function*(){return this.rs.local.getNodes([e]).then(n=>{const i=n[e];if(!i.push)throw this.stopped=!0,new Error("completePush called but no push version!");return r?(u.default("[Sync] We have a conflict"),i.remote&&i.remote.revision===o||(i.remote={revision:o||"conflict",timestamp:this.now()},delete i.push),n[e]=this.autoMerge(i)):(i.common={revision:o,timestamp:this.now()},"put"===t?(i.common.body=i.push.body,i.common.contentType=i.push.contentType,d.equal(i.local.body,i.push.body)&&i.local.contentType===i.push.contentType&&delete i.local,delete i.push):"delete"===t&&(!1===i.local.body?n[e]=void 0:delete i.push)),this.rs.local.setNodes(this.flush(n))})}))}dealWithFailure(e){return n(this,void 0,void 0,(function*(){return this.rs.local.getNodes([e]).then(t=>{if(t[e])return delete t[e].push,this.rs.local.setNodes(this.flush(t))})}))}interpretStatus(e){const t={statusCode:e,successful:void 0,conflict:void 0,unAuth:void 0,notFound:void 0,changed:void 0,networkProblems:void 0};if("string"==typeof e&&("offline"===e||"timeout"===e))return t.successful=!1,t.networkProblems=!0,t;if("number"==typeof e){const r=Math.floor(e/100);return t.successful=2===r||304===e||412===e||404===e,t.conflict=412===e,t.unAuth=401===e&&this.rs.remote.token!==c.default.IMPLIED_FAKE_TOKEN||402===e||403===e,t.notFound=404===e,t.changed=304!==e,t}}handleGetResponse(e,t,r,o,i){return n(this,void 0,void 0,(function*(){return t.notFound&&(r=!!d.isFolder(e)&&{}),t.changed?this.completeFetch(e,r,o,i).then(t=>d.isFolder(e)?this.corruptServerItemsMap(r)?(u.default("[Sync] WARNING: Discarding corrupt folder description from server for "+e),!1):this.markChildren(e,r,t.toBeSaved,t.missingChildren).then(()=>!0):this.rs.local.setNodes(this.flush(t.toBeSaved)).then(()=>!0)):this.updateCommonTimestamp(e,i).then(()=>!0)}))}handleResponse(e,t,r){const n=this.interpretStatus(r.statusCode);if(n.successful){if("get"===t)return this.handleGetResponse(e,n,r.body,r.contentType,r.revision);if("put"===t||"delete"===t)return this.completePush(e,t,n.conflict,r.revision).then((function(){return!0}));throw new Error(`cannot handle response for unknown action ${t}`)}{let t;return t=n.unAuth?new h.default:n.networkProblems?new l.default("Network request failed."):new Error("HTTP response code "+n.statusCode+" received."),this.dealWithFailure(e).then(()=>{throw this.rs._emit("error",t),t})}}finishTask(e){if(void 0!==e.action)return e.promise.then(t=>this.handleResponse(e.path,e.action,t),t=>(u.default("[Sync] wireclient rejects its promise!",e.path,e.action,t),this.handleResponse(e.path,e.action,{statusCode:"offline"}))).then(t=>{if(delete this._timeStarted[e.path],delete this._running[e.path],t&&this._tasks[e.path]){for(let t=0;t<this._tasks[e.path].length;t++)this._tasks[e.path][t]();delete this._tasks[e.path]}this.rs._emit("sync-req-done"),this.collectTasks(!1).then(()=>{!this.hasTasks()||this.stopped?(u.default("[Sync] Sync is done! Reschedule?",Object.getOwnPropertyNames(this._tasks).length,this.stopped),this.done||(this.done=!0,this.rs._emit("sync-done"))):setTimeout(()=>{this.doTasks()},10)})},t=>{u.default("[Sync] Error",t),delete this._timeStarted[e.path],delete this._running[e.path],this.rs._emit("sync-req-done"),this.done||(this.done=!0,this.rs._emit("sync-done"))});delete this._running[e.path]}doTasks(){let e,t,r=0;e=this.rs.remote.connected?this.rs.remote.online?this.numThreads:1:0;const n=e-Object.getOwnPropertyNames(this._running).length;if(n<=0)return!0;for(t in this._tasks)if(!this._running[t]&&(this._timeStarted[t]=this.now(),this._running[t]=this.doTask(t),this._running[t].then(this.finishTask.bind(this)),r++,r>=n))return!0;return r>=n}collectTasks(e){return n(this,void 0,void 0,(function*(){return this.hasTasks()||this.stopped?Promise.resolve():this.collectDiffTasks().then(t=>t||!1===e?Promise.resolve():this.collectRefreshTasks(),(function(e){throw e}))}))}addTask(e,t){this._tasks[e]||(this._tasks[e]=[]),"function"==typeof t&&this._tasks[e].push(t)}sync(){return this.done=!1,this.doTasks()?Promise.resolve():this.collectTasks().then(()=>{try{this.doTasks()}catch(e){u.default("[Sync] doTasks error",e)}},(function(e){throw u.default("[Sync] Sync error",e),new Error("Local cache unavailable")}))}static _rs_init(e){f=function(){u.default("[Sync] syncCycleCb calling syncCycle");const t=new s.default;t.isBrowser()&&function(e,t){function r(e){const r=t.getCurrentSyncInterval();i.default.isBackground=!e;const n=t.getCurrentSyncInterval();t._emit("sync-interval-change",{oldValue:r,newValue:n})}e.on("background",()=>r(!1)),e.on("foreground",()=>r(!0))}(t,e),e.sync||(e.sync=new v(e),e.syncStopped&&(u.default("[Sync] Instantiating sync stopped"),e.sync.stopped=!0,delete e.syncStopped)),u.default("[Sync] syncCycleCb calling syncCycle"),e.syncCycle()},p=function(){e.removeEventListener("connected",p),e.startSync()},e.on("ready",f),e.on("connected",p)}static _rs_cleanup(e){e.stopSync(),e.removeEventListener("ready",f),e.removeEventListener("connected",p),e.sync=void 0,delete e.sync}}d.applyMixins(v,[a.default]),t.default=v},function(e,t,r){"use strict";(function(e){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=o(r(2)),s=o(r(10)),a=o(r(1)),u=r(0);let c;class l extends s.default{constructor(e){super(),this.addEvents(["change","local-events-done"]),this.db=e||c,this.db?(this.getsRunning=0,this.putsRunning=0,this.changesQueued={},this.changesRunning={},this.commitSlownessWarning=null):a.default("[IndexedDB] Failed to open DB")}getNodes(e){return n(this,void 0,void 0,(function*(){const t=[],r={};for(let n=0,o=e.length;n<o;n++)void 0!==this.changesQueued[e[n]]?r[e[n]]=u.deepClone(this.changesQueued[e[n]]||void 0):void 0!==this.changesRunning[e[n]]?r[e[n]]=u.deepClone(this.changesRunning[e[n]]||void 0):t.push(e[n]);return t.length>0?this.getNodesFromDb(t).then((function(e){for(const t in r)e[t]=r[t];return e})):Promise.resolve(r)}))}setNodes(e){return n(this,void 0,void 0,(function*(){for(const t in e)this.changesQueued[t]=e[t]||!1;return this.maybeFlush(),Promise.resolve()}))}maybeFlush(){0===this.putsRunning?this.flushChangesQueued():this.commitSlownessWarning||(this.commitSlownessWarning=e.setInterval((function(){console.warn("WARNING: waited more than 10 seconds for previous commit to finish")}),1e4))}flushChangesQueued(){this.commitSlownessWarning&&(clearInterval(this.commitSlownessWarning),this.commitSlownessWarning=null),Object.keys(this.changesQueued).length>0&&(this.changesRunning=this.changesQueued,this.changesQueued={},this.setNodesInDb(this.changesRunning).then(this.flushChangesQueued.bind(this)))}getNodesFromDb(e){return new Promise((t,r)=>{const n=this.db.transaction(["nodes"],"readonly"),o=n.objectStore("nodes"),i={};this.getsRunning++,e.map(e=>{o.get(e).onsuccess=t=>{i[e]=t.target.result}}),n.oncomplete=()=>{t(i),this.getsRunning--},n.onerror=n.onabort=()=>{r("get transaction error/abort"),this.getsRunning--}})}setNodesInDb(e){return n(this,void 0,void 0,(function*(){return new Promise((t,r)=>{const n=this.db.transaction(["nodes"],"readwrite"),o=n.objectStore("nodes"),i=(new Date).getTime();this.putsRunning++,a.default("[IndexedDB] Starting put",e,this.putsRunning);for(const t in e){const r=e[t];if("object"==typeof r)try{o.put(r)}catch(e){throw a.default("[IndexedDB] Error while putting",r,e),e}else try{o.delete(t)}catch(e){throw a.default("[IndexedDB] Error while removing",o,r,e),e}}n.oncomplete=()=>{this.putsRunning--,a.default("[IndexedDB] Finished put",e,this.putsRunning,(new Date).getTime()-i+"ms"),t()},n.onerror=()=>{this.putsRunning--,r("transaction error")},n.onabort=()=>{r("transaction abort"),this.putsRunning--}})}))}reset(e){const t=this.db.name;this.db.close(),l.clean(this.db.name,()=>{l.open(t,(t,r)=>{t?a.default("[IndexedDB] Error while resetting local storage",t):this.db=r,"function"==typeof e&&e(self)})})}forAllNodes(e){return n(this,void 0,void 0,(function*(){return new Promise(t=>{this.db.transaction(["nodes"],"readonly").objectStore("nodes").openCursor().onsuccess=r=>{const n=r.target.result;n?(e(this.migrate(n.value)),n.continue()):t()}})}))}closeDB(){0===this.putsRunning?this.db.close():setTimeout(this.closeDB.bind(this),100)}static open(e,t){const r=setTimeout((function(){t("timeout trying to open db")}),1e4);try{const n=indexedDB.open(e,2);n.onerror=function(){a.default("[IndexedDB] Opening DB failed",n),clearTimeout(r),t(n.error)},n.onupgradeneeded=function(e){const t=n.result;a.default("[IndexedDB] Upgrade: from ",e.oldVersion," to ",e.newVersion),1!==e.oldVersion&&(a.default("[IndexedDB] Creating object store: nodes"),t.createObjectStore("nodes",{keyPath:"path"})),a.default("[IndexedDB] Creating object store: changes"),t.createObjectStore("changes",{keyPath:"path"})},n.onsuccess=function(){clearTimeout(r);const o=n.result;if(!o.objectStoreNames.contains("nodes")||!o.objectStoreNames.contains("changes"))return a.default("[IndexedDB] Missing object store. Resetting the database."),void l.clean(e,(function(){l.open(e,t)}));t(null,n.result)}}catch(n){a.default("[IndexedDB] Failed to open database: "+n),a.default("[IndexedDB] Resetting database and trying again."),clearTimeout(r),l.clean(e,(function(){l.open(e,t)}))}}static clean(e,t){const r=indexedDB.deleteDatabase(e);r.onsuccess=function(){a.default("[IndexedDB] Done removing DB"),t()},r.onerror=r.onabort=function(t){console.error('Failed to remove database "'+e+'"',t)}}static _rs_init(e){return new Promise((t,r)=>{l.open("remotestorage",(function(n,o){n?r(n):(c=o,o.onerror=()=>{e._emit("error",n)},t())}))})}static _rs_supported(){return new Promise((e,t)=>{const r=u.getGlobalContext();let n=!1;if("undefined"!=typeof navigator&&navigator.userAgent.match(/Android (2|3|4\.[0-3])/)&&(navigator.userAgent.match(/Chrome|Firefox/)||(n=!0)),"indexedDB"in r&&!n)try{const r=indexedDB.open("rs-check");r.onerror=function(){t()},r.onsuccess=function(){r.result.close(),indexedDB.deleteDatabase("rs-check"),e()}}catch(e){t()}else t()})}static _rs_cleanup(e){return new Promise(t=>{e.local&&e.local.closeDB(),l.clean("remotestorage",t)})}diffHandler(){}}u.applyMixins(l,[i.default]),t.default=l}).call(this,r(5))},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(10)),i=n(r(2)),s=n(r(1)),a=r(0),u="remotestorage:cache:nodes:";function c(e){return e.substr(0,u.length)===u||"remotestorage:cache:changes:"===e.substr(0,"remotestorage:cache:changes:".length)}class l extends o.default{constructor(){super(),this.addEvents(["change","local-events-done"])}diffHandler(...e){}getNodes(e){const t={};for(let r=0,n=e.length;r<n;r++)try{t[e[r]]=JSON.parse(localStorage[u+e[r]])}catch(n){t[e[r]]=void 0}return Promise.resolve(t)}setNodes(e){for(const t in e)localStorage[u+t]=JSON.stringify(e[t]);return Promise.resolve()}forAllNodes(e){let t;for(let r=0,n=localStorage.length;r<n;r++)if(localStorage.key(r).substr(0,u.length)===u){try{t=this.migrate(JSON.parse(localStorage[localStorage.key(r)]))}catch(e){t=void 0}t&&e(t)}return Promise.resolve()}static _rs_init(){}static _rs_supported(){return a.localStorageAvailable()}static _rs_cleanup(){const e=[];for(let t=0,r=localStorage.length;t<r;t++){const r=localStorage.key(t);c(r)&&e.push(r)}e.forEach(e=>{s.default("[LocalStorage] Removing",e),delete localStorage[e]})}}a.applyMixins(l,[i.default]),t.default=l},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(2)),i=n(r(10));class s extends i.default{constructor(){super(),this._storage={},this.addEvents(["change","local-events-done"])}getNodes(e){const t={};for(let r=0,n=e.length;r<n;r++)t[e[r]]=this._storage[e[r]];return Promise.resolve(t)}setNodes(e){for(const t in e)void 0===e[t]?delete this._storage[t]:this._storage[t]=e[t];return Promise.resolve()}forAllNodes(e){for(const t in this._storage)e(this.migrate(this._storage[t]));return Promise.resolve()}diffHandler(){}static _rs_init(){}static _rs_supported(){return!0}static _rs_cleanup(){}}r(0).applyMixins(s,[o.default]),t.default=s}])}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9SZW1vdGVTdG9yYWdlL3dlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIndlYnBhY2s6Ly9SZW1vdGVTdG9yYWdlL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL1JlbW90ZVN0b3JhZ2UvLi9zcmMvdXRpbC50cyIsIndlYnBhY2s6Ly9SZW1vdGVTdG9yYWdlLy4vc3JjL2xvZy50cyIsIndlYnBhY2s6Ly9SZW1vdGVTdG9yYWdlLy4vc3JjL2V2ZW50aGFuZGxpbmcudHMiLCJ3ZWJwYWNrOi8vUmVtb3RlU3RvcmFnZS8uL3NyYy9jb25maWcudHMiLCJ3ZWJwYWNrOi8vUmVtb3RlU3RvcmFnZS8uL3NyYy91bmF1dGhvcml6ZWQtZXJyb3IudHMiLCJ3ZWJwYWNrOi8vUmVtb3RlU3RvcmFnZS8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vUmVtb3RlU3RvcmFnZS8uL3NyYy9hdXRob3JpemUudHMiLCJ3ZWJwYWNrOi8vUmVtb3RlU3RvcmFnZS8uL3NyYy9iYXNlY2xpZW50LnRzIiwid2VicGFjazovL1JlbW90ZVN0b3JhZ2UvLi9zcmMvd2lyZWNsaWVudC50cyIsIndlYnBhY2s6Ly9SZW1vdGVTdG9yYWdlLy4vc3JjL3N5bmMtZXJyb3IudHMiLCJ3ZWJwYWNrOi8vUmVtb3RlU3RvcmFnZS8uL3NyYy9jYWNoaW5nbGF5ZXIudHMiLCJ3ZWJwYWNrOi8vUmVtb3RlU3RvcmFnZS8uL3NyYy9hY2Nlc3MudHMiLCJ3ZWJwYWNrOi8vUmVtb3RlU3RvcmFnZS8uL3NyYy9jYWNoaW5nLnRzIiwid2VicGFjazovL1JlbW90ZVN0b3JhZ2UvLi9zcmMvZ29vZ2xlZHJpdmUudHMiLCJ3ZWJwYWNrOi8vUmVtb3RlU3RvcmFnZS8uL3NyYy9kcm9wYm94LnRzIiwid2VicGFjazovL1JlbW90ZVN0b3JhZ2UvLi9zcmMvZGlzY292ZXIudHMiLCJ3ZWJwYWNrOi8vUmVtb3RlU3RvcmFnZS8uL3NyYy9lbnYudHMiLCJ3ZWJwYWNrOi8vUmVtb3RlU3RvcmFnZS8uL3NyYy9yZW1vdGVzdG9yYWdlLnRzIiwid2VicGFjazovL1JlbW90ZVN0b3JhZ2UvLi9ub2RlX21vZHVsZXMvYnVmZmVyL2luZGV4LmpzIiwid2VicGFjazovL1JlbW90ZVN0b3JhZ2UvLi9ub2RlX21vZHVsZXMvYmFzZTY0LWpzL2luZGV4LmpzIiwid2VicGFjazovL1JlbW90ZVN0b3JhZ2UvLi9ub2RlX21vZHVsZXMvaWVlZTc1NC9pbmRleC5qcyIsIndlYnBhY2s6Ly9SZW1vdGVTdG9yYWdlLy4vbm9kZV9tb2R1bGVzL2lzYXJyYXkvaW5kZXguanMiLCJ3ZWJwYWNrOi8vUmVtb3RlU3RvcmFnZS8uL25vZGVfbW9kdWxlcy90djQvdHY0LmpzIiwid2VicGFjazovL1JlbW90ZVN0b3JhZ2UvLi9zcmMvdHlwZXMudHMiLCJ3ZWJwYWNrOi8vUmVtb3RlU3RvcmFnZS8uL3NyYy9zY2hlbWEtbm90LWZvdW5kLWVycm9yLnRzIiwid2VicGFjazovL1JlbW90ZVN0b3JhZ2UvLi9zcmMvcmV2aXNpb25jYWNoZS50cyIsIndlYnBhY2s6Ly9SZW1vdGVTdG9yYWdlLy4vbm9kZV9tb2R1bGVzL3dlYmZpbmdlci5qcy9zcmMvd2ViZmluZ2VyLmpzIiwid2VicGFjazovL1JlbW90ZVN0b3JhZ2UvLi9ub2RlX21vZHVsZXMvd2ViZmluZ2VyLmpzL25vZGVfbW9kdWxlcy94aHIyL2xpYi9icm93c2VyLmpzIiwid2VicGFjazovL1JlbW90ZVN0b3JhZ2UvLi9zcmMvZmVhdHVyZXMudHMiLCJ3ZWJwYWNrOi8vUmVtb3RlU3RvcmFnZS8uL3NyYy9zeW5jZWRnZXRwdXRkZWxldGUudHMiLCJ3ZWJwYWNrOi8vUmVtb3RlU3RvcmFnZS8uL3NyYy9zeW5jLnRzIiwid2VicGFjazovL1JlbW90ZVN0b3JhZ2UvLi9zcmMvaW5kZXhlZGRiLnRzIiwid2VicGFjazovL1JlbW90ZVN0b3JhZ2UvLi9zcmMvbG9jYWxzdG9yYWdlLnRzIiwid2VicGFjazovL1JlbW90ZVN0b3JhZ2UvLi9zcmMvaW5tZW1vcnlzdG9yYWdlLnRzIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsImRlZmluZSIsImFtZCIsInRoaXMiLCJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwibG9nRXJyb3IiLCJlcnJvciIsImNvbnNvbGUiLCJtZXNzYWdlIiwic3RhY2siLCJnbG9iYWxDb250ZXh0Iiwid2luZG93Iiwic2VsZiIsImdsb2JhbCIsImdldEdsb2JhbENvbnRleHQiLCJleHRlbmQiLCJhcmdzIiwidGFyZ2V0IiwiQXJyYXkiLCJzbGljZSIsImZvckVhY2giLCJzb3VyY2UiLCJjb250YWluaW5nRm9sZGVyIiwicGF0aCIsInJlcGxhY2UiLCJpc0ZvbGRlciIsInN1YnN0ciIsImlzRG9jdW1lbnQiLCJiYXNlTmFtZSIsInBhcnRzIiwic3BsaXQiLCJsZW5ndGgiLCJjbGVhblBhdGgiLCJtYXAiLCJlbmNvZGVVUklDb21wb25lbnQiLCJqb2luIiwiYmluZEFsbCIsImVxdWFsIiwiYSIsImIiLCJzZWVuIiwidG9TdHJpbmciLCJBcnJheUJ1ZmZlciIsIlVpbnQ4QXJyYXkiLCJzZWVuQXJnIiwiaW5kZXhPZiIsInB1c2giLCJkZWVwQ2xvbmUiLCJvYmoiLCJ1bmRlZmluZWQiLCJjbG9uZSIsIkpTT04iLCJwYXJzZSIsInN0cmluZ2lmeSIsIl9maXhBcnJheUJ1ZmZlcnMiLCJzcmNPYmoiLCJkc3RPYmoiLCJpc0FycmF5IiwiZmllbGQiLCJieXRlTGVuZ3RoIiwic3JjQXJyIiwiSW50OEFycmF5Iiwic2V0IiwicGF0aHNGcm9tUm9vdCIsInBhdGhzIiwicG9wIiwibG9jYWxTdG9yYWdlQXZhaWxhYmxlIiwiY29udGV4dCIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJyZW1vdmVJdGVtIiwiZ2V0SlNPTkZyb21Mb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiZSIsInNob3VsZEJlVHJlYXRlZEFzQmluYXJ5IiwiY29udGVudCIsIm1pbWVUeXBlIiwibWF0Y2giLCJ0ZXN0IiwiZ2V0VGV4dEZyb21BcnJheUJ1ZmZlciIsImFycmF5QnVmZmVyIiwiZW5jb2RpbmciLCJQcm9taXNlIiwicmVzb2x2ZSIsIkJsb2IiLCJidWZmZXIiLCJCdWZmZXIiLCJibG9iIiwiZ2MiLCJCbG9iQnVpbGRlciIsIldlYktpdEJsb2JCdWlsZGVyIiwiYmIiLCJhcHBlbmQiLCJnZXRCbG9iIiwiZmlsZVJlYWRlciIsIkZpbGVSZWFkZXIiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZ0IiwicmVzdWx0Iiwib25sb2FkZW5kIiwicmVhZEFzVGV4dCIsInRvQmFzZTY0Iiwic3RyIiwiZnJvbSIsImRlcml2ZWRDdG9yIiwiYmFzZUN0b3JzIiwiYmFzZUN0b3IiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwibG9nZ2luZyIsImxvZyIsImFkZGl0aW9uYWxFdmVudHMiLCJldk5hbWUiLCJfYWRkRXZlbnQiLCJldmVudE5hbWUiLCJoYW5kbGVyIiwiRXJyb3IiLCJfdmFsaWRhdGVFdmVudCIsIl9oYW5kbGVycyIsImhsIiwic3BsaWNlIiwiYXBwbHkiLCJvbiIsImV2ZW50IiwiX2VtaXQiLCJjb25maWciLCJjYWNoZSIsImNoYW5nZUV2ZW50cyIsImxvY2FsIiwicmVtb3RlIiwiY29uZmxpY3QiLCJjb3Jkb3ZhUmVkaXJlY3RVcmkiLCJiYWNrZ3JvdW5kU3luY0ludGVydmFsIiwiZGlzYWJsZUZlYXR1cmVzIiwiZGlzY292ZXJ5VGltZW91dCIsImlzQmFja2dyb3VuZCIsInJlcXVlc3RUaW1lb3V0Iiwic3luY0ludGVydmFsIiwiVW5hdXRob3JpemVkRXJyb3IiLCJvcHRpb25zIiwic3VwZXIiLCJjb2RlIiwiZyIsIkZ1bmN0aW9uIiwib25GZWF0dXJlc0xvYWRlZCIsImV4dHJhY3RQYXJhbXMiLCJ1cmwiLCJsb2NhdGlvbiIsIkF1dGhvcml6ZSIsImdldExvY2F0aW9uIiwiaHJlZiIsImhhc2hQb3MiLCJ1cmxGcmFnbWVudCIsInN1YnN0cmluZyIsImluY2x1ZGVzIiwicmVkdWNlIiwicGFyYW1zIiwia3ZzIiwia3YiLCJzdGF0ZVZhbHVlIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwiZW5jb2RlZERhdGEiLCJhdG9iIiwiUmVnRXhwIiwicmVtb3RlU3RvcmFnZSIsImF1dGhVUkwiLCJzY29wZSIsInJlZGlyZWN0VXJpIiwiY2xpZW50SWQiLCJiYWNrZW5kIiwiZGlzY292ZXJ5RGF0YSIsInVzZXJBZGRyZXNzIiwic3RvcmFnZUFwaSIsInByb3BlcnRpZXMiLCJidWlsZE9BdXRoVVJMIiwib3BlbldpbmRvdyIsInRoZW4iLCJhdXRoUmVzdWx0IiwiY29uZmlndXJlIiwidG9rZW4iLCJhY2Nlc3NfdG9rZW4iLCJzZXRMb2NhdGlvbiIsImRvY3VtZW50IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIklNUExJRURfRkFLRV9UT0tFTiIsInJlamVjdCIsIm5ld1dpbmRvdyIsIm9wZW4iLCJjbG9zZWQiLCJoYW5kbGVFeGl0IiwiY2xvc2UiLCJfcnNfaW5pdCIsImhhc2giLCJhdXRoUGFyYW1zVXNlZCIsInJzRGlzY292ZXJ5IiwicmVtb3Rlc3RvcmFnZSIsImNvbm5lY3QiLCJzdGF0ZSIsInN0b3BXYWl0aW5nRm9yVG9rZW4iLCJCYXNlQ2xpZW50Iiwic3RvcmFnZSIsImJhc2UiLCJtYWtlUGF0aCIsIm1vZHVsZU5hbWUiLCJhZGRFdmVudHMiLCJvbkNoYW5nZSIsIl9maXJlQ2hhbmdlIiwiVHlwZXMiLCJnZXRMaXN0aW5nIiwibWF4QWdlIiwic3RhdHVzQ29kZSIsImJvZHkiLCJnZXRBbGwiLCJrZXlzIiwiY2FsbHMiLCJhbGwiLCJnZXRGaWxlIiwiZGF0YSIsImNvbnRlbnRUeXBlIiwicmV2aXNpb24iLCJzdG9yZUZpbGUiLCJhY2Nlc3MiLCJjaGVja1BhdGhQZXJtaXNzaW9uIiwid2FybiIsInB1dCIsImdldE9iamVjdCIsInN0b3JlT2JqZWN0IiwidHlwZUFsaWFzIiwiX2F0dGFjaFR5cGUiLCJ2YWxpZGF0aW9uUmVzdWx0IiwidmFsaWRhdGUiLCJ2YWxpZCIsImV4YyIsInJlbW92ZSIsImRlbGV0ZSIsImdldEl0ZW1VUkwiLCJjb25uZWN0ZWQiLCJzdHJhdGVneSIsImNhY2hpbmciLCJmbHVzaCIsImRlY2xhcmVUeXBlIiwiYWxpYXMiLCJ1cmlPclNjaGVtYSIsInNjaGVtYSIsInVyaSIsIl9kZWZhdWx0VHlwZVVSSSIsImRlY2xhcmUiLCJnZXRTY2hlbWEiLCJ2YWxpZGF0ZVJlc3VsdCIsInNjaGVtYXMiLCJjb25maWd1cmFibGUiLCJpblNjb3BlIiwicmVzb2x2ZUFsaWFzIiwib3JpZ2luIiwiZmllbGROYW1lUHJlZml4IiwiZXhlYyIsImFwcGx5TWl4aW5zIiwiaGFzTG9jYWxTdG9yYWdlIiwiU0VUVElOR1NfS0VZIiwiU1RPUkFHRV9BUElTIiwiaXNBcnJheUJ1ZmZlclZpZXciLCJBcnJheUJ1ZmZlclZpZXciLCJhcnJheUJ1ZmZlclZpZXdzIiwiSW50MTZBcnJheSIsIlVpbnQxNkFycmF5IiwiSW50MzJBcnJheSIsIlVpbnQzMkFycmF5IiwiRmxvYXQzMkFycmF5IiwiRmxvYXQ2NEFycmF5IiwiYWRkUXVvdGVzIiwic3RyaXBRdW90ZXMiLCJXaXJlQ2xpZW50IiwicnMiLCJzZXR0aW5ncyIsInNldFRpbWVvdXQiLCJfcmV2aXNpb25DYWNoZSIsIl9yZXF1ZXN0IiwibWV0aG9kIiwiaGVhZGVycyIsImdldEV0YWciLCJmYWtlUmV2aXNpb24iLCJpc0ZvcmJpZGRlblJlcXVlc3RNZXRob2QiLCJyZXF1ZXN0IiwicmVzcG9uc2VUeXBlIiwicmVzcG9uc2UiLCJvbmxpbmUiLCJzdWNjZXNzIiwic3RhdHVzIiwiZ2V0UmVzcG9uc2VIZWFkZXIiLCJpc1N1Y2Nlc3NTdGF0dXMiLCJjaGFyc2V0IiwiY2hhcnNldE1hdGNoIiwiZGV0ZXJtaW5lQ2hhcnNldCIsInRleHRDb250ZW50IiwiX3N0b3JhZ2VBcGkiLCJzdXBwb3J0c1JldnMiLCJpZk5vbmVNYXRjaCIsIml0ZW1zTWFwIiwiaXRlbSIsIml0ZW1zIiwiRVRhZyIsImlmTWF0Y2giLCJmZXRjaCIsIl9mZXRjaFJlcXVlc3QiLCJYTUxIdHRwUmVxdWVzdCIsIl94aHJSZXF1ZXN0Iiwic3ludGhldGljWGhyIiwicmVzcG9uc2VIZWFkZXJzIiwiYWJvcnRDb250cm9sbGVyIiwiQWJvcnRDb250cm9sbGVyIiwibmV0d29ya1Byb21pc2UiLCJzaWduYWwiLCJoZWFkZXJOYW1lIiwidG9VcHBlckNhc2UiLCJyZWFkeVN0YXRlIiwic3RhdHVzVGV4dCIsInJlc3BvbnNlVVJMIiwianNvbiIsInRleHQiLCJwcm9jZXNzZWRCb2R5IiwicmVzcG9uc2VUZXh0IiwidGltZW91dFByb21pc2UiLCJhYm9ydCIsInJhY2UiLCJ0aW1lZE91dCIsInRpbWVyIiwieGhyIiwic2V0UmVxdWVzdEhlYWRlciIsIm9ubG9hZCIsImNsZWFyVGltZW91dCIsIm9uZXJyb3IiLCJzZW5kIiwic3BlYyIsIl9yc19zdXBwb3J0ZWQiLCJfcnNfY2xlYW51cCIsIlN5bmNFcnJvciIsIm9yaWdpbmFsRXJyb3IiLCJDYWNoaW5nTGF5ZXIiLCJfdXBkYXRlTm9kZXNSdW5uaW5nIiwiX3VwZGF0ZU5vZGVzUXVldWVkIiwicXVldWVHZXRSZXF1ZXN0IiwiZ2V0Tm9kZXMiLCJvYmpzIiwibm9kZSIsImdldExhdGVzdCIsImlzT3V0ZGF0ZWQiLCJfdXBkYXRlTm9kZXMiLCJub2RlUGF0aHMiLCJub2RlcyIsImxlbiIsIm5vZGVQYXRoIiwicHJldmlvdXMiLCJtYWtlTm9kZSIsInByZXZpb3VzQm9keSIsInByZXZpb3VzQ29udGVudFR5cGUiLCJ1cGRhdGVGb2xkZXJOb2RlV2l0aEl0ZW1OYW1lIiwiY29tbW9uIiwiaXRlbU5hbWUiLCJfZ2V0QWxsRGVzY2VuZGVudFBhdGhzIiwiX2VtaXRDaGFuZ2UiLCJvbGRWYWx1ZSIsIm5ld1ZhbHVlIiwic2V0Tm9kZXMiLCJmb3JBbGxOb2RlcyIsImxhdGVzdCIsIm9sZENvbnRlbnRUeXBlIiwibmV3Q29udGVudFR5cGUiLCJkaWZmSGFuZGxlciIsIl9wcm9jZXNzTm9kZXMiLCJfZG9VcGRhdGVOb2RlcyIsInByb21pc2UiLCJjYiIsImV4aXN0aW5nTm9kZXMiLCJfZW1pdENoYW5nZUV2ZW50cyIsImVyciIsIm5leHRKb2IiLCJzaGlmdCIsImV2ZW50cyIsImFsbFBhdGhzIiwibm9kZVZlcnNpb24iLCJ0aW1lc3RhbXAiLCJEYXRlIiwiZ2V0VGltZSIsInJlc2V0Iiwic2NvcGVNb2RlTWFwIiwic2NvcGVzIiwiX3Njb3BlTmFtZUZvclBhcmFtZXRlciIsIl9hZGp1c3RSb290UGF0aHMiLCJzYXZlZE1hcCIsImNsYWltIiwiYWN0dWFsTW9kZSIsImNoZWNrUGVybWlzc2lvbiIsIl9nZXRNb2R1bGVOYW1lIiwicm9vdFBhdGhzIiwibW9kdWxlTWF0Y2giLCJuZXdTY29wZSIsInN0b3JhZ2VUeXBlIiwidHlwZSIsInBlbmRpbmdBY3RpdmF0aW9ucyIsIl9yb290UGF0aHMiLCJhY3RpdmF0ZUhhbmRsZXIiLCJjaGVja1BhdGgiLCJCQVNFX1VSTCIsIm1ldGFUaXRsZUZyb21GaWxlTmFtZSIsImZpbGVuYW1lIiwicGFyZW50UGF0aCIsImdvb2dsZURyaXZlUGF0aCIsInJlbW92ZVF1b3RlcyIsIkZpbGVJZENhY2hlIiwiX2l0ZW1zIiwibm93IiwidiIsIkdvb2dsZURyaXZlIiwiX2ZpbGVJZENhY2hlIiwid3JpdGVTZXR0aW5nc1RvQ2FjaGUiLCJoYW5kbGVFcnJvciIsImluZm8iLCJ1c2VyIiwiZW1haWxBZGRyZXNzIiwiY2F0Y2giLCJzZXRCYWNrZW5kIiwiYXV0aG9yaXplIiwiX2dldEZvbGRlciIsIl9nZXRGaWxlIiwiZnVsbFBhdGgiLCJwdXREb25lIiwibWV0YSIsImV0YWdXaXRob3V0UXVvdGVzIiwiZXRhZyIsIl9nZXRGaWxlSWQiLCJpZCIsIl91cGRhdGVGaWxlIiwiX2NyZWF0ZUZpbGUiLCJfZ2V0TWV0YSIsInJlc3AiLCJtZXRhZGF0YSIsIl9nZXRQYXJlbnRJZCIsInBhcmVudElkIiwidGl0bGUiLCJwYXJlbnRzIiwia2luZCIsImRvd25sb2FkVXJsIiwiZXhwb3J0TGlua3MiLCJxdWVyeSIsImZpbGVTaXplIiwiZm9sZGVybmFtZSIsIl9jcmVhdGVGb2xkZXIiLCJhcGlLZXlzIiwiZ29vZ2xlZHJpdmUiLCJfb3JpZ1JlbW90ZSIsIl9vcmlnQmFzZUNsaWVudEdldEl0ZW1VUkwiLCJnZXREcm9wYm94UGF0aCIsIlBBVEhfUFJFRklYIiwiY29tcGFyZUFwaUVycm9yIiwiZXhwZWN0IiwiZXJyb3Jfc3VtbWFyeSIsImlzQmluYXJ5RGF0YSIsIkRyb3Bib3giLCJfaW5pdGlhbEZldGNoRG9uZSIsImRyb3Bib3giLCJhcHBLZXkiLCJfcmV2Q2FjaGUiLCJfZmV0Y2hEZWx0YUN1cnNvciIsIl9mZXRjaERlbHRhUHJvbWlzZSIsIl9pdGVtUmVmcyIsImhvb2tJdCIsImVtYWlsIiwicmV2Q2FjaGUiLCJwcm9jZXNzUmVzcG9uc2UiLCJsaXN0aW5nIiwiZW50cmllcyIsImlzRGlyIiwicGF0aF9sb3dlciIsInJldiIsImhhc19tb3JlIiwibG9hZE5leHQiLCJjdXJzb3IiLCJuZXh0TGlzdGluZyIsImFzc2lnbiIsInNhdmVkUmV2IiwiZmV0Y2hEZWx0YSIsIm1pbWUiLCJfc2hhcmVJZk5lZWRlZCIsIm5lZWRzTWV0YWRhdGEiLCJ1cGxvYWRQYXJhbXMiLCJfZ2V0TWV0YWRhdGEiLCJfdXBsb2FkU2ltcGxlIiwicmVzIiwiX2RlbGV0ZVNpbXBsZSIsInNoYXJlIiwiX2dldFNoYXJlZExpbmsiLCJsaW5rIiwicmVxdWVzdEJvZHkiLCJyZWN1cnNpdmUiLCJpbmNsdWRlX2RlbGV0ZWQiLCJyZXNwb25zZUJvZHkiLCJkZWFjdGl2YXRlUHJvcGFnYXRpb24iLCJlbnRyeSIsImFjdGl2YXRlUHJvcGFnYXRpb24iLCJQcm9ncmVzc0V2ZW50IiwidXBkYXRlIiwibXV0ZSIsImRpcmVjdF9vbmx5IiwibGlua3MiLCJ1bkhvb2tSZW1vdGUiLCJfZHJvcGJveE9yaWdTeW5jIiwic3luYyIsInVuSG9va1N5bmMiLCJ1bkhvb2tHZXRJdGVtVVJMIiwidW5Ib29rU3luY0N5Y2xlIiwidW5Ib29rSXQiLCJob29rU3luYyIsIl9kcm9wYm94T3JpZ1N5bmNDeWNsZSIsInN5bmNDeWNsZSIsImhvb2tSZW1vdGUiLCJob29rU3luY0N5Y2xlIiwiaG9va0dldEl0ZW1VUkwiLCJoYXZlWE1MSHR0cFJlcXVlc3QiLCJjYWNoZWRJbmZvIiwiRGlzY292ZXIiLCJ0bHNfb25seSIsInVyaV9mYWxsYmFjayIsInJlcXVlc3RfdGltZW91dCIsImxvb2t1cCIsImlkeCIsIkRpc2NvdmVyeUVycm9yIiwiY29uc3RydWN0b3IiLCJFbnYiLCJzZXRCcm93c2VyUHJlZml4ZWROYW1lcyIsInZpc2liaWxpdHlDaGFuZ2VFdmVudCIsInNldFZpc2liaWxpdHkiLCJoaWRkZW4iLCJoaWRkZW5Qcm9wZXJ0eSIsImdvQmFja2dyb3VuZCIsImdvRm9yZWdyb3VuZCIsImVtaXRVbmF1dGhvcml6ZWQiLCJpc1ZhbGlkSW50ZXJ2YWwiLCJpbnRlcnZhbCIsIlJlbW90ZVN0b3JhZ2UiLCJjZmciLCJfcGVuZGluZyIsIl9jbGVhbnVwcyIsIl9wYXRoSGFuZGxlcnMiLCJjaGFuZ2UiLCJfaW5pdCIsImxvYWRGZWF0dXJlcyIsImZlYXR1cmVzIiwibG9hZEZlYXR1cmUiLCJmZWF0dXJlU3VwcG9ydGVkIiwiZmVhdHVyZURvbmUiLCJmZWF0dXJlc0RvbmUiLCJmZWF0dXJlc0xvYWRlZCIsImZlYXR1cmVJbml0aWFsaXplZCIsImZlYXR1cmVGYWlsZWQiLCJoYXNGZWF0dXJlIiwiX3NldENhY2hpbmdNb2R1bGUiLCJfY29sbGVjdENsZWFudXBGdW5jdGlvbnMiLCJfZmlyZVJlYWR5IiwiaW5pdEZlYXR1cmUiLCJfc2V0R1BEIiwiX3BlbmRpbmdHUEQiLCJvcmlnT24iLCJfYWxsTG9hZGVkIiwiZmlyZUluaXRpYWwiLCJsb2FkTW9kdWxlcyIsImFkZE1vZHVsZSIsInNldFN0b3JhZ2VUeXBlIiwic2NvcGVQYXJhbWV0ZXIiLCJjb3Jkb3ZhIiwiU3RyaW5nIiwiSW5BcHBCcm93c2VyIiwiaW1wbGllZGF1dGgiLCJvbmVEb25lIiwiY2xlYW51cCIsImNsZWFudXBSZXN1bHQiLCJ3aGF0IiwidmFsaWRUeXBlcyIsImV2ZXJ5IiwiaW1wbCIsIndyYXAiLCJmdW5jIiwibWV0aG9kTmFtZSIsIm1ldGhvZEFyZ3VtZW50cyIsInBlbmRpbmciLCJfZGlzcGF0Y2hFdmVudCIsInBsIiwiZXYiLCJyZWxhdGl2ZVBhdGgiLCJlc2NhcGVkUGF0aCIsInRpbWVvdXQiLCJzdG9wcGVkIiwiX3N5bmNUaW1lciIsImdldEN1cnJlbnRTeW5jSW50ZXJ2YWwiLCJzeW5jU3RvcHBlZCIsIm1vZHVsZUJ1aWxkZXIiLCJidWlsZGVyIiwiaW5zdGFuY2UiLCJfbG9hZE1vZHVsZSIsImNhbWVsaXplZE5hbWUiLCJVbmF1dGhvcml6ZWQiLCJ1dGlsIiwiYmFzZTY0IiwiaWVlZTc1NCIsImtNYXhMZW5ndGgiLCJUWVBFRF9BUlJBWV9TVVBQT1JUIiwiY3JlYXRlQnVmZmVyIiwidGhhdCIsIlJhbmdlRXJyb3IiLCJfX3Byb3RvX18iLCJhcmciLCJlbmNvZGluZ09yT2Zmc2V0IiwiYWxsb2NVbnNhZmUiLCJUeXBlRXJyb3IiLCJhcnJheSIsImJ5dGVPZmZzZXQiLCJmcm9tQXJyYXlMaWtlIiwiZnJvbUFycmF5QnVmZmVyIiwic3RyaW5nIiwiaXNFbmNvZGluZyIsImFjdHVhbCIsIndyaXRlIiwiZnJvbVN0cmluZyIsImlzQnVmZmVyIiwiY2hlY2tlZCIsImNvcHkiLCJ2YWwiLCJmcm9tT2JqZWN0IiwiYXNzZXJ0U2l6ZSIsInNpemUiLCJpc1ZpZXciLCJsb3dlcmVkQ2FzZSIsInV0ZjhUb0J5dGVzIiwiYmFzZTY0VG9CeXRlcyIsInRvTG93ZXJDYXNlIiwic2xvd1RvU3RyaW5nIiwic3RhcnQiLCJlbmQiLCJoZXhTbGljZSIsInV0ZjhTbGljZSIsImFzY2lpU2xpY2UiLCJsYXRpbjFTbGljZSIsImJhc2U2NFNsaWNlIiwidXRmMTZsZVNsaWNlIiwic3dhcCIsImJpZGlyZWN0aW9uYWxJbmRleE9mIiwiZGlyIiwiaXNOYU4iLCJhcnJheUluZGV4T2YiLCJsYXN0SW5kZXhPZiIsImFyciIsImluZGV4U2l6ZSIsImFyckxlbmd0aCIsInZhbExlbmd0aCIsInJlYWQiLCJidWYiLCJyZWFkVUludDE2QkUiLCJmb3VuZEluZGV4IiwiZm91bmQiLCJqIiwiaGV4V3JpdGUiLCJvZmZzZXQiLCJOdW1iZXIiLCJyZW1haW5pbmciLCJzdHJMZW4iLCJwYXJzZWQiLCJwYXJzZUludCIsInV0ZjhXcml0ZSIsImJsaXRCdWZmZXIiLCJhc2NpaVdyaXRlIiwiYnl0ZUFycmF5IiwiY2hhckNvZGVBdCIsImFzY2lpVG9CeXRlcyIsImxhdGluMVdyaXRlIiwiYmFzZTY0V3JpdGUiLCJ1Y3MyV3JpdGUiLCJ1bml0cyIsImhpIiwibG8iLCJ1dGYxNmxlVG9CeXRlcyIsImZyb21CeXRlQXJyYXkiLCJNYXRoIiwibWluIiwic2Vjb25kQnl0ZSIsInRoaXJkQnl0ZSIsImZvdXJ0aEJ5dGUiLCJ0ZW1wQ29kZVBvaW50IiwiZmlyc3RCeXRlIiwiY29kZVBvaW50IiwiYnl0ZXNQZXJTZXF1ZW5jZSIsImNvZGVQb2ludHMiLCJmcm9tQ2hhckNvZGUiLCJkZWNvZGVDb2RlUG9pbnRzQXJyYXkiLCJTbG93QnVmZmVyIiwiYWxsb2MiLCJJTlNQRUNUX01BWF9CWVRFUyIsImZvbyIsInN1YmFycmF5IiwidHlwZWRBcnJheVN1cHBvcnQiLCJwb29sU2l6ZSIsIl9hdWdtZW50Iiwic3BlY2llcyIsImZpbGwiLCJhbGxvY1Vuc2FmZVNsb3ciLCJfaXNCdWZmZXIiLCJjb21wYXJlIiwieCIsInkiLCJjb25jYXQiLCJsaXN0IiwicG9zIiwic3dhcDE2Iiwic3dhcDMyIiwic3dhcDY0IiwiYXJndW1lbnRzIiwiZXF1YWxzIiwiaW5zcGVjdCIsIm1heCIsInRoaXNTdGFydCIsInRoaXNFbmQiLCJ0aGlzQ29weSIsInRhcmdldENvcHkiLCJpc0Zpbml0ZSIsInRvSlNPTiIsIl9hcnIiLCJyZXQiLCJvdXQiLCJ0b0hleCIsImJ5dGVzIiwiY2hlY2tPZmZzZXQiLCJleHQiLCJjaGVja0ludCIsIm9iamVjdFdyaXRlVUludDE2IiwibGl0dGxlRW5kaWFuIiwib2JqZWN0V3JpdGVVSW50MzIiLCJjaGVja0lFRUU3NTQiLCJ3cml0ZUZsb2F0Iiwibm9Bc3NlcnQiLCJ3cml0ZURvdWJsZSIsIm5ld0J1ZiIsInNsaWNlTGVuIiwicmVhZFVJbnRMRSIsIm11bCIsInJlYWRVSW50QkUiLCJyZWFkVUludDgiLCJyZWFkVUludDE2TEUiLCJyZWFkVUludDMyTEUiLCJyZWFkVUludDMyQkUiLCJyZWFkSW50TEUiLCJwb3ciLCJyZWFkSW50QkUiLCJyZWFkSW50OCIsInJlYWRJbnQxNkxFIiwicmVhZEludDE2QkUiLCJyZWFkSW50MzJMRSIsInJlYWRJbnQzMkJFIiwicmVhZEZsb2F0TEUiLCJyZWFkRmxvYXRCRSIsInJlYWREb3VibGVMRSIsInJlYWREb3VibGVCRSIsIndyaXRlVUludExFIiwid3JpdGVVSW50QkUiLCJ3cml0ZVVJbnQ4IiwiZmxvb3IiLCJ3cml0ZVVJbnQxNkxFIiwid3JpdGVVSW50MTZCRSIsIndyaXRlVUludDMyTEUiLCJ3cml0ZVVJbnQzMkJFIiwid3JpdGVJbnRMRSIsImxpbWl0Iiwic3ViIiwid3JpdGVJbnRCRSIsIndyaXRlSW50OCIsIndyaXRlSW50MTZMRSIsIndyaXRlSW50MTZCRSIsIndyaXRlSW50MzJMRSIsIndyaXRlSW50MzJCRSIsIndyaXRlRmxvYXRMRSIsIndyaXRlRmxvYXRCRSIsIndyaXRlRG91YmxlTEUiLCJ3cml0ZURvdWJsZUJFIiwidGFyZ2V0U3RhcnQiLCJJTlZBTElEX0JBU0U2NF9SRSIsIkluZmluaXR5IiwibGVhZFN1cnJvZ2F0ZSIsInRvQnl0ZUFycmF5IiwidHJpbSIsInN0cmluZ3RyaW0iLCJiYXNlNjRjbGVhbiIsInNyYyIsImRzdCIsImI2NCIsImxlbnMiLCJnZXRMZW5zIiwidmFsaWRMZW4iLCJwbGFjZUhvbGRlcnNMZW4iLCJ0bXAiLCJBcnIiLCJfYnl0ZUxlbmd0aCIsImN1ckJ5dGUiLCJyZXZMb29rdXAiLCJ1aW50OCIsImV4dHJhQnl0ZXMiLCJsZW4yIiwiZW5jb2RlQ2h1bmsiLCJudW0iLCJvdXRwdXQiLCJpc0xFIiwibUxlbiIsIm5CeXRlcyIsImVMZW4iLCJlTWF4IiwiZUJpYXMiLCJuQml0cyIsIk5hTiIsInJ0IiwiYWJzIiwiTE4yIiwiaGFzRG9udEVudW1CdWciLCJkb250RW51bXMiLCJkb250RW51bXNMZW5ndGgiLCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsInByb3AiLCJGIiwidkFyZyIsInNlYXJjaEVsZW1lbnQiLCJrIiwiaXNGcm96ZW4iLCJyYW5kb20iLCJ1cmlUZW1wbGF0ZUdsb2JhbE1vZGlmaWVycyIsInVyaVRlbXBsYXRlU3VmZmljZXMiLCJub3RSZWFsbHlQZXJjZW50RW5jb2RlIiwiZW5jb2RlVVJJIiwiZG91YmxlRW5jb2RlZCIsInVyaVRlbXBsYXRlU3Vic3RpdHV0aW9uIiwibW9kaWZpZXIiLCJjaGFyQXQiLCJzZXBhcmF0b3IiLCJwcmVmaXgiLCJzaG91bGRFc2NhcGUiLCJzaG93VmFyaWFibGVzIiwidHJpbUVtcHR5U3RyaW5nIiwidmFyTmFtZXMiLCJ2YXJMaXN0IiwidmFyU3BlY3MiLCJ2YXJTcGVjTWFwIiwidmFyTmFtZSIsInRydW5jYXRlIiwic3VmZmljZXMiLCJ2YXJTcGVjIiwic3ViRnVuY3Rpb24iLCJ2YWx1ZUZ1bmN0aW9uIiwic3RhcnRJbmRleCIsImZpcnN0Iiwic3Vic3RpdHV0aW9uIiwiVXJpVGVtcGxhdGUiLCJ0ZW1wbGF0ZSIsInRleHRQYXJ0cyIsInByZWZpeGVzIiwic3Vic3RpdHV0aW9ucyIsInBhcnQiLCJyZW1haW5kZXIiLCJmdW5jcyIsImZpbGxGcm9tT2JqZWN0IiwiVmFsaWRhdG9yQ29udGV4dCIsInBhcmVudCIsImNvbGxlY3RNdWx0aXBsZSIsImVycm9yUmVwb3J0ZXIiLCJjaGVja1JlY3Vyc2l2ZSIsInRyYWNrVW5rbm93blByb3BlcnRpZXMiLCJtaXNzaW5nIiwibWlzc2luZ01hcCIsImZvcm1hdFZhbGlkYXRvcnMiLCJlcnJvcnMiLCJjb2xsZWN0RXJyb3IiLCJyZXR1cm5FcnJvciIsInNjYW5uZWQiLCJzY2FubmVkRnJvemVuIiwic2Nhbm5lZEZyb3plblNjaGVtYXMiLCJzY2FubmVkRnJvemVuVmFsaWRhdGlvbkVycm9ycyIsInZhbGlkYXRlZFNjaGVtYXNLZXkiLCJ2YWxpZGF0aW9uRXJyb3JzS2V5Iiwia25vd25Qcm9wZXJ0eVBhdGhzIiwidW5rbm93blByb3BlcnR5UGF0aHMiLCJkZWZhdWx0RXJyb3JSZXBvcnRlciIsImRlZmluZWRLZXl3b3JkcyIsInJlY3Vyc2l2ZUNvbXBhcmUiLCJBIiwiQiIsImRlZmluZUtleXdvcmQiLCJrZXl3b3JkIiwia2V5d29yZEZ1bmN0aW9uIiwiY3JlYXRlRXJyb3IiLCJtZXNzYWdlUGFyYW1zIiwiZGF0YVBhdGgiLCJzY2hlbWFQYXRoIiwic3ViRXJyb3JzIiwiVmFsaWRhdGlvbkVycm9yIiwicHJlZml4RXJyb3JzIiwicHJlZml4V2l0aCIsImJhblVua25vd25Qcm9wZXJ0aWVzIiwidW5rbm93blBhdGgiLCJFcnJvckNvZGVzIiwiVU5LTk9XTl9QUk9QRVJUWSIsImFkZEZvcm1hdCIsImZvcm1hdCIsInZhbGlkYXRvciIsInJlc29sdmVSZWZzIiwidXJsSGlzdG9yeSIsIkNJUkNVTEFSX1JFRkVSRU5DRSIsInVybHMiLCJiYXNlVXJsIiwiZnJhZ21lbnQiLCJwb2ludGVyUGF0aCIsImNvbXBvbmVudCIsInNlYXJjaFNjaGVtYXMiLCJ0ZXN0VXJsIiwiaXNUcnVzdGVkVXJsIiwiZ2V0RG9jdW1lbnRVcmkiLCJhZGRTY2hlbWEiLCJub3JtU2NoZW1hIiwiZ2V0U2NoZW1hTWFwIiwiZ2V0U2NoZW1hVXJpcyIsImZpbHRlclJlZ0V4cCIsImdldE1pc3NpbmdVcmlzIiwiZHJvcFNjaGVtYXMiLCJ2YWxpZGF0ZUFsbCIsImRhdGFQYXRoUGFydHMiLCJzY2hlbWFQYXRoUGFydHMiLCJkYXRhUG9pbnRlclBhdGgiLCJ0b3BMZXZlbCIsImZyb3plbkluZGV4Iiwic3RhcnRFcnJvckNvdW50Iiwic2Nhbm5lZEZyb3plblNjaGVtYUluZGV4Iiwic2Nhbm5lZFNjaGVtYXNJbmRleCIsInNjaGVtYUluZGV4IiwiZnJvemVuU2NoZW1hSW5kZXgiLCJlcnJvckNvdW50IiwidmFsaWRhdGVCYXNpYyIsInZhbGlkYXRlTnVtZXJpYyIsInZhbGlkYXRlU3RyaW5nIiwidmFsaWRhdGVBcnJheSIsInZhbGlkYXRlT2JqZWN0IiwidmFsaWRhdGVDb21iaW5hdGlvbnMiLCJ2YWxpZGF0ZUh5cGVybWVkaWEiLCJ2YWxpZGF0ZUZvcm1hdCIsInZhbGlkYXRlRGVmaW5lZEtleXdvcmRzIiwiZGF0YVBhcnQiLCJzY2hlbWFQYXJ0IiwiZXJyb3JNZXNzYWdlIiwiRk9STUFUX0NVU1RPTSIsInZhbGlkYXRpb25GdW5jdGlvbnMiLCJLRVlXT1JEX0NVU1RPTSIsInZhbGlkYXRlVHlwZSIsInZhbGlkYXRlRW51bSIsImRhdGFUeXBlIiwiYWxsb3dlZFR5cGVzIiwiSU5WQUxJRF9UWVBFIiwiZXhwZWN0ZWQiLCJFTlVNX01JU01BVENIIiwidmFsaWRhdGVNdWx0aXBsZU9mIiwidmFsaWRhdGVNaW5NYXgiLCJ2YWxpZGF0ZU5hTiIsIkNMT1NFX0VOT1VHSF9MT1ciLCJDTE9TRV9FTk9VR0hfSElHSCIsInBhcnNlVVJJIiwicHJvdG9jb2wiLCJhdXRob3JpdHkiLCJob3N0IiwiaG9zdG5hbWUiLCJwb3J0IiwicGF0aG5hbWUiLCJzZWFyY2giLCJyZXNvbHZlVXJsIiwiaW5wdXQiLCJiYXNlVXJpIiwibGFuZ3VhZ2UiLCJlcnJvck1lc3NhZ2VzIiwibGFuZ3VhZ2VzIiwibWVzc2FnZVRlbXBsYXRlIiwiRXJyb3JNZXNzYWdlc0RlZmF1bHQiLCJ3aG9sZSIsInN1YlZhbHVlIiwibXVsdGlwbGVPZiIsImRpdmlzaWJsZUJ5IiwiTlVNQkVSX01VTFRJUExFX09GIiwibWluaW11bSIsIk5VTUJFUl9NSU5JTVVNIiwiZXhjbHVzaXZlTWluaW11bSIsIk5VTUJFUl9NSU5JTVVNX0VYQ0xVU0lWRSIsIm1heGltdW0iLCJOVU1CRVJfTUFYSU1VTSIsImV4Y2x1c2l2ZU1heGltdW0iLCJOVU1CRVJfTUFYSU1VTV9FWENMVVNJVkUiLCJOVU1CRVJfTk9UX0FfTlVNQkVSIiwidmFsaWRhdGVTdHJpbmdMZW5ndGgiLCJ2YWxpZGF0ZVN0cmluZ1BhdHRlcm4iLCJtaW5MZW5ndGgiLCJTVFJJTkdfTEVOR1RIX1NIT1JUIiwibWF4TGVuZ3RoIiwiU1RSSU5HX0xFTkdUSF9MT05HIiwicGF0dGVybiIsInJlZ2V4cCIsImZsYWdzIiwibGl0ZXJhbCIsIlNUUklOR19QQVRURVJOIiwidmFsaWRhdGVBcnJheUxlbmd0aCIsInZhbGlkYXRlQXJyYXlVbmlxdWVJdGVtcyIsInZhbGlkYXRlQXJyYXlJdGVtcyIsIm1pbkl0ZW1zIiwiQVJSQVlfTEVOR1RIX1NIT1JUIiwibWF4SXRlbXMiLCJBUlJBWV9MRU5HVEhfTE9ORyIsInVuaXF1ZUl0ZW1zIiwiQVJSQVlfVU5JUVVFIiwibWF0Y2gxIiwibWF0Y2gyIiwiYWRkaXRpb25hbEl0ZW1zIiwiQVJSQVlfQURESVRJT05BTF9JVEVNUyIsInZhbGlkYXRlT2JqZWN0TWluTWF4UHJvcGVydGllcyIsInZhbGlkYXRlT2JqZWN0UmVxdWlyZWRQcm9wZXJ0aWVzIiwidmFsaWRhdGVPYmplY3RQcm9wZXJ0aWVzIiwidmFsaWRhdGVPYmplY3REZXBlbmRlbmNpZXMiLCJtaW5Qcm9wZXJ0aWVzIiwiT0JKRUNUX1BST1BFUlRJRVNfTUlOSU1VTSIsInByb3BlcnR5Q291bnQiLCJtYXhQcm9wZXJ0aWVzIiwiT0JKRUNUX1BST1BFUlRJRVNfTUFYSU1VTSIsInJlcXVpcmVkIiwiT0JKRUNUX1JFUVVJUkVEIiwia2V5UG9pbnRlclBhdGgiLCJmb3VuZE1hdGNoIiwicGF0dGVyblByb3BlcnRpZXMiLCJwYXR0ZXJuS2V5IiwiYWRkaXRpb25hbFByb3BlcnRpZXMiLCJPQkpFQ1RfQURESVRJT05BTF9QUk9QRVJUSUVTIiwiZGVwZW5kZW5jaWVzIiwiZGVwS2V5IiwiZGVwIiwiT0JKRUNUX0RFUEVOREVOQ1lfS0VZIiwicmVxdWlyZWRLZXkiLCJ2YWxpZGF0ZUFsbE9mIiwidmFsaWRhdGVBbnlPZiIsInZhbGlkYXRlT25lT2YiLCJ2YWxpZGF0ZU5vdCIsImFsbE9mIiwic3ViU2NoZW1hIiwiYW55T2YiLCJvbGRVbmtub3duUHJvcGVydHlQYXRocyIsIm9sZEtub3duUHJvcGVydHlQYXRocyIsImVycm9yQXRFbmQiLCJrbm93bktleSIsInVua25vd25LZXkiLCJBTllfT0ZfTUlTU0lORyIsIm9uZU9mIiwidmFsaWRJbmRleCIsIk9ORV9PRl9NVUxUSVBMRSIsImluZGV4MSIsImluZGV4MiIsIk9ORV9PRl9NSVNTSU5HIiwibm90Iiwib2xkRXJyb3JDb3VudCIsIm5vdEVycm9ycyIsIk5PVF9QQVNTRUQiLCJsZG8iLCJyZWwiLCJhbGxQcmVzZW50IiwiRXJyb3JDb2RlTG9va3VwIiwic3RhY2t0cmFjZSIsImRhdGFQcmVmaXgiLCJzY2hlbWFQcmVmaXgiLCJ0djQiLCJjcmVhdGVBcGkiLCJjdXJyZW50TGFuZ3VhZ2UiLCJjdXN0b21FcnJvclJlcG9ydGVyIiwiYXBpIiwic2V0RXJyb3JSZXBvcnRlciIsInJlcG9ydGVyIiwiYWRkTGFuZ3VhZ2UiLCJtZXNzYWdlTWFwIiwicm9vdENvZGUiLCJmcmVzaEFwaSIsImRlZiIsInZhbGlkYXRlTXVsdGlwbGUiLCJkZWZpbmVFcnJvciIsImNvZGVOYW1lIiwiY29kZU51bWJlciIsImRlZmF1bHRNZXNzYWdlIiwibGFuZ0NvZGUiLCJlcnJvckNvZGVzIiwiQmFzZUNsaWVudFR5cGVzIiwidXJpcyIsImFsaWFzZXMiLCJmdWxsQWxpYXMiLCJleHRlbmRzIiwiZXh0ZW5kZWRBbGlhcyIsImV4dGVuZGVkVXJpIiwibWwiLCJTY2hlbWFOb3RGb3VuZCIsImRlZmF1bHRWYWx1ZSIsIl9pdGVtc1JldiIsIl9zdG9yYWdlIiwiX2NhblByb3BhZ2F0ZSIsInN0b3JlZCIsIl91cGRhdGVQYXJlbnRGb2xkZXJJdGVtUmV2IiwiX3Byb3BhZ2F0ZSIsIl9nZW5lcmF0ZUZvbGRlclJldiIsImZpbGVzIiwic29ydCIsIl9oYXNoQ29kZSIsInBhcmVudEZvbGRlciIsIl9nZXRQYXJlbnRGb2xkZXIiLCJwYXJlbnRGb2xkZXJJdGVtc1JldiIsImhhc2hJdGVtcyIsIm5ld1JldiIsIl9nZW5lcmF0ZUhhc2giLCJmb2xkZXIiLCJpdGVtc1JldiIsImhhc2hJdGVtIiwiTElOS19VUklfTUFQUyIsIkxJTktfUFJPUEVSVElFUyIsIlVSSVMiLCJnZW5lcmF0ZUVycm9yT2JqZWN0IiwiV2ViRmluZ2VyIiwid2ViZmlzdF9mYWxsYmFjayIsIl9fZmV0Y2hKUkQiLCJlcnJvckhhbmRsZXIiLCJzdWNlc3NIYW5kbGVyIiwiX19mZXRjaEpSRF9mZXRjaCIsIl9fZmV0Y2hKUkRfWEhSIiwid2ViZmluZ2VyIiwib2siLCJfX2lzVmFsaWRKU09OIiwiaGFuZGxlclNwZW50IiwiX19wcm9jZXNzU3RhdGUiLCJpc1NlY3VyZSIsIl9fbWFrZVJlcXVlc3QiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJvbnRpbWVvdXQiLCJfX2lzTG9jYWxob3N0IiwiX19wcm9jZXNzSlJEIiwiVVJMIiwiSlJEIiwic3VjY2Vzc0hhbmRsZXIiLCJwYXJzZWRKUkQiLCJwcm9wcyIsImFkZHJlc3MiLCJ1cmlfaW5kZXgiLCJfX2J1aWxkVVJMIiwiX19mYWxsYmFja0NoZWNrcyIsIl9fY2FsbCIsIndlYmZpc3QiLCJsb29rdXBMaW5rIiwiRmVhdHVyZXMiLCJyZWFkeUZpcmVkIiwiZmVhdHVyZU1vZHVsZXMiLCJmZWF0dXJlIiwiZmVhdHVyZU5hbWUiLCJzdXBwb3J0ZWQiLCJpbml0UmVzdWx0IiwiaW5pdCIsInNvbWUiLCJjYWNoaW5nTGF5ZXIiLCJfYmluZENoYW5nZSIsIl9wcm9jZXNzUGVuZGluZyIsInNoYXJlRmlyc3QiLCJTeW5jZWRHZXRQdXREZWxldGUiLCJnZXRTeW5jSW50ZXJ2YWwiLCJfd3JhcEJ1c3lEb25lIiwic3luY0N5Y2xlQ2IiLCJzeW5jT25Db25uZWN0IiwidGFza0ZvciIsImFjdGlvbiIsIm5vZGVDaGFuZ2VkIiwiaGFzQ29tbW9uUmV2aXNpb24iLCJTeW5jIiwiX3Rhc2tzIiwiX3J1bm5pbmciLCJfdGltZVN0YXJ0ZWQiLCJudW1UaHJlYWRzIiwib25EaWZmIiwiYWRkVGFzayIsImRvVGFza3MiLCJvbkFjdGl2YXRlIiwiZm9yY2UwMiIsImNvbnRlbnRMZW5ndGgiLCJjb3JydXB0SXRlbXNNYXAiLCJjb3JydXB0UmV2aXNpb24iLCJpc0NvcnJ1cHQiLCJuZWVkc0ZldGNoIiwibmVlZHNQdXNoIiwiaW5Db25mbGljdCIsIm5lZWRzUmVmcmVzaCIsImdldFBhcmVudFBhdGgiLCJkZWxldGVDaGlsZFBhdGhzRnJvbVRhc2tzIiwiaXNTdGFsZUNoaWxkIiwibmVlZHNSZW1vdGVQdXQiLCJuZWVkc1JlbW90ZURlbGV0ZSIsImhhc05vUmVtb3RlQ2hhbmdlcyIsImxhc3RDb21tb25WYWx1ZSIsImxhc3RDb21tb25Db250ZW50VHlwZSIsIm1lcmdlTXV0dWFsRGVsZXRpb24iLCJhdXRvTWVyZ2VGb2xkZXIiLCJhdXRvTWVyZ2VEb2N1bWVudCIsImNoYW5nZWROb2RlcyIsIm1pc3NpbmdDaGlsZHJlbiIsInJlY3Vyc2UiLCJjaGlsZE5hbWUiLCJjYWNoaW5nU3RyYXRlZ3kiLCJhdXRvTWVyZ2UiLCJjb21tb25JdGVtIiwibG9jYWxJdGVtIiwicGFyZW50Tm9kZSIsImRlbGV0ZVJlbW90ZVRyZWVzIiwiY2hhbmdlZE9ianMyIiwic3ViUGF0aHMiLCJjb2xsZWN0U3ViUGF0aHMiLCJjaGFuZ2VkTm9kZXMyIiwiYm9keU9ySXRlbXNNYXAiLCJwYXRoc0Zyb21Sb290QXJyIiwiY29sbGVjdE1pc3NpbmdDaGlsZHJlbiIsInRvQmVTYXZlZCIsInN1Y2Nlc3NmdWwiLCJ1bkF1dGgiLCJub3RGb3VuZCIsImNoYW5nZWQiLCJuZXR3b3JrUHJvYmxlbXMiLCJzZXJpZXMiLCJjb21wbGV0ZUZldGNoIiwiZGF0YUZyb21GZXRjaCIsImNvcnJ1cHRTZXJ2ZXJJdGVtc01hcCIsIm1hcmtDaGlsZHJlbiIsInVwZGF0ZUNvbW1vblRpbWVzdGFtcCIsImludGVycHJldFN0YXR1cyIsImhhbmRsZUdldFJlc3BvbnNlIiwiY29tcGxldGVQdXNoIiwiZGVhbFdpdGhGYWlsdXJlIiwidGFzayIsImhhbmRsZVJlc3BvbnNlIiwiY29tcGxldGVkIiwiY29sbGVjdFRhc2tzIiwiaGFzVGFza3MiLCJkb25lIiwibnVtVG9IYXZlIiwibnVtQWRkZWQiLCJudW1Ub0FkZCIsImRvVGFzayIsImZpbmlzaFRhc2siLCJhbHNvQ2hlY2tSZWZyZXNoIiwiY29sbGVjdERpZmZUYXNrcyIsIm51bURpZmZzIiwiY29sbGVjdFJlZnJlc2hUYXNrcyIsImVudiIsImlzQnJvd3NlciIsImhhbmRsZUNoYW5nZSIsImlzRm9yZWdyb3VuZCIsImhhbmRsZVZpc2liaWxpdHkiLCJzdGFydFN5bmMiLCJzdG9wU3luYyIsIkRFRkFVTFRfREIiLCJJbmRleGVkREIiLCJkYXRhYmFzZSIsImRiIiwiZ2V0c1J1bm5pbmciLCJwdXRzUnVubmluZyIsImNoYW5nZXNRdWV1ZWQiLCJjaGFuZ2VzUnVubmluZyIsImNvbW1pdFNsb3duZXNzV2FybmluZyIsIm1pc3NlcyIsImZyb21DYWNoZSIsImdldE5vZGVzRnJvbURiIiwibWF5YmVGbHVzaCIsImZsdXNoQ2hhbmdlc1F1ZXVlZCIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsInNldE5vZGVzSW5EYiIsInRyYW5zYWN0aW9uIiwib2JqZWN0U3RvcmUiLCJyZXRyaWV2ZWROb2RlcyIsIm9uc3VjY2VzcyIsIm9uY29tcGxldGUiLCJvbmFib3J0Iiwibm9kZXNTdG9yZSIsInN0YXJ0VGltZSIsImNhbGxiYWNrIiwiZGJOYW1lIiwiY2xlYW4iLCJvdGhlciIsIm9wZW5DdXJzb3IiLCJtaWdyYXRlIiwiY29udGludWUiLCJjbG9zZURCIiwicmVxIiwiaW5kZXhlZERCIiwib251cGdyYWRlbmVlZGVkIiwib2xkVmVyc2lvbiIsIm5ld1ZlcnNpb24iLCJjcmVhdGVPYmplY3RTdG9yZSIsImtleVBhdGgiLCJvYmplY3RTdG9yZU5hbWVzIiwiY29udGFpbnMiLCJkYXRhYmFzZU5hbWUiLCJkZWxldGVEYXRhYmFzZSIsInBvb3JJbmRleGVkRGJTdXBwb3J0IiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwiY2hlY2siLCJOT0RFU19QUkVGSVgiLCJpc1JlbW90ZVN0b3JhZ2VLZXkiLCJMb2NhbFN0b3JhZ2UiLCJJbk1lbW9yeVN0b3JhZ2UiXSwibWFwcGluZ3MiOiI7Q0FBQSxTQUEyQ0EsRUFBTUMsR0FDMUIsaUJBQVpDLFNBQTBDLGlCQUFYQyxPQUN4Q0EsT0FBT0QsUUFBVUQsSUFDUSxtQkFBWEcsUUFBeUJBLE9BQU9DLElBQzlDRCxPQUFPLGdCQUFpQixHQUFJSCxHQUNGLGlCQUFaQyxRQUNkQSxRQUF1QixjQUFJRCxJQUUzQkQsRUFBb0IsY0FBSUMsSUFSMUIsQ0FTR0ssTUFBTSxXQUNULE8sWUNURSxJQUFJQyxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVUCxRQUduQyxJQUFJQyxFQUFTSSxFQUFpQkUsR0FBWSxDQUN6Q0MsRUFBR0QsRUFDSEUsR0FBRyxFQUNIVCxRQUFTLElBVVYsT0FOQVUsRUFBUUgsR0FBVUksS0FBS1YsRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU00sR0FHL0RMLEVBQU9RLEdBQUksRUFHSlIsRUFBT0QsUUEwRGYsT0FyREFNLEVBQW9CTSxFQUFJRixFQUd4QkosRUFBb0JPLEVBQUlSLEVBR3hCQyxFQUFvQlEsRUFBSSxTQUFTZCxFQUFTZSxFQUFNQyxHQUMzQ1YsRUFBb0JXLEVBQUVqQixFQUFTZSxJQUNsQ0csT0FBT0MsZUFB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eVEsR0FHekIsU0FBU0EsR0FDUCxJQUFLLE1BQU1yVSxLQUFRcVUsT0FDRzNTLElBQWhCMlMsRUFBTXJVLFVBQ0R0RCxLQUFLMm1DLFNBQVNyakMsR0FFckJ0RCxLQUFLMm1DLFNBQVNyakMsR0FBUXFVLEVBQU1yVSxHQUloQyxPQUFPMkQsUUFBUUMsVUFHakIsWUFBWWdTLEdBQ1YsSUFBSyxNQUFNNVYsS0FBUXRELEtBQUsybUMsU0FDdEJ6dEIsRUFBR2xaLEtBQUt1eUMsUUFBUXZ5QyxLQUFLMm1DLFNBQVNyakMsS0FFaEMsT0FBTzJELFFBQVFDLFVBR2pCLGVBV1UsbUJBV0EsdUJBRVIsT0FBTyxFQVFDLHVCQS9FWixLQXNGQTZLLFlBQVk2aEMsRUFBaUIsQ0FBQyxZQUU5QixVQUFlQSIsImZpbGUiOiJyZW1vdGVzdG9yYWdlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoXCJSZW1vdGVTdG9yYWdlXCIsIFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcIlJlbW90ZVN0b3JhZ2VcIl0gPSBmYWN0b3J5KCk7XG5cdGVsc2Vcblx0XHRyb290W1wiUmVtb3RlU3RvcmFnZVwiXSA9IGZhY3RvcnkoKTtcbn0pKHRoaXMsIGZ1bmN0aW9uKCkge1xucmV0dXJuICIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxNyk7XG4iLCIvLyBSZXVzYWJsZSB1dGlsaXR5IGZ1bmN0aW9uc1xuXG5pbXBvcnQgR2xvYmFsID0gTm9kZUpTLkdsb2JhbDtcblxuLyoqXG4gKiBUYWtlcyBhbiBvYmplY3QgYW5kIGl0cyBjb3B5IGFzIHByb2R1Y2VkIGJ5IHRoZSBfZGVlcENsb25lIGZ1bmN0aW9uXG4gKiBiZWxvdywgYW5kIGZpbmRzIGFuZCBmaXhlcyBhbnkgQXJyYXlCdWZmZXJzIHRoYXQgd2VyZSBjYXN0IHRvIGB7fWAgaW5zdGVhZFxuICogb2YgYmVpbmcgY2xvbmVkIHRvIG5ldyBBcnJheUJ1ZmZlcnMgd2l0aCB0aGUgc2FtZSBjb250ZW50LlxuICpcbiAqIEl0IHJlY3Vyc2VzIGludG8gc3ViLW9iamVjdHMsIGJ1dCBza2lwcyBhcnJheXMgaWYgdGhleSBvY2N1ci5cbiAqL1xuZnVuY3Rpb24gX2ZpeEFycmF5QnVmZmVycyhzcmNPYmo6IG9iamVjdCwgZHN0T2JqOiBvYmplY3QpIHtcbiAgaWYgKHR5cGVvZiAoc3JjT2JqKSAhPT0gJ29iamVjdCcgfHwgQXJyYXkuaXNBcnJheShzcmNPYmopIHx8IHNyY09iaiA9PT0gbnVsbCkge1xuICAgIHJldHVybjtcbiAgfVxuICBmb3IgKGNvbnN0IGZpZWxkIGluIHNyY09iaikge1xuICAgIGlmICh0eXBlb2YgKHNyY09ialtmaWVsZF0pID09PSAnb2JqZWN0JyAmJiBzcmNPYmpbZmllbGRdICE9PSBudWxsKSB7XG4gICAgICBpZiAoc3JjT2JqW2ZpZWxkXS50b1N0cmluZygpID09PSAnW29iamVjdCBBcnJheUJ1ZmZlcl0nKSB7XG4gICAgICAgIGRzdE9ialtmaWVsZF0gPSBuZXcgQXJyYXlCdWZmZXIoc3JjT2JqW2ZpZWxkXS5ieXRlTGVuZ3RoKTtcbiAgICAgICAgY29uc3Qgc3JjQXJyID0gbmV3IEludDhBcnJheShzcmNPYmpbZmllbGRdKTtcbiAgICAgICAgY29uc3QgZHN0QXJyID0gbmV3IEludDhBcnJheShkc3RPYmpbZmllbGRdKTtcbiAgICAgICAgZHN0QXJyLnNldChzcmNBcnIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX2ZpeEFycmF5QnVmZmVycyhzcmNPYmpbZmllbGRdLCBkc3RPYmpbZmllbGRdKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IGxvZ0Vycm9yID0gKGVycm9yOiBzdHJpbmcgfCBFcnJvcik6IHZvaWQgPT4ge1xuICBpZiAodHlwZW9mIChlcnJvcikgPT09ICdzdHJpbmcnKSB7XG4gICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gIH0gZWxzZSB7XG4gICAgY29uc29sZS5lcnJvcihlcnJvci5tZXNzYWdlLCBlcnJvci5zdGFjayk7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBnbG9iYWxDb250ZXh0ID0gKHR5cGVvZiAod2luZG93KSAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiAodHlwZW9mIHNlbGYgPT09ICdvYmplY3QnID8gc2VsZiA6IGdsb2JhbCkpO1xuXG5leHBvcnQgY29uc3QgZ2V0R2xvYmFsQ29udGV4dCA9ICgpOiBhbnkgPT4ge1xuICByZXR1cm4gKHR5cGVvZiAod2luZG93KSAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiAodHlwZW9mIHNlbGYgPT09ICdvYmplY3QnID8gc2VsZiA6IGdsb2JhbCkpO1xufTtcblxuLy8gVE9ETyBSZW1vdmUgaW4gZmF2b3Igb2YgbW9kZXJuIEpTOlxuLy8gYGNvbnN0IG1lcmdlZE9iamVjdCA9IHsgLi4ub2JqMSwgLi5vYmoyIH1gXG5leHBvcnQgY29uc3QgZXh0ZW5kID0gKC4uLmFyZ3MpOiB1bmtub3duID0+IHtcbiAgY29uc3QgdGFyZ2V0ID0gYXJnc1swXTtcbiAgY29uc3Qgc291cmNlcyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3MsIDEpO1xuICBzb3VyY2VzLmZvckVhY2goZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgIGZvciAoY29uc3Qga2V5IGluIHNvdXJjZSkge1xuICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gdGFyZ2V0O1xufTtcblxuZXhwb3J0IGNvbnN0IGNvbnRhaW5pbmdGb2xkZXIgPSAocGF0aDogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgaWYgKHBhdGggPT09ICcnKSB7XG4gICAgcmV0dXJuICcvJztcbiAgfVxuICBpZiAoIXBhdGgpIHtcbiAgICB0aHJvdyBcIlBhdGggbm90IGdpdmVuIVwiO1xuICB9XG5cbiAgcmV0dXJuIHBhdGgucmVwbGFjZSgvXFwvKy9nLCAnLycpXG4gICAgLnJlcGxhY2UoL1teXFwvXStcXC8/JC8sICcnKTtcbn07XG5cbmV4cG9ydCBjb25zdCBpc0ZvbGRlciA9IChwYXRoOiBzdHJpbmcpOiBib29sZWFuID0+IHtcbiAgcmV0dXJuIHBhdGguc3Vic3RyKC0xKSA9PT0gJy8nO1xufTtcblxuZXhwb3J0IGNvbnN0IGlzRG9jdW1lbnQgPSAocGF0aDogc3RyaW5nKTogYm9vbGVhbiA9PiB7XG4gIHJldHVybiAhaXNGb2xkZXIocGF0aCk7XG59O1xuXG5leHBvcnQgY29uc3QgYmFzZU5hbWUgPSAocGF0aDogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgY29uc3QgcGFydHMgPSBwYXRoLnNwbGl0KCcvJyk7XG4gIGlmIChpc0ZvbGRlcihwYXRoKSkge1xuICAgIHJldHVybiBwYXJ0c1twYXJ0cy5sZW5ndGggLSAyXSArICcvJztcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gcGFydHNbcGFydHMubGVuZ3RoIC0gMV07XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBjbGVhblBhdGggPSAocGF0aDogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgcmV0dXJuIHBhdGgucmVwbGFjZSgvXFwvKy9nLCAnLycpXG4gICAgLnNwbGl0KCcvJykubWFwKGVuY29kZVVSSUNvbXBvbmVudCkuam9pbignLycpXG4gICAgLnJlcGxhY2UoLycvZywgJyUyNycpO1xufTtcblxuZXhwb3J0IGNvbnN0IGJpbmRBbGwgPSAob2JqZWN0OiBvYmplY3QpID0+IHtcbiAgZm9yIChjb25zdCBrZXkgaW4gdGhpcykge1xuICAgIGlmICh0eXBlb2YgKG9iamVjdFtrZXldKSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgb2JqZWN0W2tleV0gPSBvYmplY3Rba2V5XS5iaW5kKG9iamVjdCk7XG4gICAgfVxuICB9XG59O1xuXG5leHBvcnQgY29uc3QgZXF1YWwgPSAoYTogYW55LCBiOiBhbnksIHNlZW4gPSBbXSk6IGJvb2xlYW4gPT4ge1xuICBsZXQga2V5O1xuXG4gIGlmICh0eXBlb2YgKGEpICE9PSB0eXBlb2YgKGIpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKHR5cGVvZiAoYSkgPT09ICdudW1iZXInIHx8IHR5cGVvZiAoYSkgPT09ICdib29sZWFuJyB8fCB0eXBlb2YgKGEpID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBhID09PSBiO1xuICB9XG5cbiAgaWYgKHR5cGVvZiAoYSkgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gYS50b1N0cmluZygpID09PSBiLnRvU3RyaW5nKCk7XG4gIH1cblxuICBpZiAoYSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyICYmIGIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgIC8vIFdpdGhvdXQgdGhlIGZvbGxvd2luZyBjb252ZXJzaW9uIHRoZSBicm93c2VycyB3b3VsZG4ndCBiZSBhYmxlIHRvXG4gICAgLy8gdGVsbCB0aGUgQXJyYXlCdWZmZXIgaW5zdGFuY2VzIGFwYXJ0LlxuICAgIGEgPSBuZXcgVWludDhBcnJheShhKTtcbiAgICBiID0gbmV3IFVpbnQ4QXJyYXkoYik7XG4gIH1cblxuICAvLyBJZiB0aGlzIHBvaW50IGhhcyBiZWVuIHJlYWNoZWQsIGEgYW5kIGIgYXJlIGVpdGhlciBhcnJheXMgb3Igb2JqZWN0cy5cblxuICBpZiAoYSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgaWYgKGEubGVuZ3RoICE9PSBiLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwLCBjID0gYS5sZW5ndGg7IGkgPCBjOyBpKyspIHtcbiAgICAgIGlmICghZXF1YWwoYVtpXSwgYltpXSwgc2VlbikpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBDaGVjayB0aGF0IGtleXMgZnJvbSBhIGV4aXN0IGluIGJcbiAgICBmb3IgKGtleSBpbiBhKSB7XG4gICAgICBpZiAoYS5oYXNPd25Qcm9wZXJ0eShrZXkpICYmICEoa2V5IGluIGIpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDaGVjayB0aGF0IGtleXMgZnJvbSBiIGV4aXN0IGluIGEsIGFuZCBjb21wYXJlIHRoZSB2YWx1ZXNcbiAgICBmb3IgKGtleSBpbiBiKSB7XG4gICAgICBpZiAoIWIuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKCEoa2V5IGluIGEpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgbGV0IHNlZW5Bcmc7XG5cbiAgICAgIGlmICh0eXBlb2YgKGJba2V5XSkgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGlmIChzZWVuLmluZGV4T2YoYltrZXldKSA+PSAwKSB7XG4gICAgICAgICAgLy8gQ2lyY3VsYXIgcmVmZXJlbmNlLCBkb24ndCBhdHRlbXB0IHRvIGNvbXBhcmUgdGhpcyBvYmplY3QuXG4gICAgICAgICAgLy8gSWYgbm90aGluZyBlbHNlIHJldHVybnMgZmFsc2UsIHRoZSBvYmplY3RzIG1hdGNoLlxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgc2VlbkFyZyA9IHNlZW4uc2xpY2UoKTtcbiAgICAgICAgc2VlbkFyZy5wdXNoKGJba2V5XSk7XG4gICAgICB9XG5cbiAgICAgIGlmICghZXF1YWwoYVtrZXldLCBiW2tleV0sIHNlZW5BcmcpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbmV4cG9ydCBjb25zdCBkZWVwQ2xvbmUgPSAob2JqOiBhbnkpOiBhbnkgPT4ge1xuICBpZiAob2JqID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IGNsb25lID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShvYmopKTtcbiAgICBfZml4QXJyYXlCdWZmZXJzKG9iaiwgY2xvbmUpO1xuICAgIHJldHVybiBjbG9uZTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IHBhdGhzRnJvbVJvb3QgPSAocGF0aDogc3RyaW5nKTogc3RyaW5nW10gPT4ge1xuICBjb25zdCBwYXRocyA9IFtwYXRoXTtcbiAgY29uc3QgcGFydHMgPSBwYXRoLnJlcGxhY2UoL1xcLyQvLCAnJykuc3BsaXQoJy8nKTtcblxuICB3aGlsZSAocGFydHMubGVuZ3RoID4gMSkge1xuICAgIHBhcnRzLnBvcCgpO1xuICAgIHBhdGhzLnB1c2gocGFydHMuam9pbignLycpICsgJy8nKTtcbiAgfVxuICByZXR1cm4gcGF0aHM7XG59O1xuXG5leHBvcnQgY29uc3QgbG9jYWxTdG9yYWdlQXZhaWxhYmxlID0gKCk6IGJvb2xlYW4gPT4ge1xuICBjb25zdCBjb250ZXh0ID0gZ2V0R2xvYmFsQ29udGV4dCgpO1xuXG4gIGlmICghKCdsb2NhbFN0b3JhZ2UnIGluIGNvbnRleHQpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBjb250ZXh0LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCdycy1jaGVjaycsICcxJyk7XG4gICAgY29udGV4dC5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgncnMtY2hlY2snKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG5cbi8qKlxuICogRXh0cmFjdCBhbmQgcGFyc2UgSlNPTiBkYXRhIGZyb20gbG9jYWxTdG9yYWdlLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgLSBsb2NhbFN0b3JhZ2Uga2V5XG4gKlxuICogQHJldHVybnMge29iamVjdH0gcGFyc2VkIG9iamVjdCBvciB1bmRlZmluZWRcbiAqL1xuZXhwb3J0IGNvbnN0IGdldEpTT05Gcm9tTG9jYWxTdG9yYWdlID0gKGtleTogc3RyaW5nKTogb2JqZWN0ID0+IHtcbiAgY29uc3QgY29udGV4dCA9IGdldEdsb2JhbENvbnRleHQoKSBhcyBXaW5kb3c7XG5cbiAgdHJ5IHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZShjb250ZXh0LmxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSkpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgLy8gbm8gSlNPTiBzdG9yZWRcbiAgfVxufTtcblxuLyoqXG4gKiBEZWNpZGUgaWYgZGF0YSBzaG91bGQgYmUgdHJlYXRlZCBhcyBiaW5hcnkgYmFzZWQgb24gdGhlIGNvbnRlbnQgKHByZXNlbmNlIG9mIG5vbi1wcmludGFibGUgY2hhcmFjdGVyc1xuICogb3IgcmVwbGFjZW1lbnQgY2hhcmFjdGVyKSBhbmQgY29udGVudC10eXBlLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb250ZW50IC0gVGhlIGRhdGFcbiAqIEBwYXJhbSB7c3RyaW5nfSBtaW1lVHlwZSAtIFRoZSBkYXRhJ3MgY29udGVudC10eXBlXG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBjb25zdCBzaG91bGRCZVRyZWF0ZWRBc0JpbmFyeSA9IChjb250ZW50OiBzdHJpbmcgfCBBcnJheUJ1ZmZlciwgbWltZVR5cGU6IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29udHJvbC1yZWdleFxuICByZXR1cm4gISEoKG1pbWVUeXBlICYmIG1pbWVUeXBlLm1hdGNoKC9jaGFyc2V0PWJpbmFyeS8pKSB8fCAvW1xceDAwLVxceDA4XFx4MEUtXFx4MUZcXHVGRkZEXS8udGVzdChjb250ZW50IGFzIHN0cmluZykpO1xufTtcblxuLyoqXG4gKiBSZWFkIGRhdGEgZnJvbSBhbiBBcnJheUJ1ZmZlciBhbmQgcmV0dXJuIGl0IGFzIGEgc3RyaW5nXG4gKiBAcGFyYW0ge0FycmF5QnVmZmVyfSBhcnJheUJ1ZmZlclxuICogQHBhcmFtIHtzdHJpbmd9IGVuY29kaW5nXG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gUmVzb2x2ZXMgd2l0aCBhIHN0cmluZyBjb250YWluaW5nIHRoZSBkYXRhXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRUZXh0RnJvbUFycmF5QnVmZmVyID0gKGFycmF5QnVmZmVyOiBBcnJheUJ1ZmZlciwgZW5jb2Rpbmc6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nIHwgQXJyYXlCdWZmZXI+ID0+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLyosIHJlamVjdCovKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBCbG9iID09PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uc3QgYnVmZmVyID0gbmV3IEJ1ZmZlcihuZXcgVWludDhBcnJheShhcnJheUJ1ZmZlcikpO1xuICAgICAgcmVzb2x2ZShidWZmZXIudG9TdHJpbmcoZW5jb2RpbmcpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IGJsb2I7XG4gICAgICBjb25zdCBnYyA9IGdsb2JhbENvbnRleHQgYXMgYW55O1xuICAgICAgLy8gVE9ETyBmaXggYXMgQmxvYkJ1aWxkZXIgaXMgbm90IGF2YWlsYWJsZSBpbiBhbGwgYnJvd3NlcnNcbiAgICAgIC8vIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0Jsb2JCdWlsZGVyXG4gICAgICBnYy5CbG9iQnVpbGRlciA9IGdjLkJsb2JCdWlsZGVyIHx8IGdjLldlYktpdEJsb2JCdWlsZGVyO1xuICAgICAgaWYgKHR5cGVvZiBnYy5CbG9iQnVpbGRlciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY29uc3QgYmIgPSBuZXcgZ2MuQmxvYkJ1aWxkZXIoKTtcbiAgICAgICAgYmIuYXBwZW5kKGFycmF5QnVmZmVyKTtcbiAgICAgICAgYmxvYiA9IGJiLmdldEJsb2IoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJsb2IgPSBuZXcgQmxvYihbYXJyYXlCdWZmZXJdKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgZmlsZVJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICBpZiAodHlwZW9mIGZpbGVSZWFkZXIuYWRkRXZlbnRMaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBmaWxlUmVhZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWRlbmQnLCBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgICAgcmVzb2x2ZShldnQudGFyZ2V0LnJlc3VsdCk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZmlsZVJlYWRlci5vbmxvYWRlbmQgPSBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgICAgcmVzb2x2ZShldnQudGFyZ2V0LnJlc3VsdCk7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBmaWxlUmVhZGVyLnJlYWRBc1RleHQoYmxvYiwgZW5jb2RpbmcpO1xuICAgIH1cbiAgfSk7XG59O1xuXG4vKipcbiAqIEVuY29kZSBzdHJpbmcgaW4gYmFzZTY0XG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBiYXNlNjQtZW5jb2RlZCBzdHJpbmdcbiAqL1xuZXhwb3J0IGNvbnN0IHRvQmFzZTY0ID0gKHN0cjogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgY29uc3QgY29udGV4dCA9IGdldEdsb2JhbENvbnRleHQoKTtcbiAgaWYgKCdidG9hJyBpbiBjb250ZXh0KSB7XG4gICAgcmV0dXJuIGNvbnRleHRbJ2J0b2EnXShzdHIpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBCdWZmZXIuZnJvbShzdHIpLnRvU3RyaW5nKCdiYXNlNjQnKTtcbiAgfVxufTtcblxuLypcbiAqIEFwcGx5IG1peGlucyB0byBhbiBvYmplY3RcbiAqXG4gKiBodHRwczovL3d3dy50eXBlc2NyaXB0bGFuZy5vcmcvZG9jcy9oYW5kYm9vay9taXhpbnMuaHRtbFxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBQYXJlbnQgb2JqZWN0XG4gKiBAcGFyYW0ge0FycmF5fSBNaXhpbnMgdG8gYXBwbHkgbWV0aG9kcyBmcm9tXG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5leHBvcnQgZnVuY3Rpb24gYXBwbHlNaXhpbnMoZGVyaXZlZEN0b3I6IGFueSwgYmFzZUN0b3JzOiBhbnlbXSk6IHZvaWQge1xuICBiYXNlQ3RvcnMuZm9yRWFjaChiYXNlQ3RvciA9PiB7XG4gICAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoYmFzZUN0b3IucHJvdG90eXBlKS5mb3JFYWNoKG5hbWUgPT4ge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGRlcml2ZWRDdG9yLnByb3RvdHlwZSwgbmFtZSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihiYXNlQ3Rvci5wcm90b3R5cGUsIG5hbWUpKTtcbiAgICB9KTtcbiAgfSk7XG59XG4iLCJpbXBvcnQgY29uZmlnIGZyb20gJy4vY29uZmlnJztcblxuLyoqXG4gKiBMb2cgdXNpbmcgY29uc29sZS5sb2csIHdoZW4gcmVtb3RlU3RvcmFnZSBsb2dnaW5nIGlzIGVuYWJsZWQuXG4gKlxuICogWW91IGNhbiBlbmFibGUgbG9nZ2luZyB3aXRoIGBgUmVtb3RlU3RvcmFnZSNlbmFibGVMb2dgYC5cbiAqXG4gKiAoWW91IGNhbiBhbHNvIGVuYWJsZSBsb2dnaW5nIGR1cmluZyByZW1vdGVTdG9yYWdlIG9iamVjdCBjcmVhdGlvbi4gU2VlOlxuICoge0BsaW5rIFJlbW90ZVN0b3JhZ2V9KS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbG9nKC4uLmFyZ3MpOiB2b2lkIHtcbiAgaWYgKGNvbmZpZy5sb2dnaW5nKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICBjb25zb2xlLmxvZyguLi5hcmdzKTtcbiAgfVxufVxuIiwiaW1wb3J0IGxvZyBmcm9tICcuL2xvZyc7XG5cbi8vIFRPRE8gYWRkIHJlYWwgdHlwZSBmb3IgZXZlbnRcbnR5cGUgRXZlbnRIYW5kbGVyID0gKGV2ZW50PzogdW5rbm93bikgPT4gdm9pZDtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRXZlbnRIYW5kbGluZyB7XG4gIF9oYW5kbGVyczogeyBba2V5OiBzdHJpbmddOiBFdmVudEhhbmRsZXJbXSB9O1xuXG4gIC8qKlxuICAgKiBSZWdpc3RlciBldmVudCBuYW1lc1xuICAgKlxuICAgKiBUT0RPIHNlZSBpZiBuZWNlc3NhcnksIG9yIGNhbiBiZSBkb25lIG9uIHRoZSBmbHkgaW4gYWRkRXZlbnRMaXN0ZW5lclxuICAgKi9cbiAgYWRkRXZlbnRzKGFkZGl0aW9uYWxFdmVudHM6IHN0cmluZ1tdKTogdm9pZCB7XG4gICAgYWRkaXRpb25hbEV2ZW50cy5mb3JFYWNoKGV2TmFtZSA9PiB0aGlzLl9hZGRFdmVudChldk5hbWUpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbnN0YWxsIGFuIGV2ZW50IGhhbmRsZXIgZm9yIHRoZSBnaXZlbiBldmVudCBuYW1lXG4gICAqL1xuICBhZGRFdmVudExpc3RlbmVyIChldmVudE5hbWU6IHN0cmluZywgaGFuZGxlcjogRXZlbnRIYW5kbGVyKTogdm9pZCB7XG4gICAgLy8gQ2hlY2sgdHlwZSBmb3IgcHVibGljIGNvbnN1bXB0aW9uIG9mIEFQSVxuICAgIGlmICh0eXBlb2YgKGV2ZW50TmFtZSkgIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FyZ3VtZW50IGV2ZW50TmFtZSBzaG91bGQgYmUgYSBzdHJpbmcnKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiAoaGFuZGxlcikgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQXJndW1lbnQgaGFuZGxlciBzaG91bGQgYmUgYSBmdW5jdGlvbicpO1xuICAgIH1cbiAgICBsb2coJ1tFdmVudEhhbmRsaW5nXSBBZGRpbmcgZXZlbnQgbGlzdGVuZXInLCBldmVudE5hbWUpO1xuICAgIHRoaXMuX3ZhbGlkYXRlRXZlbnQoZXZlbnROYW1lKTtcbiAgICB0aGlzLl9oYW5kbGVyc1tldmVudE5hbWVdLnB1c2goaGFuZGxlcik7XG4gIH1cblxuICAvKlxuICAgKiBBbGlhcyBmb3IgYWRkRXZlbnRMaXN0ZW5lclxuICAgKi9cbiAgb24gKGV2ZW50TmFtZTogc3RyaW5nLCBoYW5kbGVyOiBFdmVudEhhbmRsZXIpOiB2b2lkIHtcbiAgICByZXR1cm4gdGhpcy5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgaGFuZGxlcik7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGEgcHJldmlvdXNseSBpbnN0YWxsZWQgZXZlbnQgaGFuZGxlclxuICAgKi9cbiAgcmVtb3ZlRXZlbnRMaXN0ZW5lciAoZXZlbnROYW1lOiBzdHJpbmcsIGhhbmRsZXI6IEV2ZW50SGFuZGxlcik6IHZvaWQge1xuICAgIHRoaXMuX3ZhbGlkYXRlRXZlbnQoZXZlbnROYW1lKTtcbiAgICBjb25zdCBobCA9IHRoaXMuX2hhbmRsZXJzW2V2ZW50TmFtZV0ubGVuZ3RoO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaGw7IGkrKykge1xuICAgICAgaWYgKHRoaXMuX2hhbmRsZXJzW2V2ZW50TmFtZV1baV0gPT09IGhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5faGFuZGxlcnNbZXZlbnROYW1lXS5zcGxpY2UoaSwgMSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBfZW1pdCAoZXZlbnROYW1lOiBzdHJpbmcsIC4uLmFyZ3MpOiB2b2lkIHtcbiAgICB0aGlzLl92YWxpZGF0ZUV2ZW50KGV2ZW50TmFtZSk7XG4gICAgdGhpcy5faGFuZGxlcnNbZXZlbnROYW1lXS5zbGljZSgpLmZvckVhY2goKGhhbmRsZXIpID0+IHtcbiAgICAgIGhhbmRsZXIuYXBwbHkodGhpcywgYXJncyk7XG4gICAgfSk7XG4gIH1cblxuICBfdmFsaWRhdGVFdmVudCAoZXZlbnROYW1lOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBpZiAoIShldmVudE5hbWUgaW4gdGhpcy5faGFuZGxlcnMpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIGV2ZW50OiBcIiArIGV2ZW50TmFtZSk7XG4gICAgfVxuICB9XG5cbiAgX2RlbGVnYXRlRXZlbnQgKGV2ZW50TmFtZTogc3RyaW5nLCB0YXJnZXQpOiB2b2lkIHtcbiAgICB0YXJnZXQub24oZXZlbnROYW1lLCAoZXZlbnQpID0+IHtcbiAgICAgIHRoaXMuX2VtaXQoZXZlbnROYW1lLCBldmVudCk7XG4gICAgfSk7XG4gIH1cblxuICBfYWRkRXZlbnQgKGV2ZW50TmFtZTogc3RyaW5nKTogdm9pZCB7XG4gICAgaWYgKHR5cGVvZiB0aGlzLl9oYW5kbGVycyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRoaXMuX2hhbmRsZXJzID0ge307XG4gICAgfVxuICAgIHRoaXMuX2hhbmRsZXJzW2V2ZW50TmFtZV0gPSBbXTtcbiAgfVxufVxuIiwiLyoqXG4gKiBUaGUgZGVmYXVsdCBjb25maWcsIG1lcmdlZCB3aXRoIHRoZSBvYmplY3QgcGFzc2VkIHRvIHRoZSBjb25zdHJ1Y3RvciBvZiB0aGVcbiAqIFJlbW90ZVN0b3JhZ2Ugb2JqZWN0XG4gKi9cbmNvbnN0IGNvbmZpZyA9IHtcbiAgY2FjaGU6IHRydWUsXG4gIGNoYW5nZUV2ZW50czoge1xuICAgIGxvY2FsOiAgICB0cnVlLFxuICAgIHdpbmRvdzogICBmYWxzZSxcbiAgICByZW1vdGU6ICAgdHJ1ZSxcbiAgICBjb25mbGljdDogdHJ1ZVxuICB9LFxuICBjb3Jkb3ZhUmVkaXJlY3RVcmk6IHVuZGVmaW5lZCxcbiAgbG9nZ2luZzogZmFsc2UsXG4gIG1vZHVsZXM6IFtdLFxuICAvLyB0aGUgZm9sbG93aW5nIGFyZSBub3QgcHVibGljIGFuZCB3aWxsIHByb2JhYmx5IGJlIG1vdmVkIGF3YXkgZnJvbSB0aGVcbiAgLy8gZGVmYXVsdCBjb25maWdcbiAgYmFja2dyb3VuZFN5bmNJbnRlcnZhbDogNjAwMDAsXG4gIGRpc2FibGVGZWF0dXJlczogW10sXG4gIGRpc2NvdmVyeVRpbWVvdXQ6IDEwMDAwLFxuICBpc0JhY2tncm91bmQ6IGZhbHNlLFxuICByZXF1ZXN0VGltZW91dDogMzAwMDAsXG4gIHN5bmNJbnRlcnZhbDogMTAwMDBcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNvbmZpZztcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVuYXV0aG9yaXplZEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb2RlOiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3IgKG1lc3NhZ2U/OiBzdHJpbmcsIG9wdGlvbnM6IHtjb2RlPzogc3RyaW5nfSA9IHt9KSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLm5hbWUgPSAnVW5hdXRob3JpemVkJztcblxuICAgIGlmICh0eXBlb2YgbWVzc2FnZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRoaXMubWVzc2FnZSA9ICdBcHAgYXV0aG9yaXphdGlvbiBleHBpcmVkIG9yIHJldm9rZWQuJztcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG9wdGlvbnMuY29kZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRoaXMuY29kZSA9IG9wdGlvbnMuY29kZTtcbiAgICB9XG5cbiAgICB0aGlzLnN0YWNrID0gKG5ldyBFcnJvcigpKS5zdGFjaztcbiAgfTtcbn1cbiIsInZhciBnO1xuXG4vLyBUaGlzIHdvcmtzIGluIG5vbi1zdHJpY3QgbW9kZVxuZyA9IChmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXM7XG59KSgpO1xuXG50cnkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIGV2YWwgaXMgYWxsb3dlZCAoc2VlIENTUClcblx0ZyA9IGcgfHwgbmV3IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKTtcbn0gY2F0Y2ggKGUpIHtcblx0Ly8gVGhpcyB3b3JrcyBpZiB0aGUgd2luZG93IHJlZmVyZW5jZSBpcyBhdmFpbGFibGVcblx0aWYgKHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIpIGcgPSB3aW5kb3c7XG59XG5cbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cbi8vIFdlIHJldHVybiB1bmRlZmluZWQsIGluc3RlYWQgb2Ygbm90aGluZyBoZXJlLCBzbyBpdCdzXG4vLyBlYXNpZXIgdG8gaGFuZGxlIHRoaXMgY2FzZS4gaWYoIWdsb2JhbCkgeyAuLi59XG5cbm1vZHVsZS5leHBvcnRzID0gZztcbiIsImltcG9ydCBsb2cgZnJvbSAnLi9sb2cnO1xuaW1wb3J0IHsgbG9jYWxTdG9yYWdlQXZhaWxhYmxlLCBnbG9iYWxDb250ZXh0LCB0b0Jhc2U2NCB9IGZyb20gJy4vdXRpbCc7XG5pbXBvcnQgVW5hdXRob3JpemVkRXJyb3IgZnJvbSAnLi91bmF1dGhvcml6ZWQtZXJyb3InO1xuXG5pbnRlcmZhY2UgQXV0aE9wdGlvbnMge1xuICBhdXRoVVJMOiBzdHJpbmc7XG4gIHNjb3BlPzogc3RyaW5nO1xuICBjbGllbnRJZD86IHN0cmluZztcbiAgcmVkaXJlY3RVcmk/OiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBBdXRoUmVzdWx0IHtcbiAgYWNjZXNzX3Rva2VuPzogc3RyaW5nO1xuICByc0Rpc2NvdmVyeT86IG9iamVjdDtcbiAgZXJyb3I/OiBzdHJpbmc7XG4gIHJlbW90ZXN0b3JhZ2U/OiBzdHJpbmc7XG4gIHN0YXRlPzogc3RyaW5nO1xufVxuXG4vLyBUaGlzIGlzIHNldCBpbiBfcnNfaW5pdCBhbmQgbmVlZGVkIGZvciByZW1vdmFsIGluIF9yc19jbGVhbnVwXG5sZXQgb25GZWF0dXJlc0xvYWRlZDogRnVuY3Rpb247XG5cbmZ1bmN0aW9uIGV4dHJhY3RQYXJhbXMgKHVybD86IHN0cmluZyk6IEF1dGhSZXN1bHQge1xuICAvLyBGRiBhbHJlYWR5IGRlY29kZXMgdGhlIFVSTCBmcmFnbWVudCBpbiBkb2N1bWVudC5sb2NhdGlvbi5oYXNoLCBzbyB1c2UgdGhpcyBpbnN0ZWFkOlxuICBjb25zdCBsb2NhdGlvbiA9IHVybCB8fCBBdXRob3JpemUuZ2V0TG9jYXRpb24oKS5ocmVmO1xuICBjb25zdCBoYXNoUG9zICA9IGxvY2F0aW9uLmluZGV4T2YoJyMnKTtcbiAgaWYgKGhhc2hQb3MgPT09IC0xKSB7IHJldHVybjsgfVxuICBjb25zdCB1cmxGcmFnbWVudCA9IGxvY2F0aW9uLnN1YnN0cmluZyhoYXNoUG9zKzEpO1xuICAvLyBpZiBoYXNoIGlzIG5vdCBvZiB0aGUgZm9ybSAja2V5PXZhbCZrZXk9dmFsLCBpdCdzIHByb2JhYmx5IG5vdCBmb3IgdXNcbiAgaWYgKCF1cmxGcmFnbWVudC5pbmNsdWRlcygnPScpKSB7IHJldHVybjsgfVxuXG4gIHJldHVybiB1cmxGcmFnbWVudC5zcGxpdCgnJicpLnJlZHVjZShmdW5jdGlvbihwYXJhbXMsIGt2cykge1xuICAgIGNvbnN0IGt2ID0ga3ZzLnNwbGl0KCc9Jyk7XG5cbiAgICBpZiAoa3ZbMF0gPT09ICdzdGF0ZScgJiYga3ZbMV0ubWF0Y2goL3JzRGlzY292ZXJ5LykpIHtcbiAgICAgIC8vIGV4dHJhY3QgcnNEaXNjb3ZlcnkgZGF0YSBmcm9tIHRoZSBzdGF0ZSBwYXJhbVxuICAgICAgbGV0IHN0YXRlVmFsdWUgPSBkZWNvZGVVUklDb21wb25lbnQoa3ZbMV0pO1xuICAgICAgY29uc3QgZW5jb2RlZERhdGEgPSBzdGF0ZVZhbHVlLnN1YnN0cihzdGF0ZVZhbHVlLmluZGV4T2YoJ3JzRGlzY292ZXJ5PScpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zcGxpdCgnJicpWzBdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnNwbGl0KCc9JylbMV07XG5cbiAgICAgIHBhcmFtc1sncnNEaXNjb3ZlcnknXSA9IEpTT04ucGFyc2UoYXRvYihlbmNvZGVkRGF0YSkpO1xuXG4gICAgICAvLyByZW1vdmUgcnNEaXNjb3ZlcnkgcGFyYW1cbiAgICAgIHN0YXRlVmFsdWUgPSBzdGF0ZVZhbHVlLnJlcGxhY2UobmV3IFJlZ0V4cCgnJj9yc0Rpc2NvdmVyeT0nICsgZW5jb2RlZERhdGEpLCAnJyk7XG5cbiAgICAgIGlmIChzdGF0ZVZhbHVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcGFyYW1zWydzdGF0ZSddID0gc3RhdGVWYWx1ZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGFyYW1zW2RlY29kZVVSSUNvbXBvbmVudChrdlswXSldID0gZGVjb2RlVVJJQ29tcG9uZW50KGt2WzFdKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGFyYW1zO1xuICB9LCB7fSk7XG59XG5cbmZ1bmN0aW9uIGJ1aWxkT0F1dGhVUkwgKGF1dGhVUkw6IHN0cmluZywgcmVkaXJlY3RVcmk6IHN0cmluZywgc2NvcGU6IHN0cmluZywgY2xpZW50SWQ6IHN0cmluZyk6IHN0cmluZyB7XG4gIGNvbnN0IGhhc2hQb3MgPSByZWRpcmVjdFVyaS5pbmRleE9mKCcjJyk7XG4gIGxldCB1cmwgPSBhdXRoVVJMO1xuXG4gIHVybCArPSBhdXRoVVJMLmluZGV4T2YoJz8nKSA+IDAgPyAnJicgOiAnPyc7XG4gIHVybCArPSAncmVkaXJlY3RfdXJpPScgKyBlbmNvZGVVUklDb21wb25lbnQocmVkaXJlY3RVcmkucmVwbGFjZSgvIy4qJC8sICcnKSk7XG4gIHVybCArPSAnJnNjb3BlPScgKyBlbmNvZGVVUklDb21wb25lbnQoc2NvcGUpO1xuICB1cmwgKz0gJyZjbGllbnRfaWQ9JyArIGVuY29kZVVSSUNvbXBvbmVudChjbGllbnRJZCk7XG5cbiAgaWYgKGhhc2hQb3MgIT09IC0gMSAmJiBoYXNoUG9zKzEgIT09IHJlZGlyZWN0VXJpLmxlbmd0aCkge1xuICAgIHVybCArPSAnJnN0YXRlPScgKyBlbmNvZGVVUklDb21wb25lbnQocmVkaXJlY3RVcmkuc3Vic3RyaW5nKGhhc2hQb3MrMSkpO1xuICB9XG4gIHVybCArPSAnJnJlc3BvbnNlX3R5cGU9dG9rZW4nO1xuXG4gIHJldHVybiB1cmw7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEF1dGhvcml6ZSB7XG4gIHN0YXRpYyBJTVBMSUVEX0ZBS0VfVE9LRU4gPSBmYWxzZTtcblxuICBzdGF0aWMgYXV0aG9yaXplIChyZW1vdGVTdG9yYWdlLCB7IGF1dGhVUkwsIHNjb3BlLCByZWRpcmVjdFVyaSwgY2xpZW50SWQgfTogQXV0aE9wdGlvbnMpOiB2b2lkIHtcbiAgICBsb2coJ1tBdXRob3JpemVdIGF1dGhVUkwgPSAnLCBhdXRoVVJMLCAnc2NvcGUgPSAnLCBzY29wZSwgJ3JlZGlyZWN0VXJpID0gJywgcmVkaXJlY3RVcmksICdjbGllbnRJZCA9ICcsIGNsaWVudElkKTtcblxuICAgIC8vIFRPRE8gYWRkIGEgdGVzdCBmb3IgdGhpc1xuICAgIC8vIGtlZXAgdHJhY2sgb2YgdGhlIGRpc2NvdmVyeSBkYXRhIGR1cmluZyByZWRpcmVjdCBpZiB3ZSBjYW4ndCBzYXZlIGl0IGluIGxvY2FsU3RvcmFnZVxuICAgIGlmICghbG9jYWxTdG9yYWdlQXZhaWxhYmxlKCkgJiYgcmVtb3RlU3RvcmFnZS5iYWNrZW5kID09PSAncmVtb3Rlc3RvcmFnZScpIHtcbiAgICAgIHJlZGlyZWN0VXJpICs9IHJlZGlyZWN0VXJpLmluZGV4T2YoJyMnKSA+IDAgPyAnJicgOiAnIyc7XG5cbiAgICAgIGNvbnN0IGRpc2NvdmVyeURhdGEgPSB7XG4gICAgICAgIHVzZXJBZGRyZXNzOiByZW1vdGVTdG9yYWdlLnJlbW90ZS51c2VyQWRkcmVzcyxcbiAgICAgICAgaHJlZjogcmVtb3RlU3RvcmFnZS5yZW1vdGUuaHJlZixcbiAgICAgICAgc3RvcmFnZUFwaTogcmVtb3RlU3RvcmFnZS5yZW1vdGUuc3RvcmFnZUFwaSxcbiAgICAgICAgcHJvcGVydGllczogcmVtb3RlU3RvcmFnZS5yZW1vdGUucHJvcGVydGllc1xuICAgICAgfTtcblxuICAgICAgcmVkaXJlY3RVcmkgKz0gJ3JzRGlzY292ZXJ5PScgKyB0b0Jhc2U2NChKU09OLnN0cmluZ2lmeShkaXNjb3ZlcnlEYXRhKSk7XG4gICAgfVxuXG4gICAgY29uc3QgdXJsID0gYnVpbGRPQXV0aFVSTChhdXRoVVJMLCByZWRpcmVjdFVyaSwgc2NvcGUsIGNsaWVudElkKTtcblxuICAgIC8vIEZJWE1FIGRlY2xhcmUgcG90ZW50aWFsIGBjb3Jkb252YWAgcHJvcGVydHkgb24gZ2xvYmFsIHNvbWVob3csIHNvIHdlIGRvbid0IGhhdmUgdG9cbiAgICAvLyB1c2UgYSBzdHJpbmcgYWNjZXNzb3IgaGVyZS5cbiAgICBpZiAoZ2xvYmFsQ29udGV4dFsnY29yZG92YSddKSB7XG4gICAgICBBdXRob3JpemVcbiAgICAgICAgLm9wZW5XaW5kb3codXJsLCByZWRpcmVjdFVyaSwgJ2xvY2F0aW9uPXllcyxjbGVhcnNlc3Npb25jYWNoZT15ZXMsY2xlYXJjYWNoZT15ZXMnKVxuICAgICAgICAudGhlbigoYXV0aFJlc3VsdDogQXV0aFJlc3VsdCkgPT4ge1xuICAgICAgICAgIHJlbW90ZVN0b3JhZ2UucmVtb3RlLmNvbmZpZ3VyZSh7IHRva2VuOiBhdXRoUmVzdWx0LmFjY2Vzc190b2tlbiB9KTtcbiAgICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgQXV0aG9yaXplLnNldExvY2F0aW9uKHVybCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGN1cnJlbnQgZG9jdW1lbnQgbG9jYXRpb25cbiAgICpcbiAgICogT3ZlcnJpZGUgdGhpcyBtZXRob2QgaWYgYWNjZXNzIHRvIGRvY3VtZW50LmxvY2F0aW9uIGlzIGZvcmJpZGRlblxuICAgKi9cbiAgc3RhdGljIGdldExvY2F0aW9uID0gZnVuY3Rpb24gKCk6IExvY2F0aW9uIHtcbiAgICByZXR1cm4gZG9jdW1lbnQubG9jYXRpb247XG4gIH07XG5cbiAgLyoqXG4gICAqIE9wZW4gbmV3IEluQXBwQnJvd3NlciB3aW5kb3cgZm9yIE9BdXRoIGluIENvcmRvdmFcbiAgICovXG4gIHN0YXRpYyBvcGVuV2luZG93ID0gZnVuY3Rpb24gKHVybCwgcmVkaXJlY3RVcmksIG9wdGlvbnMpOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KTogYW55ID0+IHtcblxuICAgICAgY29uc3QgbmV3V2luZG93ID0gb3Blbih1cmwsICdfYmxhbmsnLCBvcHRpb25zKTtcblxuICAgICAgaWYgKCFuZXdXaW5kb3cgfHwgbmV3V2luZG93LmNsb3NlZCkge1xuICAgICAgICByZXR1cm4gcmVqZWN0KCdBdXRob3JpemF0aW9uIHBvcHVwIHdhcyBibG9ja2VkJyk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGhhbmRsZUV4aXQgKCkge1xuICAgICAgICByZXR1cm4gcmVqZWN0KCdBdXRob3JpemF0aW9uIHdhcyBjYW5jZWxlZCcpO1xuICAgICAgfTtcblxuICAgICAgZnVuY3Rpb24gaGFuZGxlTG9hZHN0YXJ0IChldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQudXJsLmluZGV4T2YocmVkaXJlY3RVcmkpICE9PSAwKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbmV3V2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2V4aXQnLCBoYW5kbGVFeGl0KTtcbiAgICAgICAgbmV3V2luZG93LmNsb3NlKCk7XG5cbiAgICAgICAgY29uc3QgYXV0aFJlc3VsdDogQXV0aFJlc3VsdCA9IGV4dHJhY3RQYXJhbXMoZXZlbnQudXJsKTtcblxuICAgICAgICBpZiAoIWF1dGhSZXN1bHQpIHtcbiAgICAgICAgICByZXR1cm4gcmVqZWN0KCdBdXRob3JpemF0aW9uIGVycm9yJyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzb2x2ZShhdXRoUmVzdWx0KTtcbiAgICAgIH07XG5cbiAgICAgIG5ld1dpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2Fkc3RhcnQnLCBoYW5kbGVMb2Fkc3RhcnQpO1xuICAgICAgbmV3V2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2V4aXQnLCBoYW5kbGVFeGl0KTtcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogU2V0IGN1cnJlbnQgZG9jdW1lbnQgbG9jYXRpb25cbiAgICpcbiAgICogT3ZlcnJpZGUgdGhpcyBtZXRob2QgaWYgYWNjZXNzIHRvIGRvY3VtZW50LmxvY2F0aW9uIGlzIGZvcmJpZGRlblxuICAgKi9cbiAgc3RhdGljIHNldExvY2F0aW9uIChsb2NhdGlvbjogc3RyaW5nIHwgTG9jYXRpb24pOiB2b2lkIHtcbiAgICBpZiAodHlwZW9mIGxvY2F0aW9uID09PSAnc3RyaW5nJykge1xuICAgICAgZG9jdW1lbnQubG9jYXRpb24uaHJlZiA9IGxvY2F0aW9uO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGxvY2F0aW9uID09PSAnb2JqZWN0Jykge1xuICAgICAgZG9jdW1lbnQubG9jYXRpb24gPSBsb2NhdGlvbjtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgXCJJbnZhbGlkIGxvY2F0aW9uIFwiICsgbG9jYXRpb247XG4gICAgfVxuICB9O1xuXG4gIHN0YXRpYyBfcnNfc3VwcG9ydGVkICgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdHlwZW9mKGRvY3VtZW50KSAhPT0gJ3VuZGVmaW5lZCc7XG4gIH07XG5cbiAgc3RhdGljIF9yc19pbml0ID0gZnVuY3Rpb24gKHJlbW90ZVN0b3JhZ2UpOiB2b2lkIHtcbiAgICBjb25zdCBwYXJhbXMgPSBleHRyYWN0UGFyYW1zKCk7XG4gICAgbGV0IGxvY2F0aW9uO1xuXG4gICAgaWYgKHBhcmFtcykge1xuICAgICAgbG9jYXRpb24gPSBBdXRob3JpemUuZ2V0TG9jYXRpb24oKTtcbiAgICAgIGxvY2F0aW9uLmhhc2ggPSAnJztcbiAgICB9XG5cbiAgICBvbkZlYXR1cmVzTG9hZGVkID0gZnVuY3Rpb24oKSB7XG4gICAgICBsZXQgYXV0aFBhcmFtc1VzZWQgPSBmYWxzZTtcblxuICAgICAgaWYgKCFwYXJhbXMpIHtcbiAgICAgICAgcmVtb3RlU3RvcmFnZS5yZW1vdGUuc3RvcFdhaXRpbmdGb3JUb2tlbigpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9O1xuXG4gICAgICBpZiAocGFyYW1zLmVycm9yKSB7XG4gICAgICAgIGlmIChwYXJhbXMuZXJyb3IgPT09ICdhY2Nlc3NfZGVuaWVkJykge1xuICAgICAgICAgIHRocm93IG5ldyBVbmF1dGhvcml6ZWRFcnJvcignQXV0aG9yaXphdGlvbiBmYWlsZWQ6IGFjY2VzcyBkZW5pZWQnLCB7IGNvZGU6ICdhY2Nlc3NfZGVuaWVkJyB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVW5hdXRob3JpemVkRXJyb3IoYEF1dGhvcml6YXRpb24gZmFpbGVkOiAke3BhcmFtcy5lcnJvcn1gKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyByc0Rpc2NvdmVyeSBjYW1lIHdpdGggdGhlIHJlZGlyZWN0LCBiZWNhdXNlIGl0IGNvdWxkbid0IGJlXG4gICAgICAvLyBzYXZlZCBpbiBsb2NhbFN0b3JhZ2VcbiAgICAgIGlmIChwYXJhbXMucnNEaXNjb3ZlcnkpIHtcbiAgICAgICAgcmVtb3RlU3RvcmFnZS5yZW1vdGUuY29uZmlndXJlKHBhcmFtcy5yc0Rpc2NvdmVyeSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChwYXJhbXMuYWNjZXNzX3Rva2VuKSB7XG4gICAgICAgIHJlbW90ZVN0b3JhZ2UucmVtb3RlLmNvbmZpZ3VyZSh7IHRva2VuOiBwYXJhbXMuYWNjZXNzX3Rva2VuIH0pO1xuICAgICAgICBhdXRoUGFyYW1zVXNlZCA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChwYXJhbXMucmVtb3Rlc3RvcmFnZSkge1xuICAgICAgICByZW1vdGVTdG9yYWdlLmNvbm5lY3QocGFyYW1zLnJlbW90ZXN0b3JhZ2UpO1xuICAgICAgICBhdXRoUGFyYW1zVXNlZCA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChwYXJhbXMuc3RhdGUpIHtcbiAgICAgICAgbG9jYXRpb24gPSBBdXRob3JpemUuZ2V0TG9jYXRpb24oKTtcbiAgICAgICAgQXV0aG9yaXplLnNldExvY2F0aW9uKGxvY2F0aW9uLmhyZWYuc3BsaXQoJyMnKVswXSsnIycrcGFyYW1zLnN0YXRlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFhdXRoUGFyYW1zVXNlZCkge1xuICAgICAgICByZW1vdGVTdG9yYWdlLnJlbW90ZS5zdG9wV2FpdGluZ0ZvclRva2VuKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJlbW90ZVN0b3JhZ2Uub24oJ2ZlYXR1cmVzLWxvYWRlZCcsIG9uRmVhdHVyZXNMb2FkZWQpO1xuICB9O1xuXG4gIHN0YXRpYyBfcnNfY2xlYW51cCAocmVtb3RlU3RvcmFnZSk6IHZvaWQge1xuICAgIHJlbW90ZVN0b3JhZ2UucmVtb3ZlRXZlbnRMaXN0ZW5lcignZmVhdHVyZXMtbG9hZGVkJywgb25GZWF0dXJlc0xvYWRlZCk7XG4gIH07XG59O1xuIiwiaW1wb3J0IHR2NCBmcm9tICd0djQnO1xuaW1wb3J0IHsgQ2FjaGluZ1N0cmF0ZWd5IH0gZnJvbSAnLi9pbnRlcmZhY2VzL2NhY2hpbmcnO1xuaW1wb3J0IFR5cGVzIGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IFNjaGVtYU5vdEZvdW5kIGZyb20gJy4vc2NoZW1hLW5vdC1mb3VuZC1lcnJvcic7XG5pbXBvcnQgRXZlbnRIYW5kbGluZyBmcm9tICcuL2V2ZW50aGFuZGxpbmcnO1xuaW1wb3J0IGNvbmZpZyBmcm9tICcuL2NvbmZpZyc7XG5pbXBvcnQgeyBhcHBseU1peGlucywgY2xlYW5QYXRoIH0gZnJvbSAnLi91dGlsJztcblxuLyoqXG4gKiBQcm92aWRlcyBhIGhpZ2gtbGV2ZWwgaW50ZXJmYWNlIHRvIGFjY2VzcyBkYXRhIGJlbG93IGEgZ2l2ZW4gcm9vdCBwYXRoLlxuICovXG5mdW5jdGlvbiBCYXNlQ2xpZW50IChzdG9yYWdlLCBiYXNlOiBzdHJpbmcpIHtcbiAgaWYgKGJhc2VbYmFzZS5sZW5ndGggLSAxXSAhPT0gJy8nKSB7XG4gICAgdGhyb3cgXCJOb3QgYSBmb2xkZXI6IFwiICsgYmFzZTtcbiAgfVxuXG4gIGlmIChiYXNlID09PSAnLycpIHtcbiAgICAvLyBhbGxvdyBhYnNvbHV0ZSBhbmQgcmVsYXRpdmUgcGF0aHMgZm9yIHRoZSByb290IHNjb3BlLlxuICAgIHRoaXMubWFrZVBhdGggPSAocGF0aDogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgICAgIHJldHVybiAocGF0aFswXSA9PT0gJy8nID8gJycgOiAnLycpICsgcGF0aDtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSA8UmVtb3RlU3RvcmFnZT4gaW5zdGFuY2UgdGhpcyA8QmFzZUNsaWVudD4gb3BlcmF0ZXMgb24uXG4gICAqL1xuICB0aGlzLnN0b3JhZ2UgPSBzdG9yYWdlO1xuXG4gIC8qKlxuICAgKiBCYXNlIHBhdGgsIHdoaWNoIHRoaXMgPEJhc2VDbGllbnQ+IG9wZXJhdGVzIG9uLlxuICAgKlxuICAgKiBGb3IgdGhlIG1vZHVsZSdzIHByaXZhdGVDbGllbnQgdGhpcyB3b3VsZCBiZSAvPG1vZHVsZU5hbWU+LywgZm9yIHRoZVxuICAgKiBjb3JyZXNwb25kaW5nIHB1YmxpY0NsaWVudCAvcHVibGljLzxtb2R1bGVOYW1lPi8uXG4gICAqL1xuICB0aGlzLmJhc2UgPSBiYXNlO1xuXG4gIC8qKlxuICAgKiBUT0RPOiBkb2N1bWVudCB3aGF0IHRoaXMgZG9lcyBleGFjdGx5XG4gICAqL1xuICBjb25zdCBwYXJ0cyA9IHRoaXMuYmFzZS5zcGxpdCgnLycpO1xuICBpZiAocGFydHMubGVuZ3RoID4gMikge1xuICAgIHRoaXMubW9kdWxlTmFtZSA9IHBhcnRzWzFdO1xuICB9IGVsc2Uge1xuICAgIHRoaXMubW9kdWxlTmFtZSA9ICdyb290JztcbiAgfVxuXG4gIHRoaXMuYWRkRXZlbnRzKFsnY2hhbmdlJ10pO1xuICB0aGlzLm9uID0gdGhpcy5vbi5iaW5kKHRoaXMpO1xuICBzdG9yYWdlLm9uQ2hhbmdlKHRoaXMuYmFzZSwgdGhpcy5fZmlyZUNoYW5nZS5iaW5kKHRoaXMpKTtcbn07XG5cbkJhc2VDbGllbnQuVHlwZXMgPSBUeXBlcztcblxuQmFzZUNsaWVudC5wcm90b3R5cGUgPSB7XG4gIC8qKlxuICAgKiBJbnN0YW50aWF0ZSBhIG5ldyBjbGllbnQsIHNjb3BlZCB0byBhIHN1YnBhdGggb2YgdGhlIGN1cnJlbnQgY2xpZW50J3NcbiAgICogcGF0aC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggLSBUaGUgcGF0aCB0byBzY29wZSB0aGUgbmV3IGNsaWVudCB0by5cbiAgICpcbiAgICogQHJldHVybnMge0Jhc2VDbGllbnR9IEEgbmV3IGNsaWVudCBvcGVyYXRpbmcgb24gYSBzdWJwYXRoIG9mIHRoZSBjdXJyZW50XG4gICAqICAgICAgICAgICAgICAgICAgICAgICBiYXNlIHBhdGguXG4gICAqL1xuICAvLyBUT0RPIGFkZCByZWFsIHR5cGUgKHJlcXVpcmVzIGJpZ2dlciByZWZhY3RvcilcbiAgc2NvcGU6IGZ1bmN0aW9uIChwYXRoOiBzdHJpbmcpOiB1bmtub3duIHtcbiAgICByZXR1cm4gbmV3IEJhc2VDbGllbnQodGhpcy5zdG9yYWdlLCB0aGlzLm1ha2VQYXRoKHBhdGgpKTtcbiAgfSxcblxuICAvKipcbiAgICogR2V0IGEgbGlzdCBvZiBjaGlsZCBub2RlcyBiZWxvdyBhIGdpdmVuIHBhdGguXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIC0gVGhlIHBhdGggdG8gcXVlcnkuIEl0IE1VU1QgZW5kIHdpdGggYSBmb3J3YXJkIHNsYXNoLlxuICAgKiBAcGFyYW0ge251bWJlcn0gbWF4QWdlIC0gKG9wdGlvbmFsKSBFaXRoZXIgYGBmYWxzZWBgIG9yIHRoZSBtYXhpbXVtIGFnZSBvZlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGVkIGxpc3RpbmcgaW4gbWlsbGlzZWNvbmRzLiBTZWUgOnJlZjpgbWF4LWFnZWAuXG4gICAqXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSBBIHByb21pc2UgZm9yIGFuIG9iamVjdCByZXByZXNlbnRpbmcgY2hpbGQgbm9kZXNcbiAgICovXG4gIC8vIFRPRE8gYWRkIHJlYWwgcmV0dXJuIHR5cGVcbiAgZ2V0TGlzdGluZzogZnVuY3Rpb24gKHBhdGg6IHN0cmluZywgbWF4QWdlPzogZmFsc2UgfCBudW1iZXIpOiBQcm9taXNlPHVua25vd24+IHtcbiAgICBpZiAodHlwZW9mIChwYXRoKSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHBhdGggPSAnJztcbiAgICB9IGVsc2UgaWYgKHBhdGgubGVuZ3RoID4gMCAmJiBwYXRoW3BhdGgubGVuZ3RoIC0gMV0gIT09ICcvJykge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFwiTm90IGEgZm9sZGVyOiBcIiArIHBhdGgpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zdG9yYWdlLmdldCh0aGlzLm1ha2VQYXRoKHBhdGgpLCBtYXhBZ2UpLnRoZW4oXG4gICAgICBmdW5jdGlvbiAocikge1xuICAgICAgICByZXR1cm4gKHIuc3RhdHVzQ29kZSA9PT0gNDA0KSA/IHt9IDogci5ib2R5O1xuICAgICAgfVxuICAgICk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldCBhbGwgb2JqZWN0cyBkaXJlY3RseSBiZWxvdyBhIGdpdmVuIHBhdGguXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIC0gUGF0aCB0byB0aGUgZm9sZGVyLiBNdXN0IGVuZCBpbiBhIGZvcndhcmQgc2xhc2guXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhBZ2UgLSAob3B0aW9uYWwpIEVpdGhlciBgYGZhbHNlYGAgb3IgdGhlIG1heGltdW0gYWdlIG9mXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBjYWNoZWQgb2JqZWN0cyBpbiBtaWxsaXNlY29uZHMuIFNlZSA6cmVmOmBtYXgtYWdlYC5cbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2V9IEEgcHJvbWlzZSBmb3IgYW4gb2JqZWN0XG4gICAqL1xuICAvLyBUT0RPIGFkZCByZWFsIHJldHVybiB0eXBlXG4gIGdldEFsbDogZnVuY3Rpb24gKHBhdGg6IHN0cmluZywgbWF4QWdlPzogZmFsc2UgfCBudW1iZXIpOiBQcm9taXNlPHVua25vd24+IHtcbiAgICBpZiAodHlwZW9mIChwYXRoKSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHBhdGggPSAnJztcbiAgICB9IGVsc2UgaWYgKHBhdGgubGVuZ3RoID4gMCAmJiBwYXRoW3BhdGgubGVuZ3RoIC0gMV0gIT09ICcvJykge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFwiTm90IGEgZm9sZGVyOiBcIiArIHBhdGgpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnN0b3JhZ2UuZ2V0KHRoaXMubWFrZVBhdGgocGF0aCksIG1heEFnZSkudGhlbigocikgPT4ge1xuICAgICAgaWYgKHIuc3RhdHVzQ29kZSA9PT0gNDA0KSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgKHIuYm9keSkgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhyLmJvZHkpO1xuICAgICAgICBpZiAoa2V5cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAvLyB0cmVhdCB0aGlzIGxpa2UgNDA0LiBpdCBwcm9iYWJseSBtZWFucyBhIGZvbGRlciBsaXN0aW5nIHRoYXRcbiAgICAgICAgICAvLyBoYXMgY2hhbmdlcyB0aGF0IGhhdmVuJ3QgYmVlbiBwdXNoZWQgb3V0IHlldC5cbiAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjYWxscyA9IGtleXMubWFwKChrZXk6IHN0cmluZykgPT4ge1xuICAgICAgICAgIHJldHVybiB0aGlzLnN0b3JhZ2UuZ2V0KHRoaXMubWFrZVBhdGgocGF0aCArIGtleSksIG1heEFnZSlcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChvKSB7XG4gICAgICAgICAgICAgIGlmICh0eXBlb2YgKG8uYm9keSkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgIG8uYm9keSA9IEpTT04ucGFyc2Uoby5ib2R5KTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAvLyBlbXB0eVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAodHlwZW9mIChvLmJvZHkpID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIHIuYm9keVtrZXldID0gby5ib2R5O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbChjYWxscykudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIHIuYm9keTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldCB0aGUgZmlsZSBhdCB0aGUgZ2l2ZW4gcGF0aC4gQSBmaWxlIGlzIHJhdyBkYXRhLCBhcyBvcHBvc2VkIHRvXG4gICAqIGEgSlNPTiBvYmplY3QgKHVzZSA6ZnVuYzpgZ2V0T2JqZWN0YCBmb3IgdGhhdCkuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIC0gUmVsYXRpdmUgcGF0aCBmcm9tIHRoZSBtb2R1bGUgcm9vdCAod2l0aG91dCBsZWFkaW5nXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgc2xhc2gpLlxuICAgKiBAcGFyYW0ge251bWJlcn0gbWF4QWdlIC0gKG9wdGlvbmFsKSBFaXRoZXIgYGBmYWxzZWBgIG9yIHRoZSBtYXhpbXVtIGFnZSBvZlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgdGhlIGNhY2hlZCBmaWxlIGluIG1pbGxpc2Vjb25kcy4gU2VlIDpyZWY6YG1heC1hZ2VgLlxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gQSBwcm9taXNlIGZvciBhbiBvYmplY3RcbiAgICovXG4gIC8vIFRPRE8gYWRkIHJlYWwgcmV0dXJuIHR5cGVcbiAgZ2V0RmlsZTogZnVuY3Rpb24gKHBhdGg6IHN0cmluZywgbWF4QWdlPzogZmFsc2UgfCBudW1iZXIpOiBQcm9taXNlPHVua25vd24+IHtcbiAgICBpZiAodHlwZW9mIChwYXRoKSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgnQXJndW1lbnQgXFwncGF0aFxcJyBvZiBiYXNlQ2xpZW50LmdldEZpbGUgbXVzdCBiZSBhIHN0cmluZycpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zdG9yYWdlLmdldCh0aGlzLm1ha2VQYXRoKHBhdGgpLCBtYXhBZ2UpLnRoZW4oZnVuY3Rpb24gKHIpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGRhdGE6IHIuYm9keSxcbiAgICAgICAgY29udGVudFR5cGU6IHIuY29udGVudFR5cGUsXG4gICAgICAgIHJldmlzaW9uOiByLnJldmlzaW9uIC8vICh0aGlzIGlzIG5ldylcbiAgICAgIH07XG4gICAgfSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFN0b3JlIHJhdyBkYXRhIGF0IGEgZ2l2ZW4gcGF0aC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG1pbWVUeXBlIC0gTUlNRSBtZWRpYSB0eXBlIG9mIHRoZSBkYXRhIGJlaW5nIHN0b3JlZFxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCAgICAgLSBQYXRoIHJlbGF0aXZlIHRvIHRoZSBtb2R1bGUgcm9vdFxuICAgKiBAcGFyYW0ge3N0cmluZ3xBcnJheUJ1ZmZlcnxBcnJheUJ1ZmZlclZpZXd9IGJvZHkgLSBSYXcgZGF0YSB0byBzdG9yZVxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gQSBwcm9taXNlIGZvciB0aGUgY3JlYXRlZC91cGRhdGVkIHJldmlzaW9uIChFVGFnKVxuICAgKi9cbiAgc3RvcmVGaWxlOiBmdW5jdGlvbiAobWltZVR5cGU6IHN0cmluZywgcGF0aDogc3RyaW5nLCBib2R5OiBzdHJpbmcgfCBBcnJheUJ1ZmZlciB8IEFycmF5QnVmZmVyVmlldyk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgaWYgKHR5cGVvZiAobWltZVR5cGUpICE9PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdBcmd1bWVudCBcXCdtaW1lVHlwZVxcJyBvZiBiYXNlQ2xpZW50LnN0b3JlRmlsZSBtdXN0IGJlIGEgc3RyaW5nJyk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgKHBhdGgpICE9PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdBcmd1bWVudCBcXCdwYXRoXFwnIG9mIGJhc2VDbGllbnQuc3RvcmVGaWxlIG11c3QgYmUgYSBzdHJpbmcnKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiAoYm9keSkgIT09ICdzdHJpbmcnICYmIHR5cGVvZiAoYm9keSkgIT09ICdvYmplY3QnKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoJ0FyZ3VtZW50IFxcJ2JvZHlcXCcgb2YgYmFzZUNsaWVudC5zdG9yZUZpbGUgbXVzdCBiZSBhIHN0cmluZywgQXJyYXlCdWZmZXIsIG9yIEFycmF5QnVmZmVyVmlldycpO1xuICAgIH1cbiAgICBpZiAoIXRoaXMuc3RvcmFnZS5hY2Nlc3MuY2hlY2tQYXRoUGVybWlzc2lvbih0aGlzLm1ha2VQYXRoKHBhdGgpLCAncncnKSkge1xuICAgICAgY29uc29sZS53YXJuKCdXQVJOSU5HOiBFZGl0aW5nIGEgZG9jdW1lbnQgdG8gd2hpY2ggb25seSByZWFkIGFjY2VzcyAoXFwnclxcJykgd2FzIGNsYWltZWQnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5zdG9yYWdlLnB1dCh0aGlzLm1ha2VQYXRoKHBhdGgpLCBib2R5LCBtaW1lVHlwZSkudGhlbigocikgPT4ge1xuICAgICAgaWYgKHIuc3RhdHVzQ29kZSA9PT0gMjAwIHx8IHIuc3RhdHVzQ29kZSA9PT0gMjAxKSB7XG4gICAgICAgIHJldHVybiByLnJldmlzaW9uO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFwiUmVxdWVzdCAoUFVUIFwiICsgdGhpcy5tYWtlUGF0aChwYXRoKSArIFwiKSBmYWlsZWQgd2l0aCBzdGF0dXM6IFwiICsgci5zdGF0dXNDb2RlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcblxuICAvKipcbiAgICogR2V0IGEgSlNPTiBvYmplY3QgZnJvbSB0aGUgZ2l2ZW4gcGF0aC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggLSBSZWxhdGl2ZSBwYXRoIGZyb20gdGhlIG1vZHVsZSByb290ICh3aXRob3V0IGxlYWRpbmdcbiAgICogICAgICAgICAgICAgICAgICAgICAgICBzbGFzaCkuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhBZ2UgLSAob3B0aW9uYWwpIEVpdGhlciBgYGZhbHNlYGAgb3IgdGhlIG1heGltdW0gYWdlIG9mXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICBjYWNoZWQgb2JqZWN0IGluIG1pbGxpc2Vjb25kcy4gU2VlIDpyZWY6YG1heC1hZ2VgLlxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gQSBwcm9taXNlLCB3aGljaCByZXNvbHZlcyB3aXRoIHRoZSByZXF1ZXN0ZWQgb2JqZWN0IChvciBgYG51bGxgYFxuICAgKiAgICAgICAgICBpZiBub24tZXhpc3RlbnQpXG4gICAqL1xuXG4gIC8vIFRPRE8gYWRkIHJlYWwgcmV0dXJuIHR5cGVcbiAgZ2V0T2JqZWN0OiBmdW5jdGlvbiAocGF0aDogc3RyaW5nLCBtYXhBZ2U/OiBmYWxzZSB8IG51bWJlcik6IFByb21pc2U8dW5rbm93bj4ge1xuICAgIGlmICh0eXBlb2YgKHBhdGgpICE9PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdBcmd1bWVudCBcXCdwYXRoXFwnIG9mIGJhc2VDbGllbnQuZ2V0T2JqZWN0IG11c3QgYmUgYSBzdHJpbmcnKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc3RvcmFnZS5nZXQodGhpcy5tYWtlUGF0aChwYXRoKSwgbWF4QWdlKS50aGVuKChyKSA9PiB7XG4gICAgICBpZiAodHlwZW9mIChyLmJvZHkpID09PSAnb2JqZWN0JykgeyAvLyB3aWxsIGJlIHRoZSBjYXNlIGZvciBkb2N1bWVudHMgc3RvcmVkIHdpdGggcnMuanMgPD0gMC4xMC4wLWJldGEyXG4gICAgICAgIHJldHVybiByLmJvZHk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiAoci5ib2R5KSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShyLmJvZHkpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgdGhyb3cgXCJOb3QgdmFsaWQgSlNPTjogXCIgKyB0aGlzLm1ha2VQYXRoKHBhdGgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiAoci5ib2R5KSAhPT0gJ3VuZGVmaW5lZCcgJiYgci5zdGF0dXNDb2RlID09PSAyMDApIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFwiTm90IGFuIG9iamVjdDogXCIgKyB0aGlzLm1ha2VQYXRoKHBhdGgpKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcblxuICAvKipcbiAgICogU3RvcmUgb2JqZWN0IGF0IGdpdmVuIHBhdGguIFRyaWdnZXJzIHN5bmNocm9uaXphdGlvbi5cbiAgICpcbiAgICogU2VlIGBgZGVjbGFyZVR5cGUoKWBgIGFuZCA6ZG9jOmBkYXRhIHR5cGVzIDwvZGF0YS1tb2R1bGVzL2RlZmluaW5nLWRhdGEtdHlwZXM+YFxuICAgKiBmb3IgYW4gZXhwbGFuYXRpb24gb2YgdHlwZXNcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGVBbGlhcyAgIC0gVW5pcXVlIHR5cGUgb2YgdGhpcyBvYmplY3Qgd2l0aGluIHRoaXMgbW9kdWxlLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCAgIC0gUGF0aCByZWxhdGl2ZSB0byB0aGUgbW9kdWxlIHJvb3QuXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBvYmplY3QgLSBBIEphdmFTY3JpcHQgb2JqZWN0IHRvIGJlIHN0b3JlZCBhdCB0aGUgZ2l2ZW5cbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGguIE11c3QgYmUgc2VyaWFsaXphYmxlIGFzIEpTT04uXG4gICAqXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSBSZXNvbHZlcyB3aXRoIHJldmlzaW9uIG9uIHN1Y2Nlc3MuIFJlamVjdHMgd2l0aFxuICAgKiAgICAgICAgICAgICAgICAgICAgYSBWYWxpZGF0aW9uRXJyb3IsIGlmIHZhbGlkYXRpb25zIGZhaWwuXG4gICAqL1xuICAvLyBUT0RPIGFkZCByZWFsIHJldHVybiB0eXBlXG4gIHN0b3JlT2JqZWN0OiBmdW5jdGlvbiAodHlwZUFsaWFzOiBzdHJpbmcsIHBhdGg6IHN0cmluZywgb2JqZWN0OiBvYmplY3QpOiBQcm9taXNlPHVua25vd24+IHtcbiAgICBpZiAodHlwZW9mICh0eXBlQWxpYXMpICE9PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdBcmd1bWVudCBcXCd0eXBlQWxpYXNcXCcgb2YgYmFzZUNsaWVudC5zdG9yZU9iamVjdCBtdXN0IGJlIGEgc3RyaW5nJyk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgKHBhdGgpICE9PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdBcmd1bWVudCBcXCdwYXRoXFwnIG9mIGJhc2VDbGllbnQuc3RvcmVPYmplY3QgbXVzdCBiZSBhIHN0cmluZycpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIChvYmplY3QpICE9PSAnb2JqZWN0Jykge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdBcmd1bWVudCBcXCdvYmplY3RcXCcgb2YgYmFzZUNsaWVudC5zdG9yZU9iamVjdCBtdXN0IGJlIGFuIG9iamVjdCcpO1xuICAgIH1cblxuICAgIHRoaXMuX2F0dGFjaFR5cGUob2JqZWN0LCB0eXBlQWxpYXMpO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHZhbGlkYXRpb25SZXN1bHQgPSB0aGlzLnZhbGlkYXRlKG9iamVjdCk7XG4gICAgICBpZiAoIXZhbGlkYXRpb25SZXN1bHQudmFsaWQpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHZhbGlkYXRpb25SZXN1bHQpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGV4Yykge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGV4Yyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuc3RvcmFnZS5wdXQodGhpcy5tYWtlUGF0aChwYXRoKSwgSlNPTi5zdHJpbmdpZnkob2JqZWN0KSwgJ2FwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9VVRGLTgnKS50aGVuKChyKSA9PiB7XG4gICAgICBpZiAoci5zdGF0dXNDb2RlID09PSAyMDAgfHwgci5zdGF0dXNDb2RlID09PSAyMDEpIHtcbiAgICAgICAgcmV0dXJuIHIucmV2aXNpb247XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXCJSZXF1ZXN0IChQVVQgXCIgKyB0aGlzLm1ha2VQYXRoKHBhdGgpICsgXCIpIGZhaWxlZCB3aXRoIHN0YXR1czogXCIgKyByLnN0YXR1c0NvZGUpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZW1vdmUgbm9kZSBhdCBnaXZlbiBwYXRoIGZyb20gc3RvcmFnZS4gVHJpZ2dlcnMgc3luY2hyb25pemF0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCAtIFBhdGggcmVsYXRpdmUgdG8gdGhlIG1vZHVsZSByb290LlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cbiAgICovXG4gIC8vIFRPRE8gYWRkIHJlYWwgcmV0dXJuIHR5cGVcbiAgcmVtb3ZlOiBmdW5jdGlvbiAocGF0aDogc3RyaW5nKTogUHJvbWlzZTx1bmtub3duPiB7XG4gICAgaWYgKHR5cGVvZiAocGF0aCkgIT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoJ0FyZ3VtZW50IFxcJ3BhdGhcXCcgb2YgYmFzZUNsaWVudC5yZW1vdmUgbXVzdCBiZSBhIHN0cmluZycpO1xuICAgIH1cbiAgICBpZiAoIXRoaXMuc3RvcmFnZS5hY2Nlc3MuY2hlY2tQYXRoUGVybWlzc2lvbih0aGlzLm1ha2VQYXRoKHBhdGgpLCAncncnKSkge1xuICAgICAgY29uc29sZS53YXJuKCdXQVJOSU5HOiBSZW1vdmluZyBhIGRvY3VtZW50IHRvIHdoaWNoIG9ubHkgcmVhZCBhY2Nlc3MgKFxcJ3JcXCcpIHdhcyBjbGFpbWVkJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuc3RvcmFnZS5kZWxldGUodGhpcy5tYWtlUGF0aChwYXRoKSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJldHJpZXZlIGZ1bGwgVVJMIG9mIGEgZG9jdW1lbnQuIFVzZWZ1bCBmb3IgZXhhbXBsZSBmb3Igc2hhcmluZyB0aGUgcHVibGljXG4gICAqIFVSTCBvZiBhbiBpdGVtIGluIHRoZSBgYC9wdWJsaWNgYCBmb2xkZXIuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIC0gUGF0aCByZWxhdGl2ZSB0byB0aGUgbW9kdWxlIHJvb3QuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBmdWxsIFVSTCBvZiB0aGUgaXRlbSwgaW5jbHVkaW5nIHRoZSBzdG9yYWdlIG9yaWdpblxuICAgKi9cbiAgZ2V0SXRlbVVSTDogZnVuY3Rpb24gKHBhdGg6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgaWYgKHR5cGVvZiAocGF0aCkgIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyAnQXJndW1lbnQgXFwncGF0aFxcJyBvZiBiYXNlQ2xpZW50LmdldEl0ZW1VUkwgbXVzdCBiZSBhIHN0cmluZyc7XG4gICAgfVxuICAgIGlmICh0aGlzLnN0b3JhZ2UuY29ubmVjdGVkKSB7XG4gICAgICBwYXRoID0gY2xlYW5QYXRoKHRoaXMubWFrZVBhdGgocGF0aCkpO1xuICAgICAgcmV0dXJuIHRoaXMuc3RvcmFnZS5yZW1vdGUuaHJlZiArIHBhdGg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBTZXQgY2FjaGluZyBzdHJhdGVneSBmb3IgYSBnaXZlbiBwYXRoIGFuZCBpdHMgY2hpbGRyZW4uXG4gICAqXG4gICAqIFNlZSA6cmVmOmBjYWNoaW5nLXN0cmF0ZWdpZXNgIGZvciBhIGRldGFpbGVkIGRlc2NyaXB0aW9uIG9mIHRoZSBhdmFpbGFibGVcbiAgICogc3RyYXRlZ2llcy5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggLSBQYXRoIHRvIGNhY2hlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJhdGVneSAtIENhY2hpbmcgc3RyYXRlZ3kuIE9uZSBvZiAnQUxMJywgJ1NFRU4nLCBvclxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnRkxVU0gnLiBEZWZhdWx0cyB0byAnQUxMJy5cbiAgICpcbiAgICogQHJldHVybnMge0Jhc2VDbGllbnR9IFRoZSBzYW1lIGluc3RhbmNlIHRoaXMgaXMgY2FsbGVkIG9uIHRvIGFsbG93IGZvciBtZXRob2QgY2hhaW5pbmdcbiAgICovXG4gIGNhY2hlOiBmdW5jdGlvbiAocGF0aDogc3RyaW5nLCBzdHJhdGVneTogQ2FjaGluZ1N0cmF0ZWd5ID0gJ0FMTCcpIHtcbiAgICBpZiAodHlwZW9mIHBhdGggIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyAnQXJndW1lbnQgXFwncGF0aFxcJyBvZiBiYXNlQ2xpZW50LmNhY2hlIG11c3QgYmUgYSBzdHJpbmcnO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygc3RyYXRlZ3kgIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyAnQXJndW1lbnQgXFwnc3RyYXRlZ3lcXCcgb2YgYmFzZUNsaWVudC5jYWNoZSBtdXN0IGJlIGEgc3RyaW5nIG9yIHVuZGVmaW5lZCc7XG4gICAgfVxuXG4gICAgaWYgKHN0cmF0ZWd5ICE9PSAnRkxVU0gnICYmXG4gICAgICBzdHJhdGVneSAhPT0gJ1NFRU4nICYmXG4gICAgICBzdHJhdGVneSAhPT0gJ0FMTCcpIHtcbiAgICAgIHRocm93ICdBcmd1bWVudCBcXCdzdHJhdGVneVxcJyBvZiBiYXNlY2xpZW50LmNhY2hlIG11c3QgYmUgb25lIG9mICdcbiAgICAgICsgJ1tcIkZMVVNIXCIsIFwiU0VFTlwiLCBcIkFMTFwiXSc7XG4gICAgfVxuICAgIHRoaXMuc3RvcmFnZS5jYWNoaW5nLnNldCh0aGlzLm1ha2VQYXRoKHBhdGgpLCBzdHJhdGVneSk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICAvKipcbiAgICogVE9ETzogZG9jdW1lbnRcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGhcbiAgICovXG4gIC8vIFRPRE8gYWRkIHJldHVybiB0eXBlIG9uY2Uga25vd25cbiAgZmx1c2g6IGZ1bmN0aW9uIChwYXRoOiBzdHJpbmcpOiB1bmtub3duIHtcbiAgICByZXR1cm4gdGhpcy5zdG9yYWdlLmxvY2FsLmZsdXNoKHBhdGgpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBEZWNsYXJlIGEgcmVtb3RlU3RvcmFnZSBvYmplY3QgdHlwZSB1c2luZyBhIEpTT04gc2NoZW1hLlxuICAgKlxuICAgKiBTZWUgOmRvYzpgRGVmaW5pbmcgZGF0YSB0eXBlcyA8L2RhdGEtbW9kdWxlcy9kZWZpbmluZy1kYXRhLXR5cGVzPmAgZm9yIG1vcmUgaW5mby5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGFsaWFzICAtIEEgdHlwZSBhbGlhcy9zaG9ydG5hbWVcbiAgICogQHBhcmFtIHt1cml9ICAgIHVyaSAgICAtIChvcHRpb25hbCkgSlNPTi1MRCBVUkkgb2YgdGhlIHNjaGVtYS4gQXV0b21hdGljYWxseSBnZW5lcmF0ZWQgaWYgbm9uZSBnaXZlblxuICAgKiBAcGFyYW0ge29iamVjdH0gc2NoZW1hIC0gQSBKU09OIFNjaGVtYSBvYmplY3QgZGVzY3JpYmluZyB0aGUgb2JqZWN0IHR5cGVcbiAgICoqL1xuICBkZWNsYXJlVHlwZTogZnVuY3Rpb24gKGFsaWFzOiBhbnksIHVyaU9yU2NoZW1hOiBhbnksIHNjaGVtYT86IGFueSk6IHZvaWQge1xuICAgIGxldCB1cmk6IHN0cmluZztcblxuICAgIGlmICghc2NoZW1hKSB7XG4gICAgICBzY2hlbWEgPSB1cmlPclNjaGVtYTtcbiAgICAgIHVyaSA9IHRoaXMuX2RlZmF1bHRUeXBlVVJJKGFsaWFzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdXJpID0gdXJpT3JTY2hlbWE7XG4gICAgfVxuXG4gICAgQmFzZUNsaWVudC5UeXBlcy5kZWNsYXJlKHRoaXMubW9kdWxlTmFtZSwgYWxpYXMsIHVyaSwgc2NoZW1hKTtcbiAgfSxcblxuICAvKipcbiAgICogVmFsaWRhdGUgYW4gb2JqZWN0IGFnYWluc3QgdGhlIGFzc29jaWF0ZWQgc2NoZW1hLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IC0gSlMgb2JqZWN0IHRvIHZhbGlkYXRlLiBNdXN0IGhhdmUgYSBgYEBjb250ZXh0YGAgcHJvcGVydHkuXG4gICAqXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IEFuIG9iamVjdCBjb250YWluaW5nIGluZm9ybWF0aW9uIGFib3V0IHZhbGlkYXRpb24gZXJyb3JzXG4gICAqKi9cbiAgdmFsaWRhdGU6IGZ1bmN0aW9uIChvYmplY3Q6IG9iamVjdCk6IG9iamVjdCB7XG4gICAgY29uc3Qgc2NoZW1hID0gQmFzZUNsaWVudC5UeXBlcy5nZXRTY2hlbWEob2JqZWN0WydAY29udGV4dCddKTtcbiAgICBpZiAoc2NoZW1hKSB7XG4gICAgICByZXR1cm4gdHY0LnZhbGlkYXRlUmVzdWx0KG9iamVjdCwgc2NoZW1hKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IFNjaGVtYU5vdEZvdW5kKG9iamVjdFsnQGNvbnRleHQnXSk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBUT0RPIGRvY3VtZW50XG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBzY2hlbWFzOiB7XG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIEJhc2VDbGllbnQuVHlwZXMuaW5TY29wZSh0aGlzLm1vZHVsZU5hbWUpO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogVGhlIGRlZmF1bHQgSlNPTi1MRCBAY29udGV4dCBVUkwgZm9yIFJTIHR5cGVzL29iamVjdHMvZG9jdW1lbnRzXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZGVmYXVsdFR5cGVVUkk6IGZ1bmN0aW9uIChhbGlhczogc3RyaW5nKTogc3RyaW5nIHtcbiAgICByZXR1cm4gJ2h0dHA6Ly9yZW1vdGVzdG9yYWdlLmlvL3NwZWMvbW9kdWxlcy8nICsgZW5jb2RlVVJJQ29tcG9uZW50KHRoaXMubW9kdWxlTmFtZSkgKyAnLycgKyBlbmNvZGVVUklDb21wb25lbnQoYWxpYXMpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBBdHRhY2hlcyB0aGUgSlNPTi1MRCBAY29udGVudCB0byBhbiBvYmplY3RcbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9hdHRhY2hUeXBlOiBmdW5jdGlvbiAob2JqZWN0OiBvYmplY3QsIGFsaWFzOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBvYmplY3RbJ0Bjb250ZXh0J10gPSBCYXNlQ2xpZW50LlR5cGVzLnJlc29sdmVBbGlhcyh0aGlzLm1vZHVsZU5hbWUgKyAnLycgKyBhbGlhcykgfHwgdGhpcy5fZGVmYXVsdFR5cGVVUkkoYWxpYXMpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBUT0RPOiBkb2N1bWVudFxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgbWFrZVBhdGg6IGZ1bmN0aW9uIChwYXRoOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmJhc2UgKyAocGF0aCB8fCAnJyk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFRPRE86IGRvY3VtZW50XG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZmlyZUNoYW5nZTogZnVuY3Rpb24gKGV2ZW50OiBDaGFuZ2VPYmopIHtcbiAgICBpZiAoY29uZmlnLmNoYW5nZUV2ZW50c1tldmVudC5vcmlnaW5dKSB7XG4gICAgICBbJ25ldycsICdvbGQnLCAnbGFzdENvbW1vbiddLmZvckVhY2goZnVuY3Rpb24gKGZpZWxkTmFtZVByZWZpeCkge1xuICAgICAgICBpZiAoKCFldmVudFtmaWVsZE5hbWVQcmVmaXggKyAnQ29udGVudFR5cGUnXSlcbiAgICAgICAgICB8fCAoL15hcHBsaWNhdGlvblxcLyguKilqc29uKC4qKS8uZXhlYyhldmVudFtmaWVsZE5hbWVQcmVmaXggKyAnQ29udGVudFR5cGUnXSkpKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiAoZXZlbnRbZmllbGROYW1lUHJlZml4ICsgJ1ZhbHVlJ10pID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgZXZlbnRbZmllbGROYW1lUHJlZml4ICsgJ1ZhbHVlJ10gPSBKU09OLnBhcnNlKGV2ZW50W2ZpZWxkTmFtZVByZWZpeCArICdWYWx1ZSddKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgLy8gZW1wdHlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgdGhpcy5fZW1pdCgnY2hhbmdlJywgZXZlbnQpO1xuICAgIH1cbiAgfVxufTtcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1lbXB0eS1mdW5jdGlvblxuQmFzZUNsaWVudC5fcnNfaW5pdCA9IGZ1bmN0aW9uICgpOiB2b2lkIHtcbn07XG5cbmludGVyZmFjZSBCYXNlQ2xpZW50IGV4dGVuZHMgRXZlbnRIYW5kbGluZyB7fTtcbmFwcGx5TWl4aW5zKEJhc2VDbGllbnQsIFtFdmVudEhhbmRsaW5nXSk7XG5cbmV4cG9ydCBkZWZhdWx0IEJhc2VDbGllbnQ7XG4iLCJpbXBvcnQgQXV0aG9yaXplIGZyb20gJy4vYXV0aG9yaXplJztcbmltcG9ydCBFdmVudEhhbmRsaW5nIGZyb20gJy4vZXZlbnRoYW5kbGluZyc7XG5pbXBvcnQgVW5hdXRob3JpemVkRXJyb3IgZnJvbSAnLi91bmF1dGhvcml6ZWQtZXJyb3InO1xuaW1wb3J0IGNvbmZpZyBmcm9tICcuL2NvbmZpZyc7XG5pbXBvcnQgbG9nIGZyb20gJy4vbG9nJztcbmltcG9ydCB7XG4gIGFwcGx5TWl4aW5zLFxuICBjbGVhblBhdGgsXG4gIGdldEpTT05Gcm9tTG9jYWxTdG9yYWdlLFxuICBnZXRUZXh0RnJvbUFycmF5QnVmZmVyLFxuICBpc0ZvbGRlcixcbiAgbG9jYWxTdG9yYWdlQXZhaWxhYmxlLFxuICBzaG91bGRCZVRyZWF0ZWRBc0JpbmFyeVxufSBmcm9tICcuL3V0aWwnO1xuXG4vKipcbiAqIFRoaXMgZmlsZSBleHBvc2VzIGEgZ2V0L3B1dC9kZWxldGUgaW50ZXJmYWNlIG9uIHRvcCBvZiBmZXRjaCgpIG9yIFhNTEh0dHBSZXF1ZXN0LlxuICogSXQgcmVxdWlyZXMgdG8gYmUgY29uZmlndXJlZCB3aXRoIHBhcmFtZXRlcnMgYWJvdXQgdGhlIHJlbW90ZXN0b3JhZ2Ugc2VydmVyIHRvXG4gKiBjb25uZWN0IHRvLlxuICogRWFjaCBpbnN0YW5jZSBvZiBXaXJlQ2xpZW50IGlzIGFsd2F5cyBhc3NvY2lhdGVkIHdpdGggYSBzaW5nbGUgcmVtb3Rlc3RvcmFnZVxuICogc2VydmVyIGFuZCBhY2Nlc3MgdG9rZW4uXG4gKlxuICogVXN1YWxseSB0aGUgV2lyZUNsaWVudCBpbnN0YW5jZSBjYW4gYmUgYWNjZXNzZWQgdmlhIGByZW1vdGVTdG9yYWdlLnJlbW90ZWAuXG4gKlxuICogVGhpcyBpcyB0aGUgZ2V0L3B1dC9kZWxldGUgaW50ZXJmYWNlOlxuICpcbiAqICAgLSAjZ2V0KCkgdGFrZXMgYSBwYXRoIGFuZCBvcHRpb25hbGx5IGEgaWZOb25lTWF0Y2ggb3B0aW9uIGNhcnJ5aW5nIGEgdmVyc2lvblxuICogICAgIHN0cmluZyB0byBjaGVjay4gSXQgcmV0dXJucyBhIHByb21pc2UgdGhhdCB3aWxsIGJlIGZ1bGZpbGxlZCB3aXRoIHRoZSBIVFRQXG4gKiAgICAgcmVzcG9uc2Ugc3RhdHVzLCB0aGUgcmVzcG9uc2UgYm9keSwgdGhlIE1JTUUgdHlwZSBhcyByZXR1cm5lZCBpbiB0aGVcbiAqICAgICAnQ29udGVudC1UeXBlJyBoZWFkZXIgYW5kIHRoZSBjdXJyZW50IHJldmlzaW9uLCBhcyByZXR1cm5lZCBpbiB0aGUgJ0VUYWcnXG4gKiAgICAgaGVhZGVyLlxuICogICAtICNwdXQoKSB0YWtlcyBhIHBhdGgsIHRoZSByZXF1ZXN0IGJvZHkgYW5kIGEgY29udGVudCB0eXBlIHN0cmluZy4gSXQgYWxzb1xuICogICAgIGFjY2VwdHMgdGhlIGlmTWF0Y2ggYW5kIGlmTm9uZU1hdGNoIG9wdGlvbnMsIHRoYXQgbWFwIHRvIHRoZSBJZi1NYXRjaCBhbmRcbiAqICAgICBJZi1Ob25lLU1hdGNoIGhlYWRlcnMgcmVzcGVjdGl2ZWx5LiBTZWUgdGhlIHJlbW90ZXN0b3JhZ2UtMDEgc3BlY2lmaWNhdGlvblxuICogICAgIGZvciBkZXRhaWxzIG9uIGhhbmRsaW5nIHRoZXNlIGhlYWRlcnMuIEl0IHJldHVybnMgYSBwcm9taXNlLCBmdWxmaWxsZWQgd2l0aFxuICogICAgIHRoZSBzYW1lIHZhbHVlcyBhcyB0aGUgb25lIGZvciAjZ2V0KCkuXG4gKiAgIC0gI2RlbGV0ZSgpIHRha2VzIGEgcGF0aCBhbmQgdGhlIGlmTWF0Y2ggb3B0aW9uIGFzIHdlbGwuIEl0IHJldHVybnMgYSBwcm9taXNlXG4gKiAgICAgZnVsZmlsbGVkIHdpdGggdGhlIHNhbWUgdmFsdWVzIGFzIHRoZSBvbmUgZm9yICNnZXQoKS5cbiAqXG4gKiBJbiBhZGRpdGlvbiB0byB0aGlzLCB0aGUgV2lyZUNsaWVudCBoYXMgc29tZSBjb21wYXRpYmlsaXR5IGZlYXR1cmVzIHRvIHdvcmsgd2l0aFxuICogcmVtb3Rlc3RvcmFnZSAyMDEyLjA0IGNvbXBhdGlibGUgc3RvcmFnZXMuIEZvciBleGFtcGxlIGl0IHdpbGwgY2FjaGUgcmV2aXNpb25zXG4gKiBmcm9tIGZvbGRlciBsaXN0aW5ncyBpbi1tZW1vcnkgYW5kIHJldHVybiB0aGVtIGFjY29yZGluZ2x5IGFzIHRoZSBcInJldmlzaW9uXCJcbiAqIHBhcmFtZXRlciBpbiByZXNwb25zZSB0byAjZ2V0KCkgcmVxdWVzdHMuIFNpbWlsYXJseSBpdCB3aWxsIHJldHVybiA0MDQgd2hlbiBpdFxuICogcmVjZWl2ZXMgYW4gZW1wdHkgZm9sZGVyIGxpc3RpbmcsIHRvIG1pbWljIHJlbW90ZXN0b3JhZ2UtMDEgYmVoYXZpb3IuIE5vdGVcbiAqIHRoYXQgaXQgaXMgbm90IGFsd2F5cyBwb3NzaWJsZSB0byBrbm93IHRoZSByZXZpc2lvbiBiZWZvcmVoYW5kLCBoZW5jZSBpdCBtYXlcbiAqIGJlIHVuZGVmaW5lZCBhdCB0aW1lcyAoZXNwZWNpYWxseSBmb3IgY2FjaGluZy1yb290cykuXG4gKlxuICogQGludGVyZmFjZVxuICovXG5cbmxldCBoYXNMb2NhbFN0b3JhZ2U7XG5jb25zdCBTRVRUSU5HU19LRVkgPSAncmVtb3Rlc3RvcmFnZTp3aXJlY2xpZW50JztcblxuY29uc3QgQVBJXzIwMTIgPSAxO1xuY29uc3QgQVBJXzAwID0gMjtcbmNvbnN0IEFQSV8wMSA9IDM7XG5jb25zdCBBUElfMDIgPSA0O1xuY29uc3QgQVBJX0hFQUQgPSA1O1xuXG5jb25zdCBTVE9SQUdFX0FQSVMgPSB7XG4gICdkcmFmdC1kZWpvbmctcmVtb3Rlc3RvcmFnZS0wMCc6IEFQSV8wMCxcbiAgJ2RyYWZ0LWRlam9uZy1yZW1vdGVzdG9yYWdlLTAxJzogQVBJXzAxLFxuICAnZHJhZnQtZGVqb25nLXJlbW90ZXN0b3JhZ2UtMDInOiBBUElfMDIsXG4gICdodHRwczovL3d3dy53My5vcmcvY29tbXVuaXR5L3J3dy93aWtpL3JlYWQtd3JpdGUtd2ViLTAwI3NpbXBsZSc6IEFQSV8yMDEyXG59O1xuXG5sZXQgaXNBcnJheUJ1ZmZlclZpZXc7XG5cbmlmICh0eXBlb2YgKChnbG9iYWwgfHwgd2luZG93IGFzIGFueSkuQXJyYXlCdWZmZXJWaWV3KSA9PT0gJ2Z1bmN0aW9uJykge1xuICBpc0FycmF5QnVmZmVyVmlldyA9IGZ1bmN0aW9uIChvYmplY3QpIHtcbiAgICByZXR1cm4gb2JqZWN0ICYmIChvYmplY3QgaW5zdGFuY2VvZiAoZ2xvYmFsIHx8IHdpbmRvdyBhcyBhbnkpLkFycmF5QnVmZmVyVmlldyk7XG4gIH07XG59IGVsc2Uge1xuICBjb25zdCBhcnJheUJ1ZmZlclZpZXdzID0gW1xuICAgIEludDhBcnJheSwgVWludDhBcnJheSwgSW50MTZBcnJheSwgVWludDE2QXJyYXksXG4gICAgSW50MzJBcnJheSwgVWludDMyQXJyYXksIEZsb2F0MzJBcnJheSwgRmxvYXQ2NEFycmF5XG4gIF07XG4gIGlzQXJyYXlCdWZmZXJWaWV3ID0gZnVuY3Rpb24gKG9iamVjdCk6IGJvb2xlYW4ge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgODsgaSsrKSB7XG4gICAgICBpZiAob2JqZWN0IGluc3RhbmNlb2YgYXJyYXlCdWZmZXJWaWV3c1tpXSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xufVxuXG4vLyBUT0RPIGRvdWJsZSBjaGVja1xuaW50ZXJmYWNlIFdpcmVDbGllbnRTZXR0aW5ncyB7XG4gIHVzZXJBZGRyZXNzOiBzdHJpbmc7XG4gIGhyZWY6IHN0cmluZztcbiAgc3RvcmFnZUFwaTogdW5rbm93bjtcbiAgdG9rZW46IHN0cmluZztcbiAgcHJvcGVydGllczogdW5rbm93bjtcbn1cblxuaW50ZXJmYWNlIFdpcmVSZXF1ZXN0UmVzcG9uc2Uge1xuICBzdGF0dXNDb2RlOiBudW1iZXI7XG4gIHJldmlzaW9uOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIGFkZFF1b3RlcyAoc3RyOiBzdHJpbmcpOiBzdHJpbmcge1xuICBpZiAodHlwZW9mIChzdHIpICE9PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBzdHI7XG4gIH1cbiAgaWYgKHN0ciA9PT0gJyonKSB7XG4gICAgcmV0dXJuICcqJztcbiAgfVxuXG4gIHJldHVybiAnXCInICsgc3RyICsgJ1wiJztcbn1cblxuZnVuY3Rpb24gc3RyaXBRdW90ZXMgKHN0cjogc3RyaW5nKTogc3RyaW5nIHtcbiAgaWYgKHR5cGVvZiAoc3RyKSAhPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gc3RyO1xuICB9XG5cbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9eW1wiJ118W1wiJ10kL2csICcnKTtcbn1cblxuZnVuY3Rpb24gZGV0ZXJtaW5lQ2hhcnNldCAobWltZVR5cGU6IHN0cmluZyk6IHN0cmluZyB7XG4gIGxldCBjaGFyc2V0ID0gJ1VURi04JztcbiAgbGV0IGNoYXJzZXRNYXRjaDtcblxuICBpZiAobWltZVR5cGUpIHtcbiAgICBjaGFyc2V0TWF0Y2ggPSBtaW1lVHlwZS5tYXRjaCgvY2hhcnNldD0oLispJC8pO1xuICAgIGlmIChjaGFyc2V0TWF0Y2gpIHtcbiAgICAgIGNoYXJzZXQgPSBjaGFyc2V0TWF0Y2hbMV07XG4gICAgfVxuICB9XG4gIHJldHVybiBjaGFyc2V0O1xufVxuXG5mdW5jdGlvbiBpc0ZvbGRlckRlc2NyaXB0aW9uIChib2R5OiBvYmplY3QpOiBib29sZWFuIHtcbiAgcmV0dXJuICgoYm9keVsnQGNvbnRleHQnXSA9PT0gJ2h0dHA6Ly9yZW1vdGVzdG9yYWdlLmlvL3NwZWMvZm9sZGVyLWRlc2NyaXB0aW9uJylcbiAgICAmJiAodHlwZW9mIChib2R5WydpdGVtcyddKSA9PT0gJ29iamVjdCcpKTtcbn1cblxuZnVuY3Rpb24gaXNTdWNjZXNzU3RhdHVzIChzdGF0dXM6IG51bWJlcik6IGJvb2xlYW4ge1xuICByZXR1cm4gWzIwMSwgMjA0LCAzMDRdLmluZGV4T2Yoc3RhdHVzKSA+PSAwO1xufVxuXG5mdW5jdGlvbiBpc0Vycm9yU3RhdHVzIChzdGF0dXM6IG51bWJlcik6IGJvb2xlYW4ge1xuICByZXR1cm4gWzQwMSwgNDAzLCA0MDQsIDQxMl0uaW5kZXhPZihzdGF0dXMpID49IDA7XG59XG5cbmZ1bmN0aW9uIGlzRm9yYmlkZGVuUmVxdWVzdE1ldGhvZChtZXRob2Q6IHN0cmluZywgdXJpOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgaWYgKG1ldGhvZCA9PT0gJ1BVVCcgfHwgbWV0aG9kID09PSAnREVMRVRFJykge1xuICAgIHJldHVybiBpc0ZvbGRlcih1cmkpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG4vKipcbiAqIENsYXNzIDogV2lyZUNsaWVudFxuICoqL1xuY29uc3QgV2lyZUNsaWVudCA9IGZ1bmN0aW9uIFdpcmVDbGllbnQocnMpOiB2b2lkIHtcbiAgdGhpcy5ycyA9IHJzO1xuICB0aGlzLmNvbm5lY3RlZCA9IGZhbHNlO1xuXG4gIC8qKlxuICAgKiBFdmVudDogY29ubmVjdGVkXG4gICAqICAgRmlyZWQgd2hlbiB0aGUgd2lyZWNsaWVudCBjb25uZWN0IG1ldGhvZCByZWFsaXplcyB0aGF0IGl0IGlzIGluXG4gICAqICAgcG9zc2Vzc2lvbiBvZiBhIHRva2VuIGFuZCBocmVmXG4gICAqKi9cbiAgdGhpcy5hZGRFdmVudHMoWydjb25uZWN0ZWQnLCAnbm90LWNvbm5lY3RlZCddKTtcblxuICBpZiAoaGFzTG9jYWxTdG9yYWdlKSB7XG4gICAgY29uc3Qgc2V0dGluZ3MgPSBnZXRKU09ORnJvbUxvY2FsU3RvcmFnZShTRVRUSU5HU19LRVkpO1xuICAgIGlmIChzZXR0aW5ncykge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMuY29uZmlndXJlKHNldHRpbmdzKTtcbiAgICAgIH0sIDApO1xuICAgIH1cbiAgfVxuXG4gIHRoaXMuX3JldmlzaW9uQ2FjaGUgPSB7fTtcblxuICBpZiAodGhpcy5jb25uZWN0ZWQpIHtcbiAgICBzZXRUaW1lb3V0KHRoaXMuX2VtaXQuYmluZCh0aGlzKSwgMCwgJ2Nvbm5lY3RlZCcpO1xuICB9XG59O1xuXG5XaXJlQ2xpZW50LnByb3RvdHlwZSA9IHtcbiAgLyoqXG4gICAqIFByb3BlcnR5OiB0b2tlblxuICAgKlxuICAgKiBIb2xkcyB0aGUgYmVhcmVyIHRva2VuIG9mIHRoaXMgV2lyZUNsaWVudCwgYXMgb2J0YWluZWQgaW4gdGhlIE9BdXRoIGRhbmNlXG4gICAqXG4gICAqIEV4YW1wbGU6XG4gICAqICAgKHN0YXJ0IGNvZGUpXG4gICAqXG4gICAqICAgcmVtb3RlU3RvcmFnZS5yZW1vdGUudG9rZW5cbiAgICogICAvLyAtPiAnREVBREJFRUYwMT09J1xuICAgKi9cblxuICAvKipcbiAgICogUHJvcGVydHk6IGhyZWZcbiAgICpcbiAgICogSG9sZHMgdGhlIHNlcnZlcidzIGJhc2UgVVJMLCBhcyBvYnRhaW5lZCBpbiB0aGUgV2ViZmluZ2VyIGRpc2NvdmVyeVxuICAgKlxuICAgKiBFeGFtcGxlOlxuICAgKiAgIChzdGFydCBjb2RlKVxuICAgKlxuICAgKiAgIHJlbW90ZVN0b3JhZ2UucmVtb3RlLmhyZWZcbiAgICogICAvLyAtPiAnaHR0cHM6Ly9zdG9yYWdlLmV4YW1wbGUuY29tL3VzZXJzL2pibG9nZy8nXG4gICAqL1xuXG4gIC8qKlxuICAgKiBQcm9wZXJ0eTogc3RvcmFnZUFwaVxuICAgKlxuICAgKiBIb2xkcyB0aGUgc3BlYyB2ZXJzaW9uIHRoZSBzZXJ2ZXIgY2xhaW1zIHRvIGJlIGNvbXBhdGlibGUgd2l0aFxuICAgKlxuICAgKiBFeGFtcGxlOlxuICAgKiAgIChzdGFydCBjb2RlKVxuICAgKlxuICAgKiAgIHJlbW90ZVN0b3JhZ2UucmVtb3RlLnN0b3JhZ2VBcGlcbiAgICogICAvLyAtPiAnZHJhZnQtZGVqb25nLXJlbW90ZXN0b3JhZ2UtMDEnXG4gICAqL1xuXG4gIF9yZXF1ZXN0OiBhc3luYyBmdW5jdGlvbiAobWV0aG9kOiBzdHJpbmcsIHVyaTogc3RyaW5nLCB0b2tlbjogc3RyaW5nIHwgZmFsc2UsIGhlYWRlcnM6IG9iamVjdCwgYm9keTogdW5rbm93biwgZ2V0RXRhZzogYm9vbGVhbiwgZmFrZVJldmlzaW9uPzogc3RyaW5nKTogUHJvbWlzZTxXaXJlUmVxdWVzdFJlc3BvbnNlPiB7XG4gICAgaWYgKGlzRm9yYmlkZGVuUmVxdWVzdE1ldGhvZChtZXRob2QsIHVyaSkpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRG9uJ3QgdXNlICR7bWV0aG9kfSBvbiBkaXJlY3RvcmllcyFgKTtcbiAgICB9XG5cbiAgICBsZXQgcmV2aXNpb246IHN0cmluZyB8IHVuZGVmaW5lZDtcblxuICAgIGlmICh0b2tlbiAhPT0gQXV0aG9yaXplLklNUExJRURfRkFLRV9UT0tFTikge1xuICAgICAgaGVhZGVyc1snQXV0aG9yaXphdGlvbiddID0gJ0JlYXJlciAnICsgdG9rZW47XG4gICAgfVxuXG4gICAgdGhpcy5ycy5fZW1pdCgnd2lyZS1idXN5Jywge1xuICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICBpc0ZvbGRlcjogaXNGb2xkZXIodXJpKVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIFdpcmVDbGllbnQucmVxdWVzdChtZXRob2QsIHVyaSwge1xuICAgICAgYm9keTogYm9keSxcbiAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICByZXNwb25zZVR5cGU6ICdhcnJheWJ1ZmZlcidcbiAgICB9KS50aGVuKChyZXNwb25zZTogWE1MSHR0cFJlcXVlc3QpOiBQcm9taXNlPFdpcmVSZXF1ZXN0UmVzcG9uc2U+ID0+IHtcbiAgICAgIGlmICghdGhpcy5vbmxpbmUpIHtcbiAgICAgICAgdGhpcy5vbmxpbmUgPSB0cnVlO1xuICAgICAgICB0aGlzLnJzLl9lbWl0KCduZXR3b3JrLW9ubGluZScpO1xuICAgICAgfVxuICAgICAgdGhpcy5ycy5fZW1pdCgnd2lyZS1kb25lJywge1xuICAgICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgICAgaXNGb2xkZXI6IGlzRm9sZGVyKHVyaSksXG4gICAgICAgIHN1Y2Nlc3M6IHRydWVcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoaXNFcnJvclN0YXR1cyhyZXNwb25zZS5zdGF0dXMpKSB7XG4gICAgICAgIGxvZygnW1dpcmVDbGllbnRdIEVycm9yIHJlc3BvbnNlIHN0YXR1cycsIHJlc3BvbnNlLnN0YXR1cyk7XG4gICAgICAgIGlmIChnZXRFdGFnKSB7XG4gICAgICAgICAgcmV2aXNpb24gPSBzdHJpcFF1b3RlcyhyZXNwb25zZS5nZXRSZXNwb25zZUhlYWRlcignRVRhZycpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXZpc2lvbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwMSkge1xuICAgICAgICAgIHRoaXMucnMuX2VtaXQoJ2Vycm9yJywgbmV3IFVuYXV0aG9yaXplZEVycm9yKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7c3RhdHVzQ29kZTogcmVzcG9uc2Uuc3RhdHVzLCByZXZpc2lvbjogcmV2aXNpb259KTtcbiAgICAgIH0gZWxzZSBpZiAoaXNTdWNjZXNzU3RhdHVzKHJlc3BvbnNlLnN0YXR1cykgfHxcbiAgICAgICAgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwICYmIG1ldGhvZCAhPT0gJ0dFVCcpKSB7XG4gICAgICAgIHJldmlzaW9uID0gc3RyaXBRdW90ZXMocmVzcG9uc2UuZ2V0UmVzcG9uc2VIZWFkZXIoJ0VUYWcnKSk7XG4gICAgICAgIGxvZygnW1dpcmVDbGllbnRdIFN1Y2Nlc3NmdWwgcmVxdWVzdCcsIHJldmlzaW9uKTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7c3RhdHVzQ29kZTogcmVzcG9uc2Uuc3RhdHVzLCByZXZpc2lvbjogcmV2aXNpb259KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IG1pbWVUeXBlID0gcmVzcG9uc2UuZ2V0UmVzcG9uc2VIZWFkZXIoJ0NvbnRlbnQtVHlwZScpO1xuICAgICAgICBpZiAoZ2V0RXRhZykge1xuICAgICAgICAgIHJldmlzaW9uID0gc3RyaXBRdW90ZXMocmVzcG9uc2UuZ2V0UmVzcG9uc2VIZWFkZXIoJ0VUYWcnKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV2aXNpb24gPSAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDApID8gZmFrZVJldmlzaW9uIDogdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY2hhcnNldCA9IGRldGVybWluZUNoYXJzZXQobWltZVR5cGUpO1xuXG4gICAgICAgIGlmIChzaG91bGRCZVRyZWF0ZWRBc0JpbmFyeShyZXNwb25zZS5yZXNwb25zZSwgbWltZVR5cGUpKSB7XG4gICAgICAgICAgbG9nKCdbV2lyZUNsaWVudF0gU3VjY2Vzc2Z1bCByZXF1ZXN0IHdpdGggdW5rbm93biBvciBiaW5hcnkgbWltZS10eXBlJywgcmV2aXNpb24pO1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgICAgc3RhdHVzQ29kZTogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICAgICAgYm9keTogcmVzcG9uc2UucmVzcG9uc2UsXG4gICAgICAgICAgICBjb250ZW50VHlwZTogbWltZVR5cGUsXG4gICAgICAgICAgICByZXZpc2lvbjogcmV2aXNpb25cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gZ2V0VGV4dEZyb21BcnJheUJ1ZmZlcihyZXNwb25zZS5yZXNwb25zZSwgY2hhcnNldClcbiAgICAgICAgICAgIC50aGVuKCh0ZXh0Q29udGVudCkgPT4ge1xuICAgICAgICAgICAgICBsb2coJ1tXaXJlQ2xpZW50XSBTdWNjZXNzZnVsIHJlcXVlc3QnLCByZXZpc2lvbik7XG4gICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgICAgICAgIHN0YXR1c0NvZGU6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgICAgICAgICBib2R5OiB0ZXh0Q29udGVudCxcbiAgICAgICAgICAgICAgICBjb250ZW50VHlwZTogbWltZVR5cGUsXG4gICAgICAgICAgICAgICAgcmV2aXNpb246IHJldmlzaW9uXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCBlcnJvciA9PiB7XG4gICAgICBpZiAodGhpcy5vbmxpbmUpIHtcbiAgICAgICAgdGhpcy5vbmxpbmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5ycy5fZW1pdCgnbmV0d29yay1vZmZsaW5lJyk7XG4gICAgICB9XG4gICAgICB0aGlzLnJzLl9lbWl0KCd3aXJlLWRvbmUnLCB7XG4gICAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgICBpc0ZvbGRlcjogaXNGb2xkZXIodXJpKSxcbiAgICAgICAgc3VjY2VzczogZmFsc2VcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuICAgIH0pO1xuICB9LFxuXG4gIC8qKlxuICAgKlxuICAgKiBNZXRob2Q6IGNvbmZpZ3VyZVxuICAgKlxuICAgKiBTZXRzIHRoZSB1c2VyQWRkcmVzcywgaHJlZiwgc3RvcmFnZUFwaSwgdG9rZW4sIGFuZCBwcm9wZXJ0aWVzIG9mIGFcbiAgICogcmVtb3RlIHN0b3JlLiBBbHNvIHNldHMgY29ubmVjdGVkIGFuZCBvbmxpbmUgdG8gdHJ1ZSBhbmQgZW1pdHMgdGhlXG4gICAqICdjb25uZWN0ZWQnIGV2ZW50LCBpZiBib3RoIHRva2VuIGFuZCBocmVmIGFyZSBwcmVzZW50LlxuICAgKlxuICAgKiBQYXJhbWV0ZXJzOlxuICAgKiAgIHNldHRpbmdzIC0gQW4gb2JqZWN0IHRoYXQgbWF5IGNvbnRhaW4gdXNlckFkZHJlc3MgKHN0cmluZyBvciBudWxsKSxcbiAgICogICAgICAgICAgICAgIGhyZWYgKHN0cmluZyBvciBudWxsKSwgc3RvcmFnZUFwaSAoc3RyaW5nIG9yIG51bGwpLCB0b2tlbiAoc3RyaW5nXG4gICAqICAgICAgICAgICAgICBvciBudWxsKSwgYW5kL29yIHByb3BlcnRpZXMgKHRoZSBKU09OLXBhcnNlZCBwcm9wZXJ0aWVzIG9iamVjdFxuICAgKiAgICAgICAgICAgICAgZnJvbSB0aGUgdXNlcidzIFdlYkZpbmdlciByZWNvcmQsIHNlZSBzZWN0aW9uIDEwIG9mXG4gICAqICAgICAgICAgICAgICBodHRwOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9kcmFmdC1kZWpvbmctcmVtb3Rlc3RvcmFnZS0wM1xuICAgKiAgICAgICAgICAgICAgb3IgbnVsbCkuXG4gICAqICAgICAgICAgICAgICBGaWVsZHMgdGhhdCBhcmUgbm90IGluY2x1ZGVkIChpLmUuIGB1bmRlZmluZWRgKSwgc3RheSBhdFxuICAgKiAgICAgICAgICAgICAgdGhlaXIgY3VycmVudCB2YWx1ZS4gVG8gc2V0IGEgZmllbGQsIGluY2x1ZGUgdGhhdCBmaWVsZFxuICAgKiAgICAgICAgICAgICAgd2l0aCBhIGBzdHJpbmdgIHZhbHVlLiBUbyByZXNldCBhIGZpZWxkLCBmb3IgaW5zdGFuY2Ugd2hlblxuICAgKiAgICAgICAgICAgICAgdGhlIHVzZXIgZGlzY29ubmVjdGVkIHRoZWlyIHN0b3JhZ2UsIG9yIHlvdSBmb3VuZCB0aGF0IHRoZVxuICAgKiAgICAgICAgICAgICAgdG9rZW4geW91IGhhdmUgaGFzIGV4cGlyZWQsIHNpbXBseSBzZXQgdGhhdCBmaWVsZCB0byBgbnVsbGAuXG4gICAqL1xuICBjb25maWd1cmU6IGZ1bmN0aW9uIChzZXR0aW5nczogV2lyZUNsaWVudFNldHRpbmdzKTogdm9pZCB7XG4gICAgaWYgKHR5cGVvZiBzZXR0aW5ncyAhPT0gJ29iamVjdCcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignV2lyZUNsaWVudCBjb25maWd1cmUgc2V0dGluZ3MgcGFyYW1ldGVyIHNob3VsZCBiZSBhbiBvYmplY3QnKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBzZXR0aW5ncy51c2VyQWRkcmVzcyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRoaXMudXNlckFkZHJlc3MgPSBzZXR0aW5ncy51c2VyQWRkcmVzcztcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBzZXR0aW5ncy5ocmVmICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpcy5ocmVmID0gc2V0dGluZ3MuaHJlZjtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBzZXR0aW5ncy5zdG9yYWdlQXBpICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpcy5zdG9yYWdlQXBpID0gc2V0dGluZ3Muc3RvcmFnZUFwaTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBzZXR0aW5ncy50b2tlbiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRoaXMudG9rZW4gPSBzZXR0aW5ncy50b2tlbjtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBzZXR0aW5ncy5wcm9wZXJ0aWVzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpcy5wcm9wZXJ0aWVzID0gc2V0dGluZ3MucHJvcGVydGllcztcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHRoaXMuc3RvcmFnZUFwaSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRoaXMuX3N0b3JhZ2VBcGkgPSBTVE9SQUdFX0FQSVNbdGhpcy5zdG9yYWdlQXBpXSB8fCBBUElfSEVBRDtcbiAgICAgIHRoaXMuc3VwcG9ydHNSZXZzID0gdGhpcy5fc3RvcmFnZUFwaSA+PSBBUElfMDA7XG4gICAgfVxuICAgIGlmICh0aGlzLmhyZWYgJiYgdGhpcy50b2tlbikge1xuICAgICAgdGhpcy5jb25uZWN0ZWQgPSB0cnVlO1xuICAgICAgdGhpcy5vbmxpbmUgPSB0cnVlO1xuICAgICAgdGhpcy5fZW1pdCgnY29ubmVjdGVkJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY29ubmVjdGVkID0gZmFsc2U7XG4gICAgfVxuICAgIGlmIChoYXNMb2NhbFN0b3JhZ2UpIHtcbiAgICAgIGxvY2FsU3RvcmFnZVtTRVRUSU5HU19LRVldID0gSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICB1c2VyQWRkcmVzczogdGhpcy51c2VyQWRkcmVzcyxcbiAgICAgICAgaHJlZjogdGhpcy5ocmVmLFxuICAgICAgICBzdG9yYWdlQXBpOiB0aGlzLnN0b3JhZ2VBcGksXG4gICAgICAgIHRva2VuOiB0aGlzLnRva2VuLFxuICAgICAgICBwcm9wZXJ0aWVzOiB0aGlzLnByb3BlcnRpZXNcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcblxuICBzdG9wV2FpdGluZ0ZvclRva2VuOiBmdW5jdGlvbiAoKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmNvbm5lY3RlZCkge1xuICAgICAgdGhpcy5fZW1pdCgnbm90LWNvbm5lY3RlZCcpO1xuICAgIH1cbiAgfSxcblxuICBnZXQ6IGZ1bmN0aW9uIChwYXRoOiBzdHJpbmcsIG9wdGlvbnM6IHsgaWZOb25lTWF0Y2g/OiBzdHJpbmcgfSA9IHt9KTogUHJvbWlzZTx1bmtub3duPiB7XG4gICAgaWYgKCF0aGlzLmNvbm5lY3RlZCkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdub3QgY29ubmVjdGVkIChwYXRoOiAnICsgcGF0aCArICcpJyk7XG4gICAgfVxuXG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgIGlmICh0aGlzLnN1cHBvcnRzUmV2cykge1xuICAgICAgaWYgKG9wdGlvbnMuaWZOb25lTWF0Y2gpIHtcbiAgICAgICAgaGVhZGVyc1snSWYtTm9uZS1NYXRjaCddID0gYWRkUXVvdGVzKG9wdGlvbnMuaWZOb25lTWF0Y2gpO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBjb21tZW50aW5nIGl0IG91dCBhcyB0aGlzIGlzIGRvaW5nIG5vdGhpbmcgYW5kIGpzaGludCBpcyBjb21wbGFpbmluZyAtbGVzXG4gICAgLy8gZWxzZSBpZiAob3B0aW9ucy5pZk5vbmVNYXRjaCkge1xuICAgIC8vICAgbGV0IG9sZFJldiA9IHRoaXMuX3JldmlzaW9uQ2FjaGVbcGF0aF07XG4gICAgLy8gfVxuXG5cbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdCgnR0VUJywgdGhpcy5ocmVmICsgY2xlYW5QYXRoKHBhdGgpLCB0aGlzLnRva2VuLCBoZWFkZXJzLFxuICAgICAgdW5kZWZpbmVkLCB0aGlzLnN1cHBvcnRzUmV2cywgdGhpcy5fcmV2aXNpb25DYWNoZVtwYXRoXSlcbiAgICAgIC50aGVuKChyKSA9PiB7XG4gICAgICAgIGlmICghaXNGb2xkZXIocGF0aCkpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHIpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBpdGVtc01hcCA9IHt9O1xuICAgICAgICBpZiAodHlwZW9mIChyLmJvZHkpICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICByLmJvZHkgPSBKU09OLnBhcnNlKHIuYm9keSk7XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdGb2xkZXIgZGVzY3JpcHRpb24gYXQgJyArIHRoaXMuaHJlZiArIGNsZWFuUGF0aChwYXRoKSArICcgaXMgbm90IEpTT04nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoci5zdGF0dXNDb2RlID09PSAyMDAgJiYgdHlwZW9mIChyLmJvZHkpID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgIC8vIE5ldyBmb2xkZXIgbGlzdGluZyByZWNlaXZlZFxuICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhyLmJvZHkpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgLy8gRW1wdHkgZm9sZGVyIGxpc3Rpbmcgb2YgYW55IHNwZWNcbiAgICAgICAgICAgIHIuc3RhdHVzQ29kZSA9IDQwNDtcbiAgICAgICAgICB9IGVsc2UgaWYgKGlzRm9sZGVyRGVzY3JpcHRpb24oci5ib2R5KSkge1xuICAgICAgICAgICAgLy8gPj0gMDIgc3BlY1xuICAgICAgICAgICAgZm9yIChjb25zdCBpdGVtIGluIHIuYm9keS5pdGVtcykge1xuICAgICAgICAgICAgICB0aGlzLl9yZXZpc2lvbkNhY2hlW3BhdGggKyBpdGVtXSA9IHIuYm9keS5pdGVtc1tpdGVtXS5FVGFnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaXRlbXNNYXAgPSByLmJvZHkuaXRlbXM7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIDwgMDIgc3BlY1xuICAgICAgICAgICAgT2JqZWN0LmtleXMoci5ib2R5KS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgICAgICAgdGhpcy5fcmV2aXNpb25DYWNoZVtwYXRoICsga2V5XSA9IHIuYm9keVtrZXldO1xuICAgICAgICAgICAgICBpdGVtc01hcFtrZXldID0geydFVGFnJzogci5ib2R5W2tleV19O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHIuYm9keSA9IGl0ZW1zTWFwO1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH0sXG5cbiAgcHV0OiBmdW5jdGlvbiAocGF0aDogc3RyaW5nLCBib2R5OiB1bmtub3duLCBjb250ZW50VHlwZTogc3RyaW5nLCBvcHRpb25zOiB7IGlmTWF0Y2g/OiBzdHJpbmc7IGlmTm9uZU1hdGNoPzogc3RyaW5nIH0gPSB7fSkge1xuICAgIGlmICghdGhpcy5jb25uZWN0ZWQpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgnbm90IGNvbm5lY3RlZCAocGF0aDogJyArIHBhdGggKyAnKScpO1xuICAgIH1cbiAgICBpZiAoKCFjb250ZW50VHlwZS5tYXRjaCgvY2hhcnNldD0vKSkgJiYgKGJvZHkgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlciB8fCBpc0FycmF5QnVmZmVyVmlldyhib2R5KSkpIHtcbiAgICAgIGNvbnRlbnRUeXBlICs9ICc7IGNoYXJzZXQ9YmluYXJ5JztcbiAgICB9XG4gICAgY29uc3QgaGVhZGVycyA9IHsnQ29udGVudC1UeXBlJzogY29udGVudFR5cGV9O1xuICAgIGlmICh0aGlzLnN1cHBvcnRzUmV2cykge1xuICAgICAgaWYgKG9wdGlvbnMuaWZNYXRjaCkge1xuICAgICAgICBoZWFkZXJzWydJZi1NYXRjaCddID0gYWRkUXVvdGVzKG9wdGlvbnMuaWZNYXRjaCk7XG4gICAgICB9XG4gICAgICBpZiAob3B0aW9ucy5pZk5vbmVNYXRjaCkge1xuICAgICAgICBoZWFkZXJzWydJZi1Ob25lLU1hdGNoJ10gPSBhZGRRdW90ZXMob3B0aW9ucy5pZk5vbmVNYXRjaCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KCdQVVQnLCB0aGlzLmhyZWYgKyBjbGVhblBhdGgocGF0aCksIHRoaXMudG9rZW4sXG4gICAgICBoZWFkZXJzLCBib2R5LCB0aGlzLnN1cHBvcnRzUmV2cyk7XG4gIH0sXG5cbiAgJ2RlbGV0ZSc6IGZ1bmN0aW9uIChwYXRoOiBzdHJpbmcsIG9wdGlvbnM6IHsgaWZNYXRjaD86IHN0cmluZyB9ID0ge30pIHtcbiAgICBpZiAoIXRoaXMuY29ubmVjdGVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ25vdCBjb25uZWN0ZWQgKHBhdGg6ICcgKyBwYXRoICsgJyknKTtcbiAgICB9XG4gICAgaWYgKCFvcHRpb25zKSB7XG4gICAgICBvcHRpb25zID0ge307XG4gICAgfVxuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICBpZiAodGhpcy5zdXBwb3J0c1JldnMpIHtcbiAgICAgIGlmIChvcHRpb25zLmlmTWF0Y2gpIHtcbiAgICAgICAgaGVhZGVyc1snSWYtTWF0Y2gnXSA9IGFkZFF1b3RlcyhvcHRpb25zLmlmTWF0Y2gpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdCgnREVMRVRFJywgdGhpcy5ocmVmICsgY2xlYW5QYXRoKHBhdGgpLCB0aGlzLnRva2VuLFxuICAgICAgaGVhZGVycyxcbiAgICAgIHVuZGVmaW5lZCwgdGhpcy5zdXBwb3J0c1JldnMpO1xuICB9XG59O1xuXG4vLyBTaGFyZWQgaXNBcnJheUJ1ZmZlclZpZXcgdXNlZCBieSBXaXJlQ2xpZW50IGFuZCBEcm9wYm94XG5XaXJlQ2xpZW50LmlzQXJyYXlCdWZmZXJWaWV3ID0gaXNBcnJheUJ1ZmZlclZpZXc7XG5cbi8vIFRPRE8gYWRkIHByb3BlciBkZWZpbml0aW9uIGZvciBvcHRpb25zXG4vLyBTaGFyZWQgcmVxdWVzdCBmdW5jdGlvbiB1c2VkIGJ5IFdpcmVDbGllbnQsIEdvb2dsZURyaXZlIGFuZCBEcm9wYm94LlxuV2lyZUNsaWVudC5yZXF1ZXN0ID0gYXN5bmMgZnVuY3Rpb24gKG1ldGhvZDogc3RyaW5nLCB1cmw6IHN0cmluZywgb3B0aW9uczogdW5rbm93bik6IFByb21pc2U8WE1MSHR0cFJlcXVlc3QgfCBSZXNwb25zZT4ge1xuICBpZiAodHlwZW9mIGZldGNoID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIFdpcmVDbGllbnQuX2ZldGNoUmVxdWVzdChtZXRob2QsIHVybCwgb3B0aW9ucyk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIFhNTEh0dHBSZXF1ZXN0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIFdpcmVDbGllbnQuX3hoclJlcXVlc3QobWV0aG9kLCB1cmwsIG9wdGlvbnMpO1xuICB9IGVsc2Uge1xuICAgIGxvZygnW1dpcmVDbGllbnRdIFlvdSBuZWVkIHRvIGFkZCBhIHBvbHlmaWxsIGZvciBmZXRjaCBvciBYTUxIdHRwUmVxdWVzdCcpO1xuICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgnW1dpcmVDbGllbnRdIFlvdSBuZWVkIHRvIGFkZCBhIHBvbHlmaWxsIGZvciBmZXRjaCBvciBYTUxIdHRwUmVxdWVzdCcpO1xuICB9XG59O1xuXG4vKiogb3B0aW9ucyBpbmNsdWRlcyBib2R5LCBoZWFkZXJzIGFuZCByZXNwb25zZVR5cGUgKi9cbldpcmVDbGllbnQuX2ZldGNoUmVxdWVzdCA9IGZ1bmN0aW9uIChtZXRob2Q6IHN0cmluZywgdXJsOiBzdHJpbmcsIG9wdGlvbnMpOiBQcm9taXNlPFJlc3BvbnNlPiB7XG4gIGxldCBzeW50aGV0aWNYaHI7XG4gIGNvbnN0IHJlc3BvbnNlSGVhZGVycyA9IHt9O1xuICBsZXQgYWJvcnRDb250cm9sbGVyO1xuICBpZiAodHlwZW9mIEFib3J0Q29udHJvbGxlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGFib3J0Q29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgfVxuICBjb25zdCBuZXR3b3JrUHJvbWlzZTogUHJvbWlzZTxSZXNwb25zZT4gPSBmZXRjaCh1cmwsIHtcbiAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICBoZWFkZXJzOiBvcHRpb25zLmhlYWRlcnMsXG4gICAgYm9keTogb3B0aW9ucy5ib2R5LFxuICAgIHNpZ25hbDogYWJvcnRDb250cm9sbGVyID8gYWJvcnRDb250cm9sbGVyLnNpZ25hbCA6IHVuZGVmaW5lZFxuICB9KS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgIGxvZygnW1dpcmVDbGllbnQgZmV0Y2hdJywgcmVzcG9uc2UpO1xuXG4gICAgcmVzcG9uc2UuaGVhZGVycy5mb3JFYWNoKCh2YWx1ZTogc3RyaW5nLCBoZWFkZXJOYW1lOiBzdHJpbmcpID0+IHtcbiAgICAgIHJlc3BvbnNlSGVhZGVyc1toZWFkZXJOYW1lLnRvVXBwZXJDYXNlKCldID0gdmFsdWU7XG4gICAgfSk7XG5cbiAgICBzeW50aGV0aWNYaHIgPSB7XG4gICAgICByZWFkeVN0YXRlOiA0LFxuICAgICAgc3RhdHVzOiByZXNwb25zZS5zdGF0dXMsXG4gICAgICBzdGF0dXNUZXh0OiByZXNwb25zZS5zdGF0dXNUZXh0LFxuICAgICAgcmVzcG9uc2U6IHVuZGVmaW5lZCxcbiAgICAgIGdldFJlc3BvbnNlSGVhZGVyOiAoaGVhZGVyTmFtZTogc3RyaW5nKTogdW5rbm93biA9PiB7XG4gICAgICAgIHJldHVybiByZXNwb25zZUhlYWRlcnNbaGVhZGVyTmFtZS50b1VwcGVyQ2FzZSgpXSB8fCBudWxsO1xuICAgICAgfSxcbiAgICAgIC8vIHJlc3BvbnNlVGV4dDogJ2ZvbycsXG4gICAgICByZXNwb25zZVR5cGU6IG9wdGlvbnMucmVzcG9uc2VUeXBlLFxuICAgICAgcmVzcG9uc2VVUkw6IHVybCxcbiAgICB9O1xuICAgIHN3aXRjaCAob3B0aW9ucy5yZXNwb25zZVR5cGUpIHtcbiAgICAgIGNhc2UgJ2FycmF5YnVmZmVyJzpcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmFycmF5QnVmZmVyKCk7XG4gICAgICBjYXNlICdibG9iJzpcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmJsb2IoKTtcbiAgICAgIGNhc2UgJ2pzb24nOlxuICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgY2FzZSB1bmRlZmluZWQ6XG4gICAgICBjYXNlICcnOlxuICAgICAgY2FzZSAndGV4dCc6XG4gICAgICAgIHJldHVybiByZXNwb25zZS50ZXh0KCk7XG4gICAgICBkZWZhdWx0OiAgIC8vIGRvY3VtZW50XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcInJlc3BvbnNlVHlwZSAnZG9jdW1lbnQnIGlzIG5vdCBjdXJyZW50bHkgc3VwcG9ydGVkIHVzaW5nIGZldGNoXCIpO1xuICAgIH1cbiAgfSkudGhlbigocHJvY2Vzc2VkQm9keSkgPT4ge1xuICAgIHN5bnRoZXRpY1hoci5yZXNwb25zZSA9IHByb2Nlc3NlZEJvZHk7XG4gICAgaWYgKCFvcHRpb25zLnJlc3BvbnNlVHlwZSB8fCBvcHRpb25zLnJlc3BvbnNlVHlwZSA9PT0gJ3RleHQnKSB7XG4gICAgICBzeW50aGV0aWNYaHIucmVzcG9uc2VUZXh0ID0gcHJvY2Vzc2VkQm9keTtcbiAgICB9XG4gICAgcmV0dXJuIHN5bnRoZXRpY1hocjtcbiAgfSk7XG5cbiAgY29uc3QgdGltZW91dFByb21pc2U6IFByb21pc2U8UmVzcG9uc2U+ID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgcmVqZWN0KCd0aW1lb3V0Jyk7XG4gICAgICBpZiAoYWJvcnRDb250cm9sbGVyKSB7XG4gICAgICAgIGFib3J0Q29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgfVxuICAgIH0sIGNvbmZpZy5yZXF1ZXN0VGltZW91dCk7XG4gIH0pO1xuXG4gIHJldHVybiBQcm9taXNlLnJhY2UoW25ldHdvcmtQcm9taXNlLCB0aW1lb3V0UHJvbWlzZV0pO1xufTtcblxuV2lyZUNsaWVudC5feGhyUmVxdWVzdCA9IGZ1bmN0aW9uIChtZXRob2QsIHVybCwgb3B0aW9ucyk6IFByb21pc2U8WE1MSHR0cFJlcXVlc3Q+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblxuICAgIGxvZygnW1dpcmVDbGllbnRdJywgbWV0aG9kLCB1cmwpO1xuXG4gICAgbGV0IHRpbWVkT3V0ID0gZmFsc2U7XG5cbiAgICBjb25zdCB0aW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGltZWRPdXQgPSB0cnVlO1xuICAgICAgcmVqZWN0KCd0aW1lb3V0Jyk7XG4gICAgfSwgY29uZmlnLnJlcXVlc3RUaW1lb3V0KTtcblxuICAgIGNvbnN0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgIHhoci5vcGVuKG1ldGhvZCwgdXJsLCB0cnVlKTtcblxuICAgIGlmIChvcHRpb25zLnJlc3BvbnNlVHlwZSkge1xuICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9IG9wdGlvbnMucmVzcG9uc2VUeXBlO1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zLmhlYWRlcnMpIHtcbiAgICAgIGZvciAoY29uc3Qga2V5IGluIG9wdGlvbnMuaGVhZGVycykge1xuICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihrZXksIG9wdGlvbnMuaGVhZGVyc1trZXldKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB4aHIub25sb2FkID0gKCk6IHZvaWQgPT4ge1xuICAgICAgaWYgKHRpbWVkT3V0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgICByZXNvbHZlKHhocik7XG4gICAgfTtcblxuICAgIHhoci5vbmVycm9yID0gKGVycm9yKTogdm9pZCA9PiB7XG4gICAgICBpZiAodGltZWRPdXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICAgIHJlamVjdChlcnJvcik7XG4gICAgfTtcblxuICAgIGxldCBib2R5ID0gb3B0aW9ucy5ib2R5O1xuXG4gICAgaWYgKHR5cGVvZiAoYm9keSkgPT09ICdvYmplY3QnICYmICFpc0FycmF5QnVmZmVyVmlldyhib2R5KSAmJiBib2R5IGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcbiAgICAgIGJvZHkgPSBuZXcgVWludDhBcnJheShib2R5KTtcbiAgICB9XG4gICAgeGhyLnNlbmQoYm9keSk7XG4gIH0pO1xufTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KFdpcmVDbGllbnQucHJvdG90eXBlLCAnc3RvcmFnZVR5cGUnLCB7XG4gIGdldDogZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLnN0b3JhZ2VBcGkpIHtcbiAgICAgIGNvbnN0IHNwZWMgPSB0aGlzLnN0b3JhZ2VBcGkubWF0Y2goL2RyYWZ0LWRlam9uZy0ocmVtb3Rlc3RvcmFnZS1cXGRcXGQpLyk7XG4gICAgICByZXR1cm4gc3BlYyA/IHNwZWNbMV0gOiAnMjAxMi4wNCc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG59KTtcblxuXG5XaXJlQ2xpZW50Ll9yc19pbml0ID0gZnVuY3Rpb24gKHJlbW90ZVN0b3JhZ2UpOiB2b2lkIHtcbiAgaGFzTG9jYWxTdG9yYWdlID0gbG9jYWxTdG9yYWdlQXZhaWxhYmxlKCk7XG4gIHJlbW90ZVN0b3JhZ2UucmVtb3RlID0gbmV3IFdpcmVDbGllbnQocmVtb3RlU3RvcmFnZSk7XG4gIHRoaXMub25saW5lID0gdHJ1ZTtcbn07XG5cbldpcmVDbGllbnQuX3JzX3N1cHBvcnRlZCA9IGZ1bmN0aW9uICgpOiBib29sZWFuIHtcbiAgcmV0dXJuIHR5cGVvZiBmZXRjaCA9PT0gJ2Z1bmN0aW9uJyB8fCB0eXBlb2YgWE1MSHR0cFJlcXVlc3QgPT09ICdmdW5jdGlvbic7XG59O1xuXG5XaXJlQ2xpZW50Ll9yc19jbGVhbnVwID0gZnVuY3Rpb24gKCk6IHZvaWQge1xuICBpZiAoaGFzTG9jYWxTdG9yYWdlKSB7XG4gICAgZGVsZXRlIGxvY2FsU3RvcmFnZVtTRVRUSU5HU19LRVldO1xuICB9XG59O1xuXG5pbnRlcmZhY2UgV2lyZUNsaWVudCBleHRlbmRzIEV2ZW50SGFuZGxpbmcge307XG5hcHBseU1peGlucyhXaXJlQ2xpZW50LCBbRXZlbnRIYW5kbGluZ10pO1xuXG5leHBvcnQgZGVmYXVsdCBXaXJlQ2xpZW50O1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3luY0Vycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBvcmlnaW5hbEVycm9yOiBFcnJvclxuXG4gIGNvbnN0cnVjdG9yIChvcmlnaW5hbEVycm9yOiBzdHJpbmcgfCBFcnJvcikge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5uYW1lID0gJ1N5bmNFcnJvcic7XG4gICAgdGhpcy5tZXNzYWdlID0gJ1N5bmMgZmFpbGVkOiAnO1xuICAgIGlmICh0eXBlb2Ygb3JpZ2luYWxFcnJvciA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHRoaXMubWVzc2FnZSArPSBvcmlnaW5hbEVycm9yO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm1lc3NhZ2UgKz0gb3JpZ2luYWxFcnJvci5tZXNzYWdlO1xuICAgICAgdGhpcy5zdGFjayA9IG9yaWdpbmFsRXJyb3Iuc3RhY2s7XG4gICAgICB0aGlzLm9yaWdpbmFsRXJyb3IgPSBvcmlnaW5hbEVycm9yO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IEV2ZW50SGFuZGxpbmcgZnJvbSAnLi9ldmVudGhhbmRsaW5nJztcbmltcG9ydCBjb25maWcgZnJvbSAnLi9jb25maWcnO1xuaW1wb3J0IGxvZyBmcm9tICcuL2xvZyc7XG5pbXBvcnQge1xuICBhcHBseU1peGlucyxcbiAgZGVlcENsb25lLFxuICBlcXVhbCxcbiAgaXNEb2N1bWVudCxcbiAgaXNGb2xkZXIsXG4gIHBhdGhzRnJvbVJvb3Rcbn0gZnJvbSAnLi91dGlsJztcblxuLyoqXG4gKiBUaGlzIG1vZHVsZSBkZWZpbmVzIGZ1bmN0aW9ucyB0aGF0IGFyZSBtaXhlZCBpbnRvIHJlbW90ZVN0b3JhZ2UubG9jYWwgd2hlblxuICogaXQgaXMgaW5zdGFudGlhdGVkIChjdXJyZW50bHkgb25lIG9mIGluZGV4ZWRkYi5qcywgbG9jYWxzdG9yYWdlLmpzLCBvclxuICogaW5tZW1vcnlzdG9yYWdlLmpzKS5cbiAqXG4gKiBBbGwgcmVtb3RlU3RvcmFnZS5sb2NhbCBpbXBsZW1lbnRhdGlvbnMgc2hvdWxkIHRoZXJlZm9yZSBpbXBsZW1lbnRcbiAqIHRoaXMuZ2V0Tm9kZXMsIHRoaXMuc2V0Tm9kZXMsIGFuZCB0aGlzLmZvckFsbE5vZGVzLiBUaGUgcmVzdCBpcyBibGVuZGVkIGluXG4gKiBoZXJlIHRvIGNyZWF0ZSBhIEdQRCAoZ2V0L3B1dC9kZWxldGUpIGludGVyZmFjZSB3aGljaCB0aGUgQmFzZUNsaWVudCBjYW5cbiAqIHRhbGsgdG8uXG4gKlxuICogQGludGVyZmFjZVxuICovXG5cbmFic3RyYWN0IGNsYXNzIENhY2hpbmdMYXllciB7XG4gIC8vIEZJWE1FXG4gIC8vIHRoaXMgcHJvY2VzcyBvZiB1cGRhdGluZyBub2RlcyBuZWVkcyB0byBiZSBoZWF2aWx5IGRvY3VtZW50ZWQgZmlyc3QsIHRoZW5cbiAgLy8gcmVmYWN0b3JlZC4gUmlnaHQgbm93IGl0J3MgYWxtb3N0IGltcG9zc2libGUgdG8gcmVmYWN0b3IgYXMgdGhlcmUncyBub1xuICAvLyBleHBsYW5hdGlvbiBvZiB3aHkgdGhpbmdzIGFyZSBpbXBsZW1lbnRlZCBjZXJ0YWluIHdheXMgb3Igd2hhdCB0aGUgZ29hbChzKVxuICAvLyBvZiB0aGUgYmVoYXZpb3IgYXJlLiAtc2x2cmJja3QgKCsxIC1sZXMpXG4gIHByaXZhdGUgX3VwZGF0ZU5vZGVzUnVubmluZyA9IGZhbHNlO1xuICBwcml2YXRlIF91cGRhdGVOb2Rlc1F1ZXVlZCA9IFtdO1xuXG5cbiAgLy8gZnVuY3Rpb25zIHRoYXQgd2lsbCBiZSBvdmVyd3JpdHRlblxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIGFic3RyYWN0IGdldE5vZGVzKHBhdGhzOiBzdHJpbmdbXSk6IFByb21pc2U8UlNOb2Rlcz47XG5cbiAgYWJzdHJhY3QgZGlmZkhhbmRsZXIoLi4uYXJnczogYW55W10pO1xuXG4gIGFic3RyYWN0IGZvckFsbE5vZGVzKGNiOiAobm9kZSkgPT4gYW55KTogUHJvbWlzZTx2b2lkPjtcblxuICBhYnN0cmFjdCBzZXROb2Rlcyhub2RlczogUlNOb2Rlcyk6IFByb21pc2U8dm9pZD47XG5cblxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIC8vIFRPRE86IGltcHJvdmUgb3VyIGNvZGUgc3RydWN0dXJlIHNvIHRoYXQgdGhpcyBmdW5jdGlvblxuICAvLyBjb3VsZCBjYWxsIHN5bmMucXVldWVHZXRSZXF1ZXN0IGRpcmVjdGx5IGluc3RlYWQgb2YgbmVlZGluZ1xuICAvLyB0aGlzIGhhY2t5IHRoaXJkIHBhcmFtZXRlciBhcyBhIGNhbGxiYWNrXG4gIGdldCAocGF0aDogc3RyaW5nLCBtYXhBZ2U6IG51bWJlciwgcXVldWVHZXRSZXF1ZXN0OiAocGF0aDogc3RyaW5nKSA9PiBQcm9taXNlPFF1ZXVlZFJlcXVlc3RSZXNwb25zZT4pOiBQcm9taXNlPFF1ZXVlZFJlcXVlc3RSZXNwb25zZT4ge1xuXG4gICAgaWYgKHR5cGVvZiAobWF4QWdlKSA9PT0gJ251bWJlcicpIHtcblxuICAgICAgcmV0dXJuIHRoaXMuZ2V0Tm9kZXMocGF0aHNGcm9tUm9vdChwYXRoKSlcbiAgICAgICAgLnRoZW4oKG9ianMpID0+IHtcbiAgICAgICAgICBjb25zdCBub2RlOiBSU05vZGUgPSBnZXRMYXRlc3Qob2Jqc1twYXRoXSk7XG4gICAgICAgICAgaWYgKGlzT3V0ZGF0ZWQob2JqcywgbWF4QWdlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHF1ZXVlR2V0UmVxdWVzdChwYXRoKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKG5vZGUpIHtcbiAgICAgICAgICAgIHJldHVybiB7c3RhdHVzQ29kZTogMjAwLCBib2R5OiBub2RlLmJvZHkgfHwgbm9kZS5pdGVtc01hcCwgY29udGVudFR5cGU6IG5vZGUuY29udGVudFR5cGV9O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4ge3N0YXR1c0NvZGU6IDQwNH07XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0Tm9kZXMoW3BhdGhdKVxuICAgICAgICAudGhlbigob2JqcykgPT4ge1xuICAgICAgICAgIGNvbnN0IG5vZGUgPSBnZXRMYXRlc3Qob2Jqc1twYXRoXSk7XG4gICAgICAgICAgaWYgKG5vZGUpIHtcbiAgICAgICAgICAgIGlmIChpc0ZvbGRlcihwYXRoKSkge1xuICAgICAgICAgICAgICBmb3IgKGNvbnN0IGkgaW4gbm9kZS5pdGVtc01hcCkge1xuICAgICAgICAgICAgICAgIC8vIHRoZSBoYXNPd25Qcm9wZXJ0eSBjaGVjayBoZXJlIGlzIG9ubHkgYmVjYXVzZSBvdXIganNoaW50IHNldHRpbmdzIHJlcXVpcmUgaXQ6XG4gICAgICAgICAgICAgICAgaWYgKG5vZGUuaXRlbXNNYXAuaGFzT3duUHJvcGVydHkoaSkgJiYgbm9kZS5pdGVtc01hcFtpXSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgIGRlbGV0ZSBub2RlLml0ZW1zTWFwW2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHtzdGF0dXNDb2RlOiAyMDAsIGJvZHk6IG5vZGUuYm9keSB8fCBub2RlLml0ZW1zTWFwLCBjb250ZW50VHlwZTogbm9kZS5jb250ZW50VHlwZX07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7c3RhdHVzQ29kZTogNDA0fTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHB1dChwYXRoOiBzdHJpbmcsIGJvZHk6IGFueSwgY29udGVudFR5cGU6IHN0cmluZyk6IFByb21pc2U8UlNOb2Rlcz4ge1xuICAgIGNvbnN0IHBhdGhzID0gcGF0aHNGcm9tUm9vdChwYXRoKTtcblxuICAgIGZ1bmN0aW9uIF9wcm9jZXNzTm9kZXMobm9kZVBhdGhzLCBub2Rlcykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IG5vZGVQYXRocy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgIGNvbnN0IG5vZGVQYXRoID0gbm9kZVBhdGhzW2ldO1xuICAgICAgICAgIGxldCBub2RlID0gbm9kZXNbbm9kZVBhdGhdO1xuICAgICAgICAgIGxldCBwcmV2aW91cztcblxuICAgICAgICAgIGlmICghbm9kZSkge1xuICAgICAgICAgICAgbm9kZXNbbm9kZVBhdGhdID0gbm9kZSA9IG1ha2VOb2RlKG5vZGVQYXRoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBEb2N1bWVudFxuICAgICAgICAgIGlmIChpID09PSAwKSB7XG4gICAgICAgICAgICBwcmV2aW91cyA9IGdldExhdGVzdChub2RlKTtcbiAgICAgICAgICAgIG5vZGUubG9jYWwgPSB7XG4gICAgICAgICAgICAgIGJvZHk6IGJvZHksXG4gICAgICAgICAgICAgIGNvbnRlbnRUeXBlOiBjb250ZW50VHlwZSxcbiAgICAgICAgICAgICAgcHJldmlvdXNCb2R5OiAocHJldmlvdXMgPyBwcmV2aW91cy5ib2R5IDogdW5kZWZpbmVkKSxcbiAgICAgICAgICAgICAgcHJldmlvdXNDb250ZW50VHlwZTogKHByZXZpb3VzID8gcHJldmlvdXMuY29udGVudFR5cGUgOiB1bmRlZmluZWQpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gRm9sZGVyXG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBpdGVtTmFtZSA9IG5vZGVQYXRoc1tpIC0gMV0uc3Vic3RyaW5nKG5vZGVQYXRoLmxlbmd0aCk7XG4gICAgICAgICAgICBub2RlID0gdXBkYXRlRm9sZGVyTm9kZVdpdGhJdGVtTmFtZShub2RlLCBpdGVtTmFtZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBub2RlcztcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgbG9nKCdbQ2FjaGluZ2xheWVyXSBFcnJvciBkdXJpbmcgUFVUJywgbm9kZXMsIGUpO1xuICAgICAgICB0aHJvdyBlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl91cGRhdGVOb2RlcyhwYXRocywgX3Byb2Nlc3NOb2Rlcyk7XG4gIH1cblxuICBkZWxldGUocGF0aDogc3RyaW5nKTogdW5rbm93biB7XG4gICAgY29uc3QgcGF0aHMgPSBwYXRoc0Zyb21Sb290KHBhdGgpO1xuXG4gICAgcmV0dXJuIHRoaXMuX3VwZGF0ZU5vZGVzKHBhdGhzLCBmdW5jdGlvbiAobm9kZVBhdGhzLCBub2Rlcykge1xuICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IG5vZGVQYXRocy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBjb25zdCBub2RlUGF0aCA9IG5vZGVQYXRoc1tpXTtcbiAgICAgICAgY29uc3Qgbm9kZSA9IG5vZGVzW25vZGVQYXRoXTtcbiAgICAgICAgbGV0IHByZXZpb3VzO1xuXG4gICAgICAgIGlmICghbm9kZSkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Nhbm5vdCBkZWxldGUgbm9uLWV4aXN0aW5nIG5vZGUgJyArIG5vZGVQYXRoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpID09PSAwKSB7XG4gICAgICAgICAgLy8gRG9jdW1lbnRcbiAgICAgICAgICBwcmV2aW91cyA9IGdldExhdGVzdChub2RlKTtcbiAgICAgICAgICBub2RlLmxvY2FsID0ge1xuICAgICAgICAgICAgYm9keTogZmFsc2UsXG4gICAgICAgICAgICBwcmV2aW91c0JvZHk6IChwcmV2aW91cyA/IHByZXZpb3VzLmJvZHkgOiB1bmRlZmluZWQpLFxuICAgICAgICAgICAgcHJldmlvdXNDb250ZW50VHlwZTogKHByZXZpb3VzID8gcHJldmlvdXMuY29udGVudFR5cGUgOiB1bmRlZmluZWQpLFxuICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gRm9sZGVyXG4gICAgICAgICAgaWYgKCFub2RlLmxvY2FsKSB7XG4gICAgICAgICAgICBub2RlLmxvY2FsID0gZGVlcENsb25lKG5vZGUuY29tbW9uKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgaXRlbU5hbWUgPSBub2RlUGF0aHNbaSAtIDFdLnN1YnN0cmluZyhub2RlUGF0aC5sZW5ndGgpO1xuICAgICAgICAgIGRlbGV0ZSBub2RlLmxvY2FsLml0ZW1zTWFwW2l0ZW1OYW1lXTtcblxuICAgICAgICAgIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhub2RlLmxvY2FsLml0ZW1zTWFwKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAvLyBUaGlzIGZvbGRlciBzdGlsbCBjb250YWlucyBvdGhlciBpdGVtcywgZG9uJ3QgcmVtb3ZlIGFueSBmdXJ0aGVyIGFuY2VzdG9yc1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbm9kZXM7XG4gICAgfSk7XG4gIH1cblxuICBmbHVzaChwYXRoOiBzdHJpbmcpOiB1bmtub3duIHtcblxuICAgIHJldHVybiB0aGlzLl9nZXRBbGxEZXNjZW5kZW50UGF0aHMocGF0aCkudGhlbigocGF0aHMpID0+IHtcbiAgICAgIHJldHVybiB0aGlzLmdldE5vZGVzKHBhdGhzKTtcbiAgICB9KS50aGVuKChub2RlczogUlNOb2RlcykgPT4ge1xuICAgICAgZm9yIChjb25zdCBub2RlUGF0aCBpbiBub2Rlcykge1xuICAgICAgICBjb25zdCBub2RlID0gbm9kZXNbbm9kZVBhdGhdO1xuXG4gICAgICAgIGlmIChub2RlICYmIG5vZGUuY29tbW9uICYmIG5vZGUubG9jYWwpIHtcbiAgICAgICAgICB0aGlzLl9lbWl0Q2hhbmdlKHtcbiAgICAgICAgICAgIHBhdGg6IG5vZGUucGF0aCxcbiAgICAgICAgICAgIG9yaWdpbjogJ2xvY2FsJyxcbiAgICAgICAgICAgIG9sZFZhbHVlOiAobm9kZS5sb2NhbC5ib2R5ID09PSBmYWxzZSA/IHVuZGVmaW5lZCA6IG5vZGUubG9jYWwuYm9keSksXG4gICAgICAgICAgICBuZXdWYWx1ZTogKG5vZGUuY29tbW9uLmJvZHkgPT09IGZhbHNlID8gdW5kZWZpbmVkIDogbm9kZS5jb21tb24uYm9keSlcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBub2Rlc1tub2RlUGF0aF0gPSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLnNldE5vZGVzKG5vZGVzKTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgX2VtaXRDaGFuZ2Uob2JqOiBDaGFuZ2VPYmopIHtcbiAgICBpZiAoY29uZmlnLmNoYW5nZUV2ZW50c1tvYmoub3JpZ2luXSkge1xuICAgICAgdGhpcy5fZW1pdCgnY2hhbmdlJywgb2JqKTtcbiAgICB9XG4gIH1cblxuICBmaXJlSW5pdGlhbCgpIHtcbiAgICBpZiAoIWNvbmZpZy5jaGFuZ2VFdmVudHMubG9jYWwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmZvckFsbE5vZGVzKChub2RlKSA9PiB7XG5cbiAgICAgIGlmIChpc0RvY3VtZW50KG5vZGUucGF0aCkpIHtcbiAgICAgICAgY29uc3QgbGF0ZXN0ID0gZ2V0TGF0ZXN0KG5vZGUpO1xuICAgICAgICBpZiAobGF0ZXN0KSB7XG4gICAgICAgICAgdGhpcy5fZW1pdENoYW5nZSh7XG4gICAgICAgICAgICBwYXRoOiBub2RlLnBhdGgsXG4gICAgICAgICAgICBvcmlnaW46ICdsb2NhbCcsXG4gICAgICAgICAgICBvbGRWYWx1ZTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgb2xkQ29udGVudFR5cGU6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIG5ld1ZhbHVlOiBsYXRlc3QuYm9keSxcbiAgICAgICAgICAgIG5ld0NvbnRlbnRUeXBlOiBsYXRlc3QuY29udGVudFR5cGVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pLnRoZW4oKCkgPT4ge1xuICAgICAgdGhpcy5fZW1pdCgnbG9jYWwtZXZlbnRzLWRvbmUnKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIFRPRE8gYWRkIHByb3BlciB0eXBlXG4gIG9uRGlmZihkaWZmSGFuZGxlcjogYW55KSB7XG4gICAgdGhpcy5kaWZmSGFuZGxlciA9IGRpZmZIYW5kbGVyO1xuICB9XG5cbiAgbWlncmF0ZShub2RlOiBSU05vZGUpOiBSU05vZGUge1xuICAgIGlmICh0eXBlb2YgKG5vZGUpID09PSAnb2JqZWN0JyAmJiAhbm9kZS5jb21tb24pIHtcbiAgICAgIG5vZGUuY29tbW9uID0ge307XG4gICAgICBpZiAodHlwZW9mIChub2RlLnBhdGgpID09PSAnc3RyaW5nJykge1xuICAgICAgICBpZiAobm9kZS5wYXRoLnN1YnN0cigtMSkgPT09ICcvJyAmJiB0eXBlb2YgKG5vZGUuYm9keSkgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgbm9kZS5jb21tb24uaXRlbXNNYXAgPSBub2RlLmJvZHk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vc2F2ZSBsZWdhY3kgY29udGVudCBvZiBkb2N1bWVudCBub2RlIGFzIGxvY2FsIHZlcnNpb25cbiAgICAgICAgaWYgKCFub2RlLmxvY2FsKSB7XG4gICAgICAgICAgbm9kZS5sb2NhbCA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIG5vZGUubG9jYWwuYm9keSA9IG5vZGUuYm9keTtcbiAgICAgICAgbm9kZS5sb2NhbC5jb250ZW50VHlwZSA9IG5vZGUuY29udGVudFR5cGU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBub2RlO1xuICB9XG5cblxuICBwcml2YXRlIF91cGRhdGVOb2RlcyhwYXRoczogc3RyaW5nW10sIF9wcm9jZXNzTm9kZXMpOiBQcm9taXNlPFJTTm9kZXM+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgdGhpcy5fZG9VcGRhdGVOb2RlcyhwYXRocywgX3Byb2Nlc3NOb2Rlcywge1xuICAgICAgICByZXNvbHZlOiByZXNvbHZlLFxuICAgICAgICByZWplY3Q6IHJlamVjdFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIF9kb1VwZGF0ZU5vZGVzKHBhdGhzLCBfcHJvY2Vzc05vZGVzLCBwcm9taXNlKSB7XG4gICAgaWYgKHRoaXMuX3VwZGF0ZU5vZGVzUnVubmluZykge1xuICAgICAgdGhpcy5fdXBkYXRlTm9kZXNRdWV1ZWQucHVzaCh7XG4gICAgICAgIHBhdGhzOiBwYXRocyxcbiAgICAgICAgY2I6IF9wcm9jZXNzTm9kZXMsXG4gICAgICAgIHByb21pc2U6IHByb21pc2VcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl91cGRhdGVOb2Rlc1J1bm5pbmcgPSB0cnVlO1xuICAgIH1cblxuICAgIHRoaXMuZ2V0Tm9kZXMocGF0aHMpLnRoZW4oKG5vZGVzKSA9PiB7XG4gICAgICBjb25zdCBleGlzdGluZ05vZGVzID0gZGVlcENsb25lKG5vZGVzKTtcbiAgICAgIGNvbnN0IGNoYW5nZUV2ZW50cyA9IFtdO1xuXG4gICAgICBub2RlcyA9IF9wcm9jZXNzTm9kZXMocGF0aHMsIG5vZGVzKTtcblxuICAgICAgZm9yIChjb25zdCBwYXRoIGluIG5vZGVzKSB7XG4gICAgICAgIGNvbnN0IG5vZGUgPSBub2Rlc1twYXRoXTtcbiAgICAgICAgaWYgKGVxdWFsKG5vZGUsIGV4aXN0aW5nTm9kZXNbcGF0aF0pKSB7XG4gICAgICAgICAgZGVsZXRlIG5vZGVzW3BhdGhdO1xuICAgICAgICB9IGVsc2UgaWYgKGlzRG9jdW1lbnQocGF0aCkpIHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAhZXF1YWwobm9kZS5sb2NhbC5ib2R5LCBub2RlLmxvY2FsLnByZXZpb3VzQm9keSkgfHxcbiAgICAgICAgICAgIG5vZGUubG9jYWwuY29udGVudFR5cGUgIT09IG5vZGUubG9jYWwucHJldmlvdXNDb250ZW50VHlwZVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgY2hhbmdlRXZlbnRzLnB1c2goe1xuICAgICAgICAgICAgICBwYXRoOiBwYXRoLFxuICAgICAgICAgICAgICBvcmlnaW46ICd3aW5kb3cnLFxuICAgICAgICAgICAgICBvbGRWYWx1ZTogbm9kZS5sb2NhbC5wcmV2aW91c0JvZHksXG4gICAgICAgICAgICAgIG5ld1ZhbHVlOiBub2RlLmxvY2FsLmJvZHkgPT09IGZhbHNlID8gdW5kZWZpbmVkIDogbm9kZS5sb2NhbC5ib2R5LFxuICAgICAgICAgICAgICBvbGRDb250ZW50VHlwZTogbm9kZS5sb2NhbC5wcmV2aW91c0NvbnRlbnRUeXBlLFxuICAgICAgICAgICAgICBuZXdDb250ZW50VHlwZTogbm9kZS5sb2NhbC5jb250ZW50VHlwZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRlbGV0ZSBub2RlLmxvY2FsLnByZXZpb3VzQm9keTtcbiAgICAgICAgICBkZWxldGUgbm9kZS5sb2NhbC5wcmV2aW91c0NvbnRlbnRUeXBlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc2V0Tm9kZXMobm9kZXMpLnRoZW4oKCkgPT4ge1xuICAgICAgICB0aGlzLl9lbWl0Q2hhbmdlRXZlbnRzKGNoYW5nZUV2ZW50cyk7XG4gICAgICAgIHByb21pc2UucmVzb2x2ZSh7c3RhdHVzQ29kZTogMjAwfSk7XG4gICAgICB9KTtcbiAgICB9KS50aGVuKCgpID0+IHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9LCAoZXJyKSA9PiB7XG4gICAgICBwcm9taXNlLnJlamVjdChlcnIpO1xuICAgIH0pLnRoZW4oKCkgPT4ge1xuICAgICAgdGhpcy5fdXBkYXRlTm9kZXNSdW5uaW5nID0gZmFsc2U7XG4gICAgICBjb25zdCBuZXh0Sm9iID0gdGhpcy5fdXBkYXRlTm9kZXNRdWV1ZWQuc2hpZnQoKTtcbiAgICAgIGlmIChuZXh0Sm9iKSB7XG4gICAgICAgIHRoaXMuX2RvVXBkYXRlTm9kZXMobmV4dEpvYi5wYXRocywgbmV4dEpvYi5jYiwgbmV4dEpvYi5wcm9taXNlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgX2VtaXRDaGFuZ2VFdmVudHMoZXZlbnRzOiBSU0V2ZW50W10pIHtcbiAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gZXZlbnRzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICB0aGlzLl9lbWl0Q2hhbmdlKGV2ZW50c1tpXSk7XG4gICAgICBpZiAodGhpcy5kaWZmSGFuZGxlcikge1xuICAgICAgICB0aGlzLmRpZmZIYW5kbGVyKGV2ZW50c1tpXS5wYXRoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF9nZXRBbGxEZXNjZW5kZW50UGF0aHMocGF0aDogc3RyaW5nKSB7XG4gICAgaWYgKGlzRm9sZGVyKHBhdGgpKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXROb2RlcyhbcGF0aF0pLnRoZW4oKG5vZGVzKSA9PiB7XG4gICAgICAgIGNvbnN0IGFsbFBhdGhzID0gW3BhdGhdO1xuICAgICAgICBjb25zdCBsYXRlc3QgPSBnZXRMYXRlc3Qobm9kZXNbcGF0aF0pO1xuXG4gICAgICAgIGNvbnN0IGl0ZW1OYW1lcyA9IE9iamVjdC5rZXlzKGxhdGVzdC5pdGVtc01hcCk7XG4gICAgICAgIGNvbnN0IGNhbGxzID0gaXRlbU5hbWVzLm1hcCgoaXRlbU5hbWUpID0+IHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5fZ2V0QWxsRGVzY2VuZGVudFBhdGhzKHBhdGggKyBpdGVtTmFtZSkudGhlbigocGF0aHMpID0+IHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBwYXRocy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICBhbGxQYXRocy5wdXNoKHBhdGhzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbChjYWxscykudGhlbigoKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGFsbFBhdGhzO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFtwYXRoXSk7XG4gICAgfVxuICB9XG5cbiAgLy8gdHJlYXRlZCBhcyBwcml2YXRlIGJ1dCBtYWRlIHB1YmxpYyBmb3IgdW5pdCB0ZXN0aW5nXG4gIF9nZXRJbnRlcm5hbHMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGdldExhdGVzdDogZ2V0TGF0ZXN0LFxuICAgICAgbWFrZU5vZGU6IG1ha2VOb2RlLFxuICAgICAgaXNPdXRkYXRlZDogaXNPdXRkYXRlZFxuICAgIH07XG4gIH1cbn1cblxuXG5mdW5jdGlvbiBnZXRMYXRlc3Qobm9kZTogUlNOb2RlKTogYW55IHtcbiAgaWYgKHR5cGVvZiAobm9kZSkgIT09ICdvYmplY3QnIHx8IHR5cGVvZiAobm9kZS5wYXRoKSAhPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKGlzRm9sZGVyKG5vZGUucGF0aCkpIHtcbiAgICBpZiAobm9kZS5sb2NhbCAmJiBub2RlLmxvY2FsLml0ZW1zTWFwKSB7XG4gICAgICByZXR1cm4gbm9kZS5sb2NhbDtcbiAgICB9XG4gICAgaWYgKG5vZGUuY29tbW9uICYmIG5vZGUuY29tbW9uLml0ZW1zTWFwKSB7XG4gICAgICByZXR1cm4gbm9kZS5jb21tb247XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChub2RlLmxvY2FsKSB7XG4gICAgICBpZiAobm9kZS5sb2NhbC5ib2R5ICYmIG5vZGUubG9jYWwuY29udGVudFR5cGUpIHtcbiAgICAgICAgcmV0dXJuIG5vZGUubG9jYWw7XG4gICAgICB9XG4gICAgICBpZiAobm9kZS5sb2NhbC5ib2R5ID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChub2RlLmNvbW1vbiAmJiBub2RlLmNvbW1vbi5ib2R5ICYmIG5vZGUuY29tbW9uLmNvbnRlbnRUeXBlKSB7XG4gICAgICByZXR1cm4gbm9kZS5jb21tb247XG4gICAgfVxuICAgIC8vIE1pZ3JhdGlvbiBjb2RlISBPbmNlIGFsbCBhcHBzIHVzZSBhdCBsZWFzdCB0aGlzIHZlcnNpb24gb2YgdGhlIGxpYiwgd2VcbiAgICAvLyBjYW4gcHVibGlzaCBjbGVhbi11cCBjb2RlIHRoYXQgbWlncmF0ZXMgb3ZlciBhbnkgb2xkLWZvcm1hdCBkYXRhLCBhbmRcbiAgICAvLyBzdG9wIHN1cHBvcnRpbmcgaXQuIEZvciBub3csIG5ldyBhcHBzIHdpbGwgc3VwcG9ydCBkYXRhIGluIGJvdGhcbiAgICAvLyBmb3JtYXRzLCB0aGFua3MgdG8gdGhpczpcbiAgICBpZiAobm9kZS5ib2R5ICYmIG5vZGUuY29udGVudFR5cGUpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGJvZHk6IG5vZGUuYm9keSxcbiAgICAgICAgY29udGVudFR5cGU6IG5vZGUuY29udGVudFR5cGVcbiAgICAgIH07XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGlzT3V0ZGF0ZWQobm9kZXM6IFJTTm9kZXMsIG1heEFnZTogbnVtYmVyKTogYm9vbGVhbiB7XG4gIGZvciAoY29uc3QgcGF0aCBpbiBub2Rlcykge1xuICAgIGlmIChub2Rlc1twYXRoXSAmJiBub2Rlc1twYXRoXS5yZW1vdGUpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBjb25zdCBub2RlVmVyc2lvbiA9IGdldExhdGVzdChub2Rlc1twYXRoXSk7XG4gICAgaWYgKG5vZGVWZXJzaW9uICYmIG5vZGVWZXJzaW9uLnRpbWVzdGFtcCAmJiAobmV3IERhdGUoKS5nZXRUaW1lKCkpIC0gbm9kZVZlcnNpb24udGltZXN0YW1wIDw9IG1heEFnZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gZWxzZSBpZiAoIW5vZGVWZXJzaW9uKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cblxuZnVuY3Rpb24gbWFrZU5vZGUocGF0aDogc3RyaW5nKTogUlNOb2RlIHtcbiAgY29uc3Qgbm9kZTogUlNOb2RlID0ge3BhdGg6IHBhdGgsIGNvbW1vbjoge319O1xuXG4gIGlmIChpc0ZvbGRlcihwYXRoKSkge1xuICAgIG5vZGUuY29tbW9uLml0ZW1zTWFwID0ge307XG4gIH1cbiAgcmV0dXJuIG5vZGU7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUZvbGRlck5vZGVXaXRoSXRlbU5hbWUobm9kZTogUlNOb2RlLCBpdGVtTmFtZTogc3RyaW5nKTogUlNOb2RlIHtcbiAgaWYgKCFub2RlLmNvbW1vbikge1xuICAgIG5vZGUuY29tbW9uID0ge1xuICAgICAgaXRlbXNNYXA6IHt9XG4gICAgfTtcbiAgfVxuICBpZiAoIW5vZGUuY29tbW9uLml0ZW1zTWFwKSB7XG4gICAgbm9kZS5jb21tb24uaXRlbXNNYXAgPSB7fTtcbiAgfVxuICBpZiAoIW5vZGUubG9jYWwpIHtcbiAgICBub2RlLmxvY2FsID0gZGVlcENsb25lKG5vZGUuY29tbW9uKTtcbiAgfVxuICBpZiAoIW5vZGUubG9jYWwuaXRlbXNNYXApIHtcbiAgICBub2RlLmxvY2FsLml0ZW1zTWFwID0gbm9kZS5jb21tb24uaXRlbXNNYXA7XG4gIH1cbiAgbm9kZS5sb2NhbC5pdGVtc01hcFtpdGVtTmFtZV0gPSB0cnVlO1xuXG4gIHJldHVybiBub2RlO1xufVxuXG5pbnRlcmZhY2UgQ2FjaGluZ0xheWVyIGV4dGVuZHMgRXZlbnRIYW5kbGluZyB7fTtcbmFwcGx5TWl4aW5zKENhY2hpbmdMYXllciwgW0V2ZW50SGFuZGxpbmddKTtcblxuZXhwb3J0IGRlZmF1bHQgQ2FjaGluZ0xheWVyO1xuIiwiLy8gVE9ETyBtYXliZSBtb3ZlIHRvIGNvbW1vbiBpbnRlcmZhY2VzICYgdHlwZXMgZmlsZVxuLy8gYWxzbyB3b3J0aCBjb25zaWRlcmluZyBlbnVtc1xudHlwZSBBY2Nlc3NNb2RlID0gJ3InIHwgJ3J3JztcbnR5cGUgQWNjZXNzU2NvcGUgPSBzdHJpbmc7XG5cbmludGVyZmFjZSBTY29wZUVudHJ5IHtcbiAgbmFtZTogc3RyaW5nO1xuICBtb2RlOiBBY2Nlc3NNb2RlO1xufVxuXG5pbnRlcmZhY2UgU2NvcGVNb2RlTWFwIHtcbiAgLy8gTk9URToga2V5IGlzIGFjdHVhbGx5IEFjY2Vzc1Njb3BlXG4gIFtrZXk6IHN0cmluZ106IEFjY2Vzc01vZGU7XG59XG5cbi8qKlxuICogQGNsYXNzIEFjY2Vzc1xuICpcbiAqIEtlZXBzIHRyYWNrIG9mIGNsYWltZWQgYWNjZXNzIGFuZCBzY29wZXMuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFjY2VzcyB7XG4gIHNjb3BlTW9kZU1hcDogU2NvcGVNb2RlTWFwO1xuICByb290UGF0aHM6IHN0cmluZ1tdO1xuICBzdG9yYWdlVHlwZTogc3RyaW5nO1xuXG4gIC8vIFRPRE8gY3JlYXRlIGN1c3RvbSB0eXBlIGZvciBpbml0IGZ1bmN0aW9uXG4gIHN0YXRpYyBfcnNfaW5pdCgpOiB2b2lkIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnJlc2V0KCk7XG4gIH1cblxuICAvKipcbiAgICogUHJvcGVydHk6IHNjb3Blc1xuICAgKlxuICAgKiBIb2xkcyBhbiBhcnJheSBvZiBjbGFpbWVkIHNjb3BlcyBpbiB0aGUgZm9ybVxuICAgKiA+IHsgbmFtZTogXCI8c2NvcGUtbmFtZT5cIiwgbW9kZTogXCI8bW9kZT5cIiB9XG4gICAqL1xuICBnZXQgc2NvcGVzKCk6IFNjb3BlRW50cnlbXSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuc2NvcGVNb2RlTWFwKS5tYXAoKGtleSkgPT4ge1xuICAgICAgcmV0dXJuIHsgbmFtZToga2V5LCBtb2RlOiB0aGlzLnNjb3BlTW9kZU1hcFtrZXldIH07XG4gICAgfSk7XG4gIH1cblxuICBnZXQgc2NvcGVQYXJhbWV0ZXIoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5zY29wZXMubWFwKChzY29wZSkgPT4ge1xuICAgICAgcmV0dXJuIGAke3RoaXMuX3Njb3BlTmFtZUZvclBhcmFtZXRlcihzY29wZSl9OiR7c2NvcGUubW9kZX1gO1xuICAgIH0pLmpvaW4oJyAnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbGFpbSBhY2Nlc3Mgb24gYSBnaXZlbiBzY29wZSB3aXRoIGdpdmVuIG1vZGUuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzY29wZSAtIEFuIGFjY2VzcyBzY29wZSwgc3VjaCBhcyBcImNvbnRhY3RzXCIgb3IgXCJjYWxlbmRhclwiXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBtb2RlIC0gQWNjZXNzIG1vZGUuIEVpdGhlciBcInJcIiBmb3IgcmVhZC1vbmx5IG9yIFwicndcIiBmb3IgcmVhZC93cml0ZVxuICAgKi9cbiAgY2xhaW0gKHNjb3BlOiBBY2Nlc3NTY29wZSwgbW9kZTogQWNjZXNzTW9kZSk6IHZvaWQge1xuICAgIGlmICh0eXBlb2YgKHNjb3BlKSAhPT0gJ3N0cmluZycgfHwgc2NvcGUuaW5kZXhPZignLycpICE9PSAtMSB8fCBzY29wZS5sZW5ndGggPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignU2NvcGUgc2hvdWxkIGJlIGEgbm9uLWVtcHR5IHN0cmluZyB3aXRob3V0IGZvcndhcmQgc2xhc2hlcycpO1xuICAgIH1cbiAgICBpZiAoIW1vZGUubWF0Y2goL15ydz8kLykpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTW9kZSBzaG91bGQgYmUgZWl0aGVyIFxcJ3JcXCcgb3IgXFwncndcXCcnKTtcbiAgICB9XG4gICAgdGhpcy5fYWRqdXN0Um9vdFBhdGhzKHNjb3BlKTtcbiAgICB0aGlzLnNjb3BlTW9kZU1hcFtzY29wZV0gPSBtb2RlO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgYWNjZXNzIG1vZGUgZm9yIGEgZ2l2ZW4gc2NvcGUuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzY29wZSAtIEFjY2VzcyBzY29wZVxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBBY2Nlc3MgbW9kZVxuICAgKi9cbiAgZ2V0IChzY29wZTogQWNjZXNzU2NvcGUpOiBBY2Nlc3NNb2RlIHtcbiAgICByZXR1cm4gdGhpcy5zY29wZU1vZGVNYXBbc2NvcGVdO1xuICB9XG5cblxuICAvKipcbiAgICogUmVtb3ZlIGFjY2VzcyBmb3IgdGhlIGdpdmVuIHNjb3BlLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gc2NvcGUgLSBBY2Nlc3Mgc2NvcGVcbiAgICovXG4gIHJlbW92ZSAoc2NvcGU6IEFjY2Vzc1Njb3BlKTogdm9pZCB7XG4gICAgY29uc3Qgc2F2ZWRNYXA6IFNjb3BlTW9kZU1hcCA9IHt9O1xuICAgIGZvciAoY29uc3QgbmFtZSBpbiB0aGlzLnNjb3BlTW9kZU1hcCkge1xuICAgICAgc2F2ZWRNYXBbbmFtZV0gPSB0aGlzLnNjb3BlTW9kZU1hcFtuYW1lXTtcbiAgICB9XG4gICAgdGhpcy5yZXNldCgpO1xuICAgIGRlbGV0ZSBzYXZlZE1hcFtzY29wZV07XG4gICAgZm9yIChjb25zdCBuYW1lIGluIHNhdmVkTWFwKSB7XG4gICAgICB0aGlzLmNsYWltKG5hbWUgYXMgQWNjZXNzU2NvcGUsIHNhdmVkTWFwW25hbWVdKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVmVyaWZ5IHBlcm1pc3Npb24gZm9yIGEgZ2l2ZW4gc2NvcGUuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzY29wZSAtIEFjY2VzcyBzY29wZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gbW9kZSAtIEFjY2VzcyBtb2RlXG4gICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlmIHRoZSByZXF1ZXN0ZWQgYWNjZXNzIG1vZGUgaXMgYWN0aXZlLCBmYWxzZSBvdGhlcndpc2VcbiAgICovXG4gIGNoZWNrUGVybWlzc2lvbiAoc2NvcGU6IEFjY2Vzc1Njb3BlLCBtb2RlOiBBY2Nlc3NNb2RlKTogYm9vbGVhbiB7XG4gICAgY29uc3QgYWN0dWFsTW9kZSA9IHRoaXMuZ2V0KHNjb3BlKTtcbiAgICByZXR1cm4gYWN0dWFsTW9kZSAmJiAobW9kZSA9PT0gJ3InIHx8IGFjdHVhbE1vZGUgPT09ICdydycpO1xuICB9XG5cbiAgLyoqXG4gICAqIFZlcmlmeSBwZXJtaXNzaW9uIGZvciBhIGdpdmVuIHBhdGguXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIC0gUGF0aFxuICAgKiBAcGFyYW0ge3N0cmluZ30gbW9kZSAtIEFjY2VzcyBtb2RlXG4gICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlmIHRoZSByZXF1ZXN0ZWQgYWNjZXNzIG1vZGUgaXMgYWN0aXZlLCBmYWxzZSBvdGhlcndpc2VcbiAgICovXG4gIGNoZWNrUGF0aFBlcm1pc3Npb24gKHBhdGg6IHN0cmluZywgbW9kZTogQWNjZXNzTW9kZSk6IGJvb2xlYW4ge1xuICAgIGlmICh0aGlzLmNoZWNrUGVybWlzc2lvbignKicsIG1vZGUpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLy8gVE9ETyBjaGVjayBpZiB0aGlzIGlzIHJlbGlhYmxlXG4gICAgY29uc3Qgc2NvcGUgPSB0aGlzLl9nZXRNb2R1bGVOYW1lKHBhdGgpIGFzIEFjY2Vzc1Njb3BlO1xuICAgIHJldHVybiAhIXRoaXMuY2hlY2tQZXJtaXNzaW9uKHNjb3BlLCBtb2RlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXNldCBhbGwgYWNjZXNzIHBlcm1pc3Npb25zLlxuICAgKi9cbiAgcmVzZXQoKTogdm9pZCB7XG4gICAgdGhpcy5yb290UGF0aHMgPSBbXTtcbiAgICB0aGlzLnNjb3BlTW9kZU1hcCA9IHt9O1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgbW9kdWxlIG5hbWUgZm9yIGEgZ2l2ZW4gcGF0aC5cbiAgICovXG4gIHByaXZhdGUgX2dldE1vZHVsZU5hbWUgKHBhdGgpOiBzdHJpbmcge1xuICAgIGlmIChwYXRoWzBdICE9PSAnLycpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignUGF0aCBzaG91bGQgc3RhcnQgd2l0aCBhIHNsYXNoJyk7XG4gICAgfVxuICAgIGNvbnN0IG1vZHVsZU1hdGNoID0gcGF0aC5yZXBsYWNlKC9eXFwvcHVibGljLywgJycpLm1hdGNoKC9eXFwvKFteL10qKVxcLy8pO1xuICAgIHJldHVybiBtb2R1bGVNYXRjaCA/IG1vZHVsZU1hdGNoWzFdIDogJyonO1xuICB9XG5cbiAgLyoqXG4gICAqIFRPRE86IGRvY3VtZW50XG4gICAqL1xuICBwcml2YXRlIF9hZGp1c3RSb290UGF0aHMgKG5ld1Njb3BlOiBBY2Nlc3NTY29wZSk6IHZvaWQge1xuICAgIGlmICgnKicgaW4gdGhpcy5zY29wZU1vZGVNYXAgfHwgbmV3U2NvcGUgPT09ICcqJykge1xuICAgICAgdGhpcy5yb290UGF0aHMgPSBbJy8nXTtcbiAgICB9IGVsc2UgaWYgKCEobmV3U2NvcGUgaW4gdGhpcy5zY29wZU1vZGVNYXApKSB7XG4gICAgICB0aGlzLnJvb3RQYXRocy5wdXNoKCcvJyArIG5ld1Njb3BlICsgJy8nKTtcbiAgICAgIHRoaXMucm9vdFBhdGhzLnB1c2goJy9wdWJsaWMvJyArIG5ld1Njb3BlICsgJy8nKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVE9ETzogZG9jdW1lbnRcbiAgICovXG4gIHByaXZhdGUgX3Njb3BlTmFtZUZvclBhcmFtZXRlciAoc2NvcGU6IFNjb3BlRW50cnkpOiBzdHJpbmcge1xuICAgIGlmIChzY29wZS5uYW1lID09PSAnKicgJiYgdGhpcy5zdG9yYWdlVHlwZSkge1xuICAgICAgaWYgKHRoaXMuc3RvcmFnZVR5cGUgPT09ICcyMDEyLjA0Jykge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuc3RvcmFnZVR5cGUubWF0Y2goL3JlbW90ZXN0b3JhZ2UtMFswMV0vKSkge1xuICAgICAgICByZXR1cm4gJ3Jvb3QnO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc2NvcGUubmFtZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHN0b3JhZ2UgdHlwZSBvZiB0aGUgcmVtb3RlLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIFN0b3JhZ2UgdHlwZVxuICAgKi9cbiAgc2V0U3RvcmFnZVR5cGUgKHR5cGU6IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMuc3RvcmFnZVR5cGUgPSB0eXBlO1xuICB9XG59XG4iLCJpbXBvcnQgeyBjb250YWluaW5nRm9sZGVyLCBpc0ZvbGRlciB9IGZyb20gJy4vdXRpbCc7XG5pbXBvcnQgeyBDYWNoaW5nU3RyYXRlZ3kgfSBmcm9tICcuL2ludGVyZmFjZXMvY2FjaGluZyc7XG5pbXBvcnQgbG9nIGZyb20gJy4vbG9nJztcblxuLyoqXG4gKiBAY2xhc3MgQ2FjaGluZ1xuICpcbiAqIEhvbGRzL21hbmFnZXMgY2FjaGluZyBjb25maWd1cmF0aW9uLlxuICoqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FjaGluZyB7XG4gIHBlbmRpbmdBY3RpdmF0aW9uczogc3RyaW5nW10gPSBbXTtcbiAgLy8gVE9ETyBhZGQgY29ycmVjdCB0eXBlXG4gIGFjdGl2YXRlSGFuZGxlcjogRnVuY3Rpb247XG5cbiAgcHJpdmF0ZSBfcm9vdFBhdGhzOiBvYmplY3Q7XG5cbiAgY29uc3RydWN0b3IgKCkge1xuICAgIHRoaXMucmVzZXQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb25maWd1cmUgY2FjaGluZyBmb3IgYSBnaXZlbiBwYXRoIGV4cGxpY2l0bHkuXG4gICAqXG4gICAqIE5vdCBuZWVkZWQgd2hlbiB1c2luZyBgYGVuYWJsZWBgL2BgZGlzYWJsZWBgLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCAtIFBhdGggdG8gY2FjaGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmF0ZWd5IC0gQ2FjaGluZyBzdHJhdGVneS4gT25lIG9mICdBTEwnLCAnU0VFTicsIG9yICdGTFVTSCcuXG4gICAqL1xuICBzZXQgKHBhdGg6IHN0cmluZywgc3RyYXRlZ3k6IENhY2hpbmdTdHJhdGVneSk6IHZvaWQge1xuICAgIGlmICh0eXBlb2YgcGF0aCAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcigncGF0aCBzaG91bGQgYmUgYSBzdHJpbmcnKTtcbiAgICB9XG4gICAgaWYgKCFpc0ZvbGRlcihwYXRoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdwYXRoIHNob3VsZCBiZSBhIGZvbGRlcicpO1xuICAgIH1cbiAgICAvLyBGSVhNRSBXZSBuZWVkIHRvIGdldCB0byB0aGUgYWNjZXNzIGluc3RhbmNlIHNvbWVob3cuICBCdXQgSSdtIG5vdCBzdXJlXG4gICAgLy8gdGhpcyBjaGVjayBpcyBldmVuIG5lY2Vzc2FyeSBpbiB0aGUgZmlyc3QgcGxhY2UuIC1yYXVjYW9cbiAgICAvLyBpZiAoIXRoaXMuX3JlbW90ZVN0b3JhZ2UuYWNjZXNzLmNoZWNrUGF0aFBlcm1pc3Npb24ocGF0aCwgJ3InKSkge1xuICAgIC8vICAgdGhyb3cgbmV3IEVycm9yKCdObyBhY2Nlc3MgdG8gcGF0aCBcIicgKyBwYXRoICsgJ1wiLiBZb3UgaGF2ZSB0byBjbGFpbSBhY2Nlc3MgdG8gaXQgZmlyc3QuJyk7XG4gICAgLy8gfVxuICAgIGlmICghc3RyYXRlZ3kubWF0Y2goL14oRkxVU0h8U0VFTnxBTEwpJC8pKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJzdHJhdGVneSBzaG91bGQgYmUgJ0ZMVVNIJywgJ1NFRU4nLCBvciAnQUxMJ1wiKTtcbiAgICB9XG5cbiAgICB0aGlzLl9yb290UGF0aHNbcGF0aF0gPSBzdHJhdGVneTtcblxuICAgIGlmIChzdHJhdGVneSA9PT0gJ0FMTCcpIHtcbiAgICAgIGlmICh0aGlzLmFjdGl2YXRlSGFuZGxlcikge1xuICAgICAgICB0aGlzLmFjdGl2YXRlSGFuZGxlcihwYXRoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucGVuZGluZ0FjdGl2YXRpb25zLnB1c2gocGF0aCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEVuYWJsZSBjYWNoaW5nIGZvciBhIGdpdmVuIHBhdGguXG4gICAqXG4gICAqIFVzZXMgY2FjaGluZyBzdHJhdGVneSBgYEFMTGBgLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCAtIFBhdGggdG8gZW5hYmxlIGNhY2hpbmcgZm9yXG4gICAqL1xuICBlbmFibGUgKHBhdGg6IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMuc2V0KHBhdGgsICdBTEwnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNhYmxlIGNhY2hpbmcgZm9yIGEgZ2l2ZW4gcGF0aC5cbiAgICpcbiAgICogVXNlcyBjYWNoaW5nIHN0cmF0ZWd5IGBgRkxVU0hgYCAobWVhbmluZyBpdGVtcyBhcmUgb25seSBjYWNoZWQgdW50aWxcbiAgICogc3VjY2Vzc2Z1bGx5IHB1c2hlZCB0byB0aGUgcmVtb3RlKS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggLSBQYXRoIHRvIGRpc2FibGUgY2FjaGluZyBmb3JcbiAgICovXG4gIGRpc2FibGUgKHBhdGg6IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMuc2V0KHBhdGgsICdGTFVTSCcpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCBhIGNhbGxiYWNrIGZvciB3aGVuIGNhY2hpbmcgaXMgYWN0aXZhdGVkIGZvciBhIHBhdGguXG4gICAqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNiIC0gQ2FsbGJhY2sgZnVuY3Rpb25cbiAgICovXG4gIG9uQWN0aXZhdGUgKGNiOiAoZmlyc3RQZW5kaW5nOiBzdHJpbmcpID0+IHZvaWQpOiB2b2lkIHtcbiAgICBsb2coJ1tDYWNoaW5nXSBTZXR0aW5nIGFjdGl2YXRlIGhhbmRsZXInLCBjYiwgdGhpcy5wZW5kaW5nQWN0aXZhdGlvbnMpO1xuICAgIHRoaXMuYWN0aXZhdGVIYW5kbGVyID0gY2I7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnBlbmRpbmdBY3RpdmF0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgY2IodGhpcy5wZW5kaW5nQWN0aXZhdGlvbnNbaV0pO1xuICAgIH1cbiAgICBkZWxldGUgdGhpcy5wZW5kaW5nQWN0aXZhdGlvbnM7XG4gIH1cblxuICAvKipcbiAgICogUmV0cmlldmUgY2FjaGluZyBzZXR0aW5nIGZvciBhIGdpdmVuIHBhdGgsIG9yIGl0cyBuZXh0IHBhcmVudFxuICAgKiB3aXRoIGEgY2FjaGluZyBzdHJhdGVneSBzZXQuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIC0gUGF0aCB0byByZXRyaWV2ZSBzZXR0aW5nIGZvclxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBjYWNoaW5nIHN0cmF0ZWd5IGZvciB0aGUgcGF0aFxuICAgKiovXG4gIGNoZWNrUGF0aCAocGF0aDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBpZiAodGhpcy5fcm9vdFBhdGhzW3BhdGhdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiB0aGlzLl9yb290UGF0aHNbcGF0aF07XG4gICAgfSBlbHNlIGlmIChwYXRoID09PSAnLycpIHtcbiAgICAgIHJldHVybiAnU0VFTic7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLmNoZWNrUGF0aChjb250YWluaW5nRm9sZGVyKHBhdGgpKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVzZXQgdGhlIHN0YXRlIG9mIGNhY2hpbmcgYnkgZGVsZXRpbmcgYWxsIGNhY2hpbmcgaW5mb3JtYXRpb24uXG4gICAqKi9cbiAgcmVzZXQgKCk6IHZvaWQge1xuICAgIHRoaXMuX3Jvb3RQYXRocyA9IHt9O1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHVwIGZ1bmN0aW9uIHRoYXQgaXMgY2FsbGVkIG9uIGluaXRpYWxpemF0aW9uLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiovXG4gIHN0YXRpYyBfcnNfaW5pdCAoLypyZW1vdGVTdG9yYWdlKi8pOiB2b2lkIHtcbiAgICByZXR1cm47XG4gIH1cbn1cbiIsImltcG9ydCBCYXNlQ2xpZW50IGZyb20gJy4vYmFzZWNsaWVudCc7XG5pbXBvcnQgV2lyZUNsaWVudCBmcm9tICcuL3dpcmVjbGllbnQnO1xuaW1wb3J0IEV2ZW50SGFuZGxpbmcgZnJvbSAnLi9ldmVudGhhbmRsaW5nJztcbmltcG9ydCB7XG4gIGFwcGx5TWl4aW5zLFxuICBpc0ZvbGRlcixcbiAgY2xlYW5QYXRoLFxuICBzaG91bGRCZVRyZWF0ZWRBc0JpbmFyeSxcbiAgZ2V0SlNPTkZyb21Mb2NhbFN0b3JhZ2UsXG4gIGdldFRleHRGcm9tQXJyYXlCdWZmZXIsXG4gIGxvY2FsU3RvcmFnZUF2YWlsYWJsZVxufSBmcm9tICcuL3V0aWwnO1xuXG5jb25zdCBCQVNFX1VSTCA9ICdodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbSc7XG5jb25zdCBBVVRIX1VSTCA9ICdodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20vby9vYXV0aDIvYXV0aCc7XG5jb25zdCBBVVRIX1NDT1BFID0gJ2h0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL2F1dGgvZHJpdmUnO1xuY29uc3QgU0VUVElOR1NfS0VZID0gJ3JlbW90ZXN0b3JhZ2U6Z29vZ2xlZHJpdmUnO1xuY29uc3QgUEFUSF9QUkVGSVggPSAnL3JlbW90ZXN0b3JhZ2UnO1xuXG5jb25zdCBHRF9ESVJfTUlNRV9UWVBFID0gJ2FwcGxpY2F0aW9uL3ZuZC5nb29nbGUtYXBwcy5mb2xkZXInO1xuY29uc3QgUlNfRElSX01JTUVfVFlQRSA9ICdhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PVVURi04JztcblxubGV0IGhhc0xvY2FsU3RvcmFnZTtcblxuLyoqXG4gKiBQcm9kdWNlIGEgdGl0bGUgZnJvbSBhIGZpbGVuYW1lIGZvciBtZXRhZGF0YS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gZmlsZW5hbWVcbiAqIEByZXR1cm5zIHtzdHJpbmd9IHRpdGxlXG4gKlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gbWV0YVRpdGxlRnJvbUZpbGVOYW1lIChmaWxlbmFtZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgaWYgKGZpbGVuYW1lLnN1YnN0cigtMSkgPT09ICcvJykge1xuICAgIGZpbGVuYW1lID0gZmlsZW5hbWUuc3Vic3RyKDAsIGZpbGVuYW1lLmxlbmd0aCAtIDEpO1xuICB9XG5cbiAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChmaWxlbmFtZSk7XG59XG5cbi8qKlxuICogR2V0IHRoZSBwYXJlbnQgZGlyZWN0b3J5IGZvciB0aGUgZ2l2ZW4gcGF0aC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gcGF0aFxuICogQHJldHVybnMge3N0cmluZ30gcGFyZW50IGRpcmVjdG9yeVxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHBhcmVudFBhdGggKHBhdGg6IHN0cmluZyk6IHN0cmluZyB7XG4gIHJldHVybiBwYXRoLnJlcGxhY2UoL1teXFwvXStcXC8/JC8sICcnKTtcbn1cblxuLyoqXG4gKiBHZXQgb25seSB0aGUgZmlsZW5hbWUgZnJvbSBhIGZ1bGwgcGF0aC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gcGF0aFxuICogQHJldHVybnMge3N0cmluZ30gZmlsZW5hbWVcbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBiYXNlTmFtZSAocGF0aDogc3RyaW5nKTogc3RyaW5nIHtcbiAgY29uc3QgcGFydHMgPSBwYXRoLnNwbGl0KCcvJyk7XG4gIGlmIChwYXRoLnN1YnN0cigtMSkgPT09ICcvJykge1xuICAgIHJldHVybiBwYXJ0c1twYXJ0cy5sZW5ndGgtMl0rJy8nO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBwYXJ0c1twYXJ0cy5sZW5ndGgtMV07XG4gIH1cbn1cblxuLyoqXG4gKiBQcmVwZW5kIHRoZSBwYXRoIHdpdGggdGhlIHJlbW90ZVN0b3JhZ2UgYmFzZSBkaXJlY3RvcnkuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHBhdGggLSBQYXRoXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBBY3R1YWwgcGF0aCBvbiBHb29nbGUgRHJpdmVcbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBnb29nbGVEcml2ZVBhdGggKHBhdGg6IHN0cmluZyk6IHN0cmluZyB7XG4gIHJldHVybiBjbGVhblBhdGgoYCR7UEFUSF9QUkVGSVh9LyR7cGF0aH1gKTtcbn1cblxuLyoqXG4gKiBSZW1vdmUgc3Vycm91bmRpbmcgcXVvdGVzIGZyb20gYSBzdHJpbmcuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyAtIHN0cmluZyB3aXRoIHN1cnJvdW5kaW5nIHF1b3Rlc1xuICogQHJldHVybnMge3N0cmluZ30gc3RyaW5nIHdpdGhvdXQgc3Vycm91bmRpbmcgcXVvdGVzXG4gKlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gcmVtb3ZlUXVvdGVzIChzdHI6IHN0cmluZyk6IHN0cmluZyB7XG4gIHJldHVybiBzdHIucmVwbGFjZSgvXltcIiddKC4qKVtcIiddJC8sIFwiJDFcIik7XG59XG5cbi8qKlxuICogSW50ZXJuYWwgY2FjaGUgb2JqZWN0IGZvciBzdG9yaW5nIEdvb2dsZSBmaWxlIElEcy5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4QWdlIC0gTWF4aW11bSBhZ2UgKGluIHNlY29uZHMpIHRoZSBjb250ZW50IHNob3VsZCBiZSBjYWNoZWQgZm9yXG4gKi9cbmNsYXNzIEZpbGVJZENhY2hlIHtcbiAgbWF4QWdlOiBudW1iZXI7XG4gIF9pdGVtcyA9IHt9XG5cbiAgY29uc3RydWN0b3IobWF4QWdlPzogbnVtYmVyKSB7XG4gICAgdGhpcy5tYXhBZ2UgPSBtYXhBZ2U7XG4gICAgdGhpcy5faXRlbXMgPSB7fTtcbiAgfVxuXG4gIGdldCAoa2V5KTogbnVtYmVyIHwgdW5kZWZpbmVkIHtcbiAgICBjb25zdCBpdGVtID0gdGhpcy5faXRlbXNba2V5XTtcbiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICByZXR1cm4gKGl0ZW0gJiYgaXRlbS50ID49IChub3cgLSB0aGlzLm1heEFnZSkpID8gaXRlbS52IDogdW5kZWZpbmVkO1xuICB9XG5cbiAgc2V0IChrZXksIHZhbHVlKTogdm9pZCB7XG4gICAgdGhpcy5faXRlbXNba2V5XSA9IHtcbiAgICAgIHY6IHZhbHVlLFxuICAgICAgdDogbmV3IERhdGUoKS5nZXRUaW1lKClcbiAgICB9O1xuICB9XG59O1xuXG4vKipcbiAqIE92ZXJ3cml0ZSBCYXNlQ2xpZW50J3MgZ2V0SXRlbVVSTCB3aXRoIG91ciBvd24gaW1wbGVtZW50YXRpb25cbiAqXG4gKiBUT0RPOiBTdGlsbCBuZWVkcyB0byBiZSBpbXBsZW1lbnRlZC4gQXQgdGhlIG1vbWVudCBpdCBqdXN0IHRocm93c1xuICogYW5kIGVycm9yIHNheWluZyB0aGF0IGl0J3Mgbm90IGltcGxlbWVudGVkIHlldC5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gcnMgLSBSZW1vdGVTdG9yYWdlIGluc3RhbmNlXG4gKlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gaG9va0dldEl0ZW1VUkwgKHJzKTogdm9pZCB7XG4gIGlmIChycy5fb3JpZ0Jhc2VDbGllbnRHZXRJdGVtVVJMKSB7IHJldHVybjsgfVxuICBycy5fb3JpZ0Jhc2VDbGllbnRHZXRJdGVtVVJMID0gQmFzZUNsaWVudC5wcm90b3R5cGUuZ2V0SXRlbVVSTDtcbiAgQmFzZUNsaWVudC5wcm90b3R5cGUuZ2V0SXRlbVVSTCA9IGZ1bmN0aW9uICgvKiBwYXRoICovKTogbmV2ZXIge1xuICAgIHRocm93IG5ldyBFcnJvcignZ2V0SXRlbVVSTCBpcyBub3QgaW1wbGVtZW50ZWQgZm9yIEdvb2dsZSBEcml2ZSB5ZXQnKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBSZXN0b3JlIEJhc2VDbGllbnQncyBnZXRJdGVtVVJMIG9yaWdpbmFsIGltcGxlbWVudGF0aW9uXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IHJzIC0gUmVtb3RlU3RvcmFnZSBpbnN0YW5jZVxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHVuSG9va0dldEl0ZW1VUkwgKHJzKTogdm9pZCB7XG4gIGlmICghcnMuX29yaWdCYXNlQ2xpZW50R2V0SXRlbVVSTCkgeyByZXR1cm47IH1cbiAgQmFzZUNsaWVudC5wcm90b3R5cGUuZ2V0SXRlbVVSTCA9IHJzLl9vcmlnQmFzZUNsaWVudEdldEl0ZW1VUkw7XG4gIGRlbGV0ZSBycy5fb3JpZ0Jhc2VDbGllbnRHZXRJdGVtVVJMO1xufVxuXG4vKipcbiAqIEBjbGFzcyBHb29nbGVEcml2ZVxuICpcbiAqIFRvIHVzZSB0aGlzIGJhY2tlbmQsIHlvdSBuZWVkIHRvIHNwZWNpZnkgdGhlIGFwcCdzIGNsaWVudCBJRCBsaWtlIHNvOlxuICpcbiAqIEBleGFtcGxlXG4gKiByZW1vdGVTdG9yYWdlLnNldEFwaUtleXMoe1xuICogICBnb29nbGVkcml2ZTogJ3lvdXItY2xpZW50LWlkJ1xuICogfSk7XG4gKlxuICogQSBjbGllbnQgSUQgY2FuIGJlIG9idGFpbmVkIGJ5IHJlZ2lzdGVyaW5nIHlvdXIgYXBwIGluIHRoZSBHb29nbGVcbiAqIERldmVsb3BlcnMgQ29uc29sZTogaHR0cHM6Ly9jb25zb2xlLmRldmVsb3BlcnMuZ29vZ2xlLmNvbS9mbG93cy9lbmFibGVhcGk/YXBpaWQ9ZHJpdmVcbiAqXG4gKiBEb2NzOiBodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS9kcml2ZS92My93ZWIvcXVpY2tzdGFydC9qc1xuKiovXG5jbGFzcyBHb29nbGVEcml2ZSB7XG4gIHJzOiBhbnk7XG4gIGNsaWVudElkOiBzdHJpbmc7XG4gIHVzZXJBZGRyZXNzOiBzdHJpbmc7XG4gIHRva2VuOiBzdHJpbmc7XG4gIGNvbm5lY3RlZCA9IGZhbHNlO1xuICBvbmxpbmUgPSB0cnVlO1xuXG4gIF9maWxlSWRDYWNoZTogRmlsZUlkQ2FjaGU7XG5cbiAgY29uc3RydWN0b3IocmVtb3RlU3RvcmFnZSwgY2xpZW50SWQpIHtcbiAgICB0aGlzLmFkZEV2ZW50cyhbJ2Nvbm5lY3RlZCcsICdub3QtY29ubmVjdGVkJ10pO1xuXG4gICAgdGhpcy5ycyA9IHJlbW90ZVN0b3JhZ2U7XG4gICAgdGhpcy5jbGllbnRJZCA9IGNsaWVudElkO1xuXG4gICAgdGhpcy5fZmlsZUlkQ2FjaGUgPSBuZXcgRmlsZUlkQ2FjaGUoNjAgKiA1KTsgLy8gSURzIGV4cGlyZSBhZnRlciA1IG1pbnV0ZXMgKGlzIHRoaXMgYSBnb29kIGlkZWE/KVxuXG4gICAgaGFzTG9jYWxTdG9yYWdlID0gbG9jYWxTdG9yYWdlQXZhaWxhYmxlKCk7XG5cbiAgICBpZiAoaGFzTG9jYWxTdG9yYWdlKXtcbiAgICAgIGNvbnN0IHNldHRpbmdzID0gZ2V0SlNPTkZyb21Mb2NhbFN0b3JhZ2UoU0VUVElOR1NfS0VZKTtcbiAgICAgIGlmIChzZXR0aW5ncykge1xuICAgICAgICB0aGlzLmNvbmZpZ3VyZShzZXR0aW5ncyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENvbmZpZ3VyZSB0aGUgR29vZ2xlIERyaXZlIGJhY2tlbmQuXG4gICAqXG4gICAqIEZldGNoZXMgdGhlIHVzZXIgaW5mbyBmcm9tIEdvb2dsZSB3aGVuIG5vIGBgdXNlckFkZHJlc3NgYCBpcyBnaXZlbi5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IHNldHRpbmdzXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbc2V0dGluZ3MudXNlckFkZHJlc3NdIC0gVGhlIHVzZXIncyBlbWFpbCBhZGRyZXNzXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbc2V0dGluZ3MudG9rZW5dIC0gQXV0aG9yaXphdGlvbiB0b2tlblxuICAgKlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBjb25maWd1cmUgKHNldHRpbmdzKSB7IC8vIFNldHRpbmdzIHBhcmFtZXRlciBjb21wYXRpYmxlIHdpdGggV2lyZUNsaWVudFxuICAgIC8vIFdlIG9ubHkgdXBkYXRlIHRoaXMudXNlckFkZHJlc3MgaWYgc2V0dGluZ3MudXNlckFkZHJlc3MgaXMgc2V0IHRvIGEgc3RyaW5nIG9yIHRvIG51bGxcbiAgICBpZiAodHlwZW9mIHNldHRpbmdzLnVzZXJBZGRyZXNzICE9PSAndW5kZWZpbmVkJykgeyB0aGlzLnVzZXJBZGRyZXNzID0gc2V0dGluZ3MudXNlckFkZHJlc3M7IH1cbiAgICAvLyBTYW1lIGZvciB0aGlzLnRva2VuLiBJZiBvbmx5IG9uZSBvZiB0aGVzZSB0d28gaXMgc2V0LCB3ZSBsZWF2ZSB0aGUgb3RoZXIgb25lIGF0IGl0cyBleGlzdGluZyB2YWx1ZVxuICAgIGlmICh0eXBlb2Ygc2V0dGluZ3MudG9rZW4gIT09ICd1bmRlZmluZWQnKSB7IHRoaXMudG9rZW4gPSBzZXR0aW5ncy50b2tlbjsgfVxuXG4gICAgY29uc3Qgd3JpdGVTZXR0aW5nc1RvQ2FjaGUgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmIChoYXNMb2NhbFN0b3JhZ2UpIHtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oU0VUVElOR1NfS0VZLCBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgdXNlckFkZHJlc3M6IHRoaXMudXNlckFkZHJlc3MsXG4gICAgICAgICAgdG9rZW46IHRoaXMudG9rZW5cbiAgICAgICAgfSkpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVFcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5jb25uZWN0ZWQgPSBmYWxzZTtcbiAgICAgIGRlbGV0ZSB0aGlzLnRva2VuO1xuICAgICAgaWYgKGhhc0xvY2FsU3RvcmFnZSkge1xuICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShTRVRUSU5HU19LRVkpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBpZiAodGhpcy50b2tlbikge1xuICAgICAgdGhpcy5jb25uZWN0ZWQgPSB0cnVlO1xuXG4gICAgICBpZiAodGhpcy51c2VyQWRkcmVzcykge1xuICAgICAgICB0aGlzLl9lbWl0KCdjb25uZWN0ZWQnKTtcbiAgICAgICAgd3JpdGVTZXR0aW5nc1RvQ2FjaGUuYXBwbHkodGhpcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmluZm8oKS50aGVuKChpbmZvKSA9PiB7XG4gICAgICAgICAgdGhpcy51c2VyQWRkcmVzcyA9IGluZm8udXNlci5lbWFpbEFkZHJlc3M7XG4gICAgICAgICAgdGhpcy5fZW1pdCgnY29ubmVjdGVkJyk7XG4gICAgICAgICAgd3JpdGVTZXR0aW5nc1RvQ2FjaGUuYXBwbHkodGhpcyk7XG4gICAgICAgIH0pLmNhdGNoKCgpID0+IHtcbiAgICAgICAgICBoYW5kbGVFcnJvci5hcHBseSh0aGlzKTtcbiAgICAgICAgICB0aGlzLnJzLl9lbWl0KCdlcnJvcicsIG5ldyBFcnJvcignQ291bGQgbm90IGZldGNoIHVzZXIgaW5mby4nKSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBoYW5kbGVFcnJvci5hcHBseSh0aGlzKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhdGUgdGhlIGF1dGhvcml6YXRpb24gZmxvdydzIE9BdXRoIGRhbmNlLlxuICAgKi9cbiAgY29ubmVjdCAoKTogdm9pZCB7XG4gICAgdGhpcy5ycy5zZXRCYWNrZW5kKCdnb29nbGVkcml2ZScpO1xuICAgIHRoaXMucnMuYXV0aG9yaXplKHsgYXV0aFVSTDogQVVUSF9VUkwsIHNjb3BlOiBBVVRIX1NDT1BFLCBjbGllbnRJZDogdGhpcy5jbGllbnRJZCB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdG9wIHRoZSBhdXRob3JpemF0aW9uIHByb2Nlc3MuXG4gICAqXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIHN0b3BXYWl0aW5nRm9yVG9rZW4gKCk6IHZvaWQge1xuICAgIGlmICghdGhpcy5jb25uZWN0ZWQpIHtcbiAgICAgIHRoaXMuX2VtaXQoJ25vdC1jb25uZWN0ZWQnKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVxdWVzdCBhIHJlc291cmNlIChmaWxlIG9yIGRpcmVjdG9yeSkuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIC0gUGF0aCBvZiB0aGUgcmVzb3VyY2VcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBSZXF1ZXN0IG9wdGlvbnNcbiAgICogQHJldHVybnMge1Byb21pc2V9IFJlc29sdmVzIHdpdGggYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIHN0YXR1cyBjb2RlLFxuICAgKiAgICAgICAgICAgICAgICAgICAgYm9keSwgY29udGVudC10eXBlIGFuZCByZXZpc2lvblxuICAgKlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBnZXQgKHBhdGgsIG9wdGlvbnMpIHtcbiAgICBpZiAoaXNGb2xkZXIocGF0aCkpIHtcbiAgICAgIHJldHVybiB0aGlzLl9nZXRGb2xkZXIoZ29vZ2xlRHJpdmVQYXRoKHBhdGgpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuX2dldEZpbGUoZ29vZ2xlRHJpdmVQYXRoKHBhdGgpLCBvcHRpb25zKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIG9yIHVwZGF0ZSBhIGZpbGUuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIC0gRmlsZSBwYXRoXG4gICAqIEBwYXJhbSBib2R5IC0gRmlsZSBjb250ZW50XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjb250ZW50VHlwZSAtIEZpbGUgY29udGVudC10eXBlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25zLmlmTm9uZU1hdGNoIC0gT25seSBjcmVhdGUgb2YgdXBkYXRlIHRoZSBmaWxlIGlmIHRoZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgRVRhZyBkb2Vzbid0IG1hdGNoIHRoaXMgc3RyaW5nXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSBSZXNvbHZlcyB3aXRoIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBzdGF0dXMgY29kZSxcbiAgICogICAgICAgICAgICAgICAgICAgIGNvbnRlbnQtdHlwZSBhbmQgcmV2aXNpb25cbiAgICpcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgcHV0IChwYXRoLCBib2R5LCBjb250ZW50VHlwZSwgb3B0aW9ucykge1xuICAgIGNvbnN0IGZ1bGxQYXRoID0gZ29vZ2xlRHJpdmVQYXRoKHBhdGgpO1xuXG4gICAgZnVuY3Rpb24gcHV0RG9uZShyZXNwb25zZSkge1xuICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA+PSAyMDAgJiYgcmVzcG9uc2Uuc3RhdHVzIDwgMzAwKSB7XG4gICAgICAgIGNvbnN0IG1ldGEgPSBKU09OLnBhcnNlKHJlc3BvbnNlLnJlc3BvbnNlVGV4dCk7XG4gICAgICAgIGNvbnN0IGV0YWdXaXRob3V0UXVvdGVzID0gcmVtb3ZlUXVvdGVzKG1ldGEuZXRhZyk7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe3N0YXR1c0NvZGU6IDIwMCwgY29udGVudFR5cGU6IG1ldGEubWltZVR5cGUsIHJldmlzaW9uOiBldGFnV2l0aG91dFF1b3Rlc30pO1xuICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQxMikge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtzdGF0dXNDb2RlOiA0MTIsIHJldmlzaW9uOiAnY29uZmxpY3QnfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXCJQVVQgZmFpbGVkIHdpdGggc3RhdHVzIFwiICsgcmVzcG9uc2Uuc3RhdHVzICsgXCIgKFwiICsgcmVzcG9uc2UucmVzcG9uc2VUZXh0ICsgXCIpXCIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9nZXRGaWxlSWQoZnVsbFBhdGgpLnRoZW4oKGlkKSA9PiB7XG4gICAgICBpZiAoaWQpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMgJiYgKG9wdGlvbnMuaWZOb25lTWF0Y2ggPT09ICcqJykpIHtcbiAgICAgICAgICByZXR1cm4gcHV0RG9uZSh7IHN0YXR1czogNDEyIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl91cGRhdGVGaWxlKGlkLCBmdWxsUGF0aCwgYm9keSwgY29udGVudFR5cGUsIG9wdGlvbnMpLnRoZW4ocHV0RG9uZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5fY3JlYXRlRmlsZShmdWxsUGF0aCwgYm9keSwgY29udGVudFR5cGUpLnRoZW4ocHV0RG9uZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogRGVsZXRlIGEgZmlsZS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggLSBGaWxlIHBhdGhcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMuaWZNYXRjaCAtIG9ubHkgZGVsZXRlIHRoZSBmaWxlIGlmIGl0J3MgRVRhZ1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hlcyB0aGlzIHN0cmluZ1xuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gUmVzb2x2ZXMgd2l0aCBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgc3RhdHVzIGNvZGVcbiAgICpcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgZGVsZXRlIChwYXRoLCBvcHRpb25zKSB7XG4gICAgY29uc3QgZnVsbFBhdGggPSBnb29nbGVEcml2ZVBhdGgocGF0aCk7XG5cbiAgICByZXR1cm4gdGhpcy5fZ2V0RmlsZUlkKGZ1bGxQYXRoKS50aGVuKChpZCkgPT4ge1xuICAgICAgaWYgKCFpZCkge1xuICAgICAgICAvLyBGaWxlIGRvZXNuJ3QgZXhpc3QuIElnbm9yZS5cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7c3RhdHVzQ29kZTogMjAwfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLl9nZXRNZXRhKGlkKS50aGVuKChtZXRhKSA9PiB7XG4gICAgICAgIGxldCBldGFnV2l0aG91dFF1b3RlcztcbiAgICAgICAgaWYgKCh0eXBlb2YgbWV0YSA9PT0gJ29iamVjdCcpICYmICh0eXBlb2YgbWV0YS5ldGFnID09PSAnc3RyaW5nJykpIHtcbiAgICAgICAgICBldGFnV2l0aG91dFF1b3RlcyA9IHJlbW92ZVF1b3RlcyhtZXRhLmV0YWcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuaWZNYXRjaCAmJiAob3B0aW9ucy5pZk1hdGNoICE9PSBldGFnV2l0aG91dFF1b3RlcykpIHtcbiAgICAgICAgICByZXR1cm4ge3N0YXR1c0NvZGU6IDQxMiwgcmV2aXNpb246IGV0YWdXaXRob3V0UXVvdGVzfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KCdERUxFVEUnLCBCQVNFX1VSTCArICcvZHJpdmUvdjIvZmlsZXMvJyArIGlkLCB7fSkudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDAgfHwgcmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgIHJldHVybiB7c3RhdHVzQ29kZTogMjAwfTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFwiRGVsZXRlIGZhaWxlZDogXCIgKyByZXNwb25zZS5zdGF0dXMgKyBcIiAoXCIgKyByZXNwb25zZS5yZXNwb25zZVRleHQgKyBcIilcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEZldGNoIHRoZSB1c2VyJ3MgaW5mbyBmcm9tIEdvb2dsZS5cbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2V9IHJlc29sdmVzIHdpdGggdGhlIHVzZXIncyBpbmZvLlxuICAgKlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBpbmZvICgpIHtcbiAgICBjb25zdCB1cmwgPSBCQVNFX1VSTCArICcvZHJpdmUvdjIvYWJvdXQ/ZmllbGRzPXVzZXInO1xuICAgIC8vIHJlcXVlc3RpbmcgdXNlciBpbmZvKG1haW5seSBmb3IgdXNlckFkcmVzcylcbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdCgnR0VUJywgdXJsLCB7fSkudGhlbihmdW5jdGlvbiAocmVzcCl7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBpbmZvID0gSlNPTi5wYXJzZShyZXNwLnJlc3BvbnNlVGV4dCk7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoaW5mbyk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgYW4gZXhpc3RpbmcgZmlsZS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkIC0gRmlsZSBJRFxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCAtIEZpbGUgcGF0aFxuICAgKiBAcGFyYW0gYm9keSAtIEZpbGUgY29udGVudFxuICAgKiBAcGFyYW0ge3N0cmluZ30gY29udGVudFR5cGUgLSBGaWxlIGNvbnRlbnQtdHlwZVxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy5pZk1hdGNoIC0gT25seSB1cGRhdGUgdGhlIGZpbGUgaWYgaXRzIEVUYWdcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZXMgdGhpcyBzdHJpbmdcbiAgICogQHJldHVybnMge1Byb21pc2V9IFJlc29sdmVzIHdpdGggdGhlIHJlc3BvbnNlIG9mIHRoZSBuZXR3b3JrIHJlcXVlc3RcbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF91cGRhdGVGaWxlIChpZCwgcGF0aCwgYm9keSwgY29udGVudFR5cGUsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBtZXRhZGF0YSA9IHtcbiAgICAgIG1pbWVUeXBlOiBjb250ZW50VHlwZVxuICAgIH07XG4gICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD1VVEYtOCdcbiAgICB9O1xuXG4gICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5pZk1hdGNoKSB7XG4gICAgICBoZWFkZXJzWydJZi1NYXRjaCddID0gJ1wiJyArIG9wdGlvbnMuaWZNYXRjaCArICdcIic7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoJ1BVVCcsIEJBU0VfVVJMICsgJy91cGxvYWQvZHJpdmUvdjIvZmlsZXMvJyArIGlkICsgJz91cGxvYWRUeXBlPXJlc3VtYWJsZScsIHtcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KG1ldGFkYXRhKSxcbiAgICAgIGhlYWRlcnM6IGhlYWRlcnNcbiAgICB9KS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDEyKSB7XG4gICAgICAgIHJldHVybiAocmVzcG9uc2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoJ1BVVCcsIHJlc3BvbnNlLmdldFJlc3BvbnNlSGVhZGVyKCdMb2NhdGlvbicpLCB7XG4gICAgICAgICAgYm9keTogY29udGVudFR5cGUubWF0Y2goL15hcHBsaWNhdGlvblxcL2pzb24vKSA/IEpTT04uc3RyaW5naWZ5KGJvZHkpIDogYm9keVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgZmlsZS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggLSBGaWxlIHBhdGhcbiAgICogQHBhcmFtIGJvZHkgLSBGaWxlIGNvbnRlbnRcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNvbnRlbnRUeXBlIC0gRmlsZSBjb250ZW50LXR5cGVcbiAgICogQHJldHVybnMge1Byb21pc2V9IFJlc29sdmVzIHdpdGggdGhlIHJlc3BvbnNlIG9mIHRoZSBuZXR3b3JrIHJlcXVlc3RcbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9jcmVhdGVGaWxlIChwYXRoLCBib2R5LCBjb250ZW50VHlwZSkge1xuICAgIHJldHVybiB0aGlzLl9nZXRQYXJlbnRJZChwYXRoKS50aGVuKChwYXJlbnRJZCkgPT4ge1xuICAgICAgY29uc3QgZmlsZU5hbWUgPSBiYXNlTmFtZShwYXRoKTtcbiAgICAgIGNvbnN0IG1ldGFkYXRhID0ge1xuICAgICAgICB0aXRsZTogbWV0YVRpdGxlRnJvbUZpbGVOYW1lKGZpbGVOYW1lKSxcbiAgICAgICAgbWltZVR5cGU6IGNvbnRlbnRUeXBlLFxuICAgICAgICBwYXJlbnRzOiBbe1xuICAgICAgICAgIGtpbmQ6IFwiZHJpdmUjZmlsZUxpbmtcIixcbiAgICAgICAgICBpZDogcGFyZW50SWRcbiAgICAgICAgfV1cbiAgICAgIH07XG4gICAgICByZXR1cm4gdGhpcy5fcmVxdWVzdCgnUE9TVCcsIEJBU0VfVVJMICsgJy91cGxvYWQvZHJpdmUvdjIvZmlsZXM/dXBsb2FkVHlwZT1yZXN1bWFibGUnLCB7XG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KG1ldGFkYXRhKSxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD1VVEYtOCdcbiAgICAgICAgfVxuICAgICAgfSkudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoJ1BPU1QnLCByZXNwb25zZS5nZXRSZXNwb25zZUhlYWRlcignTG9jYXRpb24nKSwge1xuICAgICAgICAgIGJvZHk6IGNvbnRlbnRUeXBlLm1hdGNoKC9eYXBwbGljYXRpb25cXC9qc29uLykgPyBKU09OLnN0cmluZ2lmeShib2R5KSA6IGJvZHlcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXF1ZXN0IGEgZmlsZS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggLSBGaWxlIHBhdGhcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmlmTm9uZU1hdGhdIC0gT25seSByZXR1cm4gdGhlIGZpbGUgaWYgaXRzIEVUYWdcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9lc24ndCBtYXRjaCB0aGUgZ2l2ZW4gc3RyaW5nXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSBSZXNvbHZlcyB3aXRoIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBzdGF0dXMgY29kZSxcbiAgICogICAgICAgICAgICAgICAgICAgIGJvZHksIGNvbnRlbnQtdHlwZSBhbmQgcmV2aXNpb25cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9nZXRGaWxlIChwYXRoLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMuX2dldEZpbGVJZChwYXRoKS50aGVuKChpZCkgPT4ge1xuICAgICAgcmV0dXJuIHRoaXMuX2dldE1ldGEoaWQpLnRoZW4oKG1ldGEpID0+IHtcbiAgICAgICAgbGV0IGV0YWdXaXRob3V0UXVvdGVzO1xuICAgICAgICBpZiAodHlwZW9mKG1ldGEpID09PSAnb2JqZWN0JyAmJiB0eXBlb2YobWV0YS5ldGFnKSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICBldGFnV2l0aG91dFF1b3RlcyA9IHJlbW92ZVF1b3RlcyhtZXRhLmV0YWcpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5pZk5vbmVNYXRjaCAmJiAoZXRhZ1dpdGhvdXRRdW90ZXMgPT09IG9wdGlvbnMuaWZOb25lTWF0Y2gpKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7c3RhdHVzQ29kZTogMzA0fSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIW1ldGEuZG93bmxvYWRVcmwpIHtcbiAgICAgICAgICBpZiAobWV0YS5leHBvcnRMaW5rcyAmJiBtZXRhLmV4cG9ydExpbmtzWyd0ZXh0L2h0bWwnXSkge1xuICAgICAgICAgICAgLy8gRG9jdW1lbnRzIHRoYXQgd2VyZSBnZW5lcmF0ZWQgaW5zaWRlIEdvb2dsZURvY3MgaGF2ZSBub1xuICAgICAgICAgICAgLy8gZG93bmxvYWRVcmwsIGJ1dCB5b3UgY2FuIGV4cG9ydCB0aGVtIHRvIHRleHQvaHRtbCBpbnN0ZWFkOlxuICAgICAgICAgICAgbWV0YS5taW1lVHlwZSArPSAnO2V4cG9ydD10ZXh0L2h0bWwnO1xuICAgICAgICAgICAgbWV0YS5kb3dubG9hZFVybCA9IG1ldGEuZXhwb3J0TGlua3NbJ3RleHQvaHRtbCddO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBlbXB0eSBmaWxlXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtzdGF0dXNDb2RlOiAyMDAsIGJvZHk6ICcnLCBjb250ZW50VHlwZTogbWV0YS5taW1lVHlwZSwgcmV2aXNpb246IGV0YWdXaXRob3V0UXVvdGVzfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcGFyYW1zID0ge1xuICAgICAgICAgIHJlc3BvbnNlVHlwZTogJ2FycmF5YnVmZmVyJ1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVxdWVzdCgnR0VUJywgbWV0YS5kb3dubG9hZFVybCwgcGFyYW1zKS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgIC8vZmlyc3QgZW5jb2RlIHRoZSByZXNwb25zZSBhcyB0ZXh0LCBhbmQgbGF0ZXIgY2hlY2sgaWZcbiAgICAgICAgICAvL3RleHQgYXBwZWFycyB0byBhY3R1YWxseSBiZSBiaW5hcnkgZGF0YVxuICAgICAgICAgIHJldHVybiBnZXRUZXh0RnJvbUFycmF5QnVmZmVyKHJlc3BvbnNlLnJlc3BvbnNlLCAnVVRGLTgnKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZVRleHQpIHtcbiAgICAgICAgICAgIGxldCBib2R5ID0gcmVzcG9uc2VUZXh0O1xuICAgICAgICAgICAgaWYgKG1ldGEubWltZVR5cGUubWF0Y2goL15hcHBsaWNhdGlvblxcL2pzb24vKSkge1xuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGJvZHkgPSBKU09OLnBhcnNlKGJvZHkgYXMgc3RyaW5nKTtcbiAgICAgICAgICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgICAgICAgICAgLy8gYm9keSBjb3VsZG4ndCBiZSBwYXJzZWQgYXMgSlNPTiwgc28gd2UnbGwganVzdCByZXR1cm4gaXQgYXMgaXNcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChzaG91bGRCZVRyZWF0ZWRBc0JpbmFyeShyZXNwb25zZVRleHQsIG1ldGEubWltZVR5cGUpKSB7XG4gICAgICAgICAgICAgIC8vcmV0dXJuIHVucHJvY2Vzc2VkIHJlc3BvbnNlXG4gICAgICAgICAgICAgIGJvZHkgPSByZXNwb25zZS5yZXNwb25zZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgc3RhdHVzQ29kZTogMjAwLFxuICAgICAgICAgICAgICBib2R5OiBib2R5LFxuICAgICAgICAgICAgICBjb250ZW50VHlwZTogbWV0YS5taW1lVHlwZSxcbiAgICAgICAgICAgICAgcmV2aXNpb246IGV0YWdXaXRob3V0UXVvdGVzXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlcXVlc3QgYSBkaXJlY3RvcnkuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIC0gRGlyZWN0b3J5IHBhdGhcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybnMge1Byb21pc2V9IFJlc29sdmVzIHdpdGggYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIHN0YXR1cyBjb2RlLFxuICAgKiAgICAgICAgICAgICAgICAgICAgYm9keSBhbmQgY29udGVudC10eXBlXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZ2V0Rm9sZGVyIChwYXRoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2dldEZpbGVJZChwYXRoKS50aGVuKChpZCkgPT4ge1xuICAgICAgbGV0IGRhdGEsIGV0YWdXaXRob3V0UXVvdGVzLCBpdGVtc01hcDtcbiAgICAgIGlmICghIGlkKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe3N0YXR1c0NvZGU6IDQwNH0pO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBxdWVyeSA9ICdcXCcnICsgaWQgKyAnXFwnIGluIHBhcmVudHMnO1xuICAgICAgY29uc3QgZmllbGRzID0gJ2l0ZW1zKGRvd25sb2FkVXJsLGV0YWcsZmlsZVNpemUsaWQsbWltZVR5cGUsdGl0bGUpJztcbiAgICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KCdHRVQnLCBCQVNFX1VSTCArICcvZHJpdmUvdjIvZmlsZXM/J1xuICAgICAgICAgICsgJ3E9JyArIGVuY29kZVVSSUNvbXBvbmVudChxdWVyeSlcbiAgICAgICAgICArICcmZmllbGRzPScgKyBlbmNvZGVVUklDb21wb25lbnQoZmllbGRzKVxuICAgICAgICAgICsgJyZtYXhSZXN1bHRzPTEwMDAnLFxuICAgICAgICAgIHt9KVxuICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgIT09IDIwMCkge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgncmVxdWVzdCBmYWlsZWQgb3Igc29tZXRoaW5nOiAnICsgcmVzcG9uc2Uuc3RhdHVzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZGF0YSA9IEpTT04ucGFyc2UocmVzcG9uc2UucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdub24tSlNPTiByZXNwb25zZSBmcm9tIEdvb2dsZURyaXZlJyk7XG4gICAgICAgIH1cblxuICAgICAgICBpdGVtc01hcCA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgZGF0YS5pdGVtcykge1xuICAgICAgICAgIGV0YWdXaXRob3V0UXVvdGVzID0gcmVtb3ZlUXVvdGVzKGl0ZW0uZXRhZyk7XG4gICAgICAgICAgaWYgKGl0ZW0ubWltZVR5cGUgPT09IEdEX0RJUl9NSU1FX1RZUEUpIHtcbiAgICAgICAgICAgIHRoaXMuX2ZpbGVJZENhY2hlLnNldChwYXRoICsgY2xlYW5QYXRoKGl0ZW0udGl0bGUpICsgJy8nLCBpdGVtLmlkKTtcbiAgICAgICAgICAgIGl0ZW1zTWFwW2l0ZW0udGl0bGUgKyAnLyddID0ge1xuICAgICAgICAgICAgICBFVGFnOiBldGFnV2l0aG91dFF1b3Rlc1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fZmlsZUlkQ2FjaGUuc2V0KHBhdGggKyBjbGVhblBhdGgoaXRlbS50aXRsZSksIGl0ZW0uaWQpO1xuICAgICAgICAgICAgaXRlbXNNYXBbaXRlbS50aXRsZV0gPSB7XG4gICAgICAgICAgICAgIEVUYWc6IGV0YWdXaXRob3V0UXVvdGVzLFxuICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogaXRlbS5taW1lVHlwZSxcbiAgICAgICAgICAgICAgJ0NvbnRlbnQtTGVuZ3RoJzogaXRlbS5maWxlU2l6ZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBGSVhNRTogYWRkIHJldmlzaW9uIG9mIGZvbGRlciFcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7c3RhdHVzQ29kZTogMjAwLCBib2R5OiBpdGVtc01hcCwgY29udGVudFR5cGU6IFJTX0RJUl9NSU1FX1RZUEUsIHJldmlzaW9uOiB1bmRlZmluZWR9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgSUQgb2YgYSBwYXJlbnQgcGF0aC5cbiAgICpcbiAgICogQ3JlYXRlcyB0aGUgZGlyZWN0b3J5IGlmIGl0IGRvZXNuJ3QgZXhpc3QgeWV0LlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCAtIEZ1bGwgcGF0aCBvZiBhIGRpcmVjdG9yeSBvciBmaWxlXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSBSZXNvbHZlcyB3aXRoIElEIG9mIHRoZSBwYXJlbnQgZGlyZWN0b3J5LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2dldFBhcmVudElkIChwYXRoKSB7XG4gICAgY29uc3QgZm9sZGVybmFtZSA9IHBhcmVudFBhdGgocGF0aCk7XG5cbiAgICByZXR1cm4gdGhpcy5fZ2V0RmlsZUlkKGZvbGRlcm5hbWUpLnRoZW4oKHBhcmVudElkKSA9PiB7XG4gICAgICBpZiAocGFyZW50SWQpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShwYXJlbnRJZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5fY3JlYXRlRm9sZGVyKGZvbGRlcm5hbWUpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIGRpcmVjdG9yeS5cbiAgICpcbiAgICogQ3JlYXRlcyBhbGwgcGFyZW50IGRpcmVjdG9yaWVzIGFzIHdlbGwgaWYgYW55IG9mIHRoZW0gZGlkbid0IGV4aXN0IHlldC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggLSBEaXJlY3RvcnkgcGF0aFxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gUmVzb2x2ZXMgd2l0aCB0aGUgSUQgb2YgdGhlIG5ldyBkaXJlY3RvcnlcbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9jcmVhdGVGb2xkZXIgKHBhdGgpIHtcbiAgICByZXR1cm4gdGhpcy5fZ2V0UGFyZW50SWQocGF0aCkudGhlbigocGFyZW50SWQpID0+IHtcbiAgICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KCdQT1NUJywgQkFTRV9VUkwgKyAnL2RyaXZlL3YyL2ZpbGVzJywge1xuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgdGl0bGU6IG1ldGFUaXRsZUZyb21GaWxlTmFtZShiYXNlTmFtZShwYXRoKSksXG4gICAgICAgICAgbWltZVR5cGU6IEdEX0RJUl9NSU1FX1RZUEUsXG4gICAgICAgICAgcGFyZW50czogW3tcbiAgICAgICAgICAgIGlkOiBwYXJlbnRJZFxuICAgICAgICAgIH1dXG4gICAgICAgIH0pLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PVVURi04J1xuICAgICAgICB9XG4gICAgICB9KS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICBjb25zdCBtZXRhID0gSlNPTi5wYXJzZShyZXNwb25zZS5yZXNwb25zZVRleHQpO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG1ldGEuaWQpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBJRCBvZiBhIGZpbGUuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIC0gRmlsZSBwYXRoXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSBSZXNvbHZlcyB3aXRoIHRoZSBJRFxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2dldEZpbGVJZCAocGF0aCkge1xuICAgIGxldCBpZDtcblxuICAgIGlmIChwYXRoID09PSAnLycpIHtcbiAgICAgIC8vIFwicm9vdFwiIGlzIGEgc3BlY2lhbCBhbGlhcyBmb3IgdGhlIGZpbGVJZCBvZiB0aGUgcm9vdCBmb2xkZXJcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoJ3Jvb3QnKTtcbiAgICB9IGVsc2UgaWYgKChpZCA9IHRoaXMuX2ZpbGVJZENhY2hlLmdldChwYXRoKSkpIHtcbiAgICAgIC8vIGlkIGlzIGNhY2hlZC5cbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoaWQpO1xuICAgIH1cbiAgICAvLyBpZCBpcyBub3QgY2FjaGVkIChvciBmaWxlIGRvZXNuJ3QgZXhpc3QpLlxuICAgIC8vIGxvYWQgcGFyZW50IGZvbGRlciBsaXN0aW5nIHRvIHByb3BhZ2F0ZSAvIHVwZGF0ZSBpZCBjYWNoZS5cbiAgICByZXR1cm4gdGhpcy5fZ2V0Rm9sZGVyKHBhcmVudFBhdGgocGF0aCkpLnRoZW4oKCkgPT4ge1xuICAgICAgaWQgPSB0aGlzLl9maWxlSWRDYWNoZS5nZXQocGF0aCk7XG4gICAgICBpZiAoIWlkKSB7XG4gICAgICAgIGlmIChwYXRoLnN1YnN0cigtMSkgPT09ICcvJykge1xuICAgICAgICAgIHJldHVybiB0aGlzLl9jcmVhdGVGb2xkZXIocGF0aCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZ2V0RmlsZUlkKHBhdGgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShpZCk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBtZXRhZGF0YSBmb3IgYSBnaXZlbiBmaWxlIElELlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgLSBGaWxlIElEXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSBSZXNvbHZlcyB3aXRoIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBtZXRhZGF0YVxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2dldE1ldGEgKGlkKSB7XG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoJ0dFVCcsIEJBU0VfVVJMICsgJy9kcml2ZS92Mi9maWxlcy8nICsgaWQsIHt9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoSlNPTi5wYXJzZShyZXNwb25zZS5yZXNwb25zZVRleHQpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcInJlcXVlc3QgKGdldHRpbmcgbWV0YWRhdGEgZm9yIFwiICsgaWQgKyBcIikgZmFpbGVkIHdpdGggc3RhdHVzOiBcIiArIHJlc3BvbnNlLnN0YXR1cyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogTWFrZSBhIG5ldHdvcmsgcmVxdWVzdC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZCAtIFJlcXVlc3QgbWV0aG9kXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBUYXJnZXQgVVJMXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gUmVxdWVzdCBvcHRpb25zXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSBSZXNvbHZlcyB3aXRoIHRoZSByZXNwb25zZSBvZiB0aGUgbmV0d29yayByZXF1ZXN0XG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfcmVxdWVzdCAobWV0aG9kLCB1cmwsIG9wdGlvbnMpIHtcbiAgICBpZiAoISBvcHRpb25zLmhlYWRlcnMpIHsgb3B0aW9ucy5oZWFkZXJzID0ge307IH1cbiAgICBvcHRpb25zLmhlYWRlcnNbJ0F1dGhvcml6YXRpb24nXSA9ICdCZWFyZXIgJyArIHRoaXMudG9rZW47XG5cbiAgICB0aGlzLnJzLl9lbWl0KCd3aXJlLWJ1c3knLCB7XG4gICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgIGlzRm9sZGVyOiBpc0ZvbGRlcih1cmwpXG4gICAgfSk7XG5cbiAgICByZXR1cm4gV2lyZUNsaWVudC5yZXF1ZXN0LmNhbGwodGhpcywgbWV0aG9kLCB1cmwsIG9wdGlvbnMpLnRoZW4oKHhocikgPT4ge1xuICAgICAgLy8gR29vZ2xlIHRva2VucyBleHBpcmUgZnJvbSB0aW1lIHRvIHRpbWUuLi5cbiAgICAgIGlmICh4aHIgJiYgeGhyLnN0YXR1cyA9PT0gNDAxKSB7XG4gICAgICAgIHRoaXMuY29ubmVjdCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIXRoaXMub25saW5lKSB7XG4gICAgICAgICAgdGhpcy5vbmxpbmUgPSB0cnVlO1xuICAgICAgICAgIHRoaXMucnMuX2VtaXQoJ25ldHdvcmstb25saW5lJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ycy5fZW1pdCgnd2lyZS1kb25lJywge1xuICAgICAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgICAgIGlzRm9sZGVyOiBpc0ZvbGRlcih1cmwpLFxuICAgICAgICAgIHN1Y2Nlc3M6IHRydWVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh4aHIpO1xuICAgICAgfVxuICAgIH0sIChlcnJvcikgPT4ge1xuICAgICAgaWYgKHRoaXMub25saW5lKSB7XG4gICAgICAgIHRoaXMub25saW5lID0gZmFsc2U7XG4gICAgICAgIHRoaXMucnMuX2VtaXQoJ25ldHdvcmstb2ZmbGluZScpO1xuICAgICAgfVxuICAgICAgdGhpcy5ycy5fZW1pdCgnd2lyZS1kb25lJywge1xuICAgICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgICAgaXNGb2xkZXI6IGlzRm9sZGVyKHVybCksXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlXG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplIHRoZSBHb29nbGUgRHJpdmUgYmFja2VuZC5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IHJlbW90ZVN0b3JhZ2UgLSBSZW1vdGVTdG9yYWdlIGluc3RhbmNlXG4gICAqXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIHN0YXRpYyBfcnNfaW5pdCAocmVtb3RlU3RvcmFnZSk6IHZvaWQge1xuICAgIGNvbnN0IGNvbmZpZyA9IHJlbW90ZVN0b3JhZ2UuYXBpS2V5cy5nb29nbGVkcml2ZTtcbiAgICBpZiAoY29uZmlnKSB7XG4gICAgICByZW1vdGVTdG9yYWdlLmdvb2dsZWRyaXZlID0gbmV3IEdvb2dsZURyaXZlKHJlbW90ZVN0b3JhZ2UsIGNvbmZpZy5jbGllbnRJZCk7XG4gICAgICBpZiAocmVtb3RlU3RvcmFnZS5iYWNrZW5kID09PSAnZ29vZ2xlZHJpdmUnKSB7XG4gICAgICAgIHJlbW90ZVN0b3JhZ2UuX29yaWdSZW1vdGUgPSByZW1vdGVTdG9yYWdlLnJlbW90ZTtcbiAgICAgICAgcmVtb3RlU3RvcmFnZS5yZW1vdGUgPSByZW1vdGVTdG9yYWdlLmdvb2dsZWRyaXZlO1xuXG4gICAgICAgIGhvb2tHZXRJdGVtVVJMKHJlbW90ZVN0b3JhZ2UpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBJbmZvcm0gYWJvdXQgdGhlIGF2YWlsYWJpbGl0eSBvZiB0aGUgR29vZ2xlIERyaXZlIGJhY2tlbmQuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBycyAtIFJlbW90ZVN0b3JhZ2UgaW5zdGFuY2VcbiAgICogQHJldHVybnMge0Jvb2xlYW59XG4gICAqXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIHN0YXRpYyBfcnNfc3VwcG9ydGVkICgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcblxuICAvKipcbiAgICogUmVtb3ZlIEdvb2dsZSBEcml2ZSBhcyBhIGJhY2tlbmQuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSByZW1vdGVTdG9yYWdlIC0gUmVtb3RlU3RvcmFnZSBpbnN0YW5jZVxuICAgKlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBzdGF0aWMgX3JzX2NsZWFudXAgKHJlbW90ZVN0b3JhZ2UpOiB2b2lkIHtcbiAgICByZW1vdGVTdG9yYWdlLnNldEJhY2tlbmQodW5kZWZpbmVkKTtcbiAgICBpZiAocmVtb3RlU3RvcmFnZS5fb3JpZ1JlbW90ZSkge1xuICAgICAgcmVtb3RlU3RvcmFnZS5yZW1vdGUgPSByZW1vdGVTdG9yYWdlLl9vcmlnUmVtb3RlO1xuICAgICAgZGVsZXRlIHJlbW90ZVN0b3JhZ2UuX29yaWdSZW1vdGU7XG4gICAgfVxuICAgIHVuSG9va0dldEl0ZW1VUkwocmVtb3RlU3RvcmFnZSk7XG4gIH07XG59XG5cbmludGVyZmFjZSBHb29nbGVEcml2ZSBleHRlbmRzIEV2ZW50SGFuZGxpbmcge307XG5hcHBseU1peGlucyhHb29nbGVEcml2ZSwgW0V2ZW50SGFuZGxpbmddKTtcblxuZXhwb3J0IGRlZmF1bHQgR29vZ2xlRHJpdmU7XG4iLCJpbXBvcnQgRXZlbnRIYW5kbGluZyBmcm9tICcuL2V2ZW50aGFuZGxpbmcnO1xuaW1wb3J0IFdpcmVDbGllbnQgZnJvbSAnLi93aXJlY2xpZW50JztcbmltcG9ydCBCYXNlQ2xpZW50IGZyb20gJy4vYmFzZWNsaWVudCc7XG5pbXBvcnQgUmV2aXNpb25DYWNoZSBmcm9tICcuL3JldmlzaW9uY2FjaGUnO1xuaW1wb3J0IFN5bmNFcnJvciBmcm9tICcuL3N5bmMtZXJyb3InO1xuaW1wb3J0IFVuYXV0aG9yaXplZEVycm9yIGZyb20gJy4vdW5hdXRob3JpemVkLWVycm9yJztcbmltcG9ydCB7XG4gIGFwcGx5TWl4aW5zLFxuICBjbGVhblBhdGgsXG4gIGlzRm9sZGVyLFxuICBzaG91bGRCZVRyZWF0ZWRBc0JpbmFyeSxcbiAgZ2V0SlNPTkZyb21Mb2NhbFN0b3JhZ2UsXG4gIGdldFRleHRGcm9tQXJyYXlCdWZmZXIsXG4gIGxvY2FsU3RvcmFnZUF2YWlsYWJsZVxufSBmcm9tICcuL3V0aWwnO1xuXG4vKipcbiAqIFdPUksgSU4gUFJPR1JFU1MsIE5PVCBSRUNPTU1FTkRFRCBGT1IgUFJPRFVDVElPTiBVU0VcbiAqXG4gKiBEcm9wYm94IGJhY2tlbmQgZm9yIFJlbW90ZVN0b3JhZ2UuanNcbiAqIFRoaXMgZmlsZSBleHBvc2VzIGEgZ2V0L3B1dC9kZWxldGUgaW50ZXJmYWNlIHdoaWNoIGlzIGNvbXBhdGlibGUgd2l0aFxuICogPFdpcmVDbGllbnQ+LlxuICpcbiAqIFdoZW4gcmVtb3RlU3RvcmFnZS5iYWNrZW5kIGlzIHNldCB0byAnZHJvcGJveCcsIHRoaXMgYmFja2VuZCB3aWxsXG4gKiBpbml0aWFsaXplIGFuZCByZXBsYWNlIHJlbW90ZVN0b3JhZ2UucmVtb3RlIHdpdGggcmVtb3RlU3RvcmFnZS5kcm9wYm94LlxuICpcbiAqIEluIG9yZGVyIHRvIGVuc3VyZSBjb21wYXRpYmlsaXR5IHdpdGggdGhlIHB1YmxpYyBmb2xkZXIsIDxCYXNlQ2xpZW50LmdldEl0ZW1VUkw+XG4gKiBnZXRzIGhpamFja2VkIHRvIHJldHVybiB0aGUgRHJvcGJveCBwdWJsaWMgc2hhcmUgVVJMLlxuICpcbiAqIFRvIHVzZSB0aGlzIGJhY2tlbmQsIHlvdSBuZWVkIHRvIHNwZWNpZnkgdGhlIERyb3Bib3ggYXBwIGtleSBsaWtlIHNvOlxuICpcbiAqIEBleGFtcGxlXG4gKiByZW1vdGVTdG9yYWdlLnNldEFwaUtleXMoe1xuICogICBkcm9wYm94OiAneW91ci1hcHAta2V5J1xuICogfSk7XG4gKlxuICogQW4gYXBwIGtleSBjYW4gYmUgb2J0YWluZWQgYnkgcmVnaXN0ZXJpbmcgeW91ciBhcHAgYXQgaHR0cHM6Ly93d3cuZHJvcGJveC5jb20vZGV2ZWxvcGVycy9hcHBzXG4gKlxuICogS25vd24gaXNzdWVzOlxuICpcbiAqICAgLSBTdG9yaW5nIGZpbGVzIGxhcmdlciB0aGFuIDE1ME1CIGlzIG5vdCB5ZXQgc3VwcG9ydGVkXG4gKiAgIC0gTGlzdGluZyBhbmQgZGVsZXRpbmcgZm9sZGVycyB3aXRoIG1vcmUgdGhhbiAxMCcwMDAgZmlsZXMgd2lsbCBjYXVzZSBwcm9ibGVtc1xuICogICAtIENvbnRlbnQtVHlwZSBpcyBub3QgZnVsbHkgc3VwcG9ydGVkIGR1ZSB0byBsaW1pdGF0aW9ucyBvZiB0aGUgRHJvcGJveCBBUElcbiAqICAgLSBEcm9wYm94IHByZXNlcnZlcyBjYXNlcyBidXQgaXMgbm90IGNhc2Utc2Vuc2l0aXZlXG4gKiAgIC0gZ2V0SXRlbVVSTCBpcyBhc3luY2hyb25vdXMgd2hpY2ggbWVhbnMgaXQgcmV0dXJucyB1c2VmdWwgdmFsdWVzXG4gKiAgICAgYWZ0ZXIgdGhlIHN5bmNDeWNsZVxuICovXG5cbmxldCBoYXNMb2NhbFN0b3JhZ2U7XG5jb25zdCBBVVRIX1VSTCA9ICdodHRwczovL3d3dy5kcm9wYm94LmNvbS9vYXV0aDIvYXV0aG9yaXplJztcbmNvbnN0IFNFVFRJTkdTX0tFWSA9ICdyZW1vdGVzdG9yYWdlOmRyb3Bib3gnO1xuY29uc3QgUEFUSF9QUkVGSVggPSAnL3JlbW90ZXN0b3JhZ2UnO1xuXG4vKipcbiAqIE1hcCBhIGxvY2FsIHBhdGggdG8gYSBwYXRoIGluIERyb3Bib3guXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHBhdGggLSBQYXRoXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBBY3R1YWwgcGF0aCBpbiBEcm9wYm94XG4gKlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gZ2V0RHJvcGJveFBhdGggKHBhdGg6IHN0cmluZyk6IHN0cmluZyB7XG4gIHJldHVybiBjbGVhblBhdGgoUEFUSF9QUkVGSVggKyAnLycgKyBwYXRoKS5yZXBsYWNlKC9cXC8kLywgJycpO1xufTtcblxuZnVuY3Rpb24gY29tcGFyZUFwaUVycm9yIChyZXNwb25zZSwgZXhwZWN0KSB7XG4gIHJldHVybiBuZXcgUmVnRXhwKCdeJyArIGV4cGVjdC5qb2luKCdcXFxcLycpICsgJyhcXFxcL3wkKScpLnRlc3QocmVzcG9uc2UuZXJyb3Jfc3VtbWFyeSk7XG59O1xuXG5mdW5jdGlvbiBpc0JpbmFyeURhdGEgKGRhdGEpIHtcbiAgcmV0dXJuIGRhdGEgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlciB8fCBXaXJlQ2xpZW50LmlzQXJyYXlCdWZmZXJWaWV3KGRhdGEpO1xufTtcblxuLyoqXG4gKiBAY2xhc3NcbiAqL1xuY2xhc3MgRHJvcGJveCB7XG4gIHJzOiBhbnk7XG4gIGNvbm5lY3RlZDogYm9vbGVhbjtcbiAgb25saW5lOiBib29sZWFuO1xuICBjbGllbnRJZDogc3RyaW5nO1xuICB0b2tlbjogc3RyaW5nO1xuICB1c2VyQWRkcmVzczogc3RyaW5nO1xuXG4gIF9pbml0aWFsRmV0Y2hEb25lOiBib29sZWFuO1xuICBfcmV2Q2FjaGU6IFJldmlzaW9uQ2FjaGU7XG4gIF9mZXRjaERlbHRhQ3Vyc29yOiBhbnk7XG4gIF9mZXRjaERlbHRhUHJvbWlzZTogYW55O1xuICBfaXRlbVJlZnM6IGFueTtcblxuICAvLyBUT0RPIHJlbW92ZSB3aGVuIHJlZmFjdG9yaW5nIGV2ZW50aGFuZGxpbmdcbiAgX2VtaXQ6IGFueTtcblxuICBjb25zdHJ1Y3RvciAocnMpIHtcbiAgICB0aGlzLnJzID0gcnM7XG4gICAgdGhpcy5jb25uZWN0ZWQgPSBmYWxzZTtcbiAgICB0aGlzLm9ubGluZSA9IHRydWU7IC8vIFRPRE8gaW1wbGVtZW50IG9mZmxpbmUgZGV0ZWN0aW9uIG9uIGZhaWxlZCByZXF1ZXN0XG4gICAgdGhpcy5faW5pdGlhbEZldGNoRG9uZSA9IGZhbHNlO1xuXG4gICAgdGhpcy5hZGRFdmVudHMoWydjb25uZWN0ZWQnLCAnbm90LWNvbm5lY3RlZCddKTtcblxuICAgIHRoaXMuY2xpZW50SWQgPSBycy5hcGlLZXlzLmRyb3Bib3guYXBwS2V5O1xuICAgIHRoaXMuX3JldkNhY2hlID0gbmV3IFJldmlzaW9uQ2FjaGUoJ3JldicpO1xuICAgIHRoaXMuX2ZldGNoRGVsdGFDdXJzb3IgPSBudWxsO1xuICAgIHRoaXMuX2ZldGNoRGVsdGFQcm9taXNlID0gbnVsbDtcbiAgICB0aGlzLl9pdGVtUmVmcyA9IHt9O1xuXG4gICAgaGFzTG9jYWxTdG9yYWdlID0gbG9jYWxTdG9yYWdlQXZhaWxhYmxlKCk7XG5cbiAgICBpZiAoaGFzTG9jYWxTdG9yYWdlKXtcbiAgICAgIGNvbnN0IHNldHRpbmdzID0gZ2V0SlNPTkZyb21Mb2NhbFN0b3JhZ2UoU0VUVElOR1NfS0VZKTtcbiAgICAgIGlmIChzZXR0aW5ncykge1xuICAgICAgICB0aGlzLmNvbmZpZ3VyZShzZXR0aW5ncyk7XG4gICAgICB9XG4gICAgICB0aGlzLl9pdGVtUmVmcyA9IGdldEpTT05Gcm9tTG9jYWxTdG9yYWdlKGAke1NFVFRJTkdTX0tFWX06c2hhcmVzYCkgfHwge307XG4gICAgfVxuICAgIGlmICh0aGlzLmNvbm5lY3RlZCkge1xuICAgICAgc2V0VGltZW91dCh0aGlzLl9lbWl0LmJpbmQodGhpcyksIDAsICdjb25uZWN0ZWQnKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBiYWNrZWQgdG8gJ2Ryb3Bib3gnIGFuZCBzdGFydCB0aGUgYXV0aGVudGljYXRpb24gZmxvdyBpbiBvcmRlclxuICAgKiB0byBvYnRhaW4gYW4gQVBJIHRva2VuIGZyb20gRHJvcGJveC5cbiAgICovXG4gIGNvbm5lY3QgKCkge1xuICAgIC8vIFRPRE8gaGFuZGxpbmcgd2hlbiB0b2tlbiBpcyBhbHJlYWR5IHByZXNlbnRcbiAgICB0aGlzLnJzLnNldEJhY2tlbmQoJ2Ryb3Bib3gnKTtcbiAgICBpZiAodGhpcy50b2tlbil7XG4gICAgICBob29rSXQodGhpcy5ycyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucnMuYXV0aG9yaXplKHsgYXV0aFVSTDogQVVUSF9VUkwsIHNjb3BlOiAnJywgY2xpZW50SWQ6IHRoaXMuY2xpZW50SWQgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGNvbm5lY3RlZCBmbGFnXG4gICAqIEFjY2VwdHMgaXRzIHBhcmFtZXRlcnMgYWNjb3JkaW5nIHRvIHRoZSA8V2lyZUNsaWVudD4uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBzZXR0aW5nc1xuICAgKiBAcGFyYW0ge3N0cmluZ30gW3NldHRpbmdzLnVzZXJBZGRyZXNzXSAtIFRoZSB1c2VyJ3MgZW1haWwgYWRkcmVzc1xuICAgKiBAcGFyYW0ge3N0cmluZ30gW3NldHRpbmdzLnRva2VuXSAtIEF1dGhvcml6YXRpb24gdG9rZW5cbiAgICpcbiAgICogQHByb3RlY3RlZFxuICAgKiovXG4gIGNvbmZpZ3VyZSAoc2V0dGluZ3MpIHtcbiAgICAvLyBXZSBvbmx5IHVwZGF0ZSB0aGlzLnVzZXJBZGRyZXNzIGlmIHNldHRpbmdzLnVzZXJBZGRyZXNzIGlzIHNldCB0byBhIHN0cmluZyBvciB0byBudWxsOlxuICAgIGlmICh0eXBlb2Ygc2V0dGluZ3MudXNlckFkZHJlc3MgIT09ICd1bmRlZmluZWQnKSB7IHRoaXMudXNlckFkZHJlc3MgPSBzZXR0aW5ncy51c2VyQWRkcmVzczsgfVxuICAgIC8vIFNhbWUgZm9yIHRoaXMudG9rZW4uIElmIG9ubHkgb25lIG9mIHRoZXNlIHR3byBpcyBzZXQsIHdlIGxlYXZlIHRoZSBvdGhlciBvbmUgYXQgaXRzIGV4aXN0aW5nIHZhbHVlOlxuICAgIGlmICh0eXBlb2Ygc2V0dGluZ3MudG9rZW4gIT09ICd1bmRlZmluZWQnKSB7IHRoaXMudG9rZW4gPSBzZXR0aW5ncy50b2tlbjsgfVxuXG4gICAgY29uc3Qgd3JpdGVTZXR0aW5nc1RvQ2FjaGUgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmIChoYXNMb2NhbFN0b3JhZ2UpIHtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oU0VUVElOR1NfS0VZLCBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgdXNlckFkZHJlc3M6IHRoaXMudXNlckFkZHJlc3MsXG4gICAgICAgICAgdG9rZW46IHRoaXMudG9rZW5cbiAgICAgICAgfSkpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVFcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5jb25uZWN0ZWQgPSBmYWxzZTtcbiAgICAgIGlmIChoYXNMb2NhbFN0b3JhZ2UpIHtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oU0VUVElOR1NfS0VZKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaWYgKHRoaXMudG9rZW4pIHtcbiAgICAgIHRoaXMuY29ubmVjdGVkID0gdHJ1ZTtcbiAgICAgIGlmICh0aGlzLnVzZXJBZGRyZXNzKSB7XG4gICAgICAgIHRoaXMuX2VtaXQoJ2Nvbm5lY3RlZCcpO1xuICAgICAgICB3cml0ZVNldHRpbmdzVG9DYWNoZS5hcHBseSh0aGlzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuaW5mbygpLnRoZW4oZnVuY3Rpb24gKGluZm8pe1xuICAgICAgICAgIHRoaXMudXNlckFkZHJlc3MgPSBpbmZvLmVtYWlsO1xuICAgICAgICAgIHRoaXMuX2VtaXQoJ2Nvbm5lY3RlZCcpO1xuICAgICAgICAgIHdyaXRlU2V0dGluZ3NUb0NhY2hlLmFwcGx5KHRoaXMpO1xuICAgICAgICB9LmJpbmQodGhpcykpLmNhdGNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGhhbmRsZUVycm9yLmFwcGx5KHRoaXMpO1xuICAgICAgICAgIHRoaXMucnMuX2VtaXQoJ2Vycm9yJywgbmV3IEVycm9yKCdDb3VsZCBub3QgZmV0Y2ggdXNlciBpbmZvLicpKTtcbiAgICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaGFuZGxlRXJyb3IuYXBwbHkodGhpcyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFN0b3Agd2FpdGluZyBmb3IgdGhlIHRva2VuIGFuZCBlbWl0IG5vdC1jb25uZWN0ZWRcbiAgICpcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgc3RvcFdhaXRpbmdGb3JUb2tlbiAoKSB7XG4gICAgaWYgKCF0aGlzLmNvbm5lY3RlZCkge1xuICAgICAgdGhpcy5fZW1pdCgnbm90LWNvbm5lY3RlZCcpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYWxsIGl0ZW1zIGluIGEgZm9sZGVyLlxuICAgKlxuICAgKiBAcGFyYW0gcGF0aCB7c3RyaW5nfSAtIHBhdGggb2YgdGhlIGZvbGRlciB0byBnZXQsIHdpdGggbGVhZGluZyBzbGFzaFxuICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAqICAgICAgICAgc3RhdHVzQ29kZSAtIEhUVFAgc3RhdHVzIGNvZGVcbiAgICogICAgICAgICBib2R5IC0gYXJyYXkgb2YgdGhlIGl0ZW1zIGZvdW5kXG4gICAqICAgICAgICAgY29udGVudFR5cGUgLSAnYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD1VVEYtOCdcbiAgICogICAgICAgICByZXZpc2lvbiAtIHJldmlzaW9uIG9mIHRoZSBmb2xkZXJcbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9nZXRGb2xkZXIgKHBhdGgpIHtcbiAgICBjb25zdCB1cmwgPSAnaHR0cHM6Ly9hcGkuZHJvcGJveGFwaS5jb20vMi9maWxlcy9saXN0X2ZvbGRlcic7XG4gICAgY29uc3QgcmV2Q2FjaGUgPSB0aGlzLl9yZXZDYWNoZTtcblxuICAgIGNvbnN0IHByb2Nlc3NSZXNwb25zZSA9IChyZXNwKSA9PiB7XG4gICAgICBsZXQgYm9keTtcblxuICAgICAgaWYgKHJlc3Auc3RhdHVzICE9PSAyMDAgJiYgcmVzcC5zdGF0dXMgIT09IDQwOSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoJ1VuZXhwZWN0ZWQgcmVzcG9uc2Ugc3RhdHVzOiAnICsgcmVzcC5zdGF0dXMpO1xuICAgICAgfVxuXG4gICAgICB0cnkge1xuICAgICAgICBib2R5ID0gSlNPTi5wYXJzZShyZXNwLnJlc3BvbnNlVGV4dCk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHJlc3Auc3RhdHVzID09PSA0MDkpIHtcbiAgICAgICAgaWYgKGNvbXBhcmVBcGlFcnJvcihib2R5LCBbJ3BhdGgnLCAnbm90X2ZvdW5kJ10pKSB7XG4gICAgICAgICAgLy8gaWYgdGhlIGZvbGRlciBpcyBub3QgZm91bmQsIGhhbmRsZSBpdCBhcyBhbiBlbXB0eSBmb2xkZXJcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHt9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ0FQSSByZXR1cm5lZCBhbiBlcnJvcjogJyArIGJvZHkuZXJyb3Jfc3VtbWFyeSkpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBsaXN0aW5nID0gYm9keS5lbnRyaWVzLnJlZHVjZSgobWFwLCBpdGVtKSA9PiB7XG4gICAgICAgIGNvbnN0IGlzRGlyID0gaXRlbVsnLnRhZyddID09PSAnZm9sZGVyJztcbiAgICAgICAgY29uc3QgaXRlbU5hbWUgPSBpdGVtLnBhdGhfbG93ZXIuc3BsaXQoJy8nKS5zbGljZSgtMSlbMF0gKyAoaXNEaXIgPyAnLycgOiAnJyk7XG4gICAgICAgIGlmIChpc0Rpcil7XG4gICAgICAgICAgbWFwW2l0ZW1OYW1lXSA9IHsgRVRhZzogcmV2Q2FjaGUuZ2V0KHBhdGgraXRlbU5hbWUpIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbWFwW2l0ZW1OYW1lXSA9IHsgRVRhZzogaXRlbS5yZXYgfTtcbiAgICAgICAgICB0aGlzLl9yZXZDYWNoZS5zZXQocGF0aCtpdGVtTmFtZSwgaXRlbS5yZXYpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXA7XG4gICAgICB9LCB7fSk7XG5cbiAgICAgIGlmIChib2R5Lmhhc19tb3JlKSB7XG4gICAgICAgIHJldHVybiBsb2FkTmV4dChib2R5LmN1cnNvcikudGhlbihmdW5jdGlvbiAobmV4dExpc3RpbmcpIHtcbiAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihsaXN0aW5nLCBuZXh0TGlzdGluZyk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGxpc3RpbmcpO1xuICAgIH07XG5cbiAgICBjb25zdCBsb2FkTmV4dCA9IChjdXJzb3IpID0+IHtcbiAgICAgIGNvbnN0IGNvbnRpbnVlVVJMID0gJ2h0dHBzOi8vYXBpLmRyb3Bib3hhcGkuY29tLzIvZmlsZXMvbGlzdF9mb2xkZXIvY29udGludWUnO1xuICAgICAgY29uc3QgcGFyYW1zID0ge1xuICAgICAgICBib2R5OiB7IGN1cnNvcjogY3Vyc29yIH1cbiAgICAgIH07XG5cbiAgICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KCdQT1NUJywgY29udGludWVVUkwsIHBhcmFtcykudGhlbihwcm9jZXNzUmVzcG9uc2UpO1xuICAgIH07XG5cbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdCgnUE9TVCcsIHVybCwge1xuICAgICAgYm9keToge1xuICAgICAgICBwYXRoOiBnZXREcm9wYm94UGF0aChwYXRoKVxuICAgICAgfVxuICAgIH0pLnRoZW4ocHJvY2Vzc1Jlc3BvbnNlKS50aGVuKGZ1bmN0aW9uIChsaXN0aW5nKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgc3RhdHVzQ29kZTogMjAwLFxuICAgICAgICBib2R5OiBsaXN0aW5nLFxuICAgICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9VVRGLTgnLFxuICAgICAgICByZXZpc2lvbjogcmV2Q2FjaGUuZ2V0KHBhdGgpXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgZm9yIHRoZSBwYXRoIGluIGBgX3JldkNhY2hlYGAgYW5kIGRlY2lkZXMgYmFzZWQgb24gdGhhdCBpZiBmaWxlXG4gICAqIGhhcyBjaGFuZ2VkLiBDYWxscyBgYF9nZXRGb2xkZXJgYCBpcyB0aGUgcGF0aCBwb2ludHMgdG8gYSBmb2xkZXIuXG4gICAqXG4gICAqIENhbGxzIGBgRHJvcGJveC5zaGFyZWBgIGFmdGVyd2FyZHMgdG8gZmlsbCBgYF9pdGVtUmVmc2BgLlxuICAgKlxuICAgKiBDb21wYXRpYmxlIHdpdGggYGBXaXJlQ2xpZW50LmdldGBgXG4gICAqXG4gICAqIEBwYXJhbSBwYXRoIHtzdHJpbmd9IC0gcGF0aCBvZiB0aGUgZm9sZGVyIHRvIGdldCwgd2l0aCBsZWFkaW5nIHNsYXNoXG4gICAqIEBwYXJhbSBvcHRpb25zIHtPYmplY3R9XG4gICAqXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIGdldCAocGF0aCwgb3B0aW9ucykge1xuICAgIGlmICghIHRoaXMuY29ubmVjdGVkKSB7IHJldHVybiBQcm9taXNlLnJlamVjdChcIm5vdCBjb25uZWN0ZWQgKHBhdGg6IFwiICsgcGF0aCArIFwiKVwiKTsgfVxuICAgIGNvbnN0IHVybCA9ICdodHRwczovL2NvbnRlbnQuZHJvcGJveGFwaS5jb20vMi9maWxlcy9kb3dubG9hZCc7XG5cbiAgICBjb25zdCBzYXZlZFJldiA9IHRoaXMuX3JldkNhY2hlLmdldChwYXRoKTtcbiAgICBpZiAoc2F2ZWRSZXYgPT09IG51bGwpIHtcbiAgICAgIC8vIGZpbGUgd2FzIGRlbGV0ZWQgc2VydmVyIHNpZGVcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe3N0YXR1c0NvZGU6IDQwNH0pO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmlmTm9uZU1hdGNoKSB7XG4gICAgICAvLyBXZSBtdXN0IHdhaXQgZm9yIGxvY2FsIHJldmlzaW9uIGNhY2hlIHRvIGJlIGluaXRpYWxpemVkIGJlZm9yZVxuICAgICAgLy8gY2hlY2tpbmcgaWYgbG9jYWwgcmV2aXNpb24gaXMgb3V0ZGF0ZWRcbiAgICAgIGlmICghIHRoaXMuX2luaXRpYWxGZXRjaERvbmUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmV0Y2hEZWx0YSgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIHJldHVybiB0aGlzLmdldChwYXRoLCBvcHRpb25zKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChzYXZlZFJldiAmJiAoc2F2ZWRSZXYgPT09IG9wdGlvbnMuaWZOb25lTWF0Y2gpKSB7XG4gICAgICAgIC8vIG5vdGhpbmcgY2hhbmdlZC5cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7c3RhdHVzQ29kZTogMzA0fSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gdXNlIF9nZXRGb2xkZXIgZm9yIGZvbGRlcnNcbiAgICBpZiAocGF0aC5zdWJzdHIoLTEpID09PSAnLycpIHtcbiAgICAgIHJldHVybiB0aGlzLl9nZXRGb2xkZXIocGF0aCk7XG4gICAgfVxuXG4gICAgY29uc3QgcGFyYW1zID0ge1xuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnRHJvcGJveC1BUEktQXJnJzogSlNPTi5zdHJpbmdpZnkoe3BhdGg6IGdldERyb3Bib3hQYXRoKHBhdGgpfSksXG4gICAgICB9LFxuICAgICAgcmVzcG9uc2VUeXBlOiAnYXJyYXlidWZmZXInXG4gICAgfTtcbiAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmlmTm9uZU1hdGNoKSB7XG4gICAgICBwYXJhbXMuaGVhZGVyc1snSWYtTm9uZS1NYXRjaCddID0gb3B0aW9ucy5pZk5vbmVNYXRjaDtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdCgnR0VUJywgdXJsLCBwYXJhbXMpLnRoZW4ocmVzcCA9PiB7XG4gICAgICBjb25zdCBzdGF0dXMgPSByZXNwLnN0YXR1cztcbiAgICAgIGxldCBtZXRhLCBib2R5LCBtaW1lLCByZXY7XG4gICAgICBpZiAoc3RhdHVzICE9PSAyMDAgJiYgc3RhdHVzICE9PSA0MDkpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7c3RhdHVzQ29kZTogc3RhdHVzfSk7XG4gICAgICB9XG4gICAgICBtZXRhID0gcmVzcC5nZXRSZXNwb25zZUhlYWRlcignRHJvcGJveC1BUEktUmVzdWx0Jyk7XG4gICAgICAvL2ZpcnN0IGVuY29kZSB0aGUgcmVzcG9uc2UgYXMgdGV4dCwgYW5kIGxhdGVyIGNoZWNrIGlmIFxuICAgICAgLy90ZXh0IGFwcGVhcnMgdG8gYWN0dWFsbHkgYmUgYmluYXJ5IGRhdGFcbiAgICAgIHJldHVybiBnZXRUZXh0RnJvbUFycmF5QnVmZmVyKHJlc3AucmVzcG9uc2UsICdVVEYtOCcpLnRoZW4ocmVzcG9uc2VUZXh0ID0+IHtcbiAgICAgICAgYm9keSA9IHJlc3BvbnNlVGV4dDtcbiAgICAgICAgaWYgKHN0YXR1cyA9PT0gNDA5KSB7XG4gICAgICAgICAgbWV0YSA9IGJvZHk7XG4gICAgICAgIH1cblxuICAgICAgICB0cnkge1xuICAgICAgICAgIG1ldGEgPSBKU09OLnBhcnNlKG1ldGEpO1xuICAgICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3RhdHVzID09PSA0MDkpIHtcbiAgICAgICAgICBpZiAoY29tcGFyZUFwaUVycm9yKG1ldGEsIFsncGF0aCcsICdub3RfZm91bmQnXSkpIHtcbiAgICAgICAgICAgIHJldHVybiB7c3RhdHVzQ29kZTogNDA0fTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignQVBJIGVycm9yIHdoaWxlIGRvd25sb2FkaW5nIGZpbGUgKFwiJyArIHBhdGggKyAnXCIpOiAnICsgbWV0YS5lcnJvcl9zdW1tYXJ5KSk7XG4gICAgICAgIH1cblxuICAgICAgICBtaW1lID0gcmVzcC5nZXRSZXNwb25zZUhlYWRlcignQ29udGVudC1UeXBlJyk7XG4gICAgICAgIHJldiA9IG1ldGEucmV2O1xuICAgICAgICB0aGlzLl9yZXZDYWNoZS5zZXQocGF0aCwgcmV2KTtcbiAgICAgICAgdGhpcy5fc2hhcmVJZk5lZWRlZChwYXRoKTtcblxuICAgICAgICBpZiAoc2hvdWxkQmVUcmVhdGVkQXNCaW5hcnkocmVzcG9uc2VUZXh0LCBtaW1lKSkge1xuICAgICAgICAgIC8vIHJldHVybiB1bnByb2Nlc3NlZCByZXNwb25zZVxuICAgICAgICAgIGJvZHkgPSByZXNwLnJlc3BvbnNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIGhhbmRsaW5nIGpzb24gKGFsd2F5cyB0cnkpXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGJvZHkgPSBKU09OLnBhcnNlKGJvZHkpO1xuICAgICAgICAgICAgbWltZSA9ICdhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PVVURi04JztcbiAgICAgICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgICAgIC8vRmFpbGVkIHBhcnNpbmcgSnNvbiwgYXNzdW1lIGl0IGlzIHNvbWV0aGluZyBlbHNlIHRoZW5cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHN0YXR1c0NvZGU6IHN0YXR1cyxcbiAgICAgICAgICBib2R5OiBib2R5LFxuICAgICAgICAgIGNvbnRlbnRUeXBlOiBtaW1lLFxuICAgICAgICAgIHJldmlzaW9uOiByZXZcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBmb3IgdGhlIHBhdGggaW4gYGBfcmV2Q2FjaGVgYCBhbmQgZGVjaWRlcyBiYXNlZCBvbiB0aGF0IGlmIGZpbGVcbiAgICogaGFzIGNoYW5nZWQuXG4gICAqXG4gICAqIENvbXBhdGlibGUgd2l0aCBgYFdpcmVDbGllbnRgYFxuICAgKlxuICAgKiBDYWxscyBgYERyb3Bib3guc2hhcmVgYCBhZnRlcndhcmRzIHRvIGZpbGwgYGBfaXRlbVJlZnNgYC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggLSBwYXRoIG9mIHRoZSBmb2xkZXIgdG8gcHV0LCB3aXRoIGxlYWRpbmcgc2xhc2hcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMuaWZOb25lTWF0Y2ggLSBPbmx5IGNyZWF0ZSBvZiB1cGRhdGUgdGhlIGZpbGUgaWYgdGhlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudCBFVGFnIGRvZXNuJ3QgbWF0Y2ggdGhpcyBzdHJpbmdcbiAgICogQHJldHVybnMge1Byb21pc2V9IFJlc29sdmVzIHdpdGggYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIHN0YXR1cyBjb2RlLFxuICAgKiAgICAgICAgICAgICAgICAgICAgY29udGVudC10eXBlIGFuZCByZXZpc2lvblxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBwdXQgKHBhdGgsIGJvZHksIGNvbnRlbnRUeXBlLCBvcHRpb25zKSB7XG4gICAgaWYgKCF0aGlzLmNvbm5lY3RlZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm90IGNvbm5lY3RlZCAocGF0aDogXCIgKyBwYXRoICsgXCIpXCIpO1xuICAgIH1cblxuICAgIC8vIGNoZWNrIGlmIGZpbGUgaGFzIGNoYW5nZWQgYW5kIHJldHVybiA0MTJcbiAgICBjb25zdCBzYXZlZFJldiA9IHRoaXMuX3JldkNhY2hlLmdldChwYXRoKTtcbiAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmlmTWF0Y2ggJiZcbiAgICAgICAgc2F2ZWRSZXYgJiYgKHNhdmVkUmV2ICE9PSBvcHRpb25zLmlmTWF0Y2gpKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtzdGF0dXNDb2RlOiA0MTIsIHJldmlzaW9uOiBzYXZlZFJldn0pO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucyAmJiAob3B0aW9ucy5pZk5vbmVNYXRjaCA9PT0gJyonKSAmJlxuICAgICAgICBzYXZlZFJldiAmJiAoc2F2ZWRSZXYgIT09ICdyZXYnKSkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7c3RhdHVzQ29kZTogNDEyLCByZXZpc2lvbjogc2F2ZWRSZXZ9KTtcbiAgICB9XG5cbiAgICBpZiAoKCFjb250ZW50VHlwZS5tYXRjaCgvY2hhcnNldD0vKSkgJiYgaXNCaW5hcnlEYXRhKGJvZHkpKSB7XG4gICAgICBjb250ZW50VHlwZSArPSAnOyBjaGFyc2V0PWJpbmFyeSc7XG4gICAgfVxuXG4gICAgaWYgKGJvZHkubGVuZ3RoID4gMTUwICogMTAyNCAqIDEwMjQpIHtcbiAgICAgIC8vaHR0cHM6Ly93d3cuZHJvcGJveC5jb20vZGV2ZWxvcGVycy9jb3JlL2RvY3MjY2h1bmtlZC11cGxvYWRcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJDYW5ub3QgdXBsb2FkIGZpbGUgbGFyZ2VyIHRoYW4gMTUwTUJcIikpO1xuICAgIH1cblxuICAgIGxldCByZXN1bHQ7XG4gICAgY29uc3QgbmVlZHNNZXRhZGF0YSA9IG9wdGlvbnMgJiYgKG9wdGlvbnMuaWZNYXRjaCB8fCAob3B0aW9ucy5pZk5vbmVNYXRjaCA9PT0gJyonKSk7XG4gICAgY29uc3QgdXBsb2FkUGFyYW1zID0ge1xuICAgICAgYm9keTogYm9keSxcbiAgICAgIGNvbnRlbnRUeXBlOiBjb250ZW50VHlwZSxcbiAgICAgIHBhdGg6IHBhdGhcbiAgICB9O1xuXG4gICAgaWYgKG5lZWRzTWV0YWRhdGEpIHtcbiAgICAgIHJlc3VsdCA9IHRoaXMuX2dldE1ldGFkYXRhKHBhdGgpLnRoZW4obWV0YWRhdGEgPT4ge1xuICAgICAgICBpZiAob3B0aW9ucyAmJiAob3B0aW9ucy5pZk5vbmVNYXRjaCA9PT0gJyonKSAmJiBtZXRhZGF0YSkge1xuICAgICAgICAgIC8vIGlmICEhbWV0YWRhdGEgPT09IHRydWUsIHRoZSBmaWxlIGV4aXN0c1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgICAgc3RhdHVzQ29kZTogNDEyLFxuICAgICAgICAgICAgcmV2aXNpb246IG1ldGFkYXRhLnJldlxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5pZk1hdGNoICYmIG1ldGFkYXRhICYmIChtZXRhZGF0YS5yZXYgIT09IG9wdGlvbnMuaWZNYXRjaCkpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICAgIHN0YXR1c0NvZGU6IDQxMixcbiAgICAgICAgICAgIHJldmlzaW9uOiBtZXRhZGF0YS5yZXZcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLl91cGxvYWRTaW1wbGUodXBsb2FkUGFyYW1zKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQgPSB0aGlzLl91cGxvYWRTaW1wbGUodXBsb2FkUGFyYW1zKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0LnRoZW4ocmVzID0+IHtcbiAgICAgIHRoaXMuX3NoYXJlSWZOZWVkZWQocGF0aCk7XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBmb3IgdGhlIHBhdGggaW4gYGBfcmV2Q2FjaGVgYCBhbmQgZGVjaWRlcyBiYXNlZCBvbiB0aGF0IGlmIGZpbGVcbiAgICogaGFzIGNoYW5nZWQuXG4gICAqXG4gICAqIENvbXBhdGlibGUgd2l0aCBgYFdpcmVDbGllbnQuZGVsZXRlYGBcbiAgICpcbiAgICogQ2FsbHMgYGBEcm9wYm94LnNoYXJlYGAgYWZ0ZXJ3YXJkcyB0byBmaWxsIGBgX2l0ZW1SZWZzYGAuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIC0gcGF0aCBvZiB0aGUgZm9sZGVyIHRvIGRlbGV0ZSwgd2l0aCBsZWFkaW5nIHNsYXNoXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gICdkZWxldGUnIChwYXRoLCBvcHRpb25zKSB7XG4gICAgaWYgKCF0aGlzLmNvbm5lY3RlZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm90IGNvbm5lY3RlZCAocGF0aDogXCIgKyBwYXRoICsgXCIpXCIpO1xuICAgIH1cblxuICAgIC8vIGNoZWNrIGlmIGZpbGUgaGFzIGNoYW5nZWQgYW5kIHJldHVybiA0MTJcbiAgICBjb25zdCBzYXZlZFJldiA9IHRoaXMuX3JldkNhY2hlLmdldChwYXRoKTtcbiAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmlmTWF0Y2ggJiYgc2F2ZWRSZXYgJiYgKG9wdGlvbnMuaWZNYXRjaCAhPT0gc2F2ZWRSZXYpKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHsgc3RhdHVzQ29kZTogNDEyLCByZXZpc2lvbjogc2F2ZWRSZXYgfSk7XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5pZk1hdGNoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fZ2V0TWV0YWRhdGEocGF0aCkudGhlbigobWV0YWRhdGEpID0+IHtcbiAgICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5pZk1hdGNoICYmIG1ldGFkYXRhICYmIChtZXRhZGF0YS5yZXYgIT09IG9wdGlvbnMuaWZNYXRjaCkpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICAgIHN0YXR1c0NvZGU6IDQxMixcbiAgICAgICAgICAgIHJldmlzaW9uOiBtZXRhZGF0YS5yZXZcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLl9kZWxldGVTaW1wbGUocGF0aCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5fZGVsZXRlU2ltcGxlKHBhdGgpO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxzIHNoYXJlLCBpZiB0aGUgcHJvdmlkZWQgcGF0aCByZXNpZGVzIGluIGEgcHVibGljIGZvbGRlci5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9zaGFyZUlmTmVlZGVkIChwYXRoKSB7XG4gICAgaWYgKHBhdGgubWF0Y2goL15cXC9wdWJsaWNcXC8uKlteL10kLykgJiYgdGhpcy5faXRlbVJlZnNbcGF0aF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5zaGFyZShwYXRoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0cyBhIHB1YmxpY2x5LWFjY2Vzc2libGUgVVJMIGZvciB0aGUgcGF0aCBmcm9tIERyb3Bib3ggYW5kIHN0b3JlcyBpdFxuICAgKiBpbiBgYF9pdGVtUmVmc2BgLlxuICAgKlxuICAgKiBAcmV0dXJuIHtQcm9taXNlfSBhIHByb21pc2UgZm9yIHRoZSBVUkxcbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHNoYXJlIChwYXRoKSB7XG4gICAgY29uc3QgdXJsID0gJ2h0dHBzOi8vYXBpLmRyb3Bib3hhcGkuY29tLzIvc2hhcmluZy9jcmVhdGVfc2hhcmVkX2xpbmtfd2l0aF9zZXR0aW5ncyc7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgIGJvZHk6IHtwYXRoOiBnZXREcm9wYm94UGF0aChwYXRoKX1cbiAgICB9O1xuXG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoJ1BPU1QnLCB1cmwsIG9wdGlvbnMpLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzICE9PSAyMDAgJiYgcmVzcG9uc2Uuc3RhdHVzICE9PSA0MDkpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignSW52YWxpZCByZXNwb25zZSBzdGF0dXM6JyArIHJlc3BvbnNlLnN0YXR1cykpO1xuICAgICAgfVxuXG4gICAgICBsZXQgYm9keTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgYm9keSA9IEpTT04ucGFyc2UocmVzcG9uc2UucmVzcG9uc2VUZXh0KTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignSW52YWxpZCByZXNwb25zZSBib2R5OiAnICsgcmVzcG9uc2UucmVzcG9uc2VUZXh0KSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwOSkge1xuICAgICAgICBpZiAoY29tcGFyZUFwaUVycm9yKGJvZHksIFsnc2hhcmVkX2xpbmtfYWxyZWFkeV9leGlzdHMnXSkpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5fZ2V0U2hhcmVkTGluayhwYXRoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ0FQSSBlcnJvcjogJyArIGJvZHkuZXJyb3Jfc3VtbWFyeSkpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGJvZHkudXJsKTtcbiAgICB9KS50aGVuKChsaW5rKSA9PiB7XG4gICAgICB0aGlzLl9pdGVtUmVmc1twYXRoXSA9IGxpbms7XG5cbiAgICAgIGlmIChoYXNMb2NhbFN0b3JhZ2UpIHtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oU0VUVElOR1NfS0VZKyc6c2hhcmVzJywgSlNPTi5zdHJpbmdpZnkodGhpcy5faXRlbVJlZnMpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShsaW5rKTtcbiAgICB9LCAoZXJyb3IpID0+IHtcbiAgICAgIGVycm9yLm1lc3NhZ2UgPSAnU2hhcmluZyBEcm9wYm94IGZpbGUgb3IgZm9sZGVyIChcIicgKyBwYXRoICsgJ1wiKSBmYWlsZWQ6ICcgKyBlcnJvci5tZXNzYWdlO1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGZXRjaGVzIHRoZSB1c2VyJ3MgaW5mbyBmcm9tIGRyb3Bib3ggYW5kIHJldHVybnMgYSBwcm9taXNlIGZvciBpdC5cbiAgICpcbiAgICogQHJldHVybiB7UHJvbWlzZX0gYSBwcm9taXNlIGZvciB1c2VyIGluZm8gb2JqZWN0IChlbWFpbCAtIHRoZSB1c2VyJ3MgZW1haWwgYWRkcmVzcylcbiAgICpcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgaW5mbyAoKSB7XG4gICAgY29uc3QgdXJsID0gJ2h0dHBzOi8vYXBpLmRyb3Bib3hhcGkuY29tLzIvdXNlcnMvZ2V0X2N1cnJlbnRfYWNjb3VudCc7XG5cbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdCgnUE9TVCcsIHVybCwge30pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICBsZXQgaW5mbyA9IHJlc3BvbnNlLnJlc3BvbnNlVGV4dDtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgaW5mbyA9IEpTT04ucGFyc2UoaW5mbyk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ0NvdWxkIG5vdCBxdWVyeSBjdXJyZW50IGFjY291bnQgaW5mbzogSW52YWxpZCBBUEkgcmVzcG9uc2U6ICcgKyBpbmZvKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICBlbWFpbDogaW5mby5lbWFpbFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogTWFrZSBhIG5ldHdvcmsgcmVxdWVzdC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZCAtIFJlcXVlc3QgbWV0aG9kXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBUYXJnZXQgVVJMXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIC0gUmVxdWVzdCBvcHRpb25zXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSBSZXNvbHZlcyB3aXRoIHRoZSByZXNwb25zZSBvZiB0aGUgbmV0d29yayByZXF1ZXN0XG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfcmVxdWVzdCAobWV0aG9kLCB1cmwsIG9wdGlvbnMpIHtcbiAgICBpZiAoIW9wdGlvbnMuaGVhZGVycykgeyBvcHRpb25zLmhlYWRlcnMgPSB7fTsgfVxuICAgIG9wdGlvbnMuaGVhZGVyc1snQXV0aG9yaXphdGlvbiddID0gJ0JlYXJlciAnICsgdGhpcy50b2tlbjtcblxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5ib2R5ID09PSAnb2JqZWN0JyAmJiAhaXNCaW5hcnlEYXRhKG9wdGlvbnMuYm9keSkpIHtcbiAgICAgIG9wdGlvbnMuYm9keSA9IEpTT04uc3RyaW5naWZ5KG9wdGlvbnMuYm9keSk7XG4gICAgICBvcHRpb25zLmhlYWRlcnNbJ0NvbnRlbnQtVHlwZSddID0gJ2FwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9VVRGLTgnO1xuICAgIH1cblxuICAgIHRoaXMucnMuX2VtaXQoJ3dpcmUtYnVzeScsIHtcbiAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgaXNGb2xkZXI6IGlzRm9sZGVyKHVybClcbiAgICB9KTtcblxuICAgIHJldHVybiBXaXJlQ2xpZW50LnJlcXVlc3QuY2FsbCh0aGlzLCBtZXRob2QsIHVybCwgb3B0aW9ucykudGhlbih4aHIgPT4ge1xuICAgICAgLy8gNTAzIG1lYW5zIHJldHJ5IHRoaXMgbGF0ZXJcbiAgICAgIGlmICh4aHIgJiYgeGhyLnN0YXR1cyA9PT0gNTAzKSB7XG4gICAgICAgIGlmICh0aGlzLm9ubGluZSkge1xuICAgICAgICAgIHRoaXMub25saW5lID0gZmFsc2U7XG4gICAgICAgICAgdGhpcy5ycy5fZW1pdCgnbmV0d29yay1vZmZsaW5lJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQodGhpcy5fcmVxdWVzdChtZXRob2QsIHVybCwgb3B0aW9ucyksIDMyMTApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCF0aGlzLm9ubGluZSkge1xuICAgICAgICAgIHRoaXMub25saW5lID0gdHJ1ZTtcbiAgICAgICAgICB0aGlzLnJzLl9lbWl0KCduZXR3b3JrLW9ubGluZScpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucnMuX2VtaXQoJ3dpcmUtZG9uZScsIHtcbiAgICAgICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgICAgICBpc0ZvbGRlcjogaXNGb2xkZXIodXJsKSxcbiAgICAgICAgICBzdWNjZXNzOiB0cnVlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoeGhyKTtcbiAgICAgIH1cbiAgICB9LCBlcnJvciA9PiB7XG4gICAgICBpZiAodGhpcy5vbmxpbmUpIHtcbiAgICAgICAgdGhpcy5vbmxpbmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5ycy5fZW1pdCgnbmV0d29yay1vZmZsaW5lJyk7XG4gICAgICB9XG4gICAgICB0aGlzLnJzLl9lbWl0KCd3aXJlLWRvbmUnLCB7XG4gICAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgICBpc0ZvbGRlcjogaXNGb2xkZXIodXJsKSxcbiAgICAgICAgc3VjY2VzczogZmFsc2VcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEZldGNoZXMgdGhlIHJldmlzaW9uIG9mIGFsbCB0aGUgZmlsZXMgZnJvbSBkcm9wYm94IEFQSSBhbmQgcHV0cyB0aGVtXG4gICAqIGludG8gYGBfcmV2Q2FjaGVgYC4gVGhlc2UgdmFsdWVzIGNhbiB0aGVuIGJlIHVzZWQgdG8gZGV0ZXJtaW5lIGlmXG4gICAqIHNvbWV0aGluZyBoYXMgY2hhbmdlZC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGZldGNoRGVsdGEgKC4uLmFyZ3MpIHtcbiAgICAvLyBJZiBmZXRjaERlbHRhIHdhcyBhbHJlYWR5IGNhbGxlZCwgYW5kIGRpZG4ndCBmaW5pc2gsIHJldHVybiB0aGUgZXhpc3RpbmdcbiAgICAvLyBwcm9taXNlIGluc3RlYWQgb2YgY2FsbGluZyBEcm9wYm94IEFQSSBhZ2FpblxuICAgIGlmICh0aGlzLl9mZXRjaERlbHRhUHJvbWlzZSkge1xuICAgICAgcmV0dXJuIHRoaXMuX2ZldGNoRGVsdGFQcm9taXNlO1xuICAgIH1cblxuICAgIGNvbnN0IGZldGNoID0gKGN1cnNvcikgPT4ge1xuICAgICAgbGV0IHVybCA9ICdodHRwczovL2FwaS5kcm9wYm94YXBpLmNvbS8yL2ZpbGVzL2xpc3RfZm9sZGVyJztcbiAgICAgIGxldCByZXF1ZXN0Qm9keTtcblxuICAgICAgaWYgKHR5cGVvZiBjdXJzb3IgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHVybCArPSAnL2NvbnRpbnVlJztcbiAgICAgICAgcmVxdWVzdEJvZHkgPSB7IGN1cnNvciB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVxdWVzdEJvZHkgPSB7XG4gICAgICAgICAgcGF0aDogUEFUSF9QUkVGSVgsXG4gICAgICAgICAgcmVjdXJzaXZlOiB0cnVlLFxuICAgICAgICAgIGluY2x1ZGVfZGVsZXRlZDogdHJ1ZVxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5fcmVxdWVzdCgnUE9TVCcsIHVybCwgeyBib2R5OiByZXF1ZXN0Qm9keSB9KS50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDAxKSB7XG4gICAgICAgICAgdGhpcy5ycy5fZW1pdCgnZXJyb3InLCBuZXcgVW5hdXRob3JpemVkRXJyb3IoKSk7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShhcmdzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgIT09IDIwMCAmJiByZXNwb25zZS5zdGF0dXMgIT09IDQwOSkge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ0ludmFsaWQgcmVzcG9uc2Ugc3RhdHVzOiAnICsgcmVzcG9uc2Uuc3RhdHVzKSk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcmVzcG9uc2VCb2R5O1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmVzcG9uc2VCb2R5ID0gSlNPTi5wYXJzZShyZXNwb25zZS5yZXNwb25zZVRleHQpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignSW52YWxpZCByZXNwb25zZSBib2R5OiAnICsgcmVzcG9uc2UucmVzcG9uc2VUZXh0KSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDkpIHtcbiAgICAgICAgICBpZiAoY29tcGFyZUFwaUVycm9yKHJlc3BvbnNlQm9keSwgWydwYXRoJywgJ25vdF9mb3VuZCddKSkge1xuICAgICAgICAgICAgcmVzcG9uc2VCb2R5ID0ge1xuICAgICAgICAgICAgICBjdXJzb3I6IG51bGwsXG4gICAgICAgICAgICAgIGVudHJpZXM6IFtdLFxuICAgICAgICAgICAgICBoYXNfbW9yZTogZmFsc2VcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ0FQSSByZXR1cm5lZCBhbiBlcnJvcjogJyArIHJlc3BvbnNlQm9keS5lcnJvcl9zdW1tYXJ5KSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFjdXJzb3IpIHtcbiAgICAgICAgICAvL3dlIGFyZSBkb2luZyBhIGNvbXBsZXRlIGZldGNoLCBzbyBwcm9wYWdhdGlvbiB3b3VsZCBpbnRyb2R1Y2UgdW5uZWNlc3Nhcnkgb3ZlcmhlYWRcbiAgICAgICAgICB0aGlzLl9yZXZDYWNoZS5kZWFjdGl2YXRlUHJvcGFnYXRpb24oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlc3BvbnNlQm9keS5lbnRyaWVzLmZvckVhY2goZW50cnkgPT4ge1xuICAgICAgICAgIGNvbnN0IHBhdGggPSBlbnRyeS5wYXRoX2xvd2VyLnN1YnN0cihQQVRIX1BSRUZJWC5sZW5ndGgpO1xuXG4gICAgICAgICAgaWYgKGVudHJ5WycudGFnJ10gPT09ICdkZWxldGVkJykge1xuICAgICAgICAgICAgLy8gdGhlcmUncyBubyB3YXkgdG8ga25vdyB3aGV0aGVyIHRoZSBlbnRyeSB3YXMgYSBmaWxlIG9yIGEgZm9sZGVyXG4gICAgICAgICAgICB0aGlzLl9yZXZDYWNoZS5kZWxldGUocGF0aCk7XG4gICAgICAgICAgICB0aGlzLl9yZXZDYWNoZS5kZWxldGUocGF0aCArICcvJyk7XG4gICAgICAgICAgfSBlbHNlIGlmIChlbnRyeVsnLnRhZyddID09PSAnZmlsZScpIHtcbiAgICAgICAgICAgIHRoaXMuX3JldkNhY2hlLnNldChwYXRoLCBlbnRyeS5yZXYpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5fZmV0Y2hEZWx0YUN1cnNvciA9IHJlc3BvbnNlQm9keS5jdXJzb3I7XG4gICAgICAgIGlmIChyZXNwb25zZUJvZHkuaGFzX21vcmUpIHtcbiAgICAgICAgICByZXR1cm4gZmV0Y2gocmVzcG9uc2VCb2R5LmN1cnNvcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5fcmV2Q2FjaGUuYWN0aXZhdGVQcm9wYWdhdGlvbigpO1xuICAgICAgICAgIHRoaXMuX2luaXRpYWxGZXRjaERvbmUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9KS5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgIGlmIChlcnJvciA9PT0gJ3RpbWVvdXQnIHx8IGVycm9yIGluc3RhbmNlb2YgUHJvZ3Jlc3NFdmVudCkge1xuICAgICAgICAgIC8vIE9mZmxpbmUgaXMgaGFuZGxlZCBlbHNld2hlcmUgYWxyZWFkeSwganVzdCBpZ25vcmUgaXQgaGVyZVxuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5fZmV0Y2hEZWx0YVByb21pc2UgPSBmZXRjaCh0aGlzLl9mZXRjaERlbHRhQ3Vyc29yKS5jYXRjaChlcnJvciA9PiB7XG4gICAgICBpZiAodHlwZW9mKGVycm9yKSA9PT0gJ29iamVjdCcgJiYgJ21lc3NhZ2UnIGluIGVycm9yKSB7XG4gICAgICAgIGVycm9yLm1lc3NhZ2UgPSAnRHJvcGJveDogZmV0Y2hEZWx0YTogJyArIGVycm9yLm1lc3NhZ2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlcnJvciA9IGBEcm9wYm94OiBmZXRjaERlbHRhOiAke2Vycm9yfWA7XG4gICAgICB9XG4gICAgICB0aGlzLl9mZXRjaERlbHRhUHJvbWlzZSA9IG51bGw7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuICAgIH0pLnRoZW4oKCkgPT4ge1xuICAgICAgdGhpcy5fZmV0Y2hEZWx0YVByb21pc2UgPSBudWxsO1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShhcmdzKTtcbiAgICB9KTtcblxuICAgIHJldHVybiB0aGlzLl9mZXRjaERlbHRhUHJvbWlzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIG1ldGFkYXRhIGZvciBhIHBhdGggKGNhbiBwb2ludCB0byBlaXRoZXIgYSBmaWxlIG9yIGEgZm9sZGVyKS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggLSB0aGUgcGF0aCB0byBnZXQgbWV0YWRhdGEgZm9yXG4gICAqXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSBBIHByb21pc2UgZm9yIHRoZSBtZXRhZGF0YVxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2dldE1ldGFkYXRhIChwYXRoKSB7XG4gICAgY29uc3QgdXJsID0gJ2h0dHBzOi8vYXBpLmRyb3Bib3hhcGkuY29tLzIvZmlsZXMvZ2V0X21ldGFkYXRhJztcbiAgICBjb25zdCByZXF1ZXN0Qm9keSA9IHtcbiAgICAgIHBhdGg6IGdldERyb3Bib3hQYXRoKHBhdGgpXG4gICAgfTtcblxuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KCdQT1NUJywgdXJsLCB7IGJvZHk6IHJlcXVlc3RCb2R5IH0pLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzICE9PSAyMDAgJiYgcmVzcG9uc2Uuc3RhdHVzICE9PSA0MDkpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignSW52YWxpZCByZXNwb25zZSBzdGF0dXM6JyArIHJlc3BvbnNlLnN0YXR1cykpO1xuICAgICAgfVxuXG4gICAgICBsZXQgcmVzcG9uc2VCb2R5O1xuXG4gICAgICB0cnkge1xuICAgICAgICByZXNwb25zZUJvZHkgPSBKU09OLnBhcnNlKHJlc3BvbnNlLnJlc3BvbnNlVGV4dCk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ0ludmFsaWQgcmVzcG9uc2UgYm9keTogJyArIHJlc3BvbnNlLnJlc3BvbnNlVGV4dCkpO1xuICAgICAgfVxuXG4gICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDkpIHtcbiAgICAgICAgaWYgKGNvbXBhcmVBcGlFcnJvcihyZXNwb25zZUJvZHksIFsncGF0aCcsICdub3RfZm91bmQnXSkpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdBUEkgZXJyb3I6ICcgKyByZXNwb25zZUJvZHkuZXJyb3Jfc3VtbWFyeSkpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlc3BvbnNlQm9keSk7XG4gICAgfSkudGhlbih1bmRlZmluZWQsIChlcnJvcikgPT4ge1xuICAgICAgZXJyb3IubWVzc2FnZSA9ICdDb3VsZCBub3QgbG9hZCBtZXRhZGF0YSBmb3IgZmlsZSBvciBmb2xkZXIgKFwiJyArIHBhdGggKyAnXCIpOiAnICsgZXJyb3IubWVzc2FnZTtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVXBsb2FkIGEgc2ltcGxlIGZpbGUgKHRoZSBzaXplIGlzIG5vIG1vcmUgdGhhbiAxNTBNQikuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbXNcbiAgICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMuaWZNYXRjaCAtIE9ubHkgdXBkYXRlIHRoZSBmaWxlIGlmIGl0cyBFVGFnXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGVzIHRoaXMgc3RyaW5nXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25zLnBhdGggLSBwYXRoIG9mIHRoZSBmaWxlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25zLmJvZHkgLSBjb250ZW50cyBvZiB0aGUgZmlsZSB0byB1cGxvYWRcbiAgICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMuY29udGVudFR5cGUgLSBtaW1lIHR5cGUgb2YgdGhlIGZpbGVcbiAgICpcbiAgICogQHJldHVybiB7UHJvbWlzZX0gQSBwcm9taXNlIGZvciBhbiBvYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nIHN0cnVjdHVyZTpcbiAgICogICAgICAgICBzdGF0dXNDb2RlIC0gSFRUUCBzdGF0dXMgY29kZVxuICAgKiAgICAgICAgIHJldmlzaW9uIC0gcmV2aXNpb24gb2YgdGhlIG5ld2x5LWNyZWF0ZWQgZmlsZSwgaWYgYW55XG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfdXBsb2FkU2ltcGxlIChwYXJhbXMpIHtcbiAgICBjb25zdCB1cmwgPSAnaHR0cHM6Ly9jb250ZW50LmRyb3Bib3hhcGkuY29tLzIvZmlsZXMvdXBsb2FkJztcbiAgICBjb25zdCBhcmdzID0ge1xuICAgICAgcGF0aDogZ2V0RHJvcGJveFBhdGgocGFyYW1zLnBhdGgpLFxuICAgICAgbW9kZTogeyAnLnRhZyc6ICdvdmVyd3JpdGUnLCB1cGRhdGU6IHVuZGVmaW5lZCB9LFxuICAgICAgbXV0ZTogdHJ1ZVxuICAgIH07XG5cbiAgICBpZiAocGFyYW1zLmlmTWF0Y2gpIHtcbiAgICAgIGFyZ3MubW9kZSA9IHsgJy50YWcnOiAndXBkYXRlJywgdXBkYXRlOiBwYXJhbXMuaWZNYXRjaCB9O1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KCdQT1NUJywgdXJsLCB7XG4gICAgICBib2R5OiBwYXJhbXMuYm9keSxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0nLFxuICAgICAgICAnRHJvcGJveC1BUEktQXJnJzogSlNPTi5zdHJpbmdpZnkoYXJncylcbiAgICAgIH1cbiAgICB9KS50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgIT09IDIwMCAmJiByZXNwb25zZS5zdGF0dXMgIT09IDQwOSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtzdGF0dXNDb2RlOiByZXNwb25zZS5zdGF0dXN9KTtcbiAgICAgIH1cblxuICAgICAgbGV0IGJvZHkgPSByZXNwb25zZS5yZXNwb25zZVRleHQ7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGJvZHkgPSBKU09OLnBhcnNlKGJvZHkpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdJbnZhbGlkIEFQSSByZXN1bHQ6ICcgKyBib2R5KSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwOSkge1xuICAgICAgICBpZiAoY29tcGFyZUFwaUVycm9yKGJvZHksIFsncGF0aCcsICdjb25mbGljdCddKSkge1xuICAgICAgICAgIHJldHVybiB0aGlzLl9nZXRNZXRhZGF0YShwYXJhbXMucGF0aCkudGhlbihmdW5jdGlvbiAobWV0YWRhdGEpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgICAgICBzdGF0dXNDb2RlOiA0MTIsXG4gICAgICAgICAgICAgIHJldmlzaW9uOiBtZXRhZGF0YS5yZXZcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ0FQSSBlcnJvcjogJyArIGJvZHkuZXJyb3Jfc3VtbWFyeSkpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9yZXZDYWNoZS5zZXQocGFyYW1zLnBhdGgsIGJvZHkucmV2KTtcblxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7IHN0YXR1c0NvZGU6IHJlc3BvbnNlLnN0YXR1cywgcmV2aXNpb246IGJvZHkucmV2IH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIERlbGV0ZXMgYSBmaWxlIG9yIGEgZm9sZGVyLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCAtIHRoZSBwYXRoIHRvIGRlbGV0ZVxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gQSBwcm9taXNlIGZvciBhbiBvYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nIHN0cnVjdHVyZTpcbiAgICogICAgICAgICAgc3RhdHVzQ29kZSAtIEhUVFAgc3RhdHVzIGNvZGVcbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9kZWxldGVTaW1wbGUgKHBhdGgpIHtcbiAgICBjb25zdCB1cmwgPSAnaHR0cHM6Ly9hcGkuZHJvcGJveGFwaS5jb20vMi9maWxlcy9kZWxldGUnO1xuICAgIGNvbnN0IHJlcXVlc3RCb2R5ID0geyBwYXRoOiBnZXREcm9wYm94UGF0aChwYXRoKSB9O1xuXG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoJ1BPU1QnLCB1cmwsIHsgYm9keTogcmVxdWVzdEJvZHkgfSkudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgIT09IDIwMCAmJiByZXNwb25zZS5zdGF0dXMgIT09IDQwOSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtzdGF0dXNDb2RlOiByZXNwb25zZS5zdGF0dXN9KTtcbiAgICAgIH1cblxuICAgICAgbGV0IHJlc3BvbnNlQm9keSA9IHJlc3BvbnNlLnJlc3BvbnNlVGV4dDtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgcmVzcG9uc2VCb2R5ID0gSlNPTi5wYXJzZShyZXNwb25zZUJvZHkpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdJbnZhbGlkIHJlc3BvbnNlIGJvZHk6ICcgKyByZXNwb25zZUJvZHkpKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDA5KSB7XG4gICAgICAgIGlmIChjb21wYXJlQXBpRXJyb3IocmVzcG9uc2VCb2R5LCBbJ3BhdGhfbG9va3VwJywgJ25vdF9mb3VuZCddKSkge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe3N0YXR1c0NvZGU6IDQwNH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ0FQSSBlcnJvcjogJyArIHJlc3BvbnNlQm9keS5lcnJvcl9zdW1tYXJ5KSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe3N0YXR1c0NvZGU6IDIwMH0pO1xuICAgIH0pLnRoZW4ocmVzdWx0ID0+IHtcbiAgICAgIGlmIChyZXN1bHQuc3RhdHVzQ29kZSA9PT0gMjAwIHx8IHJlc3VsdC5zdGF0dXNDb2RlID09PSA0MDQpIHtcbiAgICAgICAgdGhpcy5fcmV2Q2FjaGUuZGVsZXRlKHBhdGgpO1xuICAgICAgICBkZWxldGUgdGhpcy5faXRlbVJlZnNbcGF0aF07XG4gICAgICB9XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlc3VsdCk7XG4gICAgfSwgKGVycm9yKSA9PiB7XG4gICAgICBlcnJvci5tZXNzYWdlID0gJ0NvdWxkIG5vdCBkZWxldGUgRHJvcGJveCBmaWxlIG9yIGZvbGRlciAoXCInICsgcGF0aCArICdcIik6ICcgKyBlcnJvci5tZXNzYWdlO1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXF1ZXN0cyB0aGUgbGluayBmb3IgYW4gYWxyZWFkeS1zaGFyZWQgZmlsZSBvciBmb2xkZXIuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIC0gcGF0aCB0byB0aGUgZmlsZSBvciBmb2xkZXJcbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2V9IEEgcHJvbWlzZSBmb3IgdGhlIHNoYXJlZCBsaW5rXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBhc3luYyBfZ2V0U2hhcmVkTGluayAocGF0aDogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICBjb25zdCB1cmwgPSAnaHR0cHM6Ly9hcGkuZHJvcGJveC5jb20vMi9zaGFyaW5nL2xpc3Rfc2hhcmVkX2xpbmtzJztcbiAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgYm9keToge1xuICAgICAgICBwYXRoOiBnZXREcm9wYm94UGF0aChwYXRoKSxcbiAgICAgICAgZGlyZWN0X29ubHk6IHRydWVcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoJ1BPU1QnLCB1cmwsIG9wdGlvbnMpLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzICE9PSAyMDAgJiYgcmVzcG9uc2Uuc3RhdHVzICE9PSA0MDkpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignSW52YWxpZCByZXNwb25zZSBzdGF0dXM6ICcgKyByZXNwb25zZS5zdGF0dXMpKTtcbiAgICAgIH1cblxuICAgICAgbGV0IGJvZHk7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGJvZHkgPSBKU09OLnBhcnNlKHJlc3BvbnNlLnJlc3BvbnNlVGV4dCk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ0ludmFsaWQgcmVzcG9uc2UgYm9keTogJyArIHJlc3BvbnNlLnJlc3BvbnNlVGV4dCkpO1xuICAgICAgfVxuXG4gICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDkpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignQVBJIGVycm9yOiAnICsgcmVzcG9uc2UuZXJyb3Jfc3VtbWFyeSkpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWJvZHkubGlua3MubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ05vIGxpbmtzIHJldHVybmVkJykpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGJvZHkubGlua3NbMF0udXJsKTtcbiAgICB9LCBlcnJvciA9PiB7XG4gICAgICBlcnJvci5tZXNzYWdlID0gJ0NvdWxkIG5vdCBnZXQgbGluayB0byBhIHNoYXJlZCBmaWxlIG9yIGZvbGRlciAoXCInICsgcGF0aCArICdcIik6ICcgKyBlcnJvci5tZXNzYWdlO1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplIHRoZSBEcm9wYm94IGJhY2tlbmQuXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSByZW1vdGVTdG9yYWdlIC0gUmVtb3RlU3RvcmFnZSBpbnN0YW5jZVxuICAgKlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBzdGF0aWMgX3JzX2luaXQgKHJzKTogdm9pZCB7XG4gICAgaGFzTG9jYWxTdG9yYWdlID0gbG9jYWxTdG9yYWdlQXZhaWxhYmxlKCk7XG4gICAgaWYgKCBycy5hcGlLZXlzLmRyb3Bib3ggKSB7XG4gICAgICBycy5kcm9wYm94ID0gbmV3IERyb3Bib3gocnMpO1xuICAgIH1cbiAgICBpZiAocnMuYmFja2VuZCA9PT0gJ2Ryb3Bib3gnKSB7XG4gICAgICBob29rSXQocnMpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBJbmZvcm0gYWJvdXQgdGhlIGF2YWlsYWJpbGl0eSBvZiB0aGUgRHJvcGJveCBiYWNrZW5kLlxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gcnMgLSBSZW1vdGVTdG9yYWdlIGluc3RhbmNlXG4gICAqIEByZXR1cm5zIHtCb29sZWFufVxuICAgKlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBzdGF0aWMgX3JzX3N1cHBvcnRlZCAoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIERyb3Bib3ggYXMgYSBiYWNrZW5kLlxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gcmVtb3RlU3RvcmFnZSAtIFJlbW90ZVN0b3JhZ2UgaW5zdGFuY2VcbiAgICpcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgc3RhdGljIF9yc19jbGVhbnVwIChycyk6IHZvaWQge1xuICAgIHVuSG9va0l0KHJzKTtcbiAgICBpZiAoaGFzTG9jYWxTdG9yYWdlKXtcbiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFNFVFRJTkdTX0tFWSk7XG4gICAgfVxuICAgIHJzLnNldEJhY2tlbmQodW5kZWZpbmVkKTtcbiAgfVxufVxuXG4vKipcbiAqIEhvb2tpbmcgdGhlIHN5bmNcbiAqXG4gKiBUT0RPOiBkb2N1bWVudFxuICovXG5mdW5jdGlvbiBob29rU3luYyhycywgLi4uYXJncykge1xuICBpZiAocnMuX2Ryb3Bib3hPcmlnU3luYykgeyByZXR1cm47IH0gLy8gYWxyZWFkeSBob29rZWRcbiAgcnMuX2Ryb3Bib3hPcmlnU3luYyA9IHJzLnN5bmMuc3luYy5iaW5kKHJzLnN5bmMpO1xuICBycy5zeW5jLnN5bmMgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZHJvcGJveC5mZXRjaERlbHRhKHJzLCAuLi5hcmdzKS5cbiAgICAgIHRoZW4ocnMuX2Ryb3Bib3hPcmlnU3luYywgZnVuY3Rpb24gKGVycikge1xuICAgICAgICBycy5fZW1pdCgnZXJyb3InLCBuZXcgU3luY0Vycm9yKGVycikpO1xuICAgICAgICBycy5fZW1pdCgnc3luYy1kb25lJyk7XG4gICAgICB9KTtcbiAgfS5iaW5kKHJzKTtcbn1cblxuLyoqXG4gKiBVbmhvb2tpbmcgdGhlIHN5bmNcbiAqXG4gKiBUT0RPOiBkb2N1bWVudFxuICovXG5mdW5jdGlvbiB1bkhvb2tTeW5jKHJzKSB7XG4gIGlmICghIHJzLl9kcm9wYm94T3JpZ1N5bmMpIHsgcmV0dXJuOyB9IC8vIG5vdCBob29rZWRcbiAgcnMuc3luYy5zeW5jID0gcnMuX2Ryb3Bib3hPcmlnU3luYztcbiAgZGVsZXRlIHJzLl9kcm9wYm94T3JpZ1N5bmM7XG59XG5cbi8qKlxuICogSG9vayBSZW1vdGVTdG9yYWdlLnN5bmNDeWNsZSBhcyBpdCdzIHRoZSBmaXJzdCBmdW5jdGlvbiBjYWxsZWRcbiAqIGFmdGVyIFJlbW90ZVN0b3JhZ2Uuc3luYyBpcyBpbml0aWFsaXplZCwgc28gd2UgY2FuIHRoZW4gaG9va1xuICogdGhlIHN5bmMgZnVuY3Rpb25cbiAqIEBwYXJhbSB7b2JqZWN0fSBycyBSZW1vdGVTdG9yYWdlIGluc3RhbmNlXG4gKi9cbmZ1bmN0aW9uIGhvb2tTeW5jQ3ljbGUocnMsIC4uLmFyZ3MpIHtcbiAgaWYgKHJzLl9kcm9wYm94T3JpZ1N5bmNDeWNsZSkgeyByZXR1cm47IH0gLy8gYWxyZWFkeSBob29rZWRcbiAgcnMuX2Ryb3Bib3hPcmlnU3luY0N5Y2xlID0gcnMuc3luY0N5Y2xlO1xuICBycy5zeW5jQ3ljbGUgPSAoKSA9PiB7XG4gICAgaWYgKHJzLnN5bmMpIHtcbiAgICAgIGhvb2tTeW5jKHJzKTtcbiAgICAgIHJzLl9kcm9wYm94T3JpZ1N5bmNDeWNsZShycywgLi4uYXJncyk7XG4gICAgICB1bkhvb2tTeW5jQ3ljbGUocnMpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2V4cGVjdGVkIHN5bmMgdG8gYmUgaW5pdGlhbGl6ZWQgYnkgbm93Jyk7XG4gICAgfVxuICB9O1xufVxuXG4vKipcbiAqIFJlc3RvcmUgUmVtb3RlU3RvcmFnZSdzIHN5bmNDeWNsZSBvcmlnaW5hbCBpbXBsZW1lbnRhdGlvblxuICogQHBhcmFtIHtvYmplY3R9IHJzIFJlbW90ZVN0b3JhZ2UgaW5zdGFuY2VcbiAqL1xuZnVuY3Rpb24gdW5Ib29rU3luY0N5Y2xlKHJzKSB7XG4gIGlmICghcnMuX2Ryb3Bib3hPcmlnU3luY0N5Y2xlKSB7IHJldHVybjsgfSAvLyBub3QgaG9va2VkXG4gIHJzLnN5bmNDeWNsZSA9IHJzLl9kcm9wYm94T3JpZ1N5bmNDeWNsZTtcbiAgZGVsZXRlIHJzLl9kcm9wYm94T3JpZ1N5bmNDeWNsZTtcbn1cblxuLyoqXG4gKiBPdmVyd3JpdGUgQmFzZUNsaWVudCdzIGdldEl0ZW1VUkwgd2l0aCBvdXIgb3duIGltcGxlbWVudGF0aW9uXG4gKlxuICogVE9ETzogZ2V0SXRlbVVSTCBzdGlsbCBuZWVkcyB0byBiZSBpbXBsZW1lbnRlZFxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBycyAtIFJlbW90ZVN0b3JhZ2UgaW5zdGFuY2VcbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBob29rR2V0SXRlbVVSTCAocnMpIHtcbiAgaWYgKHJzLl9vcmlnQmFzZUNsaWVudEdldEl0ZW1VUkwpIHsgcmV0dXJuOyB9XG4gIHJzLl9vcmlnQmFzZUNsaWVudEdldEl0ZW1VUkwgPSBCYXNlQ2xpZW50LnByb3RvdHlwZS5nZXRJdGVtVVJMO1xuICBCYXNlQ2xpZW50LnByb3RvdHlwZS5nZXRJdGVtVVJMID0gZnVuY3Rpb24gKC8qcGF0aCovKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdnZXRJdGVtVVJMIGlzIG5vdCBpbXBsZW1lbnRlZCBmb3IgRHJvcGJveCB5ZXQnKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBSZXN0b3JlIEJhc2VDbGllbnQncyBnZXRJdGVtVVJMIG9yaWdpbmFsIGltcGxlbWVudGF0aW9uXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IHJzIC0gUmVtb3RlU3RvcmFnZSBpbnN0YW5jZVxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHVuSG9va0dldEl0ZW1VUkwocnMpe1xuICBpZiAoISBycy5fb3JpZ0Jhc2VDbGllbnRHZXRJdGVtVVJMKSB7IHJldHVybjsgfVxuICBCYXNlQ2xpZW50LnByb3RvdHlwZS5nZXRJdGVtVVJMID0gcnMuX29yaWdCYXNlQ2xpZW50R2V0SXRlbVVSTDtcbiAgZGVsZXRlIHJzLl9vcmlnQmFzZUNsaWVudEdldEl0ZW1VUkw7XG59XG5cbi8qKlxuICogVE9ETzogZG9jdW1lbnRcbiAqL1xuZnVuY3Rpb24gaG9va1JlbW90ZShycyl7XG4gIGlmIChycy5fb3JpZ1JlbW90ZSkgeyByZXR1cm47IH1cbiAgcnMuX29yaWdSZW1vdGUgPSBycy5yZW1vdGU7XG4gIHJzLnJlbW90ZSA9IHJzLmRyb3Bib3g7XG59XG5cbi8qKlxuICogVE9ETzogZG9jdW1lbnRcbiAqL1xuZnVuY3Rpb24gdW5Ib29rUmVtb3RlKHJzKXtcbiAgaWYgKHJzLl9vcmlnUmVtb3RlKSB7XG4gICAgcnMucmVtb3RlID0gcnMuX29yaWdSZW1vdGU7XG4gICAgZGVsZXRlIHJzLl9vcmlnUmVtb3RlO1xuICB9XG59XG5cbi8qKlxuICogVE9ETzogZG9jdW1lbnRcbiAqL1xuZnVuY3Rpb24gaG9va0l0KHJzKXtcbiAgaG9va1JlbW90ZShycyk7XG4gIGlmIChycy5zeW5jKSB7XG4gICAgaG9va1N5bmMocnMpO1xuICB9IGVsc2Uge1xuICAgIC8vIHdoZW4gc3luYyBpcyBub3QgYXZhaWxhYmxlIHlldCwgd2UgaG9vayB0aGUgc3luY0N5Y2xlIGZ1bmN0aW9uIHdoaWNoIGlzIGNhbGxlZFxuICAgIC8vIHJpZ2h0IGFmdGVyIHN5bmMgaXMgaW5pdGlhbGl6ZWRcbiAgICBob29rU3luY0N5Y2xlKHJzKTtcbiAgfVxuICBob29rR2V0SXRlbVVSTChycyk7XG59XG5cbi8qKlxuICogVE9ETzogZG9jdW1lbnRcbiAqL1xuZnVuY3Rpb24gdW5Ib29rSXQocnMpe1xuICB1bkhvb2tSZW1vdGUocnMpO1xuICB1bkhvb2tTeW5jKHJzKTtcbiAgdW5Ib29rR2V0SXRlbVVSTChycyk7XG4gIHVuSG9va1N5bmNDeWNsZShycyk7XG59XG5cbmludGVyZmFjZSBEcm9wYm94IGV4dGVuZHMgRXZlbnRIYW5kbGluZyB7fTtcbmFwcGx5TWl4aW5zKERyb3Bib3gsIFtFdmVudEhhbmRsaW5nXSk7XG5cbmV4cG9ydCBkZWZhdWx0IERyb3Bib3g7XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBXZWJGaW5nZXIgZnJvbSAnd2ViZmluZ2VyLmpzJztcbmltcG9ydCBsb2cgZnJvbSAnLi9sb2cnO1xuaW1wb3J0IHsgZ2xvYmFsQ29udGV4dCwgbG9jYWxTdG9yYWdlQXZhaWxhYmxlIH0gZnJvbSAnLi91dGlsJztcblxuLy8gZmVhdHVyZSBkZXRlY3Rpb24gZmxhZ3NcbmxldCBoYXZlWE1MSHR0cFJlcXVlc3QsIGhhc0xvY2FsU3RvcmFnZTtcblxuLy8gdXNlZCB0byBzdG9yZSBzZXR0aW5ncyBpbiBsb2NhbFN0b3JhZ2VcbmNvbnN0IFNFVFRJTkdTX0tFWSA9ICdyZW1vdGVzdG9yYWdlOmRpc2NvdmVyJztcblxuLy8gY2FjaGUgbG9hZGVkIGZyb20gbG9jYWxTdG9yYWdlXG4vLyBUT0RPIHVzZSBjbGFzcyBwcm9wZXJ0eVxubGV0IGNhY2hlZEluZm8gPSB7fTtcblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGRlYWxzIHdpdGggdGhlIFdlYmZpbmdlciBsb29rdXAsIGRpc2NvdmVyaW5nIGEgY29ubmVjdGluZ1xuICogdXNlcidzIHN0b3JhZ2UgZGV0YWlscy5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdXNlckFkZHJlc3MgLSB1c2VyQGhvc3RcbiAqXG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gQSBwcm9taXNlIGZvciBhbiBvYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXMuXG4gKiAgICAgICAgICBocmVmIC0gU3RvcmFnZSBiYXNlIFVSTCxcbiAqICAgICAgICAgIHN0b3JhZ2VBcGkgLSBSUyBwcm90b2NvbCB2ZXJzaW9uLFxuICogICAgICAgICAgYXV0aFVybCAtIE9BdXRoIFVSTCxcbiAqICAgICAgICAgIHByb3BlcnRpZXMgLSBXZWJmaW5nZXIgbGluayBwcm9wZXJ0aWVzXG4gKiovXG5cbmNvbnN0IERpc2NvdmVyID0gZnVuY3Rpb24gRGlzY292ZXIodXNlckFkZHJlc3M6IHN0cmluZyk6IFByb21pc2U8U3RvcmFnZUluZm8+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblxuICAgIGlmICh1c2VyQWRkcmVzcyBpbiBjYWNoZWRJbmZvKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZShjYWNoZWRJbmZvW3VzZXJBZGRyZXNzXSk7XG4gICAgfVxuXG4gICAgY29uc3Qgd2ViRmluZ2VyID0gbmV3IFdlYkZpbmdlcih7XG4gICAgICB0bHNfb25seTogZmFsc2UsXG4gICAgICB1cmlfZmFsbGJhY2s6IHRydWUsXG4gICAgICByZXF1ZXN0X3RpbWVvdXQ6IDUwMDBcbiAgICB9KTtcblxuICAgIHJldHVybiB3ZWJGaW5nZXIubG9va3VwKHVzZXJBZGRyZXNzLCBmdW5jdGlvbiAoZXJyLCByZXNwb25zZSkge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICByZXR1cm4gcmVqZWN0KGVycik7XG4gICAgICB9IGVsc2UgaWYgKCh0eXBlb2YgcmVzcG9uc2UuaWR4LmxpbmtzLnJlbW90ZXN0b3JhZ2UgIT09ICdvYmplY3QnKSB8fFxuICAgICAgICAgICAgICAgICAodHlwZW9mIHJlc3BvbnNlLmlkeC5saW5rcy5yZW1vdGVzdG9yYWdlLmxlbmd0aCAhPT0gJ251bWJlcicpIHx8XG4gICAgICAgICAgICAgICAgIChyZXNwb25zZS5pZHgubGlua3MucmVtb3Rlc3RvcmFnZS5sZW5ndGggPD0gMCkpIHtcbiAgICAgICAgbG9nKFwiW0Rpc2NvdmVyXSBXZWJGaW5nZXIgcmVjb3JkIGZvciBcIiArIHVzZXJBZGRyZXNzICsgXCIgZG9lcyBub3QgaGF2ZSByZW1vdGVzdG9yYWdlIGRlZmluZWQgaW4gdGhlIGxpbmtzIHNlY3Rpb24gXCIsIEpTT04uc3RyaW5naWZ5KHJlc3BvbnNlLmpzb24pKTtcbiAgICAgICAgcmV0dXJuIHJlamVjdChcIldlYkZpbmdlciByZWNvcmQgZm9yIFwiICsgdXNlckFkZHJlc3MgKyBcIiBkb2VzIG5vdCBoYXZlIHJlbW90ZXN0b3JhZ2UgZGVmaW5lZCBpbiB0aGUgbGlua3Mgc2VjdGlvbi5cIik7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJzID0gcmVzcG9uc2UuaWR4LmxpbmtzLnJlbW90ZXN0b3JhZ2VbMF07XG4gICAgICBjb25zdCBhdXRoVVJMID0gcnMucHJvcGVydGllc1snaHR0cDovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNjc0OSNzZWN0aW9uLTQuMiddIHx8XG4gICAgICAgICAgICAgICAgICAgIHJzLnByb3BlcnRpZXNbJ2F1dGgtZW5kcG9pbnQnXTtcbiAgICAgIGNvbnN0IHN0b3JhZ2VBcGkgPSBycy5wcm9wZXJ0aWVzWydodHRwOi8vcmVtb3Rlc3RvcmFnZS5pby9zcGVjL3ZlcnNpb24nXSB8fFxuICAgICAgICAgICAgICAgICAgICAgICBycy50eXBlO1xuXG4gICAgICAvLyBjYWNoZSBmZXRjaGVkIGRhdGFcbiAgICAgIGNhY2hlZEluZm9bdXNlckFkZHJlc3NdID0ge1xuICAgICAgICBocmVmOiBycy5ocmVmLFxuICAgICAgICBzdG9yYWdlQXBpOiBzdG9yYWdlQXBpLFxuICAgICAgICBhdXRoVVJMOiBhdXRoVVJMLFxuICAgICAgICBwcm9wZXJ0aWVzOiBycy5wcm9wZXJ0aWVzXG4gICAgICB9O1xuXG4gICAgICBpZiAoaGFzTG9jYWxTdG9yYWdlKSB7XG4gICAgICAgIGxvY2FsU3RvcmFnZVtTRVRUSU5HU19LRVldID0gSlNPTi5zdHJpbmdpZnkoeyBjYWNoZTogY2FjaGVkSW5mbyB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlc29sdmUoY2FjaGVkSW5mb1t1c2VyQWRkcmVzc10pO1xuICAgIH0pO1xuICB9KTtcbn07XG5cbkRpc2NvdmVyLkRpc2NvdmVyeUVycm9yID0gZnVuY3Rpb24obWVzc2FnZSkge1xuICB0aGlzLm5hbWUgPSAnRGlzY292ZXJ5RXJyb3InO1xuICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICB0aGlzLnN0YWNrID0gKG5ldyBFcnJvcigpKS5zdGFjaztcbn07XG5EaXNjb3Zlci5EaXNjb3ZlcnlFcnJvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSk7XG5EaXNjb3Zlci5EaXNjb3ZlcnlFcnJvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBEaXNjb3Zlci5EaXNjb3ZlcnlFcnJvcjtcblxuRGlzY292ZXIuX3JzX2luaXQgPSBmdW5jdGlvbiAoLypyZW1vdGVTdG9yYWdlKi8pOiB2b2lkIHtcbiAgaGFzTG9jYWxTdG9yYWdlID0gbG9jYWxTdG9yYWdlQXZhaWxhYmxlKCk7XG4gIGlmIChoYXNMb2NhbFN0b3JhZ2UpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3Qgc2V0dGluZ3MgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZVtTRVRUSU5HU19LRVldKTtcbiAgICAgIGNhY2hlZEluZm8gPSBzZXR0aW5ncy5jYWNoZTtcbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgIC8qIGVtcHR5ICovXG4gICAgfVxuICB9XG59O1xuXG5EaXNjb3Zlci5fcnNfc3VwcG9ydGVkID0gZnVuY3Rpb24gKCk6IGJvb2xlYW4ge1xuICBoYXZlWE1MSHR0cFJlcXVlc3QgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZ2xvYmFsQ29udGV4dCwgJ1hNTEh0dHBSZXF1ZXN0Jyk7XG4gIHJldHVybiBoYXZlWE1MSHR0cFJlcXVlc3Q7XG59O1xuXG5EaXNjb3Zlci5fcnNfY2xlYW51cCA9IGZ1bmN0aW9uICgpOiB2b2lkIHtcbiAgaWYgKGhhc0xvY2FsU3RvcmFnZSkge1xuICAgIGRlbGV0ZSBsb2NhbFN0b3JhZ2VbU0VUVElOR1NfS0VZXTtcbiAgfVxufTtcblxuXG5leHBvcnQgZGVmYXVsdCBEaXNjb3ZlcjtcbiIsImltcG9ydCBFdmVudEhhbmRsaW5nIGZyb20gJy4vZXZlbnRoYW5kbGluZyc7XG5pbXBvcnQgeyBhcHBseU1peGlucyB9IGZyb20gJy4vdXRpbCc7XG5cbmNsYXNzIEVudiB7XG4gIGhpZGRlblByb3BlcnR5OiBcImhpZGRlblwiIHwgXCJtb3pIaWRkZW5cIiB8IFwibXNIaWRkZW5cIiB8IFwid2Via2l0SGlkZGVuXCI7XG4gIHZpc2liaWxpdHlDaGFuZ2VFdmVudDogXCJ2aXNpYmlsaXR5Y2hhbmdlXCIgfCBcIm1venZpc2liaWxpdHljaGFuZ2VcIiB8IFwibXN2aXNpYmlsaXR5Y2hhbmdlXCIgfCBcIndlYmtpdHZpc2liaWxpdHljaGFuZ2VcIjtcbiAgbW9kZTogXCJicm93c2VyXCIgfCBcIm5vZGVcIjtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmFkZEV2ZW50cyhbXCJiYWNrZ3JvdW5kXCIsIFwiZm9yZWdyb3VuZFwiXSk7XG5cbiAgICB0aGlzLm1vZGUgPSB0eXBlb2Yod2luZG93KSAhPT0gJ3VuZGVmaW5lZCcgPyAnYnJvd3NlcicgOiAnbm9kZSc7XG5cbiAgICBpZiAodGhpcy5tb2RlID09PSAnYnJvd3NlcicpIHtcbiAgICAgIHRoaXMuc2V0QnJvd3NlclByZWZpeGVkTmFtZXMoKTtcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIodGhpcy52aXNpYmlsaXR5Q2hhbmdlRXZlbnQsIHRoaXMuc2V0VmlzaWJpbGl0eS5iaW5kKHRoaXMpLCBmYWxzZSk7XG4gICAgICB0aGlzLnNldFZpc2liaWxpdHkoKTtcbiAgICB9XG4gIH1cblxuICBzZXRCcm93c2VyUHJlZml4ZWROYW1lcyAoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMubW9kZSAhPT0gJ2Jyb3dzZXInKSB7IHJldHVybjsgfVxuXG4gICAgaWYgKHR5cGVvZiBkb2N1bWVudC5oaWRkZW4gIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHRoaXMuaGlkZGVuUHJvcGVydHkgPSBcImhpZGRlblwiO1xuICAgICAgdGhpcy52aXNpYmlsaXR5Q2hhbmdlRXZlbnQgPSBcInZpc2liaWxpdHljaGFuZ2VcIjtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBkb2N1bWVudFtcIm1vekhpZGRlblwiXSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgdGhpcy5oaWRkZW5Qcm9wZXJ0eSA9IFwibW96SGlkZGVuXCI7XG4gICAgICB0aGlzLnZpc2liaWxpdHlDaGFuZ2VFdmVudCA9IFwibW96dmlzaWJpbGl0eWNoYW5nZVwiO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGRvY3VtZW50W1wibXNIaWRkZW5cIl0gIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHRoaXMuaGlkZGVuUHJvcGVydHkgPSBcIm1zSGlkZGVuXCI7XG4gICAgICB0aGlzLnZpc2liaWxpdHlDaGFuZ2VFdmVudCA9IFwibXN2aXNpYmlsaXR5Y2hhbmdlXCI7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZG9jdW1lbnRbXCJ3ZWJraXRIaWRkZW5cIl0gIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHRoaXMuaGlkZGVuUHJvcGVydHkgPSBcIndlYmtpdEhpZGRlblwiO1xuICAgICAgdGhpcy52aXNpYmlsaXR5Q2hhbmdlRXZlbnQgPSBcIndlYmtpdHZpc2liaWxpdHljaGFuZ2VcIjtcbiAgICB9XG4gIH1cblxuICBzZXRWaXNpYmlsaXR5ICgpOiB2b2lkIHtcbiAgICBpZiAoZG9jdW1lbnRbdGhpcy5oaWRkZW5Qcm9wZXJ0eV0pIHtcbiAgICAgIHRoaXMuZ29CYWNrZ3JvdW5kKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZ29Gb3JlZ3JvdW5kKCk7XG4gICAgfVxuICB9XG5cbiAgaXNCcm93c2VyICgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5tb2RlID09PSBcImJyb3dzZXJcIjtcbiAgfVxuXG4gIGlzTm9kZSAoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMubW9kZSA9PT0gXCJub2RlXCI7XG4gIH1cblxuICBnb0JhY2tncm91bmQgKCk6IHZvaWQge1xuICAgIHRoaXMuX2VtaXQoXCJiYWNrZ3JvdW5kXCIpO1xuICB9XG5cbiAgZ29Gb3JlZ3JvdW5kICgpOiB2b2lkIHtcbiAgICB0aGlzLl9lbWl0KFwiZm9yZWdyb3VuZFwiKTtcbiAgfVxuXG4gIHN0YXRpYyBfcnNfaW5pdCAoLyogcmVtb3RlU3RvcmFnZSAqLyk6IHZvaWQge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHN0YXRpYyBfcnNfY2xlYW51cCAoLyogcmVtb3RlU3RvcmFnZSAqLyk6IHZvaWQge1xuICAgIHJldHVybjtcbiAgfVxufTtcblxuaW50ZXJmYWNlIEVudiBleHRlbmRzIEV2ZW50SGFuZGxpbmcge307XG5hcHBseU1peGlucyhFbnYsIFtFdmVudEhhbmRsaW5nXSk7XG5cbmV4cG9ydCBkZWZhdWx0IEVudjtcbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IGNvbmZpZyBmcm9tICcuL2NvbmZpZyc7XG5pbXBvcnQgbG9nIGZyb20gJy4vbG9nJztcbmltcG9ydCB7XG4gIGFwcGx5TWl4aW5zLFxuICBnZXRHbG9iYWxDb250ZXh0LFxuICBnZXRKU09ORnJvbUxvY2FsU3RvcmFnZSxcbiAgZXh0ZW5kLFxuICBsb2NhbFN0b3JhZ2VBdmFpbGFibGVcbn0gZnJvbSAnLi91dGlsJztcblxuaW1wb3J0IEFjY2VzcyBmcm9tICcuL2FjY2Vzcyc7XG5pbXBvcnQgQXV0aG9yaXplIGZyb20gJy4vYXV0aG9yaXplJztcbmltcG9ydCBCYXNlQ2xpZW50IGZyb20gJy4vYmFzZWNsaWVudCc7XG5pbXBvcnQgQ2FjaGluZyBmcm9tICcuL2NhY2hpbmcnO1xuaW1wb3J0IEV2ZW50SGFuZGxpbmcgZnJvbSAnLi9ldmVudGhhbmRsaW5nJztcbmltcG9ydCBHb29nbGVEcml2ZSBmcm9tICcuL2dvb2dsZWRyaXZlJztcbmltcG9ydCBEcm9wYm94IGZyb20gJy4vZHJvcGJveCc7XG5pbXBvcnQgRGlzY292ZXIgZnJvbSAnLi9kaXNjb3Zlcic7XG5pbXBvcnQgU3luY0Vycm9yIGZyb20gJy4vc3luYy1lcnJvcic7XG5pbXBvcnQgVW5hdXRob3JpemVkRXJyb3IgZnJvbSAnLi91bmF1dGhvcml6ZWQtZXJyb3InO1xuaW1wb3J0IEZlYXR1cmVzIGZyb20gJy4vZmVhdHVyZXMnO1xuXG4vLyBUT0RPIHRoaXMgaXMgYXNzaWduZWQgdG8gUmVtb3RlU3RvcmFnZS51dGlsIGxhdGVyOyBjaGVjayBpZiBzdGlsbCBuZWVkZWRcbmltcG9ydCAqIGFzIHV0aWwgZnJvbSAnLi91dGlsJztcblxuaW50ZXJmYWNlIFJTTW9kdWxlIHtcbiAgbmFtZTogc3RyaW5nO1xuICBidWlsZGVyOiBGdW5jdGlvbjsgLy8gVE9ETyBkZXRhaWxlZCB0eXBlXG59XG5cbmNvbnN0IGdsb2JhbENvbnRleHQgPSBnZXRHbG9iYWxDb250ZXh0KCk7XG4vLyBkZWNsYXJlIGdsb2JhbCB7XG4vLyAgIGludGVyZmFjZSBXaW5kb3cgeyBjb3Jkb3ZhOiBhbnkgfTtcbi8vIH1cblxubGV0IGhhc0xvY2FsU3RvcmFnZTogYm9vbGVhbjtcblxuLy8gVE9ETyBkb2N1bWVudCBhbmQvb3IgcmVmYWN0b3IgKHNlZW1zIHdlaXJkKVxuZnVuY3Rpb24gZW1pdFVuYXV0aG9yaXplZChyKSB7XG4gIGlmIChyLnN0YXR1c0NvZGUgPT09IDQwMyAgfHwgci5zdGF0dXNDb2RlID09PSA0MDEpIHtcbiAgICB0aGlzLl9lbWl0KCdlcnJvcicsIG5ldyBVbmF1dGhvcml6ZWRFcnJvcigpKTtcbiAgfVxuICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHIpO1xufVxuXG4vKipcbiogQ2hlY2sgaWYgaW50ZXJ2YWwgaXMgdmFsaWQ6IG51bWVyaWMgYW5kIGJldHdlZW4gMTAwMG1zIGFuZCAzNjAwMDAwbXNcbiovXG5mdW5jdGlvbiBpc1ZhbGlkSW50ZXJ2YWwoaW50ZXJ2YWw6IHVua25vd24pOiBpbnRlcnZhbCBpcyBudW1iZXIge1xuICByZXR1cm4gKHR5cGVvZiBpbnRlcnZhbCA9PT0gJ251bWJlcicgJiZcbiAgICAgICAgICBpbnRlcnZhbCA+IDEwMDAgJiZcbiAgICAgICAgICBpbnRlcnZhbCA8IDM2MDAwMDApO1xufVxuXG4vKipcbiAqIENvbnN0cnVjdG9yIGZvciB0aGUgcmVtb3RlU3RvcmFnZSBvYmplY3QvaW5zdGFuY2VcbiAqXG4gKiBUaGlzIGNsYXNzIHByaW1hcmlseSBjb250YWlucyBmZWF0dXJlIGRldGVjdGlvbiBjb2RlIGFuZCBjb252ZW5pZW5jZSBBUEkuXG4gKlxuICogRGVwZW5kaW5nIG9uIHdoaWNoIGZlYXR1cmVzIGFyZSBidWlsdCBpbiwgaXQgY29udGFpbnMgZGlmZmVyZW50IGF0dHJpYnV0ZXNcbiAqIGFuZCBmdW5jdGlvbnMuIFNlZSB0aGUgaW5kaXZpZHVhbCBmZWF0dXJlcyBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gY29uZmlnIC0gYW4gb3B0aW9uYWwgY29uZmlndXJhdGlvbiBvYmplY3RcbiAqIEBjbGFzc1xuICovXG5jbGFzcyBSZW1vdGVTdG9yYWdlIHtcbiAgLyoqXG4gICAqIFBlbmRpbmcgZ2V0L3B1dC9kZWxldGUgY2FsbHNcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9wZW5kaW5nOiB7W2tleTogc3RyaW5nXTogYW55fVtdID0gW107XG5cbiAgLyoqXG4gICAqIFRPRE86IGRvY3VtZW50XG4gICAqL1xuICBfY2xlYW51cHM6IFtdID0gW107XG5cbiAgLyoqXG4gICAqIFRPRE86IGRvY3VtZW50XG4gICAqL1xuICBfcGF0aEhhbmRsZXJzOiB7IFtrZXk6IHN0cmluZ106IGFueSB9ID0geyBjaGFuZ2U6IHt9IH07XG5cbiAgLyoqXG4gICAqIEhvbGRzIE9BdXRoIGFwcCBrZXlzIGZvciBEcm9wYm94LCBHb29nbGUgRHJpdmVcbiAgICovXG4gIGFwaUtleXM6IG9iamVjdCA9IHt9O1xuXG4gIC8qKlxuICAgKiBIb2xkcyB0aGUgZmVhdHVyZSBjbGFzcyBpbnN0YW5jZSwgYWRkZWQgYnkgZmVhdHVyZSBpbml0aWFsaXphdGlvblxuICAgKiBUT0RPIHVzZSB0eXBlIEFjY2Vzc1xuICAgKi9cbiAgYWNjZXNzOiBhbnk7XG4gIC8qKlxuICAgKiBIb2xkcyB0aGUgZmVhdHVyZSBjbGFzcyBpbnN0YW5jZSwgYWRkZWQgYnkgZmVhdHVyZSBpbml0aWFsaXphdGlvblxuICAgKiBUT0RPIHVzZSB0eXBlIFN5bmNcbiAgICovXG4gIHN5bmM6IGFueTtcblxuICAvLyBUT0RPIHVzZSBjb3JyZWN0IHR5cGVzLCBkb2N1bWVudFxuICBfc3luY1RpbWVyOiBhbnk7XG4gIHN5bmNTdG9wcGVkOiBhbnk7XG4gIGdldDogYW55O1xuICBwdXQ6IGFueTtcbiAgZGVsZXRlOiBhbnk7XG5cbiAgYmFja2VuZDogJ3JlbW90ZXN0b3JhZ2UnIHwgJ2Ryb3Bib3gnIHwgJ2dvb2dsZWRyaXZlJztcblxuICAvKipcbiAgICogSG9sZHMgYSBXaXJlQ2xpZW50IGluc3RhbmNlLCBhZGRlZCBieSBmZWF0dXJlIGluaXRpYWxpemF0aW9uXG4gICAqIFRPRE8gdXNlIGNvcnJlY3QgdHlwZVxuICAgKi9cbiAgcmVtb3RlOiBhbnk7XG5cbiAgZHJvcGJveDogRHJvcGJveDtcbiAgZ29vZ2xlZHJpdmU6IEdvb2dsZURyaXZlO1xuXG4gIGZpcmVJbml0aWFsOiBGdW5jdGlvbjtcblxuICBjb25zdHJ1Y3RvciAoY2ZnPzogb2JqZWN0KSB7XG4gICAgLy8gSW5pdGlhbCBjb25maWd1cmF0aW9uIHByb3BlcnR5IHNldHRpbmdzLlxuICAgIC8vIFRPRE8gdXNlIG1vZGVybiBKUyB0byBtZXJnZSBvYmplY3QgcHJvcGVydGllc1xuICAgIGlmICh0eXBlb2YgY2ZnID09PSAnb2JqZWN0JykgeyBleHRlbmQoY29uZmlnLCBjZmcpOyB9XG5cbiAgICB0aGlzLmFkZEV2ZW50cyhbXG4gICAgICAncmVhZHknLCAnYXV0aGluZycsICdjb25uZWN0aW5nJywgJ2Nvbm5lY3RlZCcsICdkaXNjb25uZWN0ZWQnLFxuICAgICAgJ25vdC1jb25uZWN0ZWQnLCAnY29uZmxpY3QnLCAnZXJyb3InLCAnZmVhdHVyZXMtbG9hZGVkJyxcbiAgICAgICdzeW5jLWludGVydmFsLWNoYW5nZScsICdzeW5jLXJlcS1kb25lJywgJ3N5bmMtZG9uZScsXG4gICAgICAnd2lyZS1idXN5JywgJ3dpcmUtZG9uZScsICduZXR3b3JrLW9mZmxpbmUnLCAnbmV0d29yay1vbmxpbmUnXG4gICAgXSk7XG5cbiAgICB0aGlzLl9zZXRHUEQoe1xuICAgICAgZ2V0OiB0aGlzLl9wZW5kaW5nR1BEKCdnZXQnKSxcbiAgICAgIHB1dDogdGhpcy5fcGVuZGluZ0dQRCgncHV0JyksXG4gICAgICBkZWxldGU6IHRoaXMuX3BlbmRpbmdHUEQoJ2RlbGV0ZScpXG4gICAgfSk7XG5cbiAgICBoYXNMb2NhbFN0b3JhZ2UgPSBsb2NhbFN0b3JhZ2VBdmFpbGFibGUoKTtcblxuICAgIGlmIChoYXNMb2NhbFN0b3JhZ2UpIHtcbiAgICAgIHRoaXMuYXBpS2V5cyA9IGdldEpTT05Gcm9tTG9jYWxTdG9yYWdlKCdyZW1vdGVzdG9yYWdlOmFwaS1rZXlzJykgfHwge307XG4gICAgICB0aGlzLnNldEJhY2tlbmQobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3JlbW90ZXN0b3JhZ2U6YmFja2VuZCcpIHx8ICdyZW1vdGVzdG9yYWdlJyk7XG4gICAgfVxuXG4gICAgLy8gS2VlcCBhIHJlZmVyZW5jZSB0byB0aGUgb3JnaW5hbCBgb25gIGZ1bmN0aW9uXG4gICAgY29uc3Qgb3JpZ09uID0gdGhpcy5vbjtcblxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVyIGFuIGV2ZW50IGhhbmRsZXIuIFNlZSA6cmVmOmBycy1ldmVudHNgIGZvciBhdmFpbGFibGUgZXZlbnQgbmFtZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnROYW1lIC0gTmFtZSBvZiB0aGUgZXZlbnRcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBoYW5kbGVyIC0gRXZlbnQgaGFuZGxlclxuICAgICAqL1xuICAgIHRoaXMub24gPSBmdW5jdGlvbiAoZXZlbnROYW1lOiBzdHJpbmcsIGhhbmRsZXI6IEZ1bmN0aW9uKTogdm9pZCB7XG4gICAgICBpZiAodGhpcy5fYWxsTG9hZGVkKSB7XG4gICAgICAgIC8vIGNoZWNrIGlmIHRoZSBoYW5kbGVyIHNob3VsZCBiZSBjYWxsZWQgaW1tZWRpYXRlbHksIGJlY2F1c2UgdGhlXG4gICAgICAgIC8vIGV2ZW50IGhhcyBoYXBwZW5lZCBhbHJlYWR5XG4gICAgICAgIHN3aXRjaChldmVudE5hbWUpIHtcbiAgICAgICAgICBjYXNlICdmZWF0dXJlcy1sb2FkZWQnOlxuICAgICAgICAgICAgc2V0VGltZW91dChoYW5kbGVyLCAwKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ3JlYWR5JzpcbiAgICAgICAgICAgIGlmICh0aGlzLnJlbW90ZSkge1xuICAgICAgICAgICAgICBzZXRUaW1lb3V0KGhhbmRsZXIsIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnY29ubmVjdGVkJzpcbiAgICAgICAgICAgIGlmICh0aGlzLnJlbW90ZSAmJiB0aGlzLnJlbW90ZS5jb25uZWN0ZWQpIHtcbiAgICAgICAgICAgICAgc2V0VGltZW91dChoYW5kbGVyLCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ25vdC1jb25uZWN0ZWQnOlxuICAgICAgICAgICAgaWYgKHRoaXMucmVtb3RlICYmICF0aGlzLnJlbW90ZS5jb25uZWN0ZWQpIHtcbiAgICAgICAgICAgICAgc2V0VGltZW91dChoYW5kbGVyLCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvcmlnT24uY2FsbCh0aGlzLCBldmVudE5hbWUsIGhhbmRsZXIpO1xuICAgIH07XG5cbiAgICAvLyBsb2FkIGFsbCBmZWF0dXJlcyBhbmQgZW1pdCBgcmVhZHlgXG4gICAgdGhpcy5faW5pdCgpO1xuXG4gICAgLyoqXG4gICAgICogVE9ETzogZG9jdW1lbnRcbiAgICAgKi9cbiAgICB0aGlzLmZpcmVJbml0aWFsID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHRoaXMubG9jYWwpIHtcbiAgICAgICAgc2V0VGltZW91dCh0aGlzLmxvY2FsLmZpcmVJbml0aWFsLmJpbmQodGhpcy5sb2NhbCksIDApO1xuICAgICAgfVxuICAgIH0uYmluZCh0aGlzKTtcblxuICAgIHRoaXMub24oJ3JlYWR5JywgdGhpcy5maXJlSW5pdGlhbC5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLmxvYWRNb2R1bGVzKCk7XG4gIH1cblxuICAvLyBGSVhNRTogSW5zdGVhZCBvZiBkb2luZyB0aGlzLCB3b3VsZCBiZSBiZXR0ZXIgdG8gb25seVxuICAvLyBleHBvcnQgc2V0QXV0aFVSTCAvIGdldEF1dGhVUkwgZnJvbSBSZW1vdGVTdG9yYWdlIHByb3RvdHlwZVxuICBzdGF0aWMgQXV0aG9yaXplID0gQXV0aG9yaXplO1xuXG4gIHN0YXRpYyBTeW5jRXJyb3IgPSBTeW5jRXJyb3I7XG4gIHN0YXRpYyBVbmF1dGhvcml6ZWQgPSBVbmF1dGhvcml6ZWRFcnJvcjtcbiAgc3RhdGljIERpc2NvdmVyeUVycm9yID0gRGlzY292ZXIuRGlzY292ZXJ5RXJyb3I7XG4gIHN0YXRpYyB1dGlsID0gdXRpbDtcblxuICAvKipcbiAgICogTG9hZCBhbGwgbW9kdWxlcyBwYXNzZWQgYXMgYXJndW1lbnRzXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBsb2FkTW9kdWxlcygpOiB2b2lkIHtcbiAgICBjb25maWcubW9kdWxlcy5mb3JFYWNoKHRoaXMuYWRkTW9kdWxlLmJpbmQodGhpcykpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYXRlIHRoZSBPQXV0aCBhdXRob3JpemF0aW9uIGZsb3cuXG4gICAqXG4gICAqIFRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIGJ5IGN1c3RvbSBzdG9yYWdlIGJhY2tlbmQgaW1wbGVtZW50YXRpb25zXG4gICAqIChlLmcuIERyb3Bib3ggb3IgR29vZ2xlIERyaXZlKS5cbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnNcbiAgICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMuYXV0aFVSTCAtIFVSTCBvZiB0aGUgYXV0aG9yaXphdGlvbiBlbmRwb2ludFxuICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuc2NvcGVdIC0gYWNjZXNzIHNjb3BlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5jbGllbnRJZF0gLSBjbGllbnQgaWRlbnRpZmllciAoZGVmYXVsdHMgdG8gdGhlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW4gb2YgdGhlIHJlZGlyZWN0VXJpKVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgYXV0aG9yaXplIChvcHRpb25zOiB7IGF1dGhVUkw6IHN0cmluZzsgc2NvcGU/OiBzdHJpbmc7IGNsaWVudElkPzogc3RyaW5nOyByZWRpcmVjdFVyaT86IHN0cmluZyB9KTogdm9pZCB7XG4gICAgdGhpcy5hY2Nlc3Muc2V0U3RvcmFnZVR5cGUodGhpcy5yZW1vdGUuc3RvcmFnZUFwaSk7XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLnNjb3BlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgb3B0aW9ucy5zY29wZSA9IHRoaXMuYWNjZXNzLnNjb3BlUGFyYW1ldGVyO1xuICAgIH1cblxuICAgIG9wdGlvbnMucmVkaXJlY3RVcmkgPSBnbG9iYWxDb250ZXh0LmNvcmRvdmEgPyBjb25maWcuY29yZG92YVJlZGlyZWN0VXJpIDogU3RyaW5nKEF1dGhvcml6ZS5nZXRMb2NhdGlvbigpKTtcblxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5jbGllbnRJZCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIG9wdGlvbnMuY2xpZW50SWQgPSBvcHRpb25zLnJlZGlyZWN0VXJpLm1hdGNoKC9eKGh0dHBzPzpcXC9cXC9bXi9dKykvKVswXTtcbiAgICB9XG5cbiAgICBBdXRob3JpemUuYXV0aG9yaXplKHRoaXMsIG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRPRE86IGRvY3VtZW50XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBpbXBsaWVkYXV0aCAoc3RvcmFnZUFwaT86IHN0cmluZywgcmVkaXJlY3RVcmk/OiBzdHJpbmcpOiB2b2lkIHtcbiAgICAvLyBUT0RPIHNob3VsZG4ndCB0aGVzZSBiZSBkZWZhdWx0IGFyZ3VtZW50IHZhbHVlcz9cbiAgICBzdG9yYWdlQXBpID0gc3RvcmFnZUFwaSB8fCB0aGlzLnJlbW90ZS5zdG9yYWdlQXBpO1xuICAgIHJlZGlyZWN0VXJpID0gcmVkaXJlY3RVcmkgfHwgU3RyaW5nKGRvY3VtZW50LmxvY2F0aW9uKTtcblxuICAgIGxvZygnSW1wbGllZEF1dGggcHJvY2VlZGluZyBkdWUgdG8gYWJzZW50IGF1dGhVUkw7IHN0b3JhZ2VBcGkgPSAnICsgc3RvcmFnZUFwaSArICcgcmVkaXJlY3RVcmkgPSAnICsgcmVkaXJlY3RVcmkpO1xuICAgIC8vIFNldCBhIGZpeGVkIGFjY2VzcyB0b2tlbiwgc2lnbmFsbGluZyB0byBub3Qgc2VuZCBpdCBhcyBCZWFyZXJcbiAgICB0aGlzLnJlbW90ZS5jb25maWd1cmUoe1xuICAgICAgdG9rZW46IEF1dGhvcml6ZS5JTVBMSUVEX0ZBS0VfVE9LRU5cbiAgICB9KTtcbiAgICBkb2N1bWVudC5sb2NhdGlvbi5ocmVmID0gcmVkaXJlY3RVcmk7XG4gIH1cblxuICAvKipcbiAgICogQHByb3BlcnR5IHtvYmplY3R9IHJlbW90ZVxuICAgKlxuICAgKiBEZXBlbmRpbmcgb24gdGhlIGNob3NlbiBiYWNrZW5kLCB0aGlzIGlzIGVpdGhlciBhbiBpbnN0YW5jZSBvZiBgYFdpcmVDbGllbnRgYCxcbiAgICogYGBEcm9wYm94YGAgb3IgYGBHb29nbGVEcml2ZWBgLlxuICAgKlxuICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IHJlbW90ZS5jb25uZWN0ZWQgLSBXaGV0aGVyIG9yIG5vdCBhIHJlbW90ZSBzdG9yZSBpcyBjb25uZWN0ZWRcbiAgICogQHByb3BlcnR5IHtib29sZWFufSByZW1vdGUub25saW5lIC0gV2hldGhlciBsYXN0IHN5bmMgYWN0aW9uIHdhcyBzdWNjZXNzZnVsIG9yIG5vdFxuICAgKiBAcHJvcGVydHkge3N0cmluZ30gcmVtb3RlLnVzZXJBZGRyZXNzIC0gVGhlIHVzZXIgYWRkcmVzcyBvZiB0aGUgY29ubmVjdGVkIHVzZXJcbiAgICogQHByb3BlcnR5IHtzdHJpbmd9IHJlbW90ZS5wcm9wZXJ0aWVzIC0gVGhlIHByb3BlcnRpZXMgb2YgdGhlIFdlYkZpbmdlciBsaW5rXG4gICAqL1xuXG4gIC8qKlxuICAgKiBDb25uZWN0IHRvIGEgcmVtb3RlU3RvcmFnZSBzZXJ2ZXIuXG4gICAqXG4gICAqIERpc2NvdmVycyB0aGUgV2ViRmluZ2VyIHByb2ZpbGUgb2YgdGhlIGdpdmVuIHVzZXIgYWRkcmVzcyBhbmQgaW5pdGlhdGVzXG4gICAqIHRoZSBPQXV0aCBkYW5jZS5cbiAgICpcbiAgICogVGhpcyBtZXRob2QgbXVzdCBiZSBjYWxsZWQgKmFmdGVyKiBhbGwgcmVxdWlyZWQgYWNjZXNzIGhhcyBiZWVuIGNsYWltZWQuXG4gICAqIFdoZW4gdXNpbmcgdGhlIGNvbm5lY3Qgd2lkZ2V0LCBpdCB3aWxsIGNhbGwgdGhpcyBtZXRob2QgaXRzZWxmLlxuICAgKlxuICAgKiBTcGVjaWFsIGNhc2VzOlxuICAgKlxuICAgKiAxLiBJZiBhIGJlYXJlciB0b2tlbiBpcyBzdXBwbGllZCBhcyBzZWNvbmQgYXJndW1lbnQsIHRoZSBPQXV0aCBkYW5jZVxuICAgKiAgICB3aWxsIGJlIHNraXBwZWQgYW5kIHRoZSBzdXBwbGllZCB0b2tlbiBiZSB1c2VkIGluc3RlYWQuIFRoaXMgaXNcbiAgICogICAgdXNlZnVsIG91dHNpZGUgb2YgYnJvd3NlciBlbnZpcm9ubWVudHMsIHdoZXJlIHRoZSB0b2tlbiBoYXMgYmVlblxuICAgKiAgICBhY3F1aXJlZCBpbiBhIGRpZmZlcmVudCB3YXkuXG4gICAqXG4gICAqIDIuIElmIHRoZSBXZWJmaW5nZXIgcHJvZmlsZSBmb3IgdGhlIGdpdmVuIHVzZXIgYWRkcmVzcyBkb2Vzbid0IGNvbnRhaW5cbiAgICogICAgYW4gYXV0aCBVUkwsIHRoZSBsaWJyYXJ5IHdpbGwgYXNzdW1lIHRoYXQgY2xpZW50IGFuZCBzZXJ2ZXIgaGF2ZVxuICAgKiAgICBlc3RhYmxpc2hlZCBhdXRob3JpemF0aW9uIGFtb25nIHRoZW1zZWx2ZXMsIHdoaWNoIHdpbGwgb21pdCBiZWFyZXJcbiAgICogICAgdG9rZW5zIGluIGFsbCByZXF1ZXN0cyBsYXRlciBvbi4gVGhpcyBpcyB1c2VmdWwgZm9yIGV4YW1wbGUgd2hlbiB1c2luZ1xuICAgKiAgICBLZXJiZXJvcyBhbmQgc2ltaWxhciBwcm90b2NvbHMuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1c2VyQWRkcmVzcyAtIFRoZSB1c2VyIGFkZHJlc3MgKHVzZXJAaG9zdCkgdG8gY29ubmVjdCB0by5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHRva2VuICAgICAgIC0gKG9wdGlvbmFsKSBBIGJlYXJlciB0b2tlbiBhY3F1aXJlZCBiZWZvcmVoYW5kXG4gICAqL1xuICBjb25uZWN0ICh1c2VyQWRkcmVzczogc3RyaW5nLCB0b2tlbj86IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMuc2V0QmFja2VuZCgncmVtb3Rlc3RvcmFnZScpO1xuICAgIGlmICh1c2VyQWRkcmVzcy5pbmRleE9mKCdAJykgPCAwKSB7XG4gICAgICB0aGlzLl9lbWl0KCdlcnJvcicsIG5ldyBSZW1vdGVTdG9yYWdlLkRpc2NvdmVyeUVycm9yKFwiVXNlciBhZGRyZXNzIGRvZXNuJ3QgY29udGFpbiBhbiBALlwiKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGdsb2JhbENvbnRleHQuY29yZG92YSkge1xuICAgICAgaWYgKHR5cGVvZiBjb25maWcuY29yZG92YVJlZGlyZWN0VXJpICE9PSAnc3RyaW5nJykge1xuICAgICAgICB0aGlzLl9lbWl0KCdlcnJvcicsIG5ldyBSZW1vdGVTdG9yYWdlLkRpc2NvdmVyeUVycm9yKFwiUGxlYXNlIHN1cHBseSBhIGN1c3RvbSBIVFRQUyByZWRpcmVjdCBVUkkgZm9yIHlvdXIgQ29yZG92YSBhcHBcIikpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIWdsb2JhbENvbnRleHQuY29yZG92YS5JbkFwcEJyb3dzZXIpIHtcbiAgICAgICAgdGhpcy5fZW1pdCgnZXJyb3InLCBuZXcgUmVtb3RlU3RvcmFnZS5EaXNjb3ZlcnlFcnJvcihcIlBsZWFzZSBpbmNsdWRlIHRoZSBJbkFwcEJyb3dzZXIgQ29yZG92YSBwbHVnaW4gdG8gZW5hYmxlIE9BdXRoXCIpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMucmVtb3RlLmNvbmZpZ3VyZSh7XG4gICAgICB1c2VyQWRkcmVzczogdXNlckFkZHJlc3NcbiAgICB9KTtcbiAgICB0aGlzLl9lbWl0KCdjb25uZWN0aW5nJyk7XG5cbiAgICBjb25zdCBkaXNjb3ZlcnlUaW1lb3V0ID0gc2V0VGltZW91dCgoKTogdm9pZCA9PiB7XG4gICAgICB0aGlzLl9lbWl0KCdlcnJvcicsIG5ldyBSZW1vdGVTdG9yYWdlLkRpc2NvdmVyeUVycm9yKFwiTm8gc3RvcmFnZSBpbmZvcm1hdGlvbiBmb3VuZCBmb3IgdGhpcyB1c2VyIGFkZHJlc3MuXCIpKTtcbiAgICB9LCBjb25maWcuZGlzY292ZXJ5VGltZW91dCk7XG5cbiAgICBEaXNjb3Zlcih1c2VyQWRkcmVzcykudGhlbigoaW5mbzogU3RvcmFnZUluZm8pOiB2b2lkID0+IHtcbiAgICAgIGNsZWFyVGltZW91dChkaXNjb3ZlcnlUaW1lb3V0KTtcbiAgICAgIHRoaXMuX2VtaXQoJ2F1dGhpbmcnKTtcbiAgICAgIGluZm8udXNlckFkZHJlc3MgPSB1c2VyQWRkcmVzcztcbiAgICAgIHRoaXMucmVtb3RlLmNvbmZpZ3VyZShpbmZvKTtcbiAgICAgIGlmICghIHRoaXMucmVtb3RlLmNvbm5lY3RlZCkge1xuICAgICAgICBpZiAoaW5mby5hdXRoVVJMKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiB0b2tlbiA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIC8vIE5vcm1hbCBhdXRob3JpemF0aW9uIHN0ZXA7IHRoZSBkZWZhdWx0IHdheSB0byBjb25uZWN0XG4gICAgICAgICAgICB0aGlzLmF1dGhvcml6ZSh7IGF1dGhVUkw6IGluZm8uYXV0aFVSTCB9KTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB0b2tlbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIC8vIFRva2VuIHN1cHBsaWVkIGRpcmVjdGx5IGJ5IGFwcC9kZXZlbG9wZXIvdXNlclxuICAgICAgICAgICAgbG9nKCdTa2lwcGluZyBhdXRob3JpemF0aW9uIHNlcXVlbmNlIGFuZCBjb25uZWN0aW5nIHdpdGgga25vd24gdG9rZW4nKTtcbiAgICAgICAgICAgIHRoaXMucmVtb3RlLmNvbmZpZ3VyZSh7IHRva2VuOiB0b2tlbiB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU3VwcGxpZWQgYmVhcmVyIHRva2VuIG11c3QgYmUgYSBzdHJpbmdcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIEluIGxpZXUgb2YgYW4gZXhjcGxpY2l0IGF1dGhVUkwsIGFzc3VtZSB0aGF0IHRoZSBicm93c2VyIGFuZFxuICAgICAgICAgIC8vIHNlcnZlciBoYW5kbGUgYW55IGF1dGhvcml6YXRpb24gbmVlZHM7IGZvciBpbnN0YW5jZSwgVExTIG1heVxuICAgICAgICAgIC8vIHRyaWdnZXIgdGhlIGJyb3dzZXIgdG8gdXNlIGEgY2xpZW50IGNlcnRpZmljYXRlLCBvciBhIDQwMSBOb3RcbiAgICAgICAgICAvLyBBdXRob3JpemVkIHJlc3BvbnNlIG1heSBtYWtlIHRoZSBicm93c2VyIHNlbmQgYSBLZXJiZXJvcyB0aWNrZXRcbiAgICAgICAgICAvLyB1c2luZyB0aGUgU1BORUdPIG1ldGhvZC5cbiAgICAgICAgICB0aGlzLmltcGxpZWRhdXRoKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCAoLyplcnIqLykgPT4ge1xuICAgICAgY2xlYXJUaW1lb3V0KGRpc2NvdmVyeVRpbWVvdXQpO1xuICAgICAgdGhpcy5fZW1pdCgnZXJyb3InLCBuZXcgUmVtb3RlU3RvcmFnZS5EaXNjb3ZlcnlFcnJvcihcIk5vIHN0b3JhZ2UgaW5mb3JtYXRpb24gZm91bmQgZm9yIHRoaXMgdXNlciBhZGRyZXNzLlwiKSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmVjb25uZWN0IHRoZSByZW1vdGUgc2VydmVyIHRvIGdldCBhIG5ldyBhdXRob3JpemF0aW9uLlxuICAgKi9cbiAgcmVjb25uZWN0ICgpOiB2b2lkIHtcbiAgICB0aGlzLnJlbW90ZS5jb25maWd1cmUoeyB0b2tlbjogbnVsbCB9KTtcblxuICAgIGlmICh0aGlzLmJhY2tlbmQgPT09ICdyZW1vdGVzdG9yYWdlJykge1xuICAgICAgdGhpcy5jb25uZWN0KHRoaXMucmVtb3RlLnVzZXJBZGRyZXNzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5yZW1vdGUuY29ubmVjdCgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBcIkRpc2Nvbm5lY3RcIiBmcm9tIHJlbW90ZSBzZXJ2ZXIgdG8gdGVybWluYXRlIGN1cnJlbnQgc2Vzc2lvbi5cbiAgICpcbiAgICogVGhpcyBtZXRob2QgY2xlYXJzIGFsbCBzdG9yZWQgc2V0dGluZ3MgYW5kIGRlbGV0ZXMgdGhlIGVudGlyZSBsb2NhbFxuICAgKiBjYWNoZS5cbiAgICovXG4gIGRpc2Nvbm5lY3QgKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLnJlbW90ZSkge1xuICAgICAgdGhpcy5yZW1vdGUuY29uZmlndXJlKHtcbiAgICAgICAgdXNlckFkZHJlc3M6IG51bGwsXG4gICAgICAgIGhyZWY6IG51bGwsXG4gICAgICAgIHN0b3JhZ2VBcGk6IG51bGwsXG4gICAgICAgIHRva2VuOiBudWxsLFxuICAgICAgICBwcm9wZXJ0aWVzOiBudWxsXG4gICAgICB9KTtcbiAgICB9XG4gICAgdGhpcy5fc2V0R1BEKHtcbiAgICAgIGdldDogdGhpcy5fcGVuZGluZ0dQRCgnZ2V0JyksXG4gICAgICBwdXQ6IHRoaXMuX3BlbmRpbmdHUEQoJ3B1dCcpLFxuICAgICAgZGVsZXRlOiB0aGlzLl9wZW5kaW5nR1BEKCdkZWxldGUnKVxuICAgIH0pO1xuICAgIGNvbnN0IG4gPSB0aGlzLl9jbGVhbnVwcy5sZW5ndGg7XG4gICAgbGV0IGkgPSAwO1xuXG4gICAgY29uc3Qgb25lRG9uZSA9ICgpOiB2b2lkID0+IHtcbiAgICAgIGkrKztcbiAgICAgIGlmIChpID49IG4pIHtcbiAgICAgICAgdGhpcy5faW5pdCgpO1xuICAgICAgICAvLyBGSVhNRSBSZS1lbmFibGUgd2hlbiBtb2R1bGVzIGFyZSBhbGwgaW1wb3J0c1xuICAgICAgICAvLyBsb2coJ0RvbmUgY2xlYW5pbmcgdXAsIGVtaXR0aW5nIGRpc2Nvbm5lY3RlZCBhbmQgZGlzY29ubmVjdCBldmVudHMnKTtcbiAgICAgICAgdGhpcy5fZW1pdCgnZGlzY29ubmVjdGVkJyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGlmIChuID4gMCkge1xuICAgICAgdGhpcy5fY2xlYW51cHMuZm9yRWFjaCgoY2xlYW51cDogRnVuY3Rpb24pID0+IHtcbiAgICAgICAgY29uc3QgY2xlYW51cFJlc3VsdCA9IGNsZWFudXAodGhpcyk7XG4gICAgICAgIGlmICh0eXBlb2YoY2xlYW51cFJlc3VsdCkgPT09ICdvYmplY3QnICYmIHR5cGVvZihjbGVhbnVwUmVzdWx0LnRoZW4pID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgY2xlYW51cFJlc3VsdC50aGVuKG9uZURvbmUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9uZURvbmUoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9uZURvbmUoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVE9ETzogZG9jdW1lbnRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHNldEJhY2tlbmQgKHdoYXQpOiB2b2lkIHtcbiAgICB0aGlzLmJhY2tlbmQgPSB3aGF0O1xuICAgIGlmIChoYXNMb2NhbFN0b3JhZ2UpIHtcbiAgICAgIGlmICh3aGF0KSB7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdyZW1vdGVzdG9yYWdlOmJhY2tlbmQnLCB3aGF0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdyZW1vdGVzdG9yYWdlOmJhY2tlbmQnKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQWRkIGEgXCJjaGFuZ2VcIiBldmVudCBoYW5kbGVyIHRvIHRoZSBnaXZlbiBwYXRoLiBXaGVuZXZlciBhIFwiY2hhbmdlXCJcbiAgICogaGFwcGVucyAoYXMgZGV0ZXJtaW5lZCBieSB0aGUgYmFja2VuZCwgc3VjaCBhcyBlLmcuXG4gICAqIDxSZW1vdGVTdG9yYWdlLkluZGV4ZWREQj4pIGFuZCB0aGUgYWZmZWN0ZWQgcGF0aCBpcyBlcXVhbCB0byBvciBiZWxvdyB0aGVcbiAgICogZ2l2ZW4gJ3BhdGgnLCB0aGUgZ2l2ZW4gaGFuZGxlciBpcyBjYWxsZWQuXG4gICAqXG4gICAqIFlvdSBzaG91bGQgdXN1YWxseSBub3QgdXNlIHRoaXMgbWV0aG9kIGRpcmVjdGx5LCBidXQgaW5zdGVhZCB1c2UgdGhlXG4gICAqIFwiY2hhbmdlXCIgZXZlbnRzIHByb3ZpZGVkIGJ5IDpkb2M6YEJhc2VDbGllbnQgPC9qcy1hcGkvYmFzZS1jbGllbnQ+YFxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCAtIEFic29sdXRlIHBhdGggdG8gYXR0YWNoIGhhbmRsZXIgdG9cbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gaGFuZGxlciAtIEhhbmRsZXIgZnVuY3Rpb25cbiAgICovXG4gIG9uQ2hhbmdlIChwYXRoOiBzdHJpbmcsIGhhbmRsZXI6IEZ1bmN0aW9uKTogdm9pZCB7XG4gICAgaWYgKCEgdGhpcy5fcGF0aEhhbmRsZXJzLmNoYW5nZVtwYXRoXSkge1xuICAgICAgdGhpcy5fcGF0aEhhbmRsZXJzLmNoYW5nZVtwYXRoXSA9IFtdO1xuICAgIH1cbiAgICB0aGlzLl9wYXRoSGFuZGxlcnMuY2hhbmdlW3BhdGhdLnB1c2goaGFuZGxlcik7XG4gIH1cblxuICAvKipcbiAgICogVE9ETzogZG8gd2Ugc3RpbGwgbmVlZCB0aGlzLCBub3cgdGhhdCB3ZSBhbHdheXMgaW5zdGFudGlhdGUgdGhlIHByb3RvdHlwZT9cbiAgICpcbiAgICogRW5hYmxlIHJlbW90ZVN0b3JhZ2UgbG9nZ2luZy5cbiAgICovXG4gIGVuYWJsZUxvZyAoKTogdm9pZCB7XG4gICAgY29uZmlnLmxvZ2dpbmcgPSB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIFRPRE86IGRvIHdlIHN0aWxsIG5lZWQgdGhpcywgbm93IHRoYXQgd2UgYWx3YXlzIGluc3RhbnRpYXRlIHRoZSBwcm90b3R5cGU/XG4gICAqXG4gICAqIERpc2FibGUgcmVtb3RlU3RvcmFnZSBsb2dnaW5nXG4gICAqL1xuICBkaXNhYmxlTG9nICgpOiB2b2lkIHtcbiAgICBjb25maWcubG9nZ2luZyA9IGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIGxvZ1xuICAgKlxuICAgKiBUaGUgc2FtZSBhcyA8UmVtb3RlU3RvcmFnZS5sb2c+LlxuICAgKi9cbiAgbG9nICguLi5hcmdzKTogdm9pZCB7XG4gICAgbG9nLmFwcGx5KFJlbW90ZVN0b3JhZ2UsIGFyZ3MpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgT0F1dGgga2V5L0lEIGZvciBlaXRoZXIgR29vZ2xlRHJpdmUgb3IgRHJvcGJveCBiYWNrZW5kIHN1cHBvcnQuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhcGlLZXlzIC0gQSBjb25maWcgb2JqZWN0IHdpdGggdGhlc2UgcHJvcGVydGllczpcbiAgICogQHBhcmFtIHtzdHJpbmd9IFthcGlLZXlzLnR5cGVdIC0gQmFja2VuZCB0eXBlOiAnZ29vZ2xlZHJpdmUnIG9yICdkcm9wYm94J1xuICAgKiBAcGFyYW0ge3N0cmluZ30gW2FwaUtleXMua2V5XSAtIENsaWVudCBJRCBmb3IgR29vZ2xlRHJpdmUsIG9yIGFwcCBrZXkgZm9yIERyb3Bib3hcbiAgICovXG4gIHNldEFwaUtleXMgKGFwaUtleXM6IHsgdHlwZTogc3RyaW5nOyBrZXk6IHN0cmluZyB9KTogdm9pZCB8IGJvb2xlYW4ge1xuICAgIGNvbnN0IHZhbGlkVHlwZXMgPSBbJ2dvb2dsZWRyaXZlJywgJ2Ryb3Bib3gnXTtcbiAgICBpZiAodHlwZW9mIGFwaUtleXMgIT09ICdvYmplY3QnIHx8ICFPYmplY3Qua2V5cyhhcGlLZXlzKS5ldmVyeSh0eXBlID0+IHZhbGlkVHlwZXMuaW5jbHVkZXModHlwZSkpKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdzZXRBcGlLZXlzKCkgd2FzIGNhbGxlZCB3aXRoIGludmFsaWQgYXJndW1lbnRzJykgO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIE9iamVjdC5rZXlzKGFwaUtleXMpLmZvckVhY2godHlwZSA9PiB7XG4gICAgICBjb25zdCBrZXkgPSBhcGlLZXlzW3R5cGVdO1xuICAgICAgaWYgKCFrZXkpIHsgZGVsZXRlIHRoaXMuYXBpS2V5c1t0eXBlXTsgcmV0dXJuOyB9XG5cbiAgICAgIHN3aXRjaCh0eXBlKSB7XG4gICAgICAgIGNhc2UgJ2Ryb3Bib3gnOlxuICAgICAgICAgIHRoaXMuYXBpS2V5c1snZHJvcGJveCddID0geyBhcHBLZXk6IGtleSB9O1xuICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5kcm9wYm94ID09PSAndW5kZWZpbmVkJyB8fFxuICAgICAgICAgICAgICB0aGlzLmRyb3Bib3guY2xpZW50SWQgIT09IGtleSkge1xuICAgICAgICAgICAgRHJvcGJveC5fcnNfaW5pdCh0aGlzKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2dvb2dsZWRyaXZlJzpcbiAgICAgICAgICB0aGlzLmFwaUtleXNbJ2dvb2dsZWRyaXZlJ10gPSB7IGNsaWVudElkOiBrZXkgfTtcbiAgICAgICAgICBpZiAodHlwZW9mIHRoaXMuZ29vZ2xlZHJpdmUgPT09ICd1bmRlZmluZWQnIHx8XG4gICAgICAgICAgICB0aGlzLmdvb2dsZWRyaXZlLmNsaWVudElkICE9PSBrZXkpIHtcbiAgICAgICAgICAgIEdvb2dsZURyaXZlLl9yc19pbml0KHRoaXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0pO1xuXG4gICAgaWYgKGhhc0xvY2FsU3RvcmFnZSkge1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3JlbW90ZXN0b3JhZ2U6YXBpLWtleXMnLCBKU09OLnN0cmluZ2lmeSh0aGlzLmFwaUtleXMpKTtcbiAgICB9XG5cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgcmVkaXJlY3QgVVJJIHRvIGJlIHVzZWQgZm9yIHRoZSBPQXV0aCByZWRpcmVjdCB3aXRoaW4gdGhlXG4gICAqIGluLWFwcC1icm93c2VyIHdpbmRvdyBpbiBDb3Jkb3ZhIGFwcHMuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1cmkgLSBBIHZhbGlkIEhUVFAoUykgVVJJXG4gICAqL1xuICBzZXRDb3Jkb3ZhUmVkaXJlY3RVcmkgKHVyaTogdW5rbm93bik6IHZvaWQge1xuICAgIGlmICh0eXBlb2YgdXJpICE9PSAnc3RyaW5nJyB8fCAhdXJpLm1hdGNoKC9odHRwKHMpPzpcXC9cXC8vKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ29yZG92YSByZWRpcmVjdCBVUkkgbXVzdCBiZSBhIFVSSSBzdHJpbmdcIik7XG4gICAgfVxuICAgIGNvbmZpZy5jb3Jkb3ZhUmVkaXJlY3RVcmkgPSB1cmk7XG4gIH1cblxuICAvL1xuICAvLyBGRUFUVVJFUyBJTklUSUFMSVpBVElPTlxuICAvL1xuXG4gIF9pbml0ID0gRmVhdHVyZXMubG9hZEZlYXR1cmVzO1xuICBmZWF0dXJlcyA9IEZlYXR1cmVzLmZlYXR1cmVzO1xuICBsb2FkRmVhdHVyZSA9IEZlYXR1cmVzLmxvYWRGZWF0dXJlO1xuICBmZWF0dXJlU3VwcG9ydGVkID0gRmVhdHVyZXMuZmVhdHVyZVN1cHBvcnRlZDtcbiAgZmVhdHVyZURvbmUgPSBGZWF0dXJlcy5mZWF0dXJlRG9uZTtcbiAgZmVhdHVyZXNEb25lID0gRmVhdHVyZXMuZmVhdHVyZXNEb25lO1xuICBmZWF0dXJlc0xvYWRlZCA9IEZlYXR1cmVzLmZlYXR1cmVzTG9hZGVkO1xuICBmZWF0dXJlSW5pdGlhbGl6ZWQgPSBGZWF0dXJlcy5mZWF0dXJlSW5pdGlhbGl6ZWQ7XG4gIGZlYXR1cmVGYWlsZWQgPSBGZWF0dXJlcy5mZWF0dXJlRmFpbGVkO1xuICBoYXNGZWF0dXJlID0gRmVhdHVyZXMuaGFzRmVhdHVyZTtcbiAgX3NldENhY2hpbmdNb2R1bGUgPSBGZWF0dXJlcy5fc2V0Q2FjaGluZ01vZHVsZTtcbiAgX2NvbGxlY3RDbGVhbnVwRnVuY3Rpb25zID0gRmVhdHVyZXMuX2NvbGxlY3RDbGVhbnVwRnVuY3Rpb25zO1xuICBfZmlyZVJlYWR5ID0gRmVhdHVyZXMuX2ZpcmVSZWFkeTtcbiAgaW5pdEZlYXR1cmUgPSBGZWF0dXJlcy5pbml0RmVhdHVyZTtcblxuICAvL1xuICAvLyBHRVQvUFVUL0RFTEVURSBJTlRFUkZBQ0UgSEVMUEVSU1xuICAvL1xuXG4gIC8qKlxuICAgKiBUT0RPOiBkb2N1bWVudFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3NldEdQRCAoaW1wbCwgY29udGV4dD8pIHtcbiAgICBmdW5jdGlvbiB3cmFwKGZ1bmMpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoLi4uYXJncykge1xuICAgICAgICByZXR1cm4gZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKVxuICAgICAgICAgIC50aGVuKGVtaXRVbmF1dGhvcml6ZWQuYmluZCh0aGlzKSk7XG4gICAgICB9O1xuICAgIH1cbiAgICB0aGlzLmdldCA9IHdyYXAoaW1wbC5nZXQpO1xuICAgIHRoaXMucHV0ID0gd3JhcChpbXBsLnB1dCk7XG4gICAgdGhpcy5kZWxldGUgPSB3cmFwKGltcGwuZGVsZXRlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUT0RPOiBkb2N1bWVudFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3BlbmRpbmdHUEQgKG1ldGhvZE5hbWUpOiBGdW5jdGlvbiB7XG4gICAgcmV0dXJuICguLi5hcmdzKSA9PiB7XG4gICAgICBjb25zdCBtZXRob2RBcmd1bWVudHMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmdzKTtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIHRoaXMuX3BlbmRpbmcucHVzaCh7XG4gICAgICAgICAgbWV0aG9kOiBtZXRob2ROYW1lLFxuICAgICAgICAgIGFyZ3M6IG1ldGhvZEFyZ3VtZW50cyxcbiAgICAgICAgICBwcm9taXNlOiB7XG4gICAgICAgICAgICByZXNvbHZlOiByZXNvbHZlLFxuICAgICAgICAgICAgcmVqZWN0OiByZWplY3RcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUT0RPOiBkb2N1bWVudFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3Byb2Nlc3NQZW5kaW5nICgpOiB2b2lkIHtcbiAgICB0aGlzLl9wZW5kaW5nLmZvckVhY2goKHBlbmRpbmcpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXNbcGVuZGluZy5tZXRob2RdKC4uLnBlbmRpbmcuYXJncykudGhlbihwZW5kaW5nLnByb21pc2UucmVzb2x2ZSwgcGVuZGluZy5wcm9taXNlLnJlamVjdCk7XG4gICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgcGVuZGluZy5wcm9taXNlLnJlamVjdChlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLl9wZW5kaW5nID0gW107XG4gIH1cblxuICAvL1xuICAvLyBDSEFOR0UgRVZFTlQgSEFORExJTkdcbiAgLy9cblxuICAvKipcbiAgICogVE9ETzogZG9jdW1lbnRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9iaW5kQ2hhbmdlIChvYmplY3Q6IHsgb246IEZ1bmN0aW9uIH0pOiB2b2lkIHtcbiAgICBvYmplY3Qub24oJ2NoYW5nZScsIHRoaXMuX2Rpc3BhdGNoRXZlbnQuYmluZCh0aGlzLCAnY2hhbmdlJykpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRPRE86IGRvY3VtZW50XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZGlzcGF0Y2hFdmVudCAoZXZlbnROYW1lOiBzdHJpbmcsIGV2ZW50KTogdm9pZCB7XG4gICAgT2JqZWN0LmtleXModGhpcy5fcGF0aEhhbmRsZXJzW2V2ZW50TmFtZV0pLmZvckVhY2goKHBhdGg6IHN0cmluZykgPT4ge1xuICAgICAgY29uc3QgcGwgPSBwYXRoLmxlbmd0aDtcbiAgICAgIGlmIChldmVudC5wYXRoLnN1YnN0cigwLCBwbCkgPT09IHBhdGgpIHtcbiAgICAgICAgdGhpcy5fcGF0aEhhbmRsZXJzW2V2ZW50TmFtZV1bcGF0aF0uZm9yRWFjaCgoaGFuZGxlcjogRnVuY3Rpb24pID0+IHtcbiAgICAgICAgICBjb25zdCBldjogeyByZWxhdGl2ZVBhdGg/OiBzdHJpbmcgfSA9IHt9O1xuICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIGV2ZW50KSB7IGV2W2tleV0gPSBldmVudFtrZXldOyB9XG4gICAgICAgICAgZXYucmVsYXRpdmVQYXRoID0gZXZlbnQucGF0aC5yZXBsYWNlKG5ldyBSZWdFeHAoJ14nICsgcGF0aCksICcnKTtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgaGFuZGxlcihldik7XG4gICAgICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiJ2NoYW5nZScgaGFuZGxlciBmYWlsZWQ6IFwiLCBlLCBlLnN0YWNrKTtcbiAgICAgICAgICAgIHRoaXMuX2VtaXQoJ2Vycm9yJywgZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIG1ldGhvZCBlbmFibGVzIHlvdSB0byBxdWlja2x5IGluc3RhbnRpYXRlIGEgQmFzZUNsaWVudCwgd2hpY2ggeW91IGNhblxuICAgKiB1c2UgdG8gZGlyZWN0bHkgcmVhZCBhbmQgbWFuaXB1bGF0ZSBkYXRhIGluIHRoZSBjb25uZWN0ZWQgc3RvcmFnZSBhY2NvdW50LlxuICAgKlxuICAgKiBQbGVhc2UgdXNlIHRoaXMgbWV0aG9kIG9ubHkgZm9yIGRlYnVnZ2luZyBhbmQgZGV2ZWxvcG1lbnQsIGFuZCBjaG9vc2Ugb3JcbiAgICogY3JlYXRlIGEgOmRvYzpgZGF0YSBtb2R1bGUgPC9kYXRhLW1vZHVsZXM+YCBmb3IgeW91ciBhcHAgdG8gdXNlLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCAtIFRoZSBiYXNlIGRpcmVjdG9yeSBvZiB0aGUgQmFzZUNsaWVudCB0aGF0IHdpbGwgYmVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuZWQgKHdpdGggYSBsZWFkaW5nIGFuZCBhIHRyYWlsaW5nIHNsYXNoKVxuICAgKlxuICAgKiBAcmV0dXJucyB7QmFzZUNsaWVudH0gQSBjbGllbnQgd2l0aCB0aGUgc3BlY2lmaWVkIHNjb3BlIChjYXRlZ29yeS9iYXNlIGRpcmVjdG9yeSlcbiAgICovXG4gIHNjb3BlIChwYXRoOiBzdHJpbmcpOiBGdW5jdGlvbiB7XG4gICAgaWYgKHR5cGVvZihwYXRoKSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93ICdBcmd1bWVudCBcXCdwYXRoXFwnIG9mIGJhc2VDbGllbnQuc2NvcGUgbXVzdCBiZSBhIHN0cmluZyc7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLmFjY2Vzcy5jaGVja1BhdGhQZXJtaXNzaW9uKHBhdGgsICdyJykpIHtcbiAgICAgIGNvbnN0IGVzY2FwZWRQYXRoID0gcGF0aC5yZXBsYWNlKC8oWydcXFxcXSkvZywgJ1xcXFwkMScpO1xuICAgICAgY29uc29sZS53YXJuKCdXQVJOSU5HOiBwbGVhc2UgY2FsbCByZW1vdGVTdG9yYWdlLmFjY2Vzcy5jbGFpbShcXCcnICsgZXNjYXBlZFBhdGggKyAnXFwnLCBcXCdyXFwnKSAocmVhZCBvbmx5KSBvciByZW1vdGVTdG9yYWdlLmFjY2Vzcy5jbGFpbShcXCcnICsgZXNjYXBlZFBhdGggKyAnXFwnLCBcXCdyd1xcJykgKHJlYWQvd3JpdGUpIGZpcnN0Jyk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgQmFzZUNsaWVudCh0aGlzLCBwYXRoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHZhbHVlIG9mIHRoZSBzeW5jIGludGVydmFsIHdoZW4gYXBwbGljYXRpb24gaXMgaW4gdGhlIGZvcmVncm91bmRcbiAgICpcbiAgICogQHJldHVybnMge251bWJlcn0gQSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzXG4gICAqL1xuICBnZXRTeW5jSW50ZXJ2YWwgKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIGNvbmZpZy5zeW5jSW50ZXJ2YWw7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSB2YWx1ZSBvZiB0aGUgc3luYyBpbnRlcnZhbCB3aGVuIGFwcGxpY2F0aW9uIGlzIGluIHRoZSBmb3JlZ3JvdW5kXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpbnRlcnZhbCAtIFN5bmMgaW50ZXJ2YWwgaW4gbWlsbGlzZWNvbmRzIChiZXR3ZWVuIDEwMDAgYW5kIDM2MDAwMDApXG4gICAqL1xuICBzZXRTeW5jSW50ZXJ2YWwgKGludGVydmFsOiB1bmtub3duKTogdm9pZCB7XG4gICAgaWYgKCFpc1ZhbGlkSW50ZXJ2YWwoaW50ZXJ2YWwpKSB7XG4gICAgICB0aHJvdyBpbnRlcnZhbCArIFwiIGlzIG5vdCBhIHZhbGlkIHN5bmMgaW50ZXJ2YWxcIjtcbiAgICB9XG4gICAgY29uc3Qgb2xkVmFsdWUgPSBjb25maWcuc3luY0ludGVydmFsO1xuICAgIGNvbmZpZy5zeW5jSW50ZXJ2YWwgPSBpbnRlcnZhbDtcbiAgICB0aGlzLl9lbWl0KCdzeW5jLWludGVydmFsLWNoYW5nZScsIHtvbGRWYWx1ZTogb2xkVmFsdWUsIG5ld1ZhbHVlOiBpbnRlcnZhbH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgdmFsdWUgb2YgdGhlIHN5bmMgaW50ZXJ2YWwgd2hlbiBhcHBsaWNhdGlvbiBpcyBpbiB0aGUgYmFja2dyb3VuZFxuICAgKlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBBIG51bWJlciBvZiBtaWxsaXNlY29uZHNcbiAgICovXG4gIGdldEJhY2tncm91bmRTeW5jSW50ZXJ2YWwgKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIGNvbmZpZy5iYWNrZ3JvdW5kU3luY0ludGVydmFsO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgdmFsdWUgb2YgdGhlIHN5bmMgaW50ZXJ2YWwgd2hlbiB0aGUgYXBwbGljYXRpb24gaXMgaW4gdGhlXG4gICAqIGJhY2tncm91bmRcbiAgICpcbiAgICogQHBhcmFtIGludGVydmFsIC0gU3luYyBpbnRlcnZhbCBpbiBtaWxsaXNlY29uZHMgKGJldHdlZW4gMTAwMCBhbmQgMzYwMDAwMClcbiAgICovXG4gIHNldEJhY2tncm91bmRTeW5jSW50ZXJ2YWwgKGludGVydmFsOiB1bmtub3duKTogdm9pZCB7XG4gICAgaWYgKCFpc1ZhbGlkSW50ZXJ2YWwoaW50ZXJ2YWwpKSB7XG4gICAgICB0aHJvdyBpbnRlcnZhbCArIFwiIGlzIG5vdCBhIHZhbGlkIHN5bmMgaW50ZXJ2YWxcIjtcbiAgICB9XG4gICAgY29uc3Qgb2xkVmFsdWUgPSBjb25maWcuYmFja2dyb3VuZFN5bmNJbnRlcnZhbDtcbiAgICBjb25maWcuYmFja2dyb3VuZFN5bmNJbnRlcnZhbCA9IGludGVydmFsO1xuICAgIHRoaXMuX2VtaXQoJ3N5bmMtaW50ZXJ2YWwtY2hhbmdlJywge29sZFZhbHVlOiBvbGRWYWx1ZSwgbmV3VmFsdWU6IGludGVydmFsfSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSB2YWx1ZSBvZiB0aGUgY3VycmVudCBzeW5jIGludGVydmFsLiBDYW4gYmUgYmFja2dyb3VuZCBvclxuICAgKiBmb3JlZ3JvdW5kLCBjdXN0b20gb3IgZGVmYXVsdC5cbiAgICpcbiAgICogQHJldHVybnMge251bWJlcn0gQSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzXG4gICAqL1xuICBnZXRDdXJyZW50U3luY0ludGVydmFsICgpOiBudW1iZXIge1xuICAgIHJldHVybiBjb25maWcuaXNCYWNrZ3JvdW5kID8gY29uZmlnLmJhY2tncm91bmRTeW5jSW50ZXJ2YWwgOiBjb25maWcuc3luY0ludGVydmFsO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgdmFsdWUgb2YgdGhlIGN1cnJlbnQgbmV0d29yayByZXF1ZXN0IHRpbWVvdXRcbiAgICpcbiAgICogQHJldHVybnMge251bWJlcn0gQSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzXG4gICAqL1xuICBnZXRSZXF1ZXN0VGltZW91dCAoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gY29uZmlnLnJlcXVlc3RUaW1lb3V0O1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgdGltZW91dCBmb3IgbmV0d29yayByZXF1ZXN0cy5cbiAgICpcbiAgICogQHBhcmFtIHRpbWVvdXQgLSBUaW1lb3V0IGluIG1pbGxpc2Vjb25kc1xuICAgKi9cbiAgc2V0UmVxdWVzdFRpbWVvdXQgKHRpbWVvdXQ6IHVua25vd24pOiB2b2lkIHtcbiAgICBpZiAodHlwZW9mIHRpbWVvdXQgIT09ICdudW1iZXInKSB7XG4gICAgICB0aHJvdyB0aW1lb3V0ICsgXCIgaXMgbm90IGEgdmFsaWQgcmVxdWVzdCB0aW1lb3V0XCI7XG4gICAgfVxuICAgIGNvbmZpZy5yZXF1ZXN0VGltZW91dCA9IHRpbWVvdXQ7XG4gIH1cblxuICAvKipcbiAgICogVE9ETzogZG9jdW1lbnRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHN5bmNDeWNsZSAoKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLnN5bmMgfHwgdGhpcy5zeW5jLnN0b3BwZWQpIHsgcmV0dXJuOyB9XG5cbiAgICB0aGlzLm9uKCdzeW5jLWRvbmUnLCAoKTogdm9pZCA9PiB7XG4gICAgICAvLyBGSVhNRSBSZS1lbmFibGUgd2hlbiBtb2R1bGVzIGFyZSBhbGwgaW1wb3J0c1xuICAgICAgLy8gbG9nKCdbU3luY10gU3luYyBkb25lLiBTZXR0aW5nIHRpbWVyIHRvJywgdGhpcy5nZXRDdXJyZW50U3luY0ludGVydmFsKCkpO1xuICAgICAgaWYgKHRoaXMuc3luYyAmJiAhdGhpcy5zeW5jLnN0b3BwZWQpIHtcbiAgICAgICAgaWYgKHRoaXMuX3N5bmNUaW1lcikge1xuICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9zeW5jVGltZXIpO1xuICAgICAgICAgIHRoaXMuX3N5bmNUaW1lciA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zeW5jVGltZXIgPSBzZXRUaW1lb3V0KHRoaXMuc3luYy5zeW5jLmJpbmQodGhpcy5zeW5jKSwgdGhpcy5nZXRDdXJyZW50U3luY0ludGVydmFsKCkpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5zeW5jLnN5bmMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdGFydCBzeW5jaHJvbml6YXRpb24gd2l0aCByZW1vdGUgc3RvcmFnZSwgZG93bmxvYWRpbmcgYW5kIHVwbG9hZGluZyBhbnlcbiAgICogY2hhbmdlcyB3aXRoaW4gdGhlIGNhY2hlZCBwYXRocy5cbiAgICpcbiAgICogUGxlYXNlIGNvbnNpZGVyOiBsb2NhbCBjaGFuZ2VzIHdpbGwgYXR0ZW1wdCBzeW5jIGltbWVkaWF0ZWx5LCBhbmQgcmVtb3RlXG4gICAqIGNoYW5nZXMgc2hvdWxkIGFsc28gYmUgc3luY2VkIHRpbWVseSB3aGVuIHVzaW5nIGxpYnJhcnkgZGVmYXVsdHMuIFNvXG4gICAqIHRoaXMgaXMgbW9zdGx5IHVzZWZ1bCBmb3IgbGV0dGluZyB1c2VycyBzeW5jIG1hbnVhbGx5LCB3aGVuIHByZXNzaW5nIGFcbiAgICogc3luYyBidXR0b24gZm9yIGV4YW1wbGUuIFRoaXMgbWlnaHQgZmVlbCBzYWZlciB0byB0aGVtIHNvbWV0aW1lcywgZXNwLlxuICAgKiB3aGVuIHNoaWZ0aW5nIGJldHdlZW4gb2ZmbGluZSBhbmQgb25saW5lIGEgbG90LlxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gQSBQcm9taXNlIHdoaWNoIHJlc29sdmVzIHdoZW4gdGhlIHN5bmMgaGFzIGZpbmlzaGVkXG4gICAqL1xuICBzdGFydFN5bmMgKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICghY29uZmlnLmNhY2hlKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ05vdGhpbmcgdG8gc3luYywgYmVjYXVzZSBjYWNoaW5nIGlzIGRpc2FibGVkLicpO1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbiAgICB0aGlzLnN5bmMuc3RvcHBlZCA9IGZhbHNlO1xuICAgIHRoaXMuc3luY1N0b3BwZWQgPSBmYWxzZTtcbiAgICByZXR1cm4gdGhpcy5zeW5jLnN5bmMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdG9wIHRoZSBwZXJpb2RpYyBzeW5jaHJvbml6YXRpb24uXG4gICAqL1xuICBzdG9wU3luYyAoKTogdm9pZCB7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMuX3N5bmNUaW1lcik7XG4gICAgdGhpcy5fc3luY1RpbWVyID0gdW5kZWZpbmVkO1xuXG4gICAgaWYgKHRoaXMuc3luYykge1xuICAgICAgLy8gRklYTUUgUmUtZW5hYmxlIHdoZW4gbW9kdWxlcyBhcmUgYWxsIGltcG9ydHNcbiAgICAgIC8vIGxvZygnW1N5bmNdIFN0b3BwaW5nIHN5bmMnKTtcbiAgICAgIHRoaXMuc3luYy5zdG9wcGVkID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVGhlIHN5bmMgY2xhc3MgaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkIHlldCwgc28gd2UgbWFrZSBzdXJlIGl0IHdpbGxcbiAgICAgIC8vIG5vdCBzdGFydCB0aGUgc3luY2luZyBwcm9jZXNzIGFzIHNvb24gYXMgaXQncyBpbml0aWFsaXplZC5cbiAgICAgIC8vIEZJWE1FIFJlLWVuYWJsZSB3aGVuIG1vZHVsZXMgYXJlIGFsbCBpbXBvcnRzXG4gICAgICAvLyBsb2coJ1tTeW5jXSBXaWxsIGluc3RhbnRpYXRlIHN5bmMgc3RvcHBlZCcpO1xuICAgICAgdGhpcy5zeW5jU3RvcHBlZCA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgLypcbiAgICogQWRkIHJlbW90ZVN0b3JhZ2UgZGF0YSBtb2R1bGVcbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IG1vZHVsZSAtIG1vZHVsZSBvYmplY3QgbmVlZHMgZm9sbG93aW5nIHByb3BlcmllczpcbiAgICogQHBhcmFtIHtzdHJpbmd9IFttb2R1bGUubmFtZV0gLSBOYW1lIG9mIHRoZSBtb2R1bGVcbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gW21vZHVsZS5idWlsZGVyXSAtIEJ1aWxkZXIgZnVuY3Rpb24gZGVmaW5pbmcgdGhlIG1vZHVsZVxuICAgKlxuICAgKiBUaGUgbW9kdWxlIGJ1aWxkZXIgZnVuY3Rpb24gc2hvdWxkIHJldHVybiBhbiBvYmplY3QgY29udGFpbmluZyBhbm90aGVyXG4gICAqIG9iamVjdCBjYWxsZWQgZXhwb3J0cywgd2hpY2ggd2lsbCBiZSBleHBvcnRlZCB0byB0aGlzIDxSZW1vdGVTdG9yYWdlPlxuICAgKiBpbnN0YW5jZSB1bmRlciB0aGUgbW9kdWxlJ3MgbmFtZS4gU28gd2hlbiBkZWZpbmluZyBhIGxvY2F0aW9ucyBtb2R1bGUsXG4gICAqIGxpa2UgaW4gdGhlIGV4YW1wbGUgYmVsb3csIGl0IHdvdWxkIGJlIGFjY2Vzc2libGUgdmlhXG4gICAqIGByZW1vdGVTdG9yYWdlLmxvY2F0aW9uc2AsIHdoaWNoIHdvdWxkIGluIHR1cm4gaGF2ZSBhIGBmZWF0dXJlc2AgYW5kIGFcbiAgICogYGNvbGxlY3Rpb25zYCBwcm9wZXJ0eS5cbiAgICpcbiAgICogVGhlIGZ1bmN0aW9uIHJlY2VpdmVzIGEgcHJpdmF0ZSBhbmQgYSBwdWJsaWMgY2xpZW50LCB3aGljaCBhcmUgYm90aFxuICAgKiBpbnN0YW5jZXMgb2YgPFJlbW90ZVN0b3JhZ2UuQmFzZUNsaWVudD4uIEluIHRoZSBmb2xsb3dpbmcgZXhhbXBsZSwgdGhlXG4gICAqIHNjb3BlIG9mIHByaXZhdGVDbGllbnQgaXMgYC9sb2NhdGlvbnNgIGFuZCB0aGUgc2NvcGUgb2YgcHVibGljQ2xpZW50IGlzXG4gICAqIGAvcHVibGljL2xvY2F0aW9uc2AuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqICAgUmVtb3RlU3RvcmFnZS5hZGRNb2R1bGUoe25hbWU6ICdsb2NhdGlvbnMnLCBidWlsZGVyOiBmdW5jdGlvbiAocHJpdmF0ZUNsaWVudCwgcHVibGljQ2xpZW50KSB7XG4gICAqICAgICByZXR1cm4ge1xuICAgKiAgICAgICBleHBvcnRzOiB7XG4gICAqICAgICAgICAgZmVhdHVyZXM6IHByaXZhdGVDbGllbnQuc2NvcGUoJ2ZlYXR1cmVzLycpLmRlZmF1bHRUeXBlKCdmZWF0dXJlJyksXG4gICAqICAgICAgICAgY29sbGVjdGlvbnM6IHByaXZhdGVDbGllbnQuc2NvcGUoJ2NvbGxlY3Rpb25zLycpLmRlZmF1bHRUeXBlKCdmZWF0dXJlLWNvbGxlY3Rpb24nKVxuICAgKiAgICAgICB9XG4gICAqICAgICB9O1xuICAgKiAgIH19KTtcbiAgKi9cbiAgYWRkTW9kdWxlIChtb2R1bGU6IFJTTW9kdWxlKTogdm9pZCB7XG4gICAgY29uc3QgbW9kdWxlTmFtZSA9IG1vZHVsZS5uYW1lO1xuICAgIGNvbnN0IG1vZHVsZUJ1aWxkZXIgPSBtb2R1bGUuYnVpbGRlcjtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBtb2R1bGVOYW1lLCB7XG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc3QgaW5zdGFuY2UgPSB0aGlzLl9sb2FkTW9kdWxlKG1vZHVsZU5hbWUsIG1vZHVsZUJ1aWxkZXIpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgbW9kdWxlTmFtZSwge1xuICAgICAgICAgIHZhbHVlOiBpbnN0YW5jZVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGluc3RhbmNlO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKG1vZHVsZU5hbWUuaW5kZXhPZignLScpICE9PSAtMSkge1xuICAgICAgY29uc3QgY2FtZWxpemVkTmFtZSA9IG1vZHVsZU5hbWUucmVwbGFjZSgvXFwtW2Etel0vZywgZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgcmV0dXJuIHNbMV0udG9VcHBlckNhc2UoKTtcbiAgICAgIH0pO1xuXG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgY2FtZWxpemVkTmFtZSwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gdGhpc1ttb2R1bGVOYW1lXTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIExvYWQgbW9kdWxlXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfbG9hZE1vZHVsZSAobW9kdWxlTmFtZTogc3RyaW5nLCBtb2R1bGVCdWlsZGVyOiBGdW5jdGlvbik6IHsgW2tleTogc3RyaW5nXTogdW5rbm93biB9ICB7XG4gICAgaWYgKG1vZHVsZUJ1aWxkZXIpIHtcbiAgICAgIGNvbnN0IG1vZHVsZSA9IG1vZHVsZUJ1aWxkZXIoXG4gICAgICAgIG5ldyBCYXNlQ2xpZW50KHRoaXMsICcvJyArIG1vZHVsZU5hbWUgKyAnLycpLFxuICAgICAgICBuZXcgQmFzZUNsaWVudCh0aGlzLCAnL3B1YmxpYy8nICsgbW9kdWxlTmFtZSArICcvJylcbiAgICAgICk7XG4gICAgICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IFwiVW5rbm93biBtb2R1bGU6IFwiICsgbW9kdWxlTmFtZTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBAcHJvcGVydHkgY29ubmVjdGVkXG4gKlxuICogQm9vbGVhbiBwcm9wZXJ0eSBpbmRpY2F0aW5nIGlmIHJlbW90ZVN0b3JhZ2UgaXMgY3VycmVudGx5IGNvbm5lY3RlZC5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlbW90ZVN0b3JhZ2UucHJvdG90eXBlLCAnY29ubmVjdGVkJywge1xuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5yZW1vdGUuY29ubmVjdGVkO1xuICB9XG59KTtcblxuLyoqXG4gKiBAcHJvcGVydHkgYWNjZXNzXG4gKlxuICogVHJhY2tpbmcgY2xhaW1lZCBhY2Nlc3Mgc2NvcGVzLiBBIDxSZW1vdGVTdG9yYWdlLkFjY2Vzcz4gaW5zdGFuY2UuXG4qL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlbW90ZVN0b3JhZ2UucHJvdG90eXBlLCAnYWNjZXNzJywge1xuICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgIGNvbnN0IGFjY2VzcyA9IG5ldyBBY2Nlc3MoKTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ2FjY2VzcycsIHtcbiAgICAgIHZhbHVlOiBhY2Nlc3NcbiAgICB9KTtcbiAgICByZXR1cm4gYWNjZXNzO1xuICB9LFxuICBjb25maWd1cmFibGU6IHRydWVcbn0pO1xuXG4vLyBUT0RPIENsZWFuIHVwL2hhcm1vbml6ZSBob3cgbW9kdWxlcyBhcmUgbG9hZGVkIGFuZC9vciBkb2N1bWVudCB0aGlzIGFyY2hpdGVjdHVyZSBwcm9wZXJseVxuLy9cbi8vIEF0IHRoaXMgcG9pbnQgdGhlIHJlbW90ZVN0b3JhZ2Ugb2JqZWN0IGhhcyBub3QgYmVlbiBjcmVhdGVkIHlldC5cbi8vIE9ubHkgaXRzIHByb3RvdHlwZSBleGlzdHMgc28gZmFyLCBzbyB3ZSBkZWZpbmUgYSBzZWxmLWNvbnN0cnVjdGluZ1xuLy8gcHJvcGVydHkgb24gdGhlcmU6XG5cbi8qKlxuICogUHJvcGVydHk6IGNhY2hpbmdcbiAqXG4gKiBDYWNoaW5nIHNldHRpbmdzLiBBIDxSZW1vdGVTdG9yYWdlLkNhY2hpbmc+IGluc3RhbmNlLlxuICovXG4vLyBGSVhNRSBXYXMgaW4gcnNfaW5pdCBvZiBDYWNoaW5nIGJ1dCBkb24ndCB3YW50IHRvIHJlcXVpcmUgUmVtb3RlU3RvcmFnZSBmcm9tIHRoZXJlLlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlbW90ZVN0b3JhZ2UucHJvdG90eXBlLCAnY2FjaGluZycsIHtcbiAgY29uZmlndXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBjYWNoaW5nID0gbmV3IENhY2hpbmcoKTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ2NhY2hpbmcnLCB7XG4gICAgICB2YWx1ZTogY2FjaGluZ1xuICAgIH0pO1xuICAgIHJldHVybiBjYWNoaW5nO1xuICB9XG59KTtcblxuLypcbiAqIEBwcm9wZXJ0eSBsb2NhbFxuICpcbiAqIEFjY2VzcyB0byB0aGUgbG9jYWwgY2FjaGluZyBiYWNrZW5kIHVzZWQuIFVzdWFsbHkgZWl0aGVyIGFcbiAqIDxSZW1vdGVTdG9yYWdlLkluZGV4ZWREQj4gb3IgPFJlbW90ZVN0b3JhZ2UuTG9jYWxTdG9yYWdlPiBpbnN0YW5jZS5cbiAqXG4gKiBOb3QgYXZhaWxhYmxlLCB3aGVuIGNhY2hpbmcgaXMgdHVybmVkIG9mZi5cbiAqL1xuXG5pbnRlcmZhY2UgUmVtb3RlU3RvcmFnZSBleHRlbmRzIEV2ZW50SGFuZGxpbmcge307XG5hcHBseU1peGlucyhSZW1vdGVTdG9yYWdlLCBbRXZlbnRIYW5kbGluZ10pO1xuXG5leHBvcnQgZGVmYXVsdCBSZW1vdGVTdG9yYWdlO1xuIiwiLyohXG4gKiBUaGUgYnVmZmVyIG1vZHVsZSBmcm9tIG5vZGUuanMsIGZvciB0aGUgYnJvd3Nlci5cbiAqXG4gKiBAYXV0aG9yICAgRmVyb3NzIEFib3VraGFkaWplaCA8aHR0cDovL2Zlcm9zcy5vcmc+XG4gKiBAbGljZW5zZSAgTUlUXG4gKi9cbi8qIGVzbGludC1kaXNhYmxlIG5vLXByb3RvICovXG5cbid1c2Ugc3RyaWN0J1xuXG52YXIgYmFzZTY0ID0gcmVxdWlyZSgnYmFzZTY0LWpzJylcbnZhciBpZWVlNzU0ID0gcmVxdWlyZSgnaWVlZTc1NCcpXG52YXIgaXNBcnJheSA9IHJlcXVpcmUoJ2lzYXJyYXknKVxuXG5leHBvcnRzLkJ1ZmZlciA9IEJ1ZmZlclxuZXhwb3J0cy5TbG93QnVmZmVyID0gU2xvd0J1ZmZlclxuZXhwb3J0cy5JTlNQRUNUX01BWF9CWVRFUyA9IDUwXG5cbi8qKlxuICogSWYgYEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUYDpcbiAqICAgPT09IHRydWUgICAgVXNlIFVpbnQ4QXJyYXkgaW1wbGVtZW50YXRpb24gKGZhc3Rlc3QpXG4gKiAgID09PSBmYWxzZSAgIFVzZSBPYmplY3QgaW1wbGVtZW50YXRpb24gKG1vc3QgY29tcGF0aWJsZSwgZXZlbiBJRTYpXG4gKlxuICogQnJvd3NlcnMgdGhhdCBzdXBwb3J0IHR5cGVkIGFycmF5cyBhcmUgSUUgMTArLCBGaXJlZm94IDQrLCBDaHJvbWUgNyssIFNhZmFyaSA1LjErLFxuICogT3BlcmEgMTEuNissIGlPUyA0LjIrLlxuICpcbiAqIER1ZSB0byB2YXJpb3VzIGJyb3dzZXIgYnVncywgc29tZXRpbWVzIHRoZSBPYmplY3QgaW1wbGVtZW50YXRpb24gd2lsbCBiZSB1c2VkIGV2ZW5cbiAqIHdoZW4gdGhlIGJyb3dzZXIgc3VwcG9ydHMgdHlwZWQgYXJyYXlzLlxuICpcbiAqIE5vdGU6XG4gKlxuICogICAtIEZpcmVmb3ggNC0yOSBsYWNrcyBzdXBwb3J0IGZvciBhZGRpbmcgbmV3IHByb3BlcnRpZXMgdG8gYFVpbnQ4QXJyYXlgIGluc3RhbmNlcyxcbiAqICAgICBTZWU6IGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTY5NTQzOC5cbiAqXG4gKiAgIC0gQ2hyb21lIDktMTAgaXMgbWlzc2luZyB0aGUgYFR5cGVkQXJyYXkucHJvdG90eXBlLnN1YmFycmF5YCBmdW5jdGlvbi5cbiAqXG4gKiAgIC0gSUUxMCBoYXMgYSBicm9rZW4gYFR5cGVkQXJyYXkucHJvdG90eXBlLnN1YmFycmF5YCBmdW5jdGlvbiB3aGljaCByZXR1cm5zIGFycmF5cyBvZlxuICogICAgIGluY29ycmVjdCBsZW5ndGggaW4gc29tZSBzaXR1YXRpb25zLlxuXG4gKiBXZSBkZXRlY3QgdGhlc2UgYnVnZ3kgYnJvd3NlcnMgYW5kIHNldCBgQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlRgIHRvIGBmYWxzZWAgc28gdGhleVxuICogZ2V0IHRoZSBPYmplY3QgaW1wbGVtZW50YXRpb24sIHdoaWNoIGlzIHNsb3dlciBidXQgYmVoYXZlcyBjb3JyZWN0bHkuXG4gKi9cbkJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUID0gZ2xvYmFsLlRZUEVEX0FSUkFZX1NVUFBPUlQgIT09IHVuZGVmaW5lZFxuICA/IGdsb2JhbC5UWVBFRF9BUlJBWV9TVVBQT1JUXG4gIDogdHlwZWRBcnJheVN1cHBvcnQoKVxuXG4vKlxuICogRXhwb3J0IGtNYXhMZW5ndGggYWZ0ZXIgdHlwZWQgYXJyYXkgc3VwcG9ydCBpcyBkZXRlcm1pbmVkLlxuICovXG5leHBvcnRzLmtNYXhMZW5ndGggPSBrTWF4TGVuZ3RoKClcblxuZnVuY3Rpb24gdHlwZWRBcnJheVN1cHBvcnQgKCkge1xuICB0cnkge1xuICAgIHZhciBhcnIgPSBuZXcgVWludDhBcnJheSgxKVxuICAgIGFyci5fX3Byb3RvX18gPSB7X19wcm90b19fOiBVaW50OEFycmF5LnByb3RvdHlwZSwgZm9vOiBmdW5jdGlvbiAoKSB7IHJldHVybiA0MiB9fVxuICAgIHJldHVybiBhcnIuZm9vKCkgPT09IDQyICYmIC8vIHR5cGVkIGFycmF5IGluc3RhbmNlcyBjYW4gYmUgYXVnbWVudGVkXG4gICAgICAgIHR5cGVvZiBhcnIuc3ViYXJyYXkgPT09ICdmdW5jdGlvbicgJiYgLy8gY2hyb21lIDktMTAgbGFjayBgc3ViYXJyYXlgXG4gICAgICAgIGFyci5zdWJhcnJheSgxLCAxKS5ieXRlTGVuZ3RoID09PSAwIC8vIGllMTAgaGFzIGJyb2tlbiBgc3ViYXJyYXlgXG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxufVxuXG5mdW5jdGlvbiBrTWF4TGVuZ3RoICgpIHtcbiAgcmV0dXJuIEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUXG4gICAgPyAweDdmZmZmZmZmXG4gICAgOiAweDNmZmZmZmZmXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUJ1ZmZlciAodGhhdCwgbGVuZ3RoKSB7XG4gIGlmIChrTWF4TGVuZ3RoKCkgPCBsZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW52YWxpZCB0eXBlZCBhcnJheSBsZW5ndGgnKVxuICB9XG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIC8vIFJldHVybiBhbiBhdWdtZW50ZWQgYFVpbnQ4QXJyYXlgIGluc3RhbmNlLCBmb3IgYmVzdCBwZXJmb3JtYW5jZVxuICAgIHRoYXQgPSBuZXcgVWludDhBcnJheShsZW5ndGgpXG4gICAgdGhhdC5fX3Byb3RvX18gPSBCdWZmZXIucHJvdG90eXBlXG4gIH0gZWxzZSB7XG4gICAgLy8gRmFsbGJhY2s6IFJldHVybiBhbiBvYmplY3QgaW5zdGFuY2Ugb2YgdGhlIEJ1ZmZlciBjbGFzc1xuICAgIGlmICh0aGF0ID09PSBudWxsKSB7XG4gICAgICB0aGF0ID0gbmV3IEJ1ZmZlcihsZW5ndGgpXG4gICAgfVxuICAgIHRoYXQubGVuZ3RoID0gbGVuZ3RoXG4gIH1cblxuICByZXR1cm4gdGhhdFxufVxuXG4vKipcbiAqIFRoZSBCdWZmZXIgY29uc3RydWN0b3IgcmV0dXJucyBpbnN0YW5jZXMgb2YgYFVpbnQ4QXJyYXlgIHRoYXQgaGF2ZSB0aGVpclxuICogcHJvdG90eXBlIGNoYW5nZWQgdG8gYEJ1ZmZlci5wcm90b3R5cGVgLiBGdXJ0aGVybW9yZSwgYEJ1ZmZlcmAgaXMgYSBzdWJjbGFzcyBvZlxuICogYFVpbnQ4QXJyYXlgLCBzbyB0aGUgcmV0dXJuZWQgaW5zdGFuY2VzIHdpbGwgaGF2ZSBhbGwgdGhlIG5vZGUgYEJ1ZmZlcmAgbWV0aG9kc1xuICogYW5kIHRoZSBgVWludDhBcnJheWAgbWV0aG9kcy4gU3F1YXJlIGJyYWNrZXQgbm90YXRpb24gd29ya3MgYXMgZXhwZWN0ZWQgLS0gaXRcbiAqIHJldHVybnMgYSBzaW5nbGUgb2N0ZXQuXG4gKlxuICogVGhlIGBVaW50OEFycmF5YCBwcm90b3R5cGUgcmVtYWlucyB1bm1vZGlmaWVkLlxuICovXG5cbmZ1bmN0aW9uIEJ1ZmZlciAoYXJnLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpIHtcbiAgaWYgKCFCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCAmJiAhKHRoaXMgaW5zdGFuY2VvZiBCdWZmZXIpKSB7XG4gICAgcmV0dXJuIG5ldyBCdWZmZXIoYXJnLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpXG4gIH1cblxuICAvLyBDb21tb24gY2FzZS5cbiAgaWYgKHR5cGVvZiBhcmcgPT09ICdudW1iZXInKSB7XG4gICAgaWYgKHR5cGVvZiBlbmNvZGluZ09yT2Zmc2V0ID09PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnSWYgZW5jb2RpbmcgaXMgc3BlY2lmaWVkIHRoZW4gdGhlIGZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBzdHJpbmcnXG4gICAgICApXG4gICAgfVxuICAgIHJldHVybiBhbGxvY1Vuc2FmZSh0aGlzLCBhcmcpXG4gIH1cbiAgcmV0dXJuIGZyb20odGhpcywgYXJnLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpXG59XG5cbkJ1ZmZlci5wb29sU2l6ZSA9IDgxOTIgLy8gbm90IHVzZWQgYnkgdGhpcyBpbXBsZW1lbnRhdGlvblxuXG4vLyBUT0RPOiBMZWdhY3ksIG5vdCBuZWVkZWQgYW55bW9yZS4gUmVtb3ZlIGluIG5leHQgbWFqb3IgdmVyc2lvbi5cbkJ1ZmZlci5fYXVnbWVudCA9IGZ1bmN0aW9uIChhcnIpIHtcbiAgYXJyLl9fcHJvdG9fXyA9IEJ1ZmZlci5wcm90b3R5cGVcbiAgcmV0dXJuIGFyclxufVxuXG5mdW5jdGlvbiBmcm9tICh0aGF0LCB2YWx1ZSwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKSB7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJ2YWx1ZVwiIGFyZ3VtZW50IG11c3Qgbm90IGJlIGEgbnVtYmVyJylcbiAgfVxuXG4gIGlmICh0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnICYmIHZhbHVlIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcbiAgICByZXR1cm4gZnJvbUFycmF5QnVmZmVyKHRoYXQsIHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpXG4gIH1cblxuICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBmcm9tU3RyaW5nKHRoYXQsIHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0KVxuICB9XG5cbiAgcmV0dXJuIGZyb21PYmplY3QodGhhdCwgdmFsdWUpXG59XG5cbi8qKlxuICogRnVuY3Rpb25hbGx5IGVxdWl2YWxlbnQgdG8gQnVmZmVyKGFyZywgZW5jb2RpbmcpIGJ1dCB0aHJvd3MgYSBUeXBlRXJyb3JcbiAqIGlmIHZhbHVlIGlzIGEgbnVtYmVyLlxuICogQnVmZmVyLmZyb20oc3RyWywgZW5jb2RpbmddKVxuICogQnVmZmVyLmZyb20oYXJyYXkpXG4gKiBCdWZmZXIuZnJvbShidWZmZXIpXG4gKiBCdWZmZXIuZnJvbShhcnJheUJ1ZmZlclssIGJ5dGVPZmZzZXRbLCBsZW5ndGhdXSlcbiAqKi9cbkJ1ZmZlci5mcm9tID0gZnVuY3Rpb24gKHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGZyb20obnVsbCwgdmFsdWUsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aClcbn1cblxuaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gIEJ1ZmZlci5wcm90b3R5cGUuX19wcm90b19fID0gVWludDhBcnJheS5wcm90b3R5cGVcbiAgQnVmZmVyLl9fcHJvdG9fXyA9IFVpbnQ4QXJyYXlcbiAgaWYgKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC5zcGVjaWVzICYmXG4gICAgICBCdWZmZXJbU3ltYm9sLnNwZWNpZXNdID09PSBCdWZmZXIpIHtcbiAgICAvLyBGaXggc3ViYXJyYXkoKSBpbiBFUzIwMTYuIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2Zlcm9zcy9idWZmZXIvcHVsbC85N1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCdWZmZXIsIFN5bWJvbC5zcGVjaWVzLCB7XG4gICAgICB2YWx1ZTogbnVsbCxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pXG4gIH1cbn1cblxuZnVuY3Rpb24gYXNzZXJ0U2l6ZSAoc2l6ZSkge1xuICBpZiAodHlwZW9mIHNpemUgIT09ICdudW1iZXInKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJzaXplXCIgYXJndW1lbnQgbXVzdCBiZSBhIG51bWJlcicpXG4gIH0gZWxzZSBpZiAoc2l6ZSA8IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignXCJzaXplXCIgYXJndW1lbnQgbXVzdCBub3QgYmUgbmVnYXRpdmUnKVxuICB9XG59XG5cbmZ1bmN0aW9uIGFsbG9jICh0aGF0LCBzaXplLCBmaWxsLCBlbmNvZGluZykge1xuICBhc3NlcnRTaXplKHNpemUpXG4gIGlmIChzaXplIDw9IDApIHtcbiAgICByZXR1cm4gY3JlYXRlQnVmZmVyKHRoYXQsIHNpemUpXG4gIH1cbiAgaWYgKGZpbGwgIT09IHVuZGVmaW5lZCkge1xuICAgIC8vIE9ubHkgcGF5IGF0dGVudGlvbiB0byBlbmNvZGluZyBpZiBpdCdzIGEgc3RyaW5nLiBUaGlzXG4gICAgLy8gcHJldmVudHMgYWNjaWRlbnRhbGx5IHNlbmRpbmcgaW4gYSBudW1iZXIgdGhhdCB3b3VsZFxuICAgIC8vIGJlIGludGVycHJldHRlZCBhcyBhIHN0YXJ0IG9mZnNldC5cbiAgICByZXR1cm4gdHlwZW9mIGVuY29kaW5nID09PSAnc3RyaW5nJ1xuICAgICAgPyBjcmVhdGVCdWZmZXIodGhhdCwgc2l6ZSkuZmlsbChmaWxsLCBlbmNvZGluZylcbiAgICAgIDogY3JlYXRlQnVmZmVyKHRoYXQsIHNpemUpLmZpbGwoZmlsbClcbiAgfVxuICByZXR1cm4gY3JlYXRlQnVmZmVyKHRoYXQsIHNpemUpXG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBmaWxsZWQgQnVmZmVyIGluc3RhbmNlLlxuICogYWxsb2Moc2l6ZVssIGZpbGxbLCBlbmNvZGluZ11dKVxuICoqL1xuQnVmZmVyLmFsbG9jID0gZnVuY3Rpb24gKHNpemUsIGZpbGwsIGVuY29kaW5nKSB7XG4gIHJldHVybiBhbGxvYyhudWxsLCBzaXplLCBmaWxsLCBlbmNvZGluZylcbn1cblxuZnVuY3Rpb24gYWxsb2NVbnNhZmUgKHRoYXQsIHNpemUpIHtcbiAgYXNzZXJ0U2l6ZShzaXplKVxuICB0aGF0ID0gY3JlYXRlQnVmZmVyKHRoYXQsIHNpemUgPCAwID8gMCA6IGNoZWNrZWQoc2l6ZSkgfCAwKVxuICBpZiAoIUJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplOyArK2kpIHtcbiAgICAgIHRoYXRbaV0gPSAwXG4gICAgfVxuICB9XG4gIHJldHVybiB0aGF0XG59XG5cbi8qKlxuICogRXF1aXZhbGVudCB0byBCdWZmZXIobnVtKSwgYnkgZGVmYXVsdCBjcmVhdGVzIGEgbm9uLXplcm8tZmlsbGVkIEJ1ZmZlciBpbnN0YW5jZS5cbiAqICovXG5CdWZmZXIuYWxsb2NVbnNhZmUgPSBmdW5jdGlvbiAoc2l6ZSkge1xuICByZXR1cm4gYWxsb2NVbnNhZmUobnVsbCwgc2l6ZSlcbn1cbi8qKlxuICogRXF1aXZhbGVudCB0byBTbG93QnVmZmVyKG51bSksIGJ5IGRlZmF1bHQgY3JlYXRlcyBhIG5vbi16ZXJvLWZpbGxlZCBCdWZmZXIgaW5zdGFuY2UuXG4gKi9cbkJ1ZmZlci5hbGxvY1Vuc2FmZVNsb3cgPSBmdW5jdGlvbiAoc2l6ZSkge1xuICByZXR1cm4gYWxsb2NVbnNhZmUobnVsbCwgc2l6ZSlcbn1cblxuZnVuY3Rpb24gZnJvbVN0cmluZyAodGhhdCwgc3RyaW5nLCBlbmNvZGluZykge1xuICBpZiAodHlwZW9mIGVuY29kaW5nICE9PSAnc3RyaW5nJyB8fCBlbmNvZGluZyA9PT0gJycpIHtcbiAgICBlbmNvZGluZyA9ICd1dGY4J1xuICB9XG5cbiAgaWYgKCFCdWZmZXIuaXNFbmNvZGluZyhlbmNvZGluZykpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImVuY29kaW5nXCIgbXVzdCBiZSBhIHZhbGlkIHN0cmluZyBlbmNvZGluZycpXG4gIH1cblxuICB2YXIgbGVuZ3RoID0gYnl0ZUxlbmd0aChzdHJpbmcsIGVuY29kaW5nKSB8IDBcbiAgdGhhdCA9IGNyZWF0ZUJ1ZmZlcih0aGF0LCBsZW5ndGgpXG5cbiAgdmFyIGFjdHVhbCA9IHRoYXQud3JpdGUoc3RyaW5nLCBlbmNvZGluZylcblxuICBpZiAoYWN0dWFsICE9PSBsZW5ndGgpIHtcbiAgICAvLyBXcml0aW5nIGEgaGV4IHN0cmluZywgZm9yIGV4YW1wbGUsIHRoYXQgY29udGFpbnMgaW52YWxpZCBjaGFyYWN0ZXJzIHdpbGxcbiAgICAvLyBjYXVzZSBldmVyeXRoaW5nIGFmdGVyIHRoZSBmaXJzdCBpbnZhbGlkIGNoYXJhY3RlciB0byBiZSBpZ25vcmVkLiAoZS5nLlxuICAgIC8vICdhYnh4Y2QnIHdpbGwgYmUgdHJlYXRlZCBhcyAnYWInKVxuICAgIHRoYXQgPSB0aGF0LnNsaWNlKDAsIGFjdHVhbClcbiAgfVxuXG4gIHJldHVybiB0aGF0XG59XG5cbmZ1bmN0aW9uIGZyb21BcnJheUxpa2UgKHRoYXQsIGFycmF5KSB7XG4gIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGggPCAwID8gMCA6IGNoZWNrZWQoYXJyYXkubGVuZ3RoKSB8IDBcbiAgdGhhdCA9IGNyZWF0ZUJ1ZmZlcih0aGF0LCBsZW5ndGgpXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcbiAgICB0aGF0W2ldID0gYXJyYXlbaV0gJiAyNTVcbiAgfVxuICByZXR1cm4gdGhhdFxufVxuXG5mdW5jdGlvbiBmcm9tQXJyYXlCdWZmZXIgKHRoYXQsIGFycmF5LCBieXRlT2Zmc2V0LCBsZW5ndGgpIHtcbiAgYXJyYXkuYnl0ZUxlbmd0aCAvLyB0aGlzIHRocm93cyBpZiBgYXJyYXlgIGlzIG5vdCBhIHZhbGlkIEFycmF5QnVmZmVyXG5cbiAgaWYgKGJ5dGVPZmZzZXQgPCAwIHx8IGFycmF5LmJ5dGVMZW5ndGggPCBieXRlT2Zmc2V0KSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1xcJ29mZnNldFxcJyBpcyBvdXQgb2YgYm91bmRzJylcbiAgfVxuXG4gIGlmIChhcnJheS5ieXRlTGVuZ3RoIDwgYnl0ZU9mZnNldCArIChsZW5ndGggfHwgMCkpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignXFwnbGVuZ3RoXFwnIGlzIG91dCBvZiBib3VuZHMnKVxuICB9XG5cbiAgaWYgKGJ5dGVPZmZzZXQgPT09IHVuZGVmaW5lZCAmJiBsZW5ndGggPT09IHVuZGVmaW5lZCkge1xuICAgIGFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXkpXG4gIH0gZWxzZSBpZiAobGVuZ3RoID09PSB1bmRlZmluZWQpIHtcbiAgICBhcnJheSA9IG5ldyBVaW50OEFycmF5KGFycmF5LCBieXRlT2Zmc2V0KVxuICB9IGVsc2Uge1xuICAgIGFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXksIGJ5dGVPZmZzZXQsIGxlbmd0aClcbiAgfVxuXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIC8vIFJldHVybiBhbiBhdWdtZW50ZWQgYFVpbnQ4QXJyYXlgIGluc3RhbmNlLCBmb3IgYmVzdCBwZXJmb3JtYW5jZVxuICAgIHRoYXQgPSBhcnJheVxuICAgIHRoYXQuX19wcm90b19fID0gQnVmZmVyLnByb3RvdHlwZVxuICB9IGVsc2Uge1xuICAgIC8vIEZhbGxiYWNrOiBSZXR1cm4gYW4gb2JqZWN0IGluc3RhbmNlIG9mIHRoZSBCdWZmZXIgY2xhc3NcbiAgICB0aGF0ID0gZnJvbUFycmF5TGlrZSh0aGF0LCBhcnJheSlcbiAgfVxuICByZXR1cm4gdGhhdFxufVxuXG5mdW5jdGlvbiBmcm9tT2JqZWN0ICh0aGF0LCBvYmopIHtcbiAgaWYgKEJ1ZmZlci5pc0J1ZmZlcihvYmopKSB7XG4gICAgdmFyIGxlbiA9IGNoZWNrZWQob2JqLmxlbmd0aCkgfCAwXG4gICAgdGhhdCA9IGNyZWF0ZUJ1ZmZlcih0aGF0LCBsZW4pXG5cbiAgICBpZiAodGhhdC5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiB0aGF0XG4gICAgfVxuXG4gICAgb2JqLmNvcHkodGhhdCwgMCwgMCwgbGVuKVxuICAgIHJldHVybiB0aGF0XG4gIH1cblxuICBpZiAob2JqKSB7XG4gICAgaWYgKCh0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgIG9iai5idWZmZXIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikgfHwgJ2xlbmd0aCcgaW4gb2JqKSB7XG4gICAgICBpZiAodHlwZW9mIG9iai5sZW5ndGggIT09ICdudW1iZXInIHx8IGlzbmFuKG9iai5sZW5ndGgpKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVCdWZmZXIodGhhdCwgMClcbiAgICAgIH1cbiAgICAgIHJldHVybiBmcm9tQXJyYXlMaWtlKHRoYXQsIG9iailcbiAgICB9XG5cbiAgICBpZiAob2JqLnR5cGUgPT09ICdCdWZmZXInICYmIGlzQXJyYXkob2JqLmRhdGEpKSB7XG4gICAgICByZXR1cm4gZnJvbUFycmF5TGlrZSh0aGF0LCBvYmouZGF0YSlcbiAgICB9XG4gIH1cblxuICB0aHJvdyBuZXcgVHlwZUVycm9yKCdGaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgc3RyaW5nLCBCdWZmZXIsIEFycmF5QnVmZmVyLCBBcnJheSwgb3IgYXJyYXktbGlrZSBvYmplY3QuJylcbn1cblxuZnVuY3Rpb24gY2hlY2tlZCAobGVuZ3RoKSB7XG4gIC8vIE5vdGU6IGNhbm5vdCB1c2UgYGxlbmd0aCA8IGtNYXhMZW5ndGgoKWAgaGVyZSBiZWNhdXNlIHRoYXQgZmFpbHMgd2hlblxuICAvLyBsZW5ndGggaXMgTmFOICh3aGljaCBpcyBvdGhlcndpc2UgY29lcmNlZCB0byB6ZXJvLilcbiAgaWYgKGxlbmd0aCA+PSBrTWF4TGVuZ3RoKCkpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQXR0ZW1wdCB0byBhbGxvY2F0ZSBCdWZmZXIgbGFyZ2VyIHRoYW4gbWF4aW11bSAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAnc2l6ZTogMHgnICsga01heExlbmd0aCgpLnRvU3RyaW5nKDE2KSArICcgYnl0ZXMnKVxuICB9XG4gIHJldHVybiBsZW5ndGggfCAwXG59XG5cbmZ1bmN0aW9uIFNsb3dCdWZmZXIgKGxlbmd0aCkge1xuICBpZiAoK2xlbmd0aCAhPSBsZW5ndGgpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBlcWVxZXFcbiAgICBsZW5ndGggPSAwXG4gIH1cbiAgcmV0dXJuIEJ1ZmZlci5hbGxvYygrbGVuZ3RoKVxufVxuXG5CdWZmZXIuaXNCdWZmZXIgPSBmdW5jdGlvbiBpc0J1ZmZlciAoYikge1xuICByZXR1cm4gISEoYiAhPSBudWxsICYmIGIuX2lzQnVmZmVyKVxufVxuXG5CdWZmZXIuY29tcGFyZSA9IGZ1bmN0aW9uIGNvbXBhcmUgKGEsIGIpIHtcbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYSkgfHwgIUJ1ZmZlci5pc0J1ZmZlcihiKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50cyBtdXN0IGJlIEJ1ZmZlcnMnKVxuICB9XG5cbiAgaWYgKGEgPT09IGIpIHJldHVybiAwXG5cbiAgdmFyIHggPSBhLmxlbmd0aFxuICB2YXIgeSA9IGIubGVuZ3RoXG5cbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IE1hdGgubWluKHgsIHkpOyBpIDwgbGVuOyArK2kpIHtcbiAgICBpZiAoYVtpXSAhPT0gYltpXSkge1xuICAgICAgeCA9IGFbaV1cbiAgICAgIHkgPSBiW2ldXG4gICAgICBicmVha1xuICAgIH1cbiAgfVxuXG4gIGlmICh4IDwgeSkgcmV0dXJuIC0xXG4gIGlmICh5IDwgeCkgcmV0dXJuIDFcbiAgcmV0dXJuIDBcbn1cblxuQnVmZmVyLmlzRW5jb2RpbmcgPSBmdW5jdGlvbiBpc0VuY29kaW5nIChlbmNvZGluZykge1xuICBzd2l0Y2ggKFN0cmluZyhlbmNvZGluZykudG9Mb3dlckNhc2UoKSkge1xuICAgIGNhc2UgJ2hleCc6XG4gICAgY2FzZSAndXRmOCc6XG4gICAgY2FzZSAndXRmLTgnOlxuICAgIGNhc2UgJ2FzY2lpJzpcbiAgICBjYXNlICdsYXRpbjEnOlxuICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgY2FzZSAnYmFzZTY0JzpcbiAgICBjYXNlICd1Y3MyJzpcbiAgICBjYXNlICd1Y3MtMic6XG4gICAgY2FzZSAndXRmMTZsZSc6XG4gICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgcmV0dXJuIHRydWVcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGZhbHNlXG4gIH1cbn1cblxuQnVmZmVyLmNvbmNhdCA9IGZ1bmN0aW9uIGNvbmNhdCAobGlzdCwgbGVuZ3RoKSB7XG4gIGlmICghaXNBcnJheShsaXN0KSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wibGlzdFwiIGFyZ3VtZW50IG11c3QgYmUgYW4gQXJyYXkgb2YgQnVmZmVycycpXG4gIH1cblxuICBpZiAobGlzdC5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gQnVmZmVyLmFsbG9jKDApXG4gIH1cblxuICB2YXIgaVxuICBpZiAobGVuZ3RoID09PSB1bmRlZmluZWQpIHtcbiAgICBsZW5ndGggPSAwXG4gICAgZm9yIChpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyArK2kpIHtcbiAgICAgIGxlbmd0aCArPSBsaXN0W2ldLmxlbmd0aFxuICAgIH1cbiAgfVxuXG4gIHZhciBidWZmZXIgPSBCdWZmZXIuYWxsb2NVbnNhZmUobGVuZ3RoKVxuICB2YXIgcG9zID0gMFxuICBmb3IgKGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7ICsraSkge1xuICAgIHZhciBidWYgPSBsaXN0W2ldXG4gICAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYnVmKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJsaXN0XCIgYXJndW1lbnQgbXVzdCBiZSBhbiBBcnJheSBvZiBCdWZmZXJzJylcbiAgICB9XG4gICAgYnVmLmNvcHkoYnVmZmVyLCBwb3MpXG4gICAgcG9zICs9IGJ1Zi5sZW5ndGhcbiAgfVxuICByZXR1cm4gYnVmZmVyXG59XG5cbmZ1bmN0aW9uIGJ5dGVMZW5ndGggKHN0cmluZywgZW5jb2RpbmcpIHtcbiAgaWYgKEJ1ZmZlci5pc0J1ZmZlcihzdHJpbmcpKSB7XG4gICAgcmV0dXJuIHN0cmluZy5sZW5ndGhcbiAgfVxuICBpZiAodHlwZW9mIEFycmF5QnVmZmVyICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgQXJyYXlCdWZmZXIuaXNWaWV3ID09PSAnZnVuY3Rpb24nICYmXG4gICAgICAoQXJyYXlCdWZmZXIuaXNWaWV3KHN0cmluZykgfHwgc3RyaW5nIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpKSB7XG4gICAgcmV0dXJuIHN0cmluZy5ieXRlTGVuZ3RoXG4gIH1cbiAgaWYgKHR5cGVvZiBzdHJpbmcgIT09ICdzdHJpbmcnKSB7XG4gICAgc3RyaW5nID0gJycgKyBzdHJpbmdcbiAgfVxuXG4gIHZhciBsZW4gPSBzdHJpbmcubGVuZ3RoXG4gIGlmIChsZW4gPT09IDApIHJldHVybiAwXG5cbiAgLy8gVXNlIGEgZm9yIGxvb3AgdG8gYXZvaWQgcmVjdXJzaW9uXG4gIHZhciBsb3dlcmVkQ2FzZSA9IGZhbHNlXG4gIGZvciAoOzspIHtcbiAgICBzd2l0Y2ggKGVuY29kaW5nKSB7XG4gICAgICBjYXNlICdhc2NpaSc6XG4gICAgICBjYXNlICdsYXRpbjEnOlxuICAgICAgY2FzZSAnYmluYXJ5JzpcbiAgICAgICAgcmV0dXJuIGxlblxuICAgICAgY2FzZSAndXRmOCc6XG4gICAgICBjYXNlICd1dGYtOCc6XG4gICAgICBjYXNlIHVuZGVmaW5lZDpcbiAgICAgICAgcmV0dXJuIHV0ZjhUb0J5dGVzKHN0cmluZykubGVuZ3RoXG4gICAgICBjYXNlICd1Y3MyJzpcbiAgICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICAgIGNhc2UgJ3V0ZjE2bGUnOlxuICAgICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgICByZXR1cm4gbGVuICogMlxuICAgICAgY2FzZSAnaGV4JzpcbiAgICAgICAgcmV0dXJuIGxlbiA+Pj4gMVxuICAgICAgY2FzZSAnYmFzZTY0JzpcbiAgICAgICAgcmV0dXJuIGJhc2U2NFRvQnl0ZXMoc3RyaW5nKS5sZW5ndGhcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmIChsb3dlcmVkQ2FzZSkgcmV0dXJuIHV0ZjhUb0J5dGVzKHN0cmluZykubGVuZ3RoIC8vIGFzc3VtZSB1dGY4XG4gICAgICAgIGVuY29kaW5nID0gKCcnICsgZW5jb2RpbmcpLnRvTG93ZXJDYXNlKClcbiAgICAgICAgbG93ZXJlZENhc2UgPSB0cnVlXG4gICAgfVxuICB9XG59XG5CdWZmZXIuYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGhcblxuZnVuY3Rpb24gc2xvd1RvU3RyaW5nIChlbmNvZGluZywgc3RhcnQsIGVuZCkge1xuICB2YXIgbG93ZXJlZENhc2UgPSBmYWxzZVxuXG4gIC8vIE5vIG5lZWQgdG8gdmVyaWZ5IHRoYXQgXCJ0aGlzLmxlbmd0aCA8PSBNQVhfVUlOVDMyXCIgc2luY2UgaXQncyBhIHJlYWQtb25seVxuICAvLyBwcm9wZXJ0eSBvZiBhIHR5cGVkIGFycmF5LlxuXG4gIC8vIFRoaXMgYmVoYXZlcyBuZWl0aGVyIGxpa2UgU3RyaW5nIG5vciBVaW50OEFycmF5IGluIHRoYXQgd2Ugc2V0IHN0YXJ0L2VuZFxuICAvLyB0byB0aGVpciB1cHBlci9sb3dlciBib3VuZHMgaWYgdGhlIHZhbHVlIHBhc3NlZCBpcyBvdXQgb2YgcmFuZ2UuXG4gIC8vIHVuZGVmaW5lZCBpcyBoYW5kbGVkIHNwZWNpYWxseSBhcyBwZXIgRUNNQS0yNjIgNnRoIEVkaXRpb24sXG4gIC8vIFNlY3Rpb24gMTMuMy4zLjcgUnVudGltZSBTZW1hbnRpY3M6IEtleWVkQmluZGluZ0luaXRpYWxpemF0aW9uLlxuICBpZiAoc3RhcnQgPT09IHVuZGVmaW5lZCB8fCBzdGFydCA8IDApIHtcbiAgICBzdGFydCA9IDBcbiAgfVxuICAvLyBSZXR1cm4gZWFybHkgaWYgc3RhcnQgPiB0aGlzLmxlbmd0aC4gRG9uZSBoZXJlIHRvIHByZXZlbnQgcG90ZW50aWFsIHVpbnQzMlxuICAvLyBjb2VyY2lvbiBmYWlsIGJlbG93LlxuICBpZiAoc3RhcnQgPiB0aGlzLmxlbmd0aCkge1xuICAgIHJldHVybiAnJ1xuICB9XG5cbiAgaWYgKGVuZCA9PT0gdW5kZWZpbmVkIHx8IGVuZCA+IHRoaXMubGVuZ3RoKSB7XG4gICAgZW5kID0gdGhpcy5sZW5ndGhcbiAgfVxuXG4gIGlmIChlbmQgPD0gMCkge1xuICAgIHJldHVybiAnJ1xuICB9XG5cbiAgLy8gRm9yY2UgY29lcnNpb24gdG8gdWludDMyLiBUaGlzIHdpbGwgYWxzbyBjb2VyY2UgZmFsc2V5L05hTiB2YWx1ZXMgdG8gMC5cbiAgZW5kID4+Pj0gMFxuICBzdGFydCA+Pj49IDBcblxuICBpZiAoZW5kIDw9IHN0YXJ0KSB7XG4gICAgcmV0dXJuICcnXG4gIH1cblxuICBpZiAoIWVuY29kaW5nKSBlbmNvZGluZyA9ICd1dGY4J1xuXG4gIHdoaWxlICh0cnVlKSB7XG4gICAgc3dpdGNoIChlbmNvZGluZykge1xuICAgICAgY2FzZSAnaGV4JzpcbiAgICAgICAgcmV0dXJuIGhleFNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGNhc2UgJ3V0ZjgnOlxuICAgICAgY2FzZSAndXRmLTgnOlxuICAgICAgICByZXR1cm4gdXRmOFNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGNhc2UgJ2FzY2lpJzpcbiAgICAgICAgcmV0dXJuIGFzY2lpU2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAnbGF0aW4xJzpcbiAgICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgICAgIHJldHVybiBsYXRpbjFTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICdiYXNlNjQnOlxuICAgICAgICByZXR1cm4gYmFzZTY0U2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAndWNzMic6XG4gICAgICBjYXNlICd1Y3MtMic6XG4gICAgICBjYXNlICd1dGYxNmxlJzpcbiAgICAgIGNhc2UgJ3V0Zi0xNmxlJzpcbiAgICAgICAgcmV0dXJuIHV0ZjE2bGVTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAobG93ZXJlZENhc2UpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vua25vd24gZW5jb2Rpbmc6ICcgKyBlbmNvZGluZylcbiAgICAgICAgZW5jb2RpbmcgPSAoZW5jb2RpbmcgKyAnJykudG9Mb3dlckNhc2UoKVxuICAgICAgICBsb3dlcmVkQ2FzZSA9IHRydWVcbiAgICB9XG4gIH1cbn1cblxuLy8gVGhlIHByb3BlcnR5IGlzIHVzZWQgYnkgYEJ1ZmZlci5pc0J1ZmZlcmAgYW5kIGBpcy1idWZmZXJgIChpbiBTYWZhcmkgNS03KSB0byBkZXRlY3Rcbi8vIEJ1ZmZlciBpbnN0YW5jZXMuXG5CdWZmZXIucHJvdG90eXBlLl9pc0J1ZmZlciA9IHRydWVcblxuZnVuY3Rpb24gc3dhcCAoYiwgbiwgbSkge1xuICB2YXIgaSA9IGJbbl1cbiAgYltuXSA9IGJbbV1cbiAgYlttXSA9IGlcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5zd2FwMTYgPSBmdW5jdGlvbiBzd2FwMTYgKCkge1xuICB2YXIgbGVuID0gdGhpcy5sZW5ndGhcbiAgaWYgKGxlbiAlIDIgIT09IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDE2LWJpdHMnKVxuICB9XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpICs9IDIpIHtcbiAgICBzd2FwKHRoaXMsIGksIGkgKyAxKVxuICB9XG4gIHJldHVybiB0aGlzXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuc3dhcDMyID0gZnVuY3Rpb24gc3dhcDMyICgpIHtcbiAgdmFyIGxlbiA9IHRoaXMubGVuZ3RoXG4gIGlmIChsZW4gJSA0ICE9PSAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0J1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAzMi1iaXRzJylcbiAgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSArPSA0KSB7XG4gICAgc3dhcCh0aGlzLCBpLCBpICsgMylcbiAgICBzd2FwKHRoaXMsIGkgKyAxLCBpICsgMilcbiAgfVxuICByZXR1cm4gdGhpc1xufVxuXG5CdWZmZXIucHJvdG90eXBlLnN3YXA2NCA9IGZ1bmN0aW9uIHN3YXA2NCAoKSB7XG4gIHZhciBsZW4gPSB0aGlzLmxlbmd0aFxuICBpZiAobGVuICUgOCAhPT0gMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNjQtYml0cycpXG4gIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkgKz0gOCkge1xuICAgIHN3YXAodGhpcywgaSwgaSArIDcpXG4gICAgc3dhcCh0aGlzLCBpICsgMSwgaSArIDYpXG4gICAgc3dhcCh0aGlzLCBpICsgMiwgaSArIDUpXG4gICAgc3dhcCh0aGlzLCBpICsgMywgaSArIDQpXG4gIH1cbiAgcmV0dXJuIHRoaXNcbn1cblxuQnVmZmVyLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nICgpIHtcbiAgdmFyIGxlbmd0aCA9IHRoaXMubGVuZ3RoIHwgMFxuICBpZiAobGVuZ3RoID09PSAwKSByZXR1cm4gJydcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHJldHVybiB1dGY4U2xpY2UodGhpcywgMCwgbGVuZ3RoKVxuICByZXR1cm4gc2xvd1RvU3RyaW5nLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiBlcXVhbHMgKGIpIHtcbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYikpIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXInKVxuICBpZiAodGhpcyA9PT0gYikgcmV0dXJuIHRydWVcbiAgcmV0dXJuIEJ1ZmZlci5jb21wYXJlKHRoaXMsIGIpID09PSAwXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuaW5zcGVjdCA9IGZ1bmN0aW9uIGluc3BlY3QgKCkge1xuICB2YXIgc3RyID0gJydcbiAgdmFyIG1heCA9IGV4cG9ydHMuSU5TUEVDVF9NQVhfQllURVNcbiAgaWYgKHRoaXMubGVuZ3RoID4gMCkge1xuICAgIHN0ciA9IHRoaXMudG9TdHJpbmcoJ2hleCcsIDAsIG1heCkubWF0Y2goLy57Mn0vZykuam9pbignICcpXG4gICAgaWYgKHRoaXMubGVuZ3RoID4gbWF4KSBzdHIgKz0gJyAuLi4gJ1xuICB9XG4gIHJldHVybiAnPEJ1ZmZlciAnICsgc3RyICsgJz4nXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuY29tcGFyZSA9IGZ1bmN0aW9uIGNvbXBhcmUgKHRhcmdldCwgc3RhcnQsIGVuZCwgdGhpc1N0YXJ0LCB0aGlzRW5kKSB7XG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKHRhcmdldCkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyJylcbiAgfVxuXG4gIGlmIChzdGFydCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgc3RhcnQgPSAwXG4gIH1cbiAgaWYgKGVuZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgZW5kID0gdGFyZ2V0ID8gdGFyZ2V0Lmxlbmd0aCA6IDBcbiAgfVxuICBpZiAodGhpc1N0YXJ0ID09PSB1bmRlZmluZWQpIHtcbiAgICB0aGlzU3RhcnQgPSAwXG4gIH1cbiAgaWYgKHRoaXNFbmQgPT09IHVuZGVmaW5lZCkge1xuICAgIHRoaXNFbmQgPSB0aGlzLmxlbmd0aFxuICB9XG5cbiAgaWYgKHN0YXJ0IDwgMCB8fCBlbmQgPiB0YXJnZXQubGVuZ3RoIHx8IHRoaXNTdGFydCA8IDAgfHwgdGhpc0VuZCA+IHRoaXMubGVuZ3RoKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ291dCBvZiByYW5nZSBpbmRleCcpXG4gIH1cblxuICBpZiAodGhpc1N0YXJ0ID49IHRoaXNFbmQgJiYgc3RhcnQgPj0gZW5kKSB7XG4gICAgcmV0dXJuIDBcbiAgfVxuICBpZiAodGhpc1N0YXJ0ID49IHRoaXNFbmQpIHtcbiAgICByZXR1cm4gLTFcbiAgfVxuICBpZiAoc3RhcnQgPj0gZW5kKSB7XG4gICAgcmV0dXJuIDFcbiAgfVxuXG4gIHN0YXJ0ID4+Pj0gMFxuICBlbmQgPj4+PSAwXG4gIHRoaXNTdGFydCA+Pj49IDBcbiAgdGhpc0VuZCA+Pj49IDBcblxuICBpZiAodGhpcyA9PT0gdGFyZ2V0KSByZXR1cm4gMFxuXG4gIHZhciB4ID0gdGhpc0VuZCAtIHRoaXNTdGFydFxuICB2YXIgeSA9IGVuZCAtIHN0YXJ0XG4gIHZhciBsZW4gPSBNYXRoLm1pbih4LCB5KVxuXG4gIHZhciB0aGlzQ29weSA9IHRoaXMuc2xpY2UodGhpc1N0YXJ0LCB0aGlzRW5kKVxuICB2YXIgdGFyZ2V0Q29weSA9IHRhcmdldC5zbGljZShzdGFydCwgZW5kKVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICBpZiAodGhpc0NvcHlbaV0gIT09IHRhcmdldENvcHlbaV0pIHtcbiAgICAgIHggPSB0aGlzQ29weVtpXVxuICAgICAgeSA9IHRhcmdldENvcHlbaV1cbiAgICAgIGJyZWFrXG4gICAgfVxuICB9XG5cbiAgaWYgKHggPCB5KSByZXR1cm4gLTFcbiAgaWYgKHkgPCB4KSByZXR1cm4gMVxuICByZXR1cm4gMFxufVxuXG4vLyBGaW5kcyBlaXRoZXIgdGhlIGZpcnN0IGluZGV4IG9mIGB2YWxgIGluIGBidWZmZXJgIGF0IG9mZnNldCA+PSBgYnl0ZU9mZnNldGAsXG4vLyBPUiB0aGUgbGFzdCBpbmRleCBvZiBgdmFsYCBpbiBgYnVmZmVyYCBhdCBvZmZzZXQgPD0gYGJ5dGVPZmZzZXRgLlxuLy9cbi8vIEFyZ3VtZW50czpcbi8vIC0gYnVmZmVyIC0gYSBCdWZmZXIgdG8gc2VhcmNoXG4vLyAtIHZhbCAtIGEgc3RyaW5nLCBCdWZmZXIsIG9yIG51bWJlclxuLy8gLSBieXRlT2Zmc2V0IC0gYW4gaW5kZXggaW50byBgYnVmZmVyYDsgd2lsbCBiZSBjbGFtcGVkIHRvIGFuIGludDMyXG4vLyAtIGVuY29kaW5nIC0gYW4gb3B0aW9uYWwgZW5jb2RpbmcsIHJlbGV2YW50IGlzIHZhbCBpcyBhIHN0cmluZ1xuLy8gLSBkaXIgLSB0cnVlIGZvciBpbmRleE9mLCBmYWxzZSBmb3IgbGFzdEluZGV4T2ZcbmZ1bmN0aW9uIGJpZGlyZWN0aW9uYWxJbmRleE9mIChidWZmZXIsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGRpcikge1xuICAvLyBFbXB0eSBidWZmZXIgbWVhbnMgbm8gbWF0Y2hcbiAgaWYgKGJ1ZmZlci5sZW5ndGggPT09IDApIHJldHVybiAtMVxuXG4gIC8vIE5vcm1hbGl6ZSBieXRlT2Zmc2V0XG4gIGlmICh0eXBlb2YgYnl0ZU9mZnNldCA9PT0gJ3N0cmluZycpIHtcbiAgICBlbmNvZGluZyA9IGJ5dGVPZmZzZXRcbiAgICBieXRlT2Zmc2V0ID0gMFxuICB9IGVsc2UgaWYgKGJ5dGVPZmZzZXQgPiAweDdmZmZmZmZmKSB7XG4gICAgYnl0ZU9mZnNldCA9IDB4N2ZmZmZmZmZcbiAgfSBlbHNlIGlmIChieXRlT2Zmc2V0IDwgLTB4ODAwMDAwMDApIHtcbiAgICBieXRlT2Zmc2V0ID0gLTB4ODAwMDAwMDBcbiAgfVxuICBieXRlT2Zmc2V0ID0gK2J5dGVPZmZzZXQgIC8vIENvZXJjZSB0byBOdW1iZXIuXG4gIGlmIChpc05hTihieXRlT2Zmc2V0KSkge1xuICAgIC8vIGJ5dGVPZmZzZXQ6IGl0IGl0J3MgdW5kZWZpbmVkLCBudWxsLCBOYU4sIFwiZm9vXCIsIGV0Yywgc2VhcmNoIHdob2xlIGJ1ZmZlclxuICAgIGJ5dGVPZmZzZXQgPSBkaXIgPyAwIDogKGJ1ZmZlci5sZW5ndGggLSAxKVxuICB9XG5cbiAgLy8gTm9ybWFsaXplIGJ5dGVPZmZzZXQ6IG5lZ2F0aXZlIG9mZnNldHMgc3RhcnQgZnJvbSB0aGUgZW5kIG9mIHRoZSBidWZmZXJcbiAgaWYgKGJ5dGVPZmZzZXQgPCAwKSBieXRlT2Zmc2V0ID0gYnVmZmVyLmxlbmd0aCArIGJ5dGVPZmZzZXRcbiAgaWYgKGJ5dGVPZmZzZXQgPj0gYnVmZmVyLmxlbmd0aCkge1xuICAgIGlmIChkaXIpIHJldHVybiAtMVxuICAgIGVsc2UgYnl0ZU9mZnNldCA9IGJ1ZmZlci5sZW5ndGggLSAxXG4gIH0gZWxzZSBpZiAoYnl0ZU9mZnNldCA8IDApIHtcbiAgICBpZiAoZGlyKSBieXRlT2Zmc2V0ID0gMFxuICAgIGVsc2UgcmV0dXJuIC0xXG4gIH1cblxuICAvLyBOb3JtYWxpemUgdmFsXG4gIGlmICh0eXBlb2YgdmFsID09PSAnc3RyaW5nJykge1xuICAgIHZhbCA9IEJ1ZmZlci5mcm9tKHZhbCwgZW5jb2RpbmcpXG4gIH1cblxuICAvLyBGaW5hbGx5LCBzZWFyY2ggZWl0aGVyIGluZGV4T2YgKGlmIGRpciBpcyB0cnVlKSBvciBsYXN0SW5kZXhPZlxuICBpZiAoQnVmZmVyLmlzQnVmZmVyKHZhbCkpIHtcbiAgICAvLyBTcGVjaWFsIGNhc2U6IGxvb2tpbmcgZm9yIGVtcHR5IHN0cmluZy9idWZmZXIgYWx3YXlzIGZhaWxzXG4gICAgaWYgKHZhbC5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiAtMVxuICAgIH1cbiAgICByZXR1cm4gYXJyYXlJbmRleE9mKGJ1ZmZlciwgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZGlyKVxuICB9IGVsc2UgaWYgKHR5cGVvZiB2YWwgPT09ICdudW1iZXInKSB7XG4gICAgdmFsID0gdmFsICYgMHhGRiAvLyBTZWFyY2ggZm9yIGEgYnl0ZSB2YWx1ZSBbMC0yNTVdXG4gICAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUICYmXG4gICAgICAgIHR5cGVvZiBVaW50OEFycmF5LnByb3RvdHlwZS5pbmRleE9mID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBpZiAoZGlyKSB7XG4gICAgICAgIHJldHVybiBVaW50OEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwoYnVmZmVyLCB2YWwsIGJ5dGVPZmZzZXQpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gVWludDhBcnJheS5wcm90b3R5cGUubGFzdEluZGV4T2YuY2FsbChidWZmZXIsIHZhbCwgYnl0ZU9mZnNldClcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFycmF5SW5kZXhPZihidWZmZXIsIFsgdmFsIF0sIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCBkaXIpXG4gIH1cblxuICB0aHJvdyBuZXcgVHlwZUVycm9yKCd2YWwgbXVzdCBiZSBzdHJpbmcsIG51bWJlciBvciBCdWZmZXInKVxufVxuXG5mdW5jdGlvbiBhcnJheUluZGV4T2YgKGFyciwgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZGlyKSB7XG4gIHZhciBpbmRleFNpemUgPSAxXG4gIHZhciBhcnJMZW5ndGggPSBhcnIubGVuZ3RoXG4gIHZhciB2YWxMZW5ndGggPSB2YWwubGVuZ3RoXG5cbiAgaWYgKGVuY29kaW5nICE9PSB1bmRlZmluZWQpIHtcbiAgICBlbmNvZGluZyA9IFN0cmluZyhlbmNvZGluZykudG9Mb3dlckNhc2UoKVxuICAgIGlmIChlbmNvZGluZyA9PT0gJ3VjczInIHx8IGVuY29kaW5nID09PSAndWNzLTInIHx8XG4gICAgICAgIGVuY29kaW5nID09PSAndXRmMTZsZScgfHwgZW5jb2RpbmcgPT09ICd1dGYtMTZsZScpIHtcbiAgICAgIGlmIChhcnIubGVuZ3RoIDwgMiB8fCB2YWwubGVuZ3RoIDwgMikge1xuICAgICAgICByZXR1cm4gLTFcbiAgICAgIH1cbiAgICAgIGluZGV4U2l6ZSA9IDJcbiAgICAgIGFyckxlbmd0aCAvPSAyXG4gICAgICB2YWxMZW5ndGggLz0gMlxuICAgICAgYnl0ZU9mZnNldCAvPSAyXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmVhZCAoYnVmLCBpKSB7XG4gICAgaWYgKGluZGV4U2l6ZSA9PT0gMSkge1xuICAgICAgcmV0dXJuIGJ1ZltpXVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gYnVmLnJlYWRVSW50MTZCRShpICogaW5kZXhTaXplKVxuICAgIH1cbiAgfVxuXG4gIHZhciBpXG4gIGlmIChkaXIpIHtcbiAgICB2YXIgZm91bmRJbmRleCA9IC0xXG4gICAgZm9yIChpID0gYnl0ZU9mZnNldDsgaSA8IGFyckxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAocmVhZChhcnIsIGkpID09PSByZWFkKHZhbCwgZm91bmRJbmRleCA9PT0gLTEgPyAwIDogaSAtIGZvdW5kSW5kZXgpKSB7XG4gICAgICAgIGlmIChmb3VuZEluZGV4ID09PSAtMSkgZm91bmRJbmRleCA9IGlcbiAgICAgICAgaWYgKGkgLSBmb3VuZEluZGV4ICsgMSA9PT0gdmFsTGVuZ3RoKSByZXR1cm4gZm91bmRJbmRleCAqIGluZGV4U2l6ZVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGZvdW5kSW5kZXggIT09IC0xKSBpIC09IGkgLSBmb3VuZEluZGV4XG4gICAgICAgIGZvdW5kSW5kZXggPSAtMVxuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoYnl0ZU9mZnNldCArIHZhbExlbmd0aCA+IGFyckxlbmd0aCkgYnl0ZU9mZnNldCA9IGFyckxlbmd0aCAtIHZhbExlbmd0aFxuICAgIGZvciAoaSA9IGJ5dGVPZmZzZXQ7IGkgPj0gMDsgaS0tKSB7XG4gICAgICB2YXIgZm91bmQgPSB0cnVlXG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHZhbExlbmd0aDsgaisrKSB7XG4gICAgICAgIGlmIChyZWFkKGFyciwgaSArIGopICE9PSByZWFkKHZhbCwgaikpIHtcbiAgICAgICAgICBmb3VuZCA9IGZhbHNlXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGZvdW5kKSByZXR1cm4gaVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiAtMVxufVxuXG5CdWZmZXIucHJvdG90eXBlLmluY2x1ZGVzID0gZnVuY3Rpb24gaW5jbHVkZXMgKHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcpIHtcbiAgcmV0dXJuIHRoaXMuaW5kZXhPZih2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nKSAhPT0gLTFcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5pbmRleE9mID0gZnVuY3Rpb24gaW5kZXhPZiAodmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZykge1xuICByZXR1cm4gYmlkaXJlY3Rpb25hbEluZGV4T2YodGhpcywgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgdHJ1ZSlcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5sYXN0SW5kZXhPZiA9IGZ1bmN0aW9uIGxhc3RJbmRleE9mICh2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nKSB7XG4gIHJldHVybiBiaWRpcmVjdGlvbmFsSW5kZXhPZih0aGlzLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCBmYWxzZSlcbn1cblxuZnVuY3Rpb24gaGV4V3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICBvZmZzZXQgPSBOdW1iZXIob2Zmc2V0KSB8fCAwXG4gIHZhciByZW1haW5pbmcgPSBidWYubGVuZ3RoIC0gb2Zmc2V0XG4gIGlmICghbGVuZ3RoKSB7XG4gICAgbGVuZ3RoID0gcmVtYWluaW5nXG4gIH0gZWxzZSB7XG4gICAgbGVuZ3RoID0gTnVtYmVyKGxlbmd0aClcbiAgICBpZiAobGVuZ3RoID4gcmVtYWluaW5nKSB7XG4gICAgICBsZW5ndGggPSByZW1haW5pbmdcbiAgICB9XG4gIH1cblxuICAvLyBtdXN0IGJlIGFuIGV2ZW4gbnVtYmVyIG9mIGRpZ2l0c1xuICB2YXIgc3RyTGVuID0gc3RyaW5nLmxlbmd0aFxuICBpZiAoc3RyTGVuICUgMiAhPT0gMCkgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBoZXggc3RyaW5nJylcblxuICBpZiAobGVuZ3RoID4gc3RyTGVuIC8gMikge1xuICAgIGxlbmd0aCA9IHN0ckxlbiAvIDJcbiAgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgdmFyIHBhcnNlZCA9IHBhcnNlSW50KHN0cmluZy5zdWJzdHIoaSAqIDIsIDIpLCAxNilcbiAgICBpZiAoaXNOYU4ocGFyc2VkKSkgcmV0dXJuIGlcbiAgICBidWZbb2Zmc2V0ICsgaV0gPSBwYXJzZWRcbiAgfVxuICByZXR1cm4gaVxufVxuXG5mdW5jdGlvbiB1dGY4V3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYmxpdEJ1ZmZlcih1dGY4VG9CeXRlcyhzdHJpbmcsIGJ1Zi5sZW5ndGggLSBvZmZzZXQpLCBidWYsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5mdW5jdGlvbiBhc2NpaVdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGJsaXRCdWZmZXIoYXNjaWlUb0J5dGVzKHN0cmluZyksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbmZ1bmN0aW9uIGxhdGluMVdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGFzY2lpV3JpdGUoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5mdW5jdGlvbiBiYXNlNjRXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBibGl0QnVmZmVyKGJhc2U2NFRvQnl0ZXMoc3RyaW5nKSwgYnVmLCBvZmZzZXQsIGxlbmd0aClcbn1cblxuZnVuY3Rpb24gdWNzMldyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGJsaXRCdWZmZXIodXRmMTZsZVRvQnl0ZXMoc3RyaW5nLCBidWYubGVuZ3RoIC0gb2Zmc2V0KSwgYnVmLCBvZmZzZXQsIGxlbmd0aClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uIHdyaXRlIChzdHJpbmcsIG9mZnNldCwgbGVuZ3RoLCBlbmNvZGluZykge1xuICAvLyBCdWZmZXIjd3JpdGUoc3RyaW5nKVxuICBpZiAob2Zmc2V0ID09PSB1bmRlZmluZWQpIHtcbiAgICBlbmNvZGluZyA9ICd1dGY4J1xuICAgIGxlbmd0aCA9IHRoaXMubGVuZ3RoXG4gICAgb2Zmc2V0ID0gMFxuICAvLyBCdWZmZXIjd3JpdGUoc3RyaW5nLCBlbmNvZGluZylcbiAgfSBlbHNlIGlmIChsZW5ndGggPT09IHVuZGVmaW5lZCAmJiB0eXBlb2Ygb2Zmc2V0ID09PSAnc3RyaW5nJykge1xuICAgIGVuY29kaW5nID0gb2Zmc2V0XG4gICAgbGVuZ3RoID0gdGhpcy5sZW5ndGhcbiAgICBvZmZzZXQgPSAwXG4gIC8vIEJ1ZmZlciN3cml0ZShzdHJpbmcsIG9mZnNldFssIGxlbmd0aF1bLCBlbmNvZGluZ10pXG4gIH0gZWxzZSBpZiAoaXNGaW5pdGUob2Zmc2V0KSkge1xuICAgIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgICBpZiAoaXNGaW5pdGUobGVuZ3RoKSkge1xuICAgICAgbGVuZ3RoID0gbGVuZ3RoIHwgMFxuICAgICAgaWYgKGVuY29kaW5nID09PSB1bmRlZmluZWQpIGVuY29kaW5nID0gJ3V0ZjgnXG4gICAgfSBlbHNlIHtcbiAgICAgIGVuY29kaW5nID0gbGVuZ3RoXG4gICAgICBsZW5ndGggPSB1bmRlZmluZWRcbiAgICB9XG4gIC8vIGxlZ2FjeSB3cml0ZShzdHJpbmcsIGVuY29kaW5nLCBvZmZzZXQsIGxlbmd0aCkgLSByZW1vdmUgaW4gdjAuMTNcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAnQnVmZmVyLndyaXRlKHN0cmluZywgZW5jb2RpbmcsIG9mZnNldFssIGxlbmd0aF0pIGlzIG5vIGxvbmdlciBzdXBwb3J0ZWQnXG4gICAgKVxuICB9XG5cbiAgdmFyIHJlbWFpbmluZyA9IHRoaXMubGVuZ3RoIC0gb2Zmc2V0XG4gIGlmIChsZW5ndGggPT09IHVuZGVmaW5lZCB8fCBsZW5ndGggPiByZW1haW5pbmcpIGxlbmd0aCA9IHJlbWFpbmluZ1xuXG4gIGlmICgoc3RyaW5nLmxlbmd0aCA+IDAgJiYgKGxlbmd0aCA8IDAgfHwgb2Zmc2V0IDwgMCkpIHx8IG9mZnNldCA+IHRoaXMubGVuZ3RoKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0F0dGVtcHQgdG8gd3JpdGUgb3V0c2lkZSBidWZmZXIgYm91bmRzJylcbiAgfVxuXG4gIGlmICghZW5jb2RpbmcpIGVuY29kaW5nID0gJ3V0ZjgnXG5cbiAgdmFyIGxvd2VyZWRDYXNlID0gZmFsc2VcbiAgZm9yICg7Oykge1xuICAgIHN3aXRjaCAoZW5jb2RpbmcpIHtcbiAgICAgIGNhc2UgJ2hleCc6XG4gICAgICAgIHJldHVybiBoZXhXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBjYXNlICd1dGY4JzpcbiAgICAgIGNhc2UgJ3V0Zi04JzpcbiAgICAgICAgcmV0dXJuIHV0ZjhXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBjYXNlICdhc2NpaSc6XG4gICAgICAgIHJldHVybiBhc2NpaVdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ2xhdGluMSc6XG4gICAgICBjYXNlICdiaW5hcnknOlxuICAgICAgICByZXR1cm4gbGF0aW4xV3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAnYmFzZTY0JzpcbiAgICAgICAgLy8gV2FybmluZzogbWF4TGVuZ3RoIG5vdCB0YWtlbiBpbnRvIGFjY291bnQgaW4gYmFzZTY0V3JpdGVcbiAgICAgICAgcmV0dXJuIGJhc2U2NFdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ3VjczInOlxuICAgICAgY2FzZSAndWNzLTInOlxuICAgICAgY2FzZSAndXRmMTZsZSc6XG4gICAgICBjYXNlICd1dGYtMTZsZSc6XG4gICAgICAgIHJldHVybiB1Y3MyV3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKGxvd2VyZWRDYXNlKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmtub3duIGVuY29kaW5nOiAnICsgZW5jb2RpbmcpXG4gICAgICAgIGVuY29kaW5nID0gKCcnICsgZW5jb2RpbmcpLnRvTG93ZXJDYXNlKClcbiAgICAgICAgbG93ZXJlZENhc2UgPSB0cnVlXG4gICAgfVxuICB9XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gdG9KU09OICgpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiAnQnVmZmVyJyxcbiAgICBkYXRhOiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0aGlzLl9hcnIgfHwgdGhpcywgMClcbiAgfVxufVxuXG5mdW5jdGlvbiBiYXNlNjRTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIGlmIChzdGFydCA9PT0gMCAmJiBlbmQgPT09IGJ1Zi5sZW5ndGgpIHtcbiAgICByZXR1cm4gYmFzZTY0LmZyb21CeXRlQXJyYXkoYnVmKVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBiYXNlNjQuZnJvbUJ5dGVBcnJheShidWYuc2xpY2Uoc3RhcnQsIGVuZCkpXG4gIH1cbn1cblxuZnVuY3Rpb24gdXRmOFNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgZW5kID0gTWF0aC5taW4oYnVmLmxlbmd0aCwgZW5kKVxuICB2YXIgcmVzID0gW11cblxuICB2YXIgaSA9IHN0YXJ0XG4gIHdoaWxlIChpIDwgZW5kKSB7XG4gICAgdmFyIGZpcnN0Qnl0ZSA9IGJ1ZltpXVxuICAgIHZhciBjb2RlUG9pbnQgPSBudWxsXG4gICAgdmFyIGJ5dGVzUGVyU2VxdWVuY2UgPSAoZmlyc3RCeXRlID4gMHhFRikgPyA0XG4gICAgICA6IChmaXJzdEJ5dGUgPiAweERGKSA/IDNcbiAgICAgIDogKGZpcnN0Qnl0ZSA+IDB4QkYpID8gMlxuICAgICAgOiAxXG5cbiAgICBpZiAoaSArIGJ5dGVzUGVyU2VxdWVuY2UgPD0gZW5kKSB7XG4gICAgICB2YXIgc2Vjb25kQnl0ZSwgdGhpcmRCeXRlLCBmb3VydGhCeXRlLCB0ZW1wQ29kZVBvaW50XG5cbiAgICAgIHN3aXRjaCAoYnl0ZXNQZXJTZXF1ZW5jZSkge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgaWYgKGZpcnN0Qnl0ZSA8IDB4ODApIHtcbiAgICAgICAgICAgIGNvZGVQb2ludCA9IGZpcnN0Qnl0ZVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgc2Vjb25kQnl0ZSA9IGJ1ZltpICsgMV1cbiAgICAgICAgICBpZiAoKHNlY29uZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCkge1xuICAgICAgICAgICAgdGVtcENvZGVQb2ludCA9IChmaXJzdEJ5dGUgJiAweDFGKSA8PCAweDYgfCAoc2Vjb25kQnl0ZSAmIDB4M0YpXG4gICAgICAgICAgICBpZiAodGVtcENvZGVQb2ludCA+IDB4N0YpIHtcbiAgICAgICAgICAgICAgY29kZVBvaW50ID0gdGVtcENvZGVQb2ludFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgc2Vjb25kQnl0ZSA9IGJ1ZltpICsgMV1cbiAgICAgICAgICB0aGlyZEJ5dGUgPSBidWZbaSArIDJdXG4gICAgICAgICAgaWYgKChzZWNvbmRCeXRlICYgMHhDMCkgPT09IDB4ODAgJiYgKHRoaXJkQnl0ZSAmIDB4QzApID09PSAweDgwKSB7XG4gICAgICAgICAgICB0ZW1wQ29kZVBvaW50ID0gKGZpcnN0Qnl0ZSAmIDB4RikgPDwgMHhDIHwgKHNlY29uZEJ5dGUgJiAweDNGKSA8PCAweDYgfCAodGhpcmRCeXRlICYgMHgzRilcbiAgICAgICAgICAgIGlmICh0ZW1wQ29kZVBvaW50ID4gMHg3RkYgJiYgKHRlbXBDb2RlUG9pbnQgPCAweEQ4MDAgfHwgdGVtcENvZGVQb2ludCA+IDB4REZGRikpIHtcbiAgICAgICAgICAgICAgY29kZVBvaW50ID0gdGVtcENvZGVQb2ludFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgc2Vjb25kQnl0ZSA9IGJ1ZltpICsgMV1cbiAgICAgICAgICB0aGlyZEJ5dGUgPSBidWZbaSArIDJdXG4gICAgICAgICAgZm91cnRoQnl0ZSA9IGJ1ZltpICsgM11cbiAgICAgICAgICBpZiAoKHNlY29uZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCAmJiAodGhpcmRCeXRlICYgMHhDMCkgPT09IDB4ODAgJiYgKGZvdXJ0aEJ5dGUgJiAweEMwKSA9PT0gMHg4MCkge1xuICAgICAgICAgICAgdGVtcENvZGVQb2ludCA9IChmaXJzdEJ5dGUgJiAweEYpIDw8IDB4MTIgfCAoc2Vjb25kQnl0ZSAmIDB4M0YpIDw8IDB4QyB8ICh0aGlyZEJ5dGUgJiAweDNGKSA8PCAweDYgfCAoZm91cnRoQnl0ZSAmIDB4M0YpXG4gICAgICAgICAgICBpZiAodGVtcENvZGVQb2ludCA+IDB4RkZGRiAmJiB0ZW1wQ29kZVBvaW50IDwgMHgxMTAwMDApIHtcbiAgICAgICAgICAgICAgY29kZVBvaW50ID0gdGVtcENvZGVQb2ludFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoY29kZVBvaW50ID09PSBudWxsKSB7XG4gICAgICAvLyB3ZSBkaWQgbm90IGdlbmVyYXRlIGEgdmFsaWQgY29kZVBvaW50IHNvIGluc2VydCBhXG4gICAgICAvLyByZXBsYWNlbWVudCBjaGFyIChVK0ZGRkQpIGFuZCBhZHZhbmNlIG9ubHkgMSBieXRlXG4gICAgICBjb2RlUG9pbnQgPSAweEZGRkRcbiAgICAgIGJ5dGVzUGVyU2VxdWVuY2UgPSAxXG4gICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPiAweEZGRkYpIHtcbiAgICAgIC8vIGVuY29kZSB0byB1dGYxNiAoc3Vycm9nYXRlIHBhaXIgZGFuY2UpXG4gICAgICBjb2RlUG9pbnQgLT0gMHgxMDAwMFxuICAgICAgcmVzLnB1c2goY29kZVBvaW50ID4+PiAxMCAmIDB4M0ZGIHwgMHhEODAwKVxuICAgICAgY29kZVBvaW50ID0gMHhEQzAwIHwgY29kZVBvaW50ICYgMHgzRkZcbiAgICB9XG5cbiAgICByZXMucHVzaChjb2RlUG9pbnQpXG4gICAgaSArPSBieXRlc1BlclNlcXVlbmNlXG4gIH1cblxuICByZXR1cm4gZGVjb2RlQ29kZVBvaW50c0FycmF5KHJlcylcbn1cblxuLy8gQmFzZWQgb24gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjI3NDcyNzIvNjgwNzQyLCB0aGUgYnJvd3NlciB3aXRoXG4vLyB0aGUgbG93ZXN0IGxpbWl0IGlzIENocm9tZSwgd2l0aCAweDEwMDAwIGFyZ3MuXG4vLyBXZSBnbyAxIG1hZ25pdHVkZSBsZXNzLCBmb3Igc2FmZXR5XG52YXIgTUFYX0FSR1VNRU5UU19MRU5HVEggPSAweDEwMDBcblxuZnVuY3Rpb24gZGVjb2RlQ29kZVBvaW50c0FycmF5IChjb2RlUG9pbnRzKSB7XG4gIHZhciBsZW4gPSBjb2RlUG9pbnRzLmxlbmd0aFxuICBpZiAobGVuIDw9IE1BWF9BUkdVTUVOVFNfTEVOR1RIKSB7XG4gICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLCBjb2RlUG9pbnRzKSAvLyBhdm9pZCBleHRyYSBzbGljZSgpXG4gIH1cblxuICAvLyBEZWNvZGUgaW4gY2h1bmtzIHRvIGF2b2lkIFwiY2FsbCBzdGFjayBzaXplIGV4Y2VlZGVkXCIuXG4gIHZhciByZXMgPSAnJ1xuICB2YXIgaSA9IDBcbiAgd2hpbGUgKGkgPCBsZW4pIHtcbiAgICByZXMgKz0gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShcbiAgICAgIFN0cmluZyxcbiAgICAgIGNvZGVQb2ludHMuc2xpY2UoaSwgaSArPSBNQVhfQVJHVU1FTlRTX0xFTkdUSClcbiAgICApXG4gIH1cbiAgcmV0dXJuIHJlc1xufVxuXG5mdW5jdGlvbiBhc2NpaVNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIHJldCA9ICcnXG4gIGVuZCA9IE1hdGgubWluKGJ1Zi5sZW5ndGgsIGVuZClcblxuICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBlbmQ7ICsraSkge1xuICAgIHJldCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ1ZltpXSAmIDB4N0YpXG4gIH1cbiAgcmV0dXJuIHJldFxufVxuXG5mdW5jdGlvbiBsYXRpbjFTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIHZhciByZXQgPSAnJ1xuICBlbmQgPSBNYXRoLm1pbihidWYubGVuZ3RoLCBlbmQpXG5cbiAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHtcbiAgICByZXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShidWZbaV0pXG4gIH1cbiAgcmV0dXJuIHJldFxufVxuXG5mdW5jdGlvbiBoZXhTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIHZhciBsZW4gPSBidWYubGVuZ3RoXG5cbiAgaWYgKCFzdGFydCB8fCBzdGFydCA8IDApIHN0YXJ0ID0gMFxuICBpZiAoIWVuZCB8fCBlbmQgPCAwIHx8IGVuZCA+IGxlbikgZW5kID0gbGVuXG5cbiAgdmFyIG91dCA9ICcnXG4gIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7XG4gICAgb3V0ICs9IHRvSGV4KGJ1ZltpXSlcbiAgfVxuICByZXR1cm4gb3V0XG59XG5cbmZ1bmN0aW9uIHV0ZjE2bGVTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIHZhciBieXRlcyA9IGJ1Zi5zbGljZShzdGFydCwgZW5kKVxuICB2YXIgcmVzID0gJydcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBieXRlcy5sZW5ndGg7IGkgKz0gMikge1xuICAgIHJlcyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ5dGVzW2ldICsgYnl0ZXNbaSArIDFdICogMjU2KVxuICB9XG4gIHJldHVybiByZXNcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5zbGljZSA9IGZ1bmN0aW9uIHNsaWNlIChzdGFydCwgZW5kKSB7XG4gIHZhciBsZW4gPSB0aGlzLmxlbmd0aFxuICBzdGFydCA9IH5+c3RhcnRcbiAgZW5kID0gZW5kID09PSB1bmRlZmluZWQgPyBsZW4gOiB+fmVuZFxuXG4gIGlmIChzdGFydCA8IDApIHtcbiAgICBzdGFydCArPSBsZW5cbiAgICBpZiAoc3RhcnQgPCAwKSBzdGFydCA9IDBcbiAgfSBlbHNlIGlmIChzdGFydCA+IGxlbikge1xuICAgIHN0YXJ0ID0gbGVuXG4gIH1cblxuICBpZiAoZW5kIDwgMCkge1xuICAgIGVuZCArPSBsZW5cbiAgICBpZiAoZW5kIDwgMCkgZW5kID0gMFxuICB9IGVsc2UgaWYgKGVuZCA+IGxlbikge1xuICAgIGVuZCA9IGxlblxuICB9XG5cbiAgaWYgKGVuZCA8IHN0YXJ0KSBlbmQgPSBzdGFydFxuXG4gIHZhciBuZXdCdWZcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgbmV3QnVmID0gdGhpcy5zdWJhcnJheShzdGFydCwgZW5kKVxuICAgIG5ld0J1Zi5fX3Byb3RvX18gPSBCdWZmZXIucHJvdG90eXBlXG4gIH0gZWxzZSB7XG4gICAgdmFyIHNsaWNlTGVuID0gZW5kIC0gc3RhcnRcbiAgICBuZXdCdWYgPSBuZXcgQnVmZmVyKHNsaWNlTGVuLCB1bmRlZmluZWQpXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzbGljZUxlbjsgKytpKSB7XG4gICAgICBuZXdCdWZbaV0gPSB0aGlzW2kgKyBzdGFydF1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gbmV3QnVmXG59XG5cbi8qXG4gKiBOZWVkIHRvIG1ha2Ugc3VyZSB0aGF0IGJ1ZmZlciBpc24ndCB0cnlpbmcgdG8gd3JpdGUgb3V0IG9mIGJvdW5kcy5cbiAqL1xuZnVuY3Rpb24gY2hlY2tPZmZzZXQgKG9mZnNldCwgZXh0LCBsZW5ndGgpIHtcbiAgaWYgKChvZmZzZXQgJSAxKSAhPT0gMCB8fCBvZmZzZXQgPCAwKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignb2Zmc2V0IGlzIG5vdCB1aW50JylcbiAgaWYgKG9mZnNldCArIGV4dCA+IGxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RyeWluZyB0byBhY2Nlc3MgYmV5b25kIGJ1ZmZlciBsZW5ndGgnKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50TEUgPSBmdW5jdGlvbiByZWFkVUludExFIChvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgYnl0ZUxlbmd0aCwgdGhpcy5sZW5ndGgpXG5cbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0XVxuICB2YXIgbXVsID0gMVxuICB2YXIgaSA9IDBcbiAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB2YWwgKz0gdGhpc1tvZmZzZXQgKyBpXSAqIG11bFxuICB9XG5cbiAgcmV0dXJuIHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50QkUgPSBmdW5jdGlvbiByZWFkVUludEJFIChvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggfCAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICBjaGVja09mZnNldChvZmZzZXQsIGJ5dGVMZW5ndGgsIHRoaXMubGVuZ3RoKVxuICB9XG5cbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0ICsgLS1ieXRlTGVuZ3RoXVxuICB2YXIgbXVsID0gMVxuICB3aGlsZSAoYnl0ZUxlbmd0aCA+IDAgJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB2YWwgKz0gdGhpc1tvZmZzZXQgKyAtLWJ5dGVMZW5ndGhdICogbXVsXG4gIH1cblxuICByZXR1cm4gdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQ4ID0gZnVuY3Rpb24gcmVhZFVJbnQ4IChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMSwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiB0aGlzW29mZnNldF1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDE2TEUgPSBmdW5jdGlvbiByZWFkVUludDE2TEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAyLCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIHRoaXNbb2Zmc2V0XSB8ICh0aGlzW29mZnNldCArIDFdIDw8IDgpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQxNkJFID0gZnVuY3Rpb24gcmVhZFVJbnQxNkJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMiwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiAodGhpc1tvZmZzZXRdIDw8IDgpIHwgdGhpc1tvZmZzZXQgKyAxXVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MzJMRSA9IGZ1bmN0aW9uIHJlYWRVSW50MzJMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKVxuXG4gIHJldHVybiAoKHRoaXNbb2Zmc2V0XSkgfFxuICAgICAgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgOCkgfFxuICAgICAgKHRoaXNbb2Zmc2V0ICsgMl0gPDwgMTYpKSArXG4gICAgICAodGhpc1tvZmZzZXQgKyAzXSAqIDB4MTAwMDAwMClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDMyQkUgPSBmdW5jdGlvbiByZWFkVUludDMyQkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcblxuICByZXR1cm4gKHRoaXNbb2Zmc2V0XSAqIDB4MTAwMDAwMCkgK1xuICAgICgodGhpc1tvZmZzZXQgKyAxXSA8PCAxNikgfFxuICAgICh0aGlzW29mZnNldCArIDJdIDw8IDgpIHxcbiAgICB0aGlzW29mZnNldCArIDNdKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnRMRSA9IGZ1bmN0aW9uIHJlYWRJbnRMRSAob2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoIHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIGJ5dGVMZW5ndGgsIHRoaXMubGVuZ3RoKVxuXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldF1cbiAgdmFyIG11bCA9IDFcbiAgdmFyIGkgPSAwXG4gIHdoaWxlICgrK2kgPCBieXRlTGVuZ3RoICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdmFsICs9IHRoaXNbb2Zmc2V0ICsgaV0gKiBtdWxcbiAgfVxuICBtdWwgKj0gMHg4MFxuXG4gIGlmICh2YWwgPj0gbXVsKSB2YWwgLT0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGgpXG5cbiAgcmV0dXJuIHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnRCRSA9IGZ1bmN0aW9uIHJlYWRJbnRCRSAob2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoIHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIGJ5dGVMZW5ndGgsIHRoaXMubGVuZ3RoKVxuXG4gIHZhciBpID0gYnl0ZUxlbmd0aFxuICB2YXIgbXVsID0gMVxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXQgKyAtLWldXG4gIHdoaWxlIChpID4gMCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHZhbCArPSB0aGlzW29mZnNldCArIC0taV0gKiBtdWxcbiAgfVxuICBtdWwgKj0gMHg4MFxuXG4gIGlmICh2YWwgPj0gbXVsKSB2YWwgLT0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGgpXG5cbiAgcmV0dXJuIHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQ4ID0gZnVuY3Rpb24gcmVhZEludDggKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAxLCB0aGlzLmxlbmd0aClcbiAgaWYgKCEodGhpc1tvZmZzZXRdICYgMHg4MCkpIHJldHVybiAodGhpc1tvZmZzZXRdKVxuICByZXR1cm4gKCgweGZmIC0gdGhpc1tvZmZzZXRdICsgMSkgKiAtMSlcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MTZMRSA9IGZ1bmN0aW9uIHJlYWRJbnQxNkxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMiwgdGhpcy5sZW5ndGgpXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldF0gfCAodGhpc1tvZmZzZXQgKyAxXSA8PCA4KVxuICByZXR1cm4gKHZhbCAmIDB4ODAwMCkgPyB2YWwgfCAweEZGRkYwMDAwIDogdmFsXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDE2QkUgPSBmdW5jdGlvbiByZWFkSW50MTZCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDIsIHRoaXMubGVuZ3RoKVxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXQgKyAxXSB8ICh0aGlzW29mZnNldF0gPDwgOClcbiAgcmV0dXJuICh2YWwgJiAweDgwMDApID8gdmFsIHwgMHhGRkZGMDAwMCA6IHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQzMkxFID0gZnVuY3Rpb24gcmVhZEludDMyTEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcblxuICByZXR1cm4gKHRoaXNbb2Zmc2V0XSkgfFxuICAgICh0aGlzW29mZnNldCArIDFdIDw8IDgpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCAxNikgfFxuICAgICh0aGlzW29mZnNldCArIDNdIDw8IDI0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQzMkJFID0gZnVuY3Rpb24gcmVhZEludDMyQkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcblxuICByZXR1cm4gKHRoaXNbb2Zmc2V0XSA8PCAyNCkgfFxuICAgICh0aGlzW29mZnNldCArIDFdIDw8IDE2KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMl0gPDwgOCkgfFxuICAgICh0aGlzW29mZnNldCArIDNdKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRGbG9hdExFID0gZnVuY3Rpb24gcmVhZEZsb2F0TEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIGllZWU3NTQucmVhZCh0aGlzLCBvZmZzZXQsIHRydWUsIDIzLCA0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRGbG9hdEJFID0gZnVuY3Rpb24gcmVhZEZsb2F0QkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIGllZWU3NTQucmVhZCh0aGlzLCBvZmZzZXQsIGZhbHNlLCAyMywgNClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkRG91YmxlTEUgPSBmdW5jdGlvbiByZWFkRG91YmxlTEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA4LCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIGllZWU3NTQucmVhZCh0aGlzLCBvZmZzZXQsIHRydWUsIDUyLCA4KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWREb3VibGVCRSA9IGZ1bmN0aW9uIHJlYWREb3VibGVCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDgsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gaWVlZTc1NC5yZWFkKHRoaXMsIG9mZnNldCwgZmFsc2UsIDUyLCA4KVxufVxuXG5mdW5jdGlvbiBjaGVja0ludCAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBleHQsIG1heCwgbWluKSB7XG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKGJ1ZikpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wiYnVmZmVyXCIgYXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlciBpbnN0YW5jZScpXG4gIGlmICh2YWx1ZSA+IG1heCB8fCB2YWx1ZSA8IG1pbikgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1widmFsdWVcIiBhcmd1bWVudCBpcyBvdXQgb2YgYm91bmRzJylcbiAgaWYgKG9mZnNldCArIGV4dCA+IGJ1Zi5sZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbmRleCBvdXQgb2YgcmFuZ2UnKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludExFID0gZnVuY3Rpb24gd3JpdGVVSW50TEUgKHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggfCAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICB2YXIgbWF4Qnl0ZXMgPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aCkgLSAxXG4gICAgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbWF4Qnl0ZXMsIDApXG4gIH1cblxuICB2YXIgbXVsID0gMVxuICB2YXIgaSA9IDBcbiAgdGhpc1tvZmZzZXRdID0gdmFsdWUgJiAweEZGXG4gIHdoaWxlICgrK2kgPCBieXRlTGVuZ3RoICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdGhpc1tvZmZzZXQgKyBpXSA9ICh2YWx1ZSAvIG11bCkgJiAweEZGXG4gIH1cblxuICByZXR1cm4gb2Zmc2V0ICsgYnl0ZUxlbmd0aFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludEJFID0gZnVuY3Rpb24gd3JpdGVVSW50QkUgKHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggfCAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICB2YXIgbWF4Qnl0ZXMgPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aCkgLSAxXG4gICAgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbWF4Qnl0ZXMsIDApXG4gIH1cblxuICB2YXIgaSA9IGJ5dGVMZW5ndGggLSAxXG4gIHZhciBtdWwgPSAxXG4gIHRoaXNbb2Zmc2V0ICsgaV0gPSB2YWx1ZSAmIDB4RkZcbiAgd2hpbGUgKC0taSA+PSAwICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdGhpc1tvZmZzZXQgKyBpXSA9ICh2YWx1ZSAvIG11bCkgJiAweEZGXG4gIH1cblxuICByZXR1cm4gb2Zmc2V0ICsgYnl0ZUxlbmd0aFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDggPSBmdW5jdGlvbiB3cml0ZVVJbnQ4ICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDEsIDB4ZmYsIDApXG4gIGlmICghQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHZhbHVlID0gTWF0aC5mbG9vcih2YWx1ZSlcbiAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgcmV0dXJuIG9mZnNldCArIDFcbn1cblxuZnVuY3Rpb24gb2JqZWN0V3JpdGVVSW50MTYgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuKSB7XG4gIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMHhmZmZmICsgdmFsdWUgKyAxXG4gIGZvciAodmFyIGkgPSAwLCBqID0gTWF0aC5taW4oYnVmLmxlbmd0aCAtIG9mZnNldCwgMik7IGkgPCBqOyArK2kpIHtcbiAgICBidWZbb2Zmc2V0ICsgaV0gPSAodmFsdWUgJiAoMHhmZiA8PCAoOCAqIChsaXR0bGVFbmRpYW4gPyBpIDogMSAtIGkpKSkpID4+PlxuICAgICAgKGxpdHRsZUVuZGlhbiA/IGkgOiAxIC0gaSkgKiA4XG4gIH1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQxNkxFID0gZnVuY3Rpb24gd3JpdGVVSW50MTZMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAyLCAweGZmZmYsIDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gOClcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQxNih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyAyXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50MTZCRSA9IGZ1bmN0aW9uIHdyaXRlVUludDE2QkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHhmZmZmLCAwKVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgPj4+IDgpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MTYodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDJcbn1cblxuZnVuY3Rpb24gb2JqZWN0V3JpdGVVSW50MzIgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuKSB7XG4gIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMHhmZmZmZmZmZiArIHZhbHVlICsgMVxuICBmb3IgKHZhciBpID0gMCwgaiA9IE1hdGgubWluKGJ1Zi5sZW5ndGggLSBvZmZzZXQsIDQpOyBpIDwgajsgKytpKSB7XG4gICAgYnVmW29mZnNldCArIGldID0gKHZhbHVlID4+PiAobGl0dGxlRW5kaWFuID8gaSA6IDMgLSBpKSAqIDgpICYgMHhmZlxuICB9XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50MzJMRSA9IGZ1bmN0aW9uIHdyaXRlVUludDMyTEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHhmZmZmZmZmZiwgMClcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXQgKyAzXSA9ICh2YWx1ZSA+Pj4gMjQpXG4gICAgdGhpc1tvZmZzZXQgKyAyXSA9ICh2YWx1ZSA+Pj4gMTYpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gOClcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDMyKHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDRcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQzMkJFID0gZnVuY3Rpb24gd3JpdGVVSW50MzJCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCA0LCAweGZmZmZmZmZmLCAwKVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgPj4+IDI0KVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDE2KVxuICAgIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDgpXG4gICAgdGhpc1tvZmZzZXQgKyAzXSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MzIodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDRcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludExFID0gZnVuY3Rpb24gd3JpdGVJbnRMRSAodmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgdmFyIGxpbWl0ID0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGggLSAxKVxuXG4gICAgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbGltaXQgLSAxLCAtbGltaXQpXG4gIH1cblxuICB2YXIgaSA9IDBcbiAgdmFyIG11bCA9IDFcbiAgdmFyIHN1YiA9IDBcbiAgdGhpc1tvZmZzZXRdID0gdmFsdWUgJiAweEZGXG4gIHdoaWxlICgrK2kgPCBieXRlTGVuZ3RoICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgaWYgKHZhbHVlIDwgMCAmJiBzdWIgPT09IDAgJiYgdGhpc1tvZmZzZXQgKyBpIC0gMV0gIT09IDApIHtcbiAgICAgIHN1YiA9IDFcbiAgICB9XG4gICAgdGhpc1tvZmZzZXQgKyBpXSA9ICgodmFsdWUgLyBtdWwpID4+IDApIC0gc3ViICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIG9mZnNldCArIGJ5dGVMZW5ndGhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludEJFID0gZnVuY3Rpb24gd3JpdGVJbnRCRSAodmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgdmFyIGxpbWl0ID0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGggLSAxKVxuXG4gICAgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbGltaXQgLSAxLCAtbGltaXQpXG4gIH1cblxuICB2YXIgaSA9IGJ5dGVMZW5ndGggLSAxXG4gIHZhciBtdWwgPSAxXG4gIHZhciBzdWIgPSAwXG4gIHRoaXNbb2Zmc2V0ICsgaV0gPSB2YWx1ZSAmIDB4RkZcbiAgd2hpbGUgKC0taSA+PSAwICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgaWYgKHZhbHVlIDwgMCAmJiBzdWIgPT09IDAgJiYgdGhpc1tvZmZzZXQgKyBpICsgMV0gIT09IDApIHtcbiAgICAgIHN1YiA9IDFcbiAgICB9XG4gICAgdGhpc1tvZmZzZXQgKyBpXSA9ICgodmFsdWUgLyBtdWwpID4+IDApIC0gc3ViICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIG9mZnNldCArIGJ5dGVMZW5ndGhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDggPSBmdW5jdGlvbiB3cml0ZUludDggKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMSwgMHg3ZiwgLTB4ODApXG4gIGlmICghQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHZhbHVlID0gTWF0aC5mbG9vcih2YWx1ZSlcbiAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAweGZmICsgdmFsdWUgKyAxXG4gIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIHJldHVybiBvZmZzZXQgKyAxXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQxNkxFID0gZnVuY3Rpb24gd3JpdGVJbnQxNkxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDIsIDB4N2ZmZiwgLTB4ODAwMClcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDE2KHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDJcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDE2QkUgPSBmdW5jdGlvbiB3cml0ZUludDE2QkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHg3ZmZmLCAtMHg4MDAwKVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgPj4+IDgpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MTYodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDJcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDMyTEUgPSBmdW5jdGlvbiB3cml0ZUludDMyTEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHg3ZmZmZmZmZiwgLTB4ODAwMDAwMDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gOClcbiAgICB0aGlzW29mZnNldCArIDJdID0gKHZhbHVlID4+PiAxNilcbiAgICB0aGlzW29mZnNldCArIDNdID0gKHZhbHVlID4+PiAyNClcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQzMih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQzMkJFID0gZnVuY3Rpb24gd3JpdGVJbnQzMkJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDQsIDB4N2ZmZmZmZmYsIC0weDgwMDAwMDAwKVxuICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDB4ZmZmZmZmZmYgKyB2YWx1ZSArIDFcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlID4+PiAyNClcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiAxNilcbiAgICB0aGlzW29mZnNldCArIDJdID0gKHZhbHVlID4+PiA4KVxuICAgIHRoaXNbb2Zmc2V0ICsgM10gPSAodmFsdWUgJiAweGZmKVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDMyKHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbmZ1bmN0aW9uIGNoZWNrSUVFRTc1NCAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBleHQsIG1heCwgbWluKSB7XG4gIGlmIChvZmZzZXQgKyBleHQgPiBidWYubGVuZ3RoKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW5kZXggb3V0IG9mIHJhbmdlJylcbiAgaWYgKG9mZnNldCA8IDApIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbmRleCBvdXQgb2YgcmFuZ2UnKVxufVxuXG5mdW5jdGlvbiB3cml0ZUZsb2F0IChidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGNoZWNrSUVFRTc1NChidWYsIHZhbHVlLCBvZmZzZXQsIDQsIDMuNDAyODIzNDY2Mzg1Mjg4NmUrMzgsIC0zLjQwMjgyMzQ2NjM4NTI4ODZlKzM4KVxuICB9XG4gIGllZWU3NTQud3JpdGUoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIDIzLCA0KVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlRmxvYXRMRSA9IGZ1bmN0aW9uIHdyaXRlRmxvYXRMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIHdyaXRlRmxvYXQodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSwgbm9Bc3NlcnQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVGbG9hdEJFID0gZnVuY3Rpb24gd3JpdGVGbG9hdEJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gd3JpdGVGbG9hdCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSwgbm9Bc3NlcnQpXG59XG5cbmZ1bmN0aW9uIHdyaXRlRG91YmxlIChidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIGNoZWNrSUVFRTc1NChidWYsIHZhbHVlLCBvZmZzZXQsIDgsIDEuNzk3NjkzMTM0ODYyMzE1N0UrMzA4LCAtMS43OTc2OTMxMzQ4NjIzMTU3RSszMDgpXG4gIH1cbiAgaWVlZTc1NC53cml0ZShidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgNTIsIDgpXG4gIHJldHVybiBvZmZzZXQgKyA4XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVEb3VibGVMRSA9IGZ1bmN0aW9uIHdyaXRlRG91YmxlTEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHJldHVybiB3cml0ZURvdWJsZSh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlLCBub0Fzc2VydClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZURvdWJsZUJFID0gZnVuY3Rpb24gd3JpdGVEb3VibGVCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIHdyaXRlRG91YmxlKHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlLCBub0Fzc2VydClcbn1cblxuLy8gY29weSh0YXJnZXRCdWZmZXIsIHRhcmdldFN0YXJ0PTAsIHNvdXJjZVN0YXJ0PTAsIHNvdXJjZUVuZD1idWZmZXIubGVuZ3RoKVxuQnVmZmVyLnByb3RvdHlwZS5jb3B5ID0gZnVuY3Rpb24gY29weSAodGFyZ2V0LCB0YXJnZXRTdGFydCwgc3RhcnQsIGVuZCkge1xuICBpZiAoIXN0YXJ0KSBzdGFydCA9IDBcbiAgaWYgKCFlbmQgJiYgZW5kICE9PSAwKSBlbmQgPSB0aGlzLmxlbmd0aFxuICBpZiAodGFyZ2V0U3RhcnQgPj0gdGFyZ2V0Lmxlbmd0aCkgdGFyZ2V0U3RhcnQgPSB0YXJnZXQubGVuZ3RoXG4gIGlmICghdGFyZ2V0U3RhcnQpIHRhcmdldFN0YXJ0ID0gMFxuICBpZiAoZW5kID4gMCAmJiBlbmQgPCBzdGFydCkgZW5kID0gc3RhcnRcblxuICAvLyBDb3B5IDAgYnl0ZXM7IHdlJ3JlIGRvbmVcbiAgaWYgKGVuZCA9PT0gc3RhcnQpIHJldHVybiAwXG4gIGlmICh0YXJnZXQubGVuZ3RoID09PSAwIHx8IHRoaXMubGVuZ3RoID09PSAwKSByZXR1cm4gMFxuXG4gIC8vIEZhdGFsIGVycm9yIGNvbmRpdGlvbnNcbiAgaWYgKHRhcmdldFN0YXJ0IDwgMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCd0YXJnZXRTdGFydCBvdXQgb2YgYm91bmRzJylcbiAgfVxuICBpZiAoc3RhcnQgPCAwIHx8IHN0YXJ0ID49IHRoaXMubGVuZ3RoKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignc291cmNlU3RhcnQgb3V0IG9mIGJvdW5kcycpXG4gIGlmIChlbmQgPCAwKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignc291cmNlRW5kIG91dCBvZiBib3VuZHMnKVxuXG4gIC8vIEFyZSB3ZSBvb2I/XG4gIGlmIChlbmQgPiB0aGlzLmxlbmd0aCkgZW5kID0gdGhpcy5sZW5ndGhcbiAgaWYgKHRhcmdldC5sZW5ndGggLSB0YXJnZXRTdGFydCA8IGVuZCAtIHN0YXJ0KSB7XG4gICAgZW5kID0gdGFyZ2V0Lmxlbmd0aCAtIHRhcmdldFN0YXJ0ICsgc3RhcnRcbiAgfVxuXG4gIHZhciBsZW4gPSBlbmQgLSBzdGFydFxuICB2YXIgaVxuXG4gIGlmICh0aGlzID09PSB0YXJnZXQgJiYgc3RhcnQgPCB0YXJnZXRTdGFydCAmJiB0YXJnZXRTdGFydCA8IGVuZCkge1xuICAgIC8vIGRlc2NlbmRpbmcgY29weSBmcm9tIGVuZFxuICAgIGZvciAoaSA9IGxlbiAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICB0YXJnZXRbaSArIHRhcmdldFN0YXJ0XSA9IHRoaXNbaSArIHN0YXJ0XVxuICAgIH1cbiAgfSBlbHNlIGlmIChsZW4gPCAxMDAwIHx8ICFCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIC8vIGFzY2VuZGluZyBjb3B5IGZyb20gc3RhcnRcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgIHRhcmdldFtpICsgdGFyZ2V0U3RhcnRdID0gdGhpc1tpICsgc3RhcnRdXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIFVpbnQ4QXJyYXkucHJvdG90eXBlLnNldC5jYWxsKFxuICAgICAgdGFyZ2V0LFxuICAgICAgdGhpcy5zdWJhcnJheShzdGFydCwgc3RhcnQgKyBsZW4pLFxuICAgICAgdGFyZ2V0U3RhcnRcbiAgICApXG4gIH1cblxuICByZXR1cm4gbGVuXG59XG5cbi8vIFVzYWdlOlxuLy8gICAgYnVmZmVyLmZpbGwobnVtYmVyWywgb2Zmc2V0WywgZW5kXV0pXG4vLyAgICBidWZmZXIuZmlsbChidWZmZXJbLCBvZmZzZXRbLCBlbmRdXSlcbi8vICAgIGJ1ZmZlci5maWxsKHN0cmluZ1ssIG9mZnNldFssIGVuZF1dWywgZW5jb2RpbmddKVxuQnVmZmVyLnByb3RvdHlwZS5maWxsID0gZnVuY3Rpb24gZmlsbCAodmFsLCBzdGFydCwgZW5kLCBlbmNvZGluZykge1xuICAvLyBIYW5kbGUgc3RyaW5nIGNhc2VzOlxuICBpZiAodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycpIHtcbiAgICBpZiAodHlwZW9mIHN0YXJ0ID09PSAnc3RyaW5nJykge1xuICAgICAgZW5jb2RpbmcgPSBzdGFydFxuICAgICAgc3RhcnQgPSAwXG4gICAgICBlbmQgPSB0aGlzLmxlbmd0aFxuICAgIH0gZWxzZSBpZiAodHlwZW9mIGVuZCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGVuY29kaW5nID0gZW5kXG4gICAgICBlbmQgPSB0aGlzLmxlbmd0aFxuICAgIH1cbiAgICBpZiAodmFsLmxlbmd0aCA9PT0gMSkge1xuICAgICAgdmFyIGNvZGUgPSB2YWwuY2hhckNvZGVBdCgwKVxuICAgICAgaWYgKGNvZGUgPCAyNTYpIHtcbiAgICAgICAgdmFsID0gY29kZVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZW5jb2RpbmcgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgZW5jb2RpbmcgIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdlbmNvZGluZyBtdXN0IGJlIGEgc3RyaW5nJylcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBlbmNvZGluZyA9PT0gJ3N0cmluZycgJiYgIUJ1ZmZlci5pc0VuY29kaW5nKGVuY29kaW5nKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBlbmNvZGluZzogJyArIGVuY29kaW5nKVxuICAgIH1cbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsID09PSAnbnVtYmVyJykge1xuICAgIHZhbCA9IHZhbCAmIDI1NVxuICB9XG5cbiAgLy8gSW52YWxpZCByYW5nZXMgYXJlIG5vdCBzZXQgdG8gYSBkZWZhdWx0LCBzbyBjYW4gcmFuZ2UgY2hlY2sgZWFybHkuXG4gIGlmIChzdGFydCA8IDAgfHwgdGhpcy5sZW5ndGggPCBzdGFydCB8fCB0aGlzLmxlbmd0aCA8IGVuZCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdPdXQgb2YgcmFuZ2UgaW5kZXgnKVxuICB9XG5cbiAgaWYgKGVuZCA8PSBzdGFydCkge1xuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICBzdGFydCA9IHN0YXJ0ID4+PiAwXG4gIGVuZCA9IGVuZCA9PT0gdW5kZWZpbmVkID8gdGhpcy5sZW5ndGggOiBlbmQgPj4+IDBcblxuICBpZiAoIXZhbCkgdmFsID0gMFxuXG4gIHZhciBpXG4gIGlmICh0eXBlb2YgdmFsID09PSAnbnVtYmVyJykge1xuICAgIGZvciAoaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHtcbiAgICAgIHRoaXNbaV0gPSB2YWxcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdmFyIGJ5dGVzID0gQnVmZmVyLmlzQnVmZmVyKHZhbClcbiAgICAgID8gdmFsXG4gICAgICA6IHV0ZjhUb0J5dGVzKG5ldyBCdWZmZXIodmFsLCBlbmNvZGluZykudG9TdHJpbmcoKSlcbiAgICB2YXIgbGVuID0gYnl0ZXMubGVuZ3RoXG4gICAgZm9yIChpID0gMDsgaSA8IGVuZCAtIHN0YXJ0OyArK2kpIHtcbiAgICAgIHRoaXNbaSArIHN0YXJ0XSA9IGJ5dGVzW2kgJSBsZW5dXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRoaXNcbn1cblxuLy8gSEVMUEVSIEZVTkNUSU9OU1xuLy8gPT09PT09PT09PT09PT09PVxuXG52YXIgSU5WQUxJRF9CQVNFNjRfUkUgPSAvW14rXFwvMC05QS1aYS16LV9dL2dcblxuZnVuY3Rpb24gYmFzZTY0Y2xlYW4gKHN0cikge1xuICAvLyBOb2RlIHN0cmlwcyBvdXQgaW52YWxpZCBjaGFyYWN0ZXJzIGxpa2UgXFxuIGFuZCBcXHQgZnJvbSB0aGUgc3RyaW5nLCBiYXNlNjQtanMgZG9lcyBub3RcbiAgc3RyID0gc3RyaW5ndHJpbShzdHIpLnJlcGxhY2UoSU5WQUxJRF9CQVNFNjRfUkUsICcnKVxuICAvLyBOb2RlIGNvbnZlcnRzIHN0cmluZ3Mgd2l0aCBsZW5ndGggPCAyIHRvICcnXG4gIGlmIChzdHIubGVuZ3RoIDwgMikgcmV0dXJuICcnXG4gIC8vIE5vZGUgYWxsb3dzIGZvciBub24tcGFkZGVkIGJhc2U2NCBzdHJpbmdzIChtaXNzaW5nIHRyYWlsaW5nID09PSksIGJhc2U2NC1qcyBkb2VzIG5vdFxuICB3aGlsZSAoc3RyLmxlbmd0aCAlIDQgIT09IDApIHtcbiAgICBzdHIgPSBzdHIgKyAnPSdcbiAgfVxuICByZXR1cm4gc3RyXG59XG5cbmZ1bmN0aW9uIHN0cmluZ3RyaW0gKHN0cikge1xuICBpZiAoc3RyLnRyaW0pIHJldHVybiBzdHIudHJpbSgpXG4gIHJldHVybiBzdHIucmVwbGFjZSgvXlxccyt8XFxzKyQvZywgJycpXG59XG5cbmZ1bmN0aW9uIHRvSGV4IChuKSB7XG4gIGlmIChuIDwgMTYpIHJldHVybiAnMCcgKyBuLnRvU3RyaW5nKDE2KVxuICByZXR1cm4gbi50b1N0cmluZygxNilcbn1cblxuZnVuY3Rpb24gdXRmOFRvQnl0ZXMgKHN0cmluZywgdW5pdHMpIHtcbiAgdW5pdHMgPSB1bml0cyB8fCBJbmZpbml0eVxuICB2YXIgY29kZVBvaW50XG4gIHZhciBsZW5ndGggPSBzdHJpbmcubGVuZ3RoXG4gIHZhciBsZWFkU3Vycm9nYXRlID0gbnVsbFxuICB2YXIgYnl0ZXMgPSBbXVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICBjb2RlUG9pbnQgPSBzdHJpbmcuY2hhckNvZGVBdChpKVxuXG4gICAgLy8gaXMgc3Vycm9nYXRlIGNvbXBvbmVudFxuICAgIGlmIChjb2RlUG9pbnQgPiAweEQ3RkYgJiYgY29kZVBvaW50IDwgMHhFMDAwKSB7XG4gICAgICAvLyBsYXN0IGNoYXIgd2FzIGEgbGVhZFxuICAgICAgaWYgKCFsZWFkU3Vycm9nYXRlKSB7XG4gICAgICAgIC8vIG5vIGxlYWQgeWV0XG4gICAgICAgIGlmIChjb2RlUG9pbnQgPiAweERCRkYpIHtcbiAgICAgICAgICAvLyB1bmV4cGVjdGVkIHRyYWlsXG4gICAgICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpXG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfSBlbHNlIGlmIChpICsgMSA9PT0gbGVuZ3RoKSB7XG4gICAgICAgICAgLy8gdW5wYWlyZWQgbGVhZFxuICAgICAgICAgIGlmICgodW5pdHMgLT0gMykgPiAtMSkgYnl0ZXMucHVzaCgweEVGLCAweEJGLCAweEJEKVxuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH1cblxuICAgICAgICAvLyB2YWxpZCBsZWFkXG4gICAgICAgIGxlYWRTdXJyb2dhdGUgPSBjb2RlUG9pbnRcblxuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuXG4gICAgICAvLyAyIGxlYWRzIGluIGEgcm93XG4gICAgICBpZiAoY29kZVBvaW50IDwgMHhEQzAwKSB7XG4gICAgICAgIGlmICgodW5pdHMgLT0gMykgPiAtMSkgYnl0ZXMucHVzaCgweEVGLCAweEJGLCAweEJEKVxuICAgICAgICBsZWFkU3Vycm9nYXRlID0gY29kZVBvaW50XG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIC8vIHZhbGlkIHN1cnJvZ2F0ZSBwYWlyXG4gICAgICBjb2RlUG9pbnQgPSAobGVhZFN1cnJvZ2F0ZSAtIDB4RDgwMCA8PCAxMCB8IGNvZGVQb2ludCAtIDB4REMwMCkgKyAweDEwMDAwXG4gICAgfSBlbHNlIGlmIChsZWFkU3Vycm9nYXRlKSB7XG4gICAgICAvLyB2YWxpZCBibXAgY2hhciwgYnV0IGxhc3QgY2hhciB3YXMgYSBsZWFkXG4gICAgICBpZiAoKHVuaXRzIC09IDMpID4gLTEpIGJ5dGVzLnB1c2goMHhFRiwgMHhCRiwgMHhCRClcbiAgICB9XG5cbiAgICBsZWFkU3Vycm9nYXRlID0gbnVsbFxuXG4gICAgLy8gZW5jb2RlIHV0ZjhcbiAgICBpZiAoY29kZVBvaW50IDwgMHg4MCkge1xuICAgICAgaWYgKCh1bml0cyAtPSAxKSA8IDApIGJyZWFrXG4gICAgICBieXRlcy5wdXNoKGNvZGVQb2ludClcbiAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA8IDB4ODAwKSB7XG4gICAgICBpZiAoKHVuaXRzIC09IDIpIDwgMCkgYnJlYWtcbiAgICAgIGJ5dGVzLnB1c2goXG4gICAgICAgIGNvZGVQb2ludCA+PiAweDYgfCAweEMwLFxuICAgICAgICBjb2RlUG9pbnQgJiAweDNGIHwgMHg4MFxuICAgICAgKVxuICAgIH0gZWxzZSBpZiAoY29kZVBvaW50IDwgMHgxMDAwMCkge1xuICAgICAgaWYgKCh1bml0cyAtPSAzKSA8IDApIGJyZWFrXG4gICAgICBieXRlcy5wdXNoKFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHhDIHwgMHhFMCxcbiAgICAgICAgY29kZVBvaW50ID4+IDB4NiAmIDB4M0YgfCAweDgwLFxuICAgICAgICBjb2RlUG9pbnQgJiAweDNGIHwgMHg4MFxuICAgICAgKVxuICAgIH0gZWxzZSBpZiAoY29kZVBvaW50IDwgMHgxMTAwMDApIHtcbiAgICAgIGlmICgodW5pdHMgLT0gNCkgPCAwKSBicmVha1xuICAgICAgYnl0ZXMucHVzaChcbiAgICAgICAgY29kZVBvaW50ID4+IDB4MTIgfCAweEYwLFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHhDICYgMHgzRiB8IDB4ODAsXG4gICAgICAgIGNvZGVQb2ludCA+PiAweDYgJiAweDNGIHwgMHg4MCxcbiAgICAgICAgY29kZVBvaW50ICYgMHgzRiB8IDB4ODBcbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGNvZGUgcG9pbnQnKVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBieXRlc1xufVxuXG5mdW5jdGlvbiBhc2NpaVRvQnl0ZXMgKHN0cikge1xuICB2YXIgYnl0ZUFycmF5ID0gW11cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyArK2kpIHtcbiAgICAvLyBOb2RlJ3MgY29kZSBzZWVtcyB0byBiZSBkb2luZyB0aGlzIGFuZCBub3QgJiAweDdGLi5cbiAgICBieXRlQXJyYXkucHVzaChzdHIuY2hhckNvZGVBdChpKSAmIDB4RkYpXG4gIH1cbiAgcmV0dXJuIGJ5dGVBcnJheVxufVxuXG5mdW5jdGlvbiB1dGYxNmxlVG9CeXRlcyAoc3RyLCB1bml0cykge1xuICB2YXIgYywgaGksIGxvXG4gIHZhciBieXRlQXJyYXkgPSBbXVxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7ICsraSkge1xuICAgIGlmICgodW5pdHMgLT0gMikgPCAwKSBicmVha1xuXG4gICAgYyA9IHN0ci5jaGFyQ29kZUF0KGkpXG4gICAgaGkgPSBjID4+IDhcbiAgICBsbyA9IGMgJSAyNTZcbiAgICBieXRlQXJyYXkucHVzaChsbylcbiAgICBieXRlQXJyYXkucHVzaChoaSlcbiAgfVxuXG4gIHJldHVybiBieXRlQXJyYXlcbn1cblxuZnVuY3Rpb24gYmFzZTY0VG9CeXRlcyAoc3RyKSB7XG4gIHJldHVybiBiYXNlNjQudG9CeXRlQXJyYXkoYmFzZTY0Y2xlYW4oc3RyKSlcbn1cblxuZnVuY3Rpb24gYmxpdEJ1ZmZlciAoc3JjLCBkc3QsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICBpZiAoKGkgKyBvZmZzZXQgPj0gZHN0Lmxlbmd0aCkgfHwgKGkgPj0gc3JjLmxlbmd0aCkpIGJyZWFrXG4gICAgZHN0W2kgKyBvZmZzZXRdID0gc3JjW2ldXG4gIH1cbiAgcmV0dXJuIGlcbn1cblxuZnVuY3Rpb24gaXNuYW4gKHZhbCkge1xuICByZXR1cm4gdmFsICE9PSB2YWwgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1zZWxmLWNvbXBhcmVcbn1cbiIsIid1c2Ugc3RyaWN0J1xuXG5leHBvcnRzLmJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoXG5leHBvcnRzLnRvQnl0ZUFycmF5ID0gdG9CeXRlQXJyYXlcbmV4cG9ydHMuZnJvbUJ5dGVBcnJheSA9IGZyb21CeXRlQXJyYXlcblxudmFyIGxvb2t1cCA9IFtdXG52YXIgcmV2TG9va3VwID0gW11cbnZhciBBcnIgPSB0eXBlb2YgVWludDhBcnJheSAhPT0gJ3VuZGVmaW5lZCcgPyBVaW50OEFycmF5IDogQXJyYXlcblxudmFyIGNvZGUgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLydcbmZvciAodmFyIGkgPSAwLCBsZW4gPSBjb2RlLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG4gIGxvb2t1cFtpXSA9IGNvZGVbaV1cbiAgcmV2TG9va3VwW2NvZGUuY2hhckNvZGVBdChpKV0gPSBpXG59XG5cbi8vIFN1cHBvcnQgZGVjb2RpbmcgVVJMLXNhZmUgYmFzZTY0IHN0cmluZ3MsIGFzIE5vZGUuanMgZG9lcy5cbi8vIFNlZTogaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQmFzZTY0I1VSTF9hcHBsaWNhdGlvbnNcbnJldkxvb2t1cFsnLScuY2hhckNvZGVBdCgwKV0gPSA2MlxucmV2TG9va3VwWydfJy5jaGFyQ29kZUF0KDApXSA9IDYzXG5cbmZ1bmN0aW9uIGdldExlbnMgKGI2NCkge1xuICB2YXIgbGVuID0gYjY0Lmxlbmd0aFxuXG4gIGlmIChsZW4gJSA0ID4gMCkge1xuICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBzdHJpbmcuIExlbmd0aCBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNCcpXG4gIH1cblxuICAvLyBUcmltIG9mZiBleHRyYSBieXRlcyBhZnRlciBwbGFjZWhvbGRlciBieXRlcyBhcmUgZm91bmRcbiAgLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vYmVhdGdhbW1pdC9iYXNlNjQtanMvaXNzdWVzLzQyXG4gIHZhciB2YWxpZExlbiA9IGI2NC5pbmRleE9mKCc9JylcbiAgaWYgKHZhbGlkTGVuID09PSAtMSkgdmFsaWRMZW4gPSBsZW5cblxuICB2YXIgcGxhY2VIb2xkZXJzTGVuID0gdmFsaWRMZW4gPT09IGxlblxuICAgID8gMFxuICAgIDogNCAtICh2YWxpZExlbiAlIDQpXG5cbiAgcmV0dXJuIFt2YWxpZExlbiwgcGxhY2VIb2xkZXJzTGVuXVxufVxuXG4vLyBiYXNlNjQgaXMgNC8zICsgdXAgdG8gdHdvIGNoYXJhY3RlcnMgb2YgdGhlIG9yaWdpbmFsIGRhdGFcbmZ1bmN0aW9uIGJ5dGVMZW5ndGggKGI2NCkge1xuICB2YXIgbGVucyA9IGdldExlbnMoYjY0KVxuICB2YXIgdmFsaWRMZW4gPSBsZW5zWzBdXG4gIHZhciBwbGFjZUhvbGRlcnNMZW4gPSBsZW5zWzFdXG4gIHJldHVybiAoKHZhbGlkTGVuICsgcGxhY2VIb2xkZXJzTGVuKSAqIDMgLyA0KSAtIHBsYWNlSG9sZGVyc0xlblxufVxuXG5mdW5jdGlvbiBfYnl0ZUxlbmd0aCAoYjY0LCB2YWxpZExlbiwgcGxhY2VIb2xkZXJzTGVuKSB7XG4gIHJldHVybiAoKHZhbGlkTGVuICsgcGxhY2VIb2xkZXJzTGVuKSAqIDMgLyA0KSAtIHBsYWNlSG9sZGVyc0xlblxufVxuXG5mdW5jdGlvbiB0b0J5dGVBcnJheSAoYjY0KSB7XG4gIHZhciB0bXBcbiAgdmFyIGxlbnMgPSBnZXRMZW5zKGI2NClcbiAgdmFyIHZhbGlkTGVuID0gbGVuc1swXVxuICB2YXIgcGxhY2VIb2xkZXJzTGVuID0gbGVuc1sxXVxuXG4gIHZhciBhcnIgPSBuZXcgQXJyKF9ieXRlTGVuZ3RoKGI2NCwgdmFsaWRMZW4sIHBsYWNlSG9sZGVyc0xlbikpXG5cbiAgdmFyIGN1ckJ5dGUgPSAwXG5cbiAgLy8gaWYgdGhlcmUgYXJlIHBsYWNlaG9sZGVycywgb25seSBnZXQgdXAgdG8gdGhlIGxhc3QgY29tcGxldGUgNCBjaGFyc1xuICB2YXIgbGVuID0gcGxhY2VIb2xkZXJzTGVuID4gMFxuICAgID8gdmFsaWRMZW4gLSA0XG4gICAgOiB2YWxpZExlblxuXG4gIHZhciBpXG4gIGZvciAoaSA9IDA7IGkgPCBsZW47IGkgKz0gNCkge1xuICAgIHRtcCA9XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkpXSA8PCAxOCkgfFxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMSldIDw8IDEyKSB8XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAyKV0gPDwgNikgfFxuICAgICAgcmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAzKV1cbiAgICBhcnJbY3VyQnl0ZSsrXSA9ICh0bXAgPj4gMTYpICYgMHhGRlxuICAgIGFycltjdXJCeXRlKytdID0gKHRtcCA+PiA4KSAmIDB4RkZcbiAgICBhcnJbY3VyQnl0ZSsrXSA9IHRtcCAmIDB4RkZcbiAgfVxuXG4gIGlmIChwbGFjZUhvbGRlcnNMZW4gPT09IDIpIHtcbiAgICB0bXAgPVxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpKV0gPDwgMikgfFxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMSldID4+IDQpXG4gICAgYXJyW2N1ckJ5dGUrK10gPSB0bXAgJiAweEZGXG4gIH1cblxuICBpZiAocGxhY2VIb2xkZXJzTGVuID09PSAxKSB7XG4gICAgdG1wID1cbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSldIDw8IDEwKSB8XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAxKV0gPDwgNCkgfFxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMildID4+IDIpXG4gICAgYXJyW2N1ckJ5dGUrK10gPSAodG1wID4+IDgpICYgMHhGRlxuICAgIGFycltjdXJCeXRlKytdID0gdG1wICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIGFyclxufVxuXG5mdW5jdGlvbiB0cmlwbGV0VG9CYXNlNjQgKG51bSkge1xuICByZXR1cm4gbG9va3VwW251bSA+PiAxOCAmIDB4M0ZdICtcbiAgICBsb29rdXBbbnVtID4+IDEyICYgMHgzRl0gK1xuICAgIGxvb2t1cFtudW0gPj4gNiAmIDB4M0ZdICtcbiAgICBsb29rdXBbbnVtICYgMHgzRl1cbn1cblxuZnVuY3Rpb24gZW5jb2RlQ2h1bmsgKHVpbnQ4LCBzdGFydCwgZW5kKSB7XG4gIHZhciB0bXBcbiAgdmFyIG91dHB1dCA9IFtdXG4gIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgaSArPSAzKSB7XG4gICAgdG1wID1cbiAgICAgICgodWludDhbaV0gPDwgMTYpICYgMHhGRjAwMDApICtcbiAgICAgICgodWludDhbaSArIDFdIDw8IDgpICYgMHhGRjAwKSArXG4gICAgICAodWludDhbaSArIDJdICYgMHhGRilcbiAgICBvdXRwdXQucHVzaCh0cmlwbGV0VG9CYXNlNjQodG1wKSlcbiAgfVxuICByZXR1cm4gb3V0cHV0LmpvaW4oJycpXG59XG5cbmZ1bmN0aW9uIGZyb21CeXRlQXJyYXkgKHVpbnQ4KSB7XG4gIHZhciB0bXBcbiAgdmFyIGxlbiA9IHVpbnQ4Lmxlbmd0aFxuICB2YXIgZXh0cmFCeXRlcyA9IGxlbiAlIDMgLy8gaWYgd2UgaGF2ZSAxIGJ5dGUgbGVmdCwgcGFkIDIgYnl0ZXNcbiAgdmFyIHBhcnRzID0gW11cbiAgdmFyIG1heENodW5rTGVuZ3RoID0gMTYzODMgLy8gbXVzdCBiZSBtdWx0aXBsZSBvZiAzXG5cbiAgLy8gZ28gdGhyb3VnaCB0aGUgYXJyYXkgZXZlcnkgdGhyZWUgYnl0ZXMsIHdlJ2xsIGRlYWwgd2l0aCB0cmFpbGluZyBzdHVmZiBsYXRlclxuICBmb3IgKHZhciBpID0gMCwgbGVuMiA9IGxlbiAtIGV4dHJhQnl0ZXM7IGkgPCBsZW4yOyBpICs9IG1heENodW5rTGVuZ3RoKSB7XG4gICAgcGFydHMucHVzaChlbmNvZGVDaHVuayhcbiAgICAgIHVpbnQ4LCBpLCAoaSArIG1heENodW5rTGVuZ3RoKSA+IGxlbjIgPyBsZW4yIDogKGkgKyBtYXhDaHVua0xlbmd0aClcbiAgICApKVxuICB9XG5cbiAgLy8gcGFkIHRoZSBlbmQgd2l0aCB6ZXJvcywgYnV0IG1ha2Ugc3VyZSB0byBub3QgZm9yZ2V0IHRoZSBleHRyYSBieXRlc1xuICBpZiAoZXh0cmFCeXRlcyA9PT0gMSkge1xuICAgIHRtcCA9IHVpbnQ4W2xlbiAtIDFdXG4gICAgcGFydHMucHVzaChcbiAgICAgIGxvb2t1cFt0bXAgPj4gMl0gK1xuICAgICAgbG9va3VwWyh0bXAgPDwgNCkgJiAweDNGXSArXG4gICAgICAnPT0nXG4gICAgKVxuICB9IGVsc2UgaWYgKGV4dHJhQnl0ZXMgPT09IDIpIHtcbiAgICB0bXAgPSAodWludDhbbGVuIC0gMl0gPDwgOCkgKyB1aW50OFtsZW4gLSAxXVxuICAgIHBhcnRzLnB1c2goXG4gICAgICBsb29rdXBbdG1wID4+IDEwXSArXG4gICAgICBsb29rdXBbKHRtcCA+PiA0KSAmIDB4M0ZdICtcbiAgICAgIGxvb2t1cFsodG1wIDw8IDIpICYgMHgzRl0gK1xuICAgICAgJz0nXG4gICAgKVxuICB9XG5cbiAgcmV0dXJuIHBhcnRzLmpvaW4oJycpXG59XG4iLCJleHBvcnRzLnJlYWQgPSBmdW5jdGlvbiAoYnVmZmVyLCBvZmZzZXQsIGlzTEUsIG1MZW4sIG5CeXRlcykge1xuICB2YXIgZSwgbVxuICB2YXIgZUxlbiA9IChuQnl0ZXMgKiA4KSAtIG1MZW4gLSAxXG4gIHZhciBlTWF4ID0gKDEgPDwgZUxlbikgLSAxXG4gIHZhciBlQmlhcyA9IGVNYXggPj4gMVxuICB2YXIgbkJpdHMgPSAtN1xuICB2YXIgaSA9IGlzTEUgPyAobkJ5dGVzIC0gMSkgOiAwXG4gIHZhciBkID0gaXNMRSA/IC0xIDogMVxuICB2YXIgcyA9IGJ1ZmZlcltvZmZzZXQgKyBpXVxuXG4gIGkgKz0gZFxuXG4gIGUgPSBzICYgKCgxIDw8ICgtbkJpdHMpKSAtIDEpXG4gIHMgPj49ICgtbkJpdHMpXG4gIG5CaXRzICs9IGVMZW5cbiAgZm9yICg7IG5CaXRzID4gMDsgZSA9IChlICogMjU2KSArIGJ1ZmZlcltvZmZzZXQgKyBpXSwgaSArPSBkLCBuQml0cyAtPSA4KSB7fVxuXG4gIG0gPSBlICYgKCgxIDw8ICgtbkJpdHMpKSAtIDEpXG4gIGUgPj49ICgtbkJpdHMpXG4gIG5CaXRzICs9IG1MZW5cbiAgZm9yICg7IG5CaXRzID4gMDsgbSA9IChtICogMjU2KSArIGJ1ZmZlcltvZmZzZXQgKyBpXSwgaSArPSBkLCBuQml0cyAtPSA4KSB7fVxuXG4gIGlmIChlID09PSAwKSB7XG4gICAgZSA9IDEgLSBlQmlhc1xuICB9IGVsc2UgaWYgKGUgPT09IGVNYXgpIHtcbiAgICByZXR1cm4gbSA/IE5hTiA6ICgocyA/IC0xIDogMSkgKiBJbmZpbml0eSlcbiAgfSBlbHNlIHtcbiAgICBtID0gbSArIE1hdGgucG93KDIsIG1MZW4pXG4gICAgZSA9IGUgLSBlQmlhc1xuICB9XG4gIHJldHVybiAocyA/IC0xIDogMSkgKiBtICogTWF0aC5wb3coMiwgZSAtIG1MZW4pXG59XG5cbmV4cG9ydHMud3JpdGUgPSBmdW5jdGlvbiAoYnVmZmVyLCB2YWx1ZSwgb2Zmc2V0LCBpc0xFLCBtTGVuLCBuQnl0ZXMpIHtcbiAgdmFyIGUsIG0sIGNcbiAgdmFyIGVMZW4gPSAobkJ5dGVzICogOCkgLSBtTGVuIC0gMVxuICB2YXIgZU1heCA9ICgxIDw8IGVMZW4pIC0gMVxuICB2YXIgZUJpYXMgPSBlTWF4ID4+IDFcbiAgdmFyIHJ0ID0gKG1MZW4gPT09IDIzID8gTWF0aC5wb3coMiwgLTI0KSAtIE1hdGgucG93KDIsIC03NykgOiAwKVxuICB2YXIgaSA9IGlzTEUgPyAwIDogKG5CeXRlcyAtIDEpXG4gIHZhciBkID0gaXNMRSA/IDEgOiAtMVxuICB2YXIgcyA9IHZhbHVlIDwgMCB8fCAodmFsdWUgPT09IDAgJiYgMSAvIHZhbHVlIDwgMCkgPyAxIDogMFxuXG4gIHZhbHVlID0gTWF0aC5hYnModmFsdWUpXG5cbiAgaWYgKGlzTmFOKHZhbHVlKSB8fCB2YWx1ZSA9PT0gSW5maW5pdHkpIHtcbiAgICBtID0gaXNOYU4odmFsdWUpID8gMSA6IDBcbiAgICBlID0gZU1heFxuICB9IGVsc2Uge1xuICAgIGUgPSBNYXRoLmZsb29yKE1hdGgubG9nKHZhbHVlKSAvIE1hdGguTE4yKVxuICAgIGlmICh2YWx1ZSAqIChjID0gTWF0aC5wb3coMiwgLWUpKSA8IDEpIHtcbiAgICAgIGUtLVxuICAgICAgYyAqPSAyXG4gICAgfVxuICAgIGlmIChlICsgZUJpYXMgPj0gMSkge1xuICAgICAgdmFsdWUgKz0gcnQgLyBjXG4gICAgfSBlbHNlIHtcbiAgICAgIHZhbHVlICs9IHJ0ICogTWF0aC5wb3coMiwgMSAtIGVCaWFzKVxuICAgIH1cbiAgICBpZiAodmFsdWUgKiBjID49IDIpIHtcbiAgICAgIGUrK1xuICAgICAgYyAvPSAyXG4gICAgfVxuXG4gICAgaWYgKGUgKyBlQmlhcyA+PSBlTWF4KSB7XG4gICAgICBtID0gMFxuICAgICAgZSA9IGVNYXhcbiAgICB9IGVsc2UgaWYgKGUgKyBlQmlhcyA+PSAxKSB7XG4gICAgICBtID0gKCh2YWx1ZSAqIGMpIC0gMSkgKiBNYXRoLnBvdygyLCBtTGVuKVxuICAgICAgZSA9IGUgKyBlQmlhc1xuICAgIH0gZWxzZSB7XG4gICAgICBtID0gdmFsdWUgKiBNYXRoLnBvdygyLCBlQmlhcyAtIDEpICogTWF0aC5wb3coMiwgbUxlbilcbiAgICAgIGUgPSAwXG4gICAgfVxuICB9XG5cbiAgZm9yICg7IG1MZW4gPj0gODsgYnVmZmVyW29mZnNldCArIGldID0gbSAmIDB4ZmYsIGkgKz0gZCwgbSAvPSAyNTYsIG1MZW4gLT0gOCkge31cblxuICBlID0gKGUgPDwgbUxlbikgfCBtXG4gIGVMZW4gKz0gbUxlblxuICBmb3IgKDsgZUxlbiA+IDA7IGJ1ZmZlcltvZmZzZXQgKyBpXSA9IGUgJiAweGZmLCBpICs9IGQsIGUgLz0gMjU2LCBlTGVuIC09IDgpIHt9XG5cbiAgYnVmZmVyW29mZnNldCArIGkgLSBkXSB8PSBzICogMTI4XG59XG4iLCJ2YXIgdG9TdHJpbmcgPSB7fS50b1N0cmluZztcblxubW9kdWxlLmV4cG9ydHMgPSBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uIChhcnIpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwoYXJyKSA9PSAnW29iamVjdCBBcnJheV0nO1xufTtcbiIsIi8qXHJcbkF1dGhvcjogR2VyYWludCBMdWZmIGFuZCBvdGhlcnNcclxuWWVhcjogMjAxM1xyXG5cclxuVGhpcyBjb2RlIGlzIHJlbGVhc2VkIGludG8gdGhlIFwicHVibGljIGRvbWFpblwiIGJ5IGl0cyBhdXRob3IocykuICBBbnlib2R5IG1heSB1c2UsIGFsdGVyIGFuZCBkaXN0cmlidXRlIHRoZSBjb2RlIHdpdGhvdXQgcmVzdHJpY3Rpb24uICBUaGUgYXV0aG9yIG1ha2VzIG5vIGd1YXJhbnRlZXMsIGFuZCB0YWtlcyBubyBsaWFiaWxpdHkgb2YgYW55IGtpbmQgZm9yIHVzZSBvZiB0aGlzIGNvZGUuXHJcblxyXG5JZiB5b3UgZmluZCBhIGJ1ZyBvciBtYWtlIGFuIGltcHJvdmVtZW50LCBpdCB3b3VsZCBiZSBjb3VydGVvdXMgdG8gbGV0IHRoZSBhdXRob3Iga25vdywgYnV0IGl0IGlzIG5vdCBjb21wdWxzb3J5LlxyXG4qL1xyXG4oZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xyXG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcclxuICAgIC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cclxuICAgIGRlZmluZShbXSwgZmFjdG9yeSk7XHJcbiAgfSBlbHNlIGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cyl7XHJcbiAgICAvLyBDb21tb25KUy4gRGVmaW5lIGV4cG9ydC5cclxuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICAvLyBCcm93c2VyIGdsb2JhbHNcclxuICAgIGdsb2JhbC50djQgPSBmYWN0b3J5KCk7XHJcbiAgfVxyXG59KHRoaXMsIGZ1bmN0aW9uICgpIHtcclxuXHJcbi8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9rZXlzP3JlZGlyZWN0bG9jYWxlPWVuLVVTJnJlZGlyZWN0c2x1Zz1KYXZhU2NyaXB0JTJGUmVmZXJlbmNlJTJGR2xvYmFsX09iamVjdHMlMkZPYmplY3QlMkZrZXlzXHJcbmlmICghT2JqZWN0LmtleXMpIHtcclxuXHRPYmplY3Qua2V5cyA9IChmdW5jdGlvbiAoKSB7XHJcblx0XHR2YXIgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LFxyXG5cdFx0XHRoYXNEb250RW51bUJ1ZyA9ICEoe3RvU3RyaW5nOiBudWxsfSkucHJvcGVydHlJc0VudW1lcmFibGUoJ3RvU3RyaW5nJyksXHJcblx0XHRcdGRvbnRFbnVtcyA9IFtcclxuXHRcdFx0XHQndG9TdHJpbmcnLFxyXG5cdFx0XHRcdCd0b0xvY2FsZVN0cmluZycsXHJcblx0XHRcdFx0J3ZhbHVlT2YnLFxyXG5cdFx0XHRcdCdoYXNPd25Qcm9wZXJ0eScsXHJcblx0XHRcdFx0J2lzUHJvdG90eXBlT2YnLFxyXG5cdFx0XHRcdCdwcm9wZXJ0eUlzRW51bWVyYWJsZScsXHJcblx0XHRcdFx0J2NvbnN0cnVjdG9yJ1xyXG5cdFx0XHRdLFxyXG5cdFx0XHRkb250RW51bXNMZW5ndGggPSBkb250RW51bXMubGVuZ3RoO1xyXG5cclxuXHRcdHJldHVybiBmdW5jdGlvbiAob2JqKSB7XHJcblx0XHRcdGlmICh0eXBlb2Ygb2JqICE9PSAnb2JqZWN0JyAmJiB0eXBlb2Ygb2JqICE9PSAnZnVuY3Rpb24nIHx8IG9iaiA9PT0gbnVsbCkge1xyXG5cdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ09iamVjdC5rZXlzIGNhbGxlZCBvbiBub24tb2JqZWN0Jyk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHZhciByZXN1bHQgPSBbXTtcclxuXHJcblx0XHRcdGZvciAodmFyIHByb3AgaW4gb2JqKSB7XHJcblx0XHRcdFx0aWYgKGhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkge1xyXG5cdFx0XHRcdFx0cmVzdWx0LnB1c2gocHJvcCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAoaGFzRG9udEVudW1CdWcpIHtcclxuXHRcdFx0XHRmb3IgKHZhciBpPTA7IGkgPCBkb250RW51bXNMZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdFx0aWYgKGhhc093blByb3BlcnR5LmNhbGwob2JqLCBkb250RW51bXNbaV0pKSB7XHJcblx0XHRcdFx0XHRcdHJlc3VsdC5wdXNoKGRvbnRFbnVtc1tpXSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiByZXN1bHQ7XHJcblx0XHR9O1xyXG5cdH0pKCk7XHJcbn1cclxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L2NyZWF0ZVxyXG5pZiAoIU9iamVjdC5jcmVhdGUpIHtcclxuXHRPYmplY3QuY3JlYXRlID0gKGZ1bmN0aW9uKCl7XHJcblx0XHRmdW5jdGlvbiBGKCl7fVxyXG5cclxuXHRcdHJldHVybiBmdW5jdGlvbihvKXtcclxuXHRcdFx0aWYgKGFyZ3VtZW50cy5sZW5ndGggIT09IDEpIHtcclxuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ09iamVjdC5jcmVhdGUgaW1wbGVtZW50YXRpb24gb25seSBhY2NlcHRzIG9uZSBwYXJhbWV0ZXIuJyk7XHJcblx0XHRcdH1cclxuXHRcdFx0Ri5wcm90b3R5cGUgPSBvO1xyXG5cdFx0XHRyZXR1cm4gbmV3IEYoKTtcclxuXHRcdH07XHJcblx0fSkoKTtcclxufVxyXG4vLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9pc0FycmF5P3JlZGlyZWN0bG9jYWxlPWVuLVVTJnJlZGlyZWN0c2x1Zz1KYXZhU2NyaXB0JTJGUmVmZXJlbmNlJTJGR2xvYmFsX09iamVjdHMlMkZBcnJheSUyRmlzQXJyYXlcclxuaWYoIUFycmF5LmlzQXJyYXkpIHtcclxuXHRBcnJheS5pc0FycmF5ID0gZnVuY3Rpb24gKHZBcmcpIHtcclxuXHRcdHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodkFyZykgPT09IFwiW29iamVjdCBBcnJheV1cIjtcclxuXHR9O1xyXG59XHJcbi8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L2luZGV4T2Y/cmVkaXJlY3Rsb2NhbGU9ZW4tVVMmcmVkaXJlY3RzbHVnPUphdmFTY3JpcHQlMkZSZWZlcmVuY2UlMkZHbG9iYWxfT2JqZWN0cyUyRkFycmF5JTJGaW5kZXhPZlxyXG5pZiAoIUFycmF5LnByb3RvdHlwZS5pbmRleE9mKSB7XHJcblx0QXJyYXkucHJvdG90eXBlLmluZGV4T2YgPSBmdW5jdGlvbiAoc2VhcmNoRWxlbWVudCAvKiwgZnJvbUluZGV4ICovICkge1xyXG5cdFx0aWYgKHRoaXMgPT09IG51bGwpIHtcclxuXHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcigpO1xyXG5cdFx0fVxyXG5cdFx0dmFyIHQgPSBPYmplY3QodGhpcyk7XHJcblx0XHR2YXIgbGVuID0gdC5sZW5ndGggPj4+IDA7XHJcblxyXG5cdFx0aWYgKGxlbiA9PT0gMCkge1xyXG5cdFx0XHRyZXR1cm4gLTE7XHJcblx0XHR9XHJcblx0XHR2YXIgbiA9IDA7XHJcblx0XHRpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcclxuXHRcdFx0biA9IE51bWJlcihhcmd1bWVudHNbMV0pO1xyXG5cdFx0XHRpZiAobiAhPT0gbikgeyAvLyBzaG9ydGN1dCBmb3IgdmVyaWZ5aW5nIGlmIGl0J3MgTmFOXHJcblx0XHRcdFx0biA9IDA7XHJcblx0XHRcdH0gZWxzZSBpZiAobiAhPT0gMCAmJiBuICE9PSBJbmZpbml0eSAmJiBuICE9PSAtSW5maW5pdHkpIHtcclxuXHRcdFx0XHRuID0gKG4gPiAwIHx8IC0xKSAqIE1hdGguZmxvb3IoTWF0aC5hYnMobikpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRpZiAobiA+PSBsZW4pIHtcclxuXHRcdFx0cmV0dXJuIC0xO1xyXG5cdFx0fVxyXG5cdFx0dmFyIGsgPSBuID49IDAgPyBuIDogTWF0aC5tYXgobGVuIC0gTWF0aC5hYnMobiksIDApO1xyXG5cdFx0Zm9yICg7IGsgPCBsZW47IGsrKykge1xyXG5cdFx0XHRpZiAoayBpbiB0ICYmIHRba10gPT09IHNlYXJjaEVsZW1lbnQpIHtcclxuXHRcdFx0XHRyZXR1cm4gaztcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIC0xO1xyXG5cdH07XHJcbn1cclxuXHJcbi8vIEdydW5nZXkgT2JqZWN0LmlzRnJvemVuIGhhY2tcclxuaWYgKCFPYmplY3QuaXNGcm96ZW4pIHtcclxuXHRPYmplY3QuaXNGcm96ZW4gPSBmdW5jdGlvbiAob2JqKSB7XHJcblx0XHR2YXIga2V5ID0gXCJ0djRfdGVzdF9mcm96ZW5fa2V5XCI7XHJcblx0XHR3aGlsZSAob2JqLmhhc093blByb3BlcnR5KGtleSkpIHtcclxuXHRcdFx0a2V5ICs9IE1hdGgucmFuZG9tKCk7XHJcblx0XHR9XHJcblx0XHR0cnkge1xyXG5cdFx0XHRvYmpba2V5XSA9IHRydWU7XHJcblx0XHRcdGRlbGV0ZSBvYmpba2V5XTtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdH1cclxuXHR9O1xyXG59XHJcbi8vIEJhc2VkIG9uOiBodHRwczovL2dpdGh1Yi5jb20vZ2VyYWludGx1ZmYvdXJpLXRlbXBsYXRlcywgYnV0IHdpdGggYWxsIHRoZSBkZS1zdWJzdGl0dXRpb24gc3R1ZmYgcmVtb3ZlZFxyXG5cclxudmFyIHVyaVRlbXBsYXRlR2xvYmFsTW9kaWZpZXJzID0ge1xyXG5cdFwiK1wiOiB0cnVlLFxyXG5cdFwiI1wiOiB0cnVlLFxyXG5cdFwiLlwiOiB0cnVlLFxyXG5cdFwiL1wiOiB0cnVlLFxyXG5cdFwiO1wiOiB0cnVlLFxyXG5cdFwiP1wiOiB0cnVlLFxyXG5cdFwiJlwiOiB0cnVlXHJcbn07XHJcbnZhciB1cmlUZW1wbGF0ZVN1ZmZpY2VzID0ge1xyXG5cdFwiKlwiOiB0cnVlXHJcbn07XHJcblxyXG5mdW5jdGlvbiBub3RSZWFsbHlQZXJjZW50RW5jb2RlKHN0cmluZykge1xyXG5cdHJldHVybiBlbmNvZGVVUkkoc3RyaW5nKS5yZXBsYWNlKC8lMjVbMC05XVswLTldL2csIGZ1bmN0aW9uIChkb3VibGVFbmNvZGVkKSB7XHJcblx0XHRyZXR1cm4gXCIlXCIgKyBkb3VibGVFbmNvZGVkLnN1YnN0cmluZygzKTtcclxuXHR9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gdXJpVGVtcGxhdGVTdWJzdGl0dXRpb24oc3BlYykge1xyXG5cdHZhciBtb2RpZmllciA9IFwiXCI7XHJcblx0aWYgKHVyaVRlbXBsYXRlR2xvYmFsTW9kaWZpZXJzW3NwZWMuY2hhckF0KDApXSkge1xyXG5cdFx0bW9kaWZpZXIgPSBzcGVjLmNoYXJBdCgwKTtcclxuXHRcdHNwZWMgPSBzcGVjLnN1YnN0cmluZygxKTtcclxuXHR9XHJcblx0dmFyIHNlcGFyYXRvciA9IFwiXCI7XHJcblx0dmFyIHByZWZpeCA9IFwiXCI7XHJcblx0dmFyIHNob3VsZEVzY2FwZSA9IHRydWU7XHJcblx0dmFyIHNob3dWYXJpYWJsZXMgPSBmYWxzZTtcclxuXHR2YXIgdHJpbUVtcHR5U3RyaW5nID0gZmFsc2U7XHJcblx0aWYgKG1vZGlmaWVyID09PSAnKycpIHtcclxuXHRcdHNob3VsZEVzY2FwZSA9IGZhbHNlO1xyXG5cdH0gZWxzZSBpZiAobW9kaWZpZXIgPT09IFwiLlwiKSB7XHJcblx0XHRwcmVmaXggPSBcIi5cIjtcclxuXHRcdHNlcGFyYXRvciA9IFwiLlwiO1xyXG5cdH0gZWxzZSBpZiAobW9kaWZpZXIgPT09IFwiL1wiKSB7XHJcblx0XHRwcmVmaXggPSBcIi9cIjtcclxuXHRcdHNlcGFyYXRvciA9IFwiL1wiO1xyXG5cdH0gZWxzZSBpZiAobW9kaWZpZXIgPT09ICcjJykge1xyXG5cdFx0cHJlZml4ID0gXCIjXCI7XHJcblx0XHRzaG91bGRFc2NhcGUgPSBmYWxzZTtcclxuXHR9IGVsc2UgaWYgKG1vZGlmaWVyID09PSAnOycpIHtcclxuXHRcdHByZWZpeCA9IFwiO1wiO1xyXG5cdFx0c2VwYXJhdG9yID0gXCI7XCI7XHJcblx0XHRzaG93VmFyaWFibGVzID0gdHJ1ZTtcclxuXHRcdHRyaW1FbXB0eVN0cmluZyA9IHRydWU7XHJcblx0fSBlbHNlIGlmIChtb2RpZmllciA9PT0gJz8nKSB7XHJcblx0XHRwcmVmaXggPSBcIj9cIjtcclxuXHRcdHNlcGFyYXRvciA9IFwiJlwiO1xyXG5cdFx0c2hvd1ZhcmlhYmxlcyA9IHRydWU7XHJcblx0fSBlbHNlIGlmIChtb2RpZmllciA9PT0gJyYnKSB7XHJcblx0XHRwcmVmaXggPSBcIiZcIjtcclxuXHRcdHNlcGFyYXRvciA9IFwiJlwiO1xyXG5cdFx0c2hvd1ZhcmlhYmxlcyA9IHRydWU7XHJcblx0fVxyXG5cclxuXHR2YXIgdmFyTmFtZXMgPSBbXTtcclxuXHR2YXIgdmFyTGlzdCA9IHNwZWMuc3BsaXQoXCIsXCIpO1xyXG5cdHZhciB2YXJTcGVjcyA9IFtdO1xyXG5cdHZhciB2YXJTcGVjTWFwID0ge307XHJcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCB2YXJMaXN0Lmxlbmd0aDsgaSsrKSB7XHJcblx0XHR2YXIgdmFyTmFtZSA9IHZhckxpc3RbaV07XHJcblx0XHR2YXIgdHJ1bmNhdGUgPSBudWxsO1xyXG5cdFx0aWYgKHZhck5hbWUuaW5kZXhPZihcIjpcIikgIT09IC0xKSB7XHJcblx0XHRcdHZhciBwYXJ0cyA9IHZhck5hbWUuc3BsaXQoXCI6XCIpO1xyXG5cdFx0XHR2YXJOYW1lID0gcGFydHNbMF07XHJcblx0XHRcdHRydW5jYXRlID0gcGFyc2VJbnQocGFydHNbMV0sIDEwKTtcclxuXHRcdH1cclxuXHRcdHZhciBzdWZmaWNlcyA9IHt9O1xyXG5cdFx0d2hpbGUgKHVyaVRlbXBsYXRlU3VmZmljZXNbdmFyTmFtZS5jaGFyQXQodmFyTmFtZS5sZW5ndGggLSAxKV0pIHtcclxuXHRcdFx0c3VmZmljZXNbdmFyTmFtZS5jaGFyQXQodmFyTmFtZS5sZW5ndGggLSAxKV0gPSB0cnVlO1xyXG5cdFx0XHR2YXJOYW1lID0gdmFyTmFtZS5zdWJzdHJpbmcoMCwgdmFyTmFtZS5sZW5ndGggLSAxKTtcclxuXHRcdH1cclxuXHRcdHZhciB2YXJTcGVjID0ge1xyXG5cdFx0XHR0cnVuY2F0ZTogdHJ1bmNhdGUsXHJcblx0XHRcdG5hbWU6IHZhck5hbWUsXHJcblx0XHRcdHN1ZmZpY2VzOiBzdWZmaWNlc1xyXG5cdFx0fTtcclxuXHRcdHZhclNwZWNzLnB1c2godmFyU3BlYyk7XHJcblx0XHR2YXJTcGVjTWFwW3Zhck5hbWVdID0gdmFyU3BlYztcclxuXHRcdHZhck5hbWVzLnB1c2godmFyTmFtZSk7XHJcblx0fVxyXG5cdHZhciBzdWJGdW5jdGlvbiA9IGZ1bmN0aW9uICh2YWx1ZUZ1bmN0aW9uKSB7XHJcblx0XHR2YXIgcmVzdWx0ID0gXCJcIjtcclxuXHRcdHZhciBzdGFydEluZGV4ID0gMDtcclxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgdmFyU3BlY3MubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0dmFyIHZhclNwZWMgPSB2YXJTcGVjc1tpXTtcclxuXHRcdFx0dmFyIHZhbHVlID0gdmFsdWVGdW5jdGlvbih2YXJTcGVjLm5hbWUpO1xyXG5cdFx0XHRpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCB8fCAoQXJyYXkuaXNBcnJheSh2YWx1ZSkgJiYgdmFsdWUubGVuZ3RoID09PSAwKSB8fCAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiBPYmplY3Qua2V5cyh2YWx1ZSkubGVuZ3RoID09PSAwKSkge1xyXG5cdFx0XHRcdHN0YXJ0SW5kZXgrKztcclxuXHRcdFx0XHRjb250aW51ZTtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoaSA9PT0gc3RhcnRJbmRleCkge1xyXG5cdFx0XHRcdHJlc3VsdCArPSBwcmVmaXg7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0cmVzdWx0ICs9IChzZXBhcmF0b3IgfHwgXCIsXCIpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xyXG5cdFx0XHRcdGlmIChzaG93VmFyaWFibGVzKSB7XHJcblx0XHRcdFx0XHRyZXN1bHQgKz0gdmFyU3BlYy5uYW1lICsgXCI9XCI7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGZvciAodmFyIGogPSAwOyBqIDwgdmFsdWUubGVuZ3RoOyBqKyspIHtcclxuXHRcdFx0XHRcdGlmIChqID4gMCkge1xyXG5cdFx0XHRcdFx0XHRyZXN1bHQgKz0gdmFyU3BlYy5zdWZmaWNlc1snKiddID8gKHNlcGFyYXRvciB8fCBcIixcIikgOiBcIixcIjtcclxuXHRcdFx0XHRcdFx0aWYgKHZhclNwZWMuc3VmZmljZXNbJyonXSAmJiBzaG93VmFyaWFibGVzKSB7XHJcblx0XHRcdFx0XHRcdFx0cmVzdWx0ICs9IHZhclNwZWMubmFtZSArIFwiPVwiO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRyZXN1bHQgKz0gc2hvdWxkRXNjYXBlID8gZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlW2pdKS5yZXBsYWNlKC8hL2csIFwiJTIxXCIpIDogbm90UmVhbGx5UGVyY2VudEVuY29kZSh2YWx1ZVtqXSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIikge1xyXG5cdFx0XHRcdGlmIChzaG93VmFyaWFibGVzICYmICF2YXJTcGVjLnN1ZmZpY2VzWycqJ10pIHtcclxuXHRcdFx0XHRcdHJlc3VsdCArPSB2YXJTcGVjLm5hbWUgKyBcIj1cIjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0dmFyIGZpcnN0ID0gdHJ1ZTtcclxuXHRcdFx0XHRmb3IgKHZhciBrZXkgaW4gdmFsdWUpIHtcclxuXHRcdFx0XHRcdGlmICghZmlyc3QpIHtcclxuXHRcdFx0XHRcdFx0cmVzdWx0ICs9IHZhclNwZWMuc3VmZmljZXNbJyonXSA/IChzZXBhcmF0b3IgfHwgXCIsXCIpIDogXCIsXCI7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRmaXJzdCA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0cmVzdWx0ICs9IHNob3VsZEVzY2FwZSA/IGVuY29kZVVSSUNvbXBvbmVudChrZXkpLnJlcGxhY2UoLyEvZywgXCIlMjFcIikgOiBub3RSZWFsbHlQZXJjZW50RW5jb2RlKGtleSk7XHJcblx0XHRcdFx0XHRyZXN1bHQgKz0gdmFyU3BlYy5zdWZmaWNlc1snKiddID8gJz0nIDogXCIsXCI7XHJcblx0XHRcdFx0XHRyZXN1bHQgKz0gc2hvdWxkRXNjYXBlID8gZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlW2tleV0pLnJlcGxhY2UoLyEvZywgXCIlMjFcIikgOiBub3RSZWFsbHlQZXJjZW50RW5jb2RlKHZhbHVlW2tleV0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRpZiAoc2hvd1ZhcmlhYmxlcykge1xyXG5cdFx0XHRcdFx0cmVzdWx0ICs9IHZhclNwZWMubmFtZTtcclxuXHRcdFx0XHRcdGlmICghdHJpbUVtcHR5U3RyaW5nIHx8IHZhbHVlICE9PSBcIlwiKSB7XHJcblx0XHRcdFx0XHRcdHJlc3VsdCArPSBcIj1cIjtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aWYgKHZhclNwZWMudHJ1bmNhdGUgIT0gbnVsbCkge1xyXG5cdFx0XHRcdFx0dmFsdWUgPSB2YWx1ZS5zdWJzdHJpbmcoMCwgdmFyU3BlYy50cnVuY2F0ZSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHJlc3VsdCArPSBzaG91bGRFc2NhcGUgPyBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpLnJlcGxhY2UoLyEvZywgXCIlMjFcIik6IG5vdFJlYWxseVBlcmNlbnRFbmNvZGUodmFsdWUpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdH07XHJcblx0c3ViRnVuY3Rpb24udmFyTmFtZXMgPSB2YXJOYW1lcztcclxuXHRyZXR1cm4ge1xyXG5cdFx0cHJlZml4OiBwcmVmaXgsXHJcblx0XHRzdWJzdGl0dXRpb246IHN1YkZ1bmN0aW9uXHJcblx0fTtcclxufVxyXG5cclxuZnVuY3Rpb24gVXJpVGVtcGxhdGUodGVtcGxhdGUpIHtcclxuXHRpZiAoISh0aGlzIGluc3RhbmNlb2YgVXJpVGVtcGxhdGUpKSB7XHJcblx0XHRyZXR1cm4gbmV3IFVyaVRlbXBsYXRlKHRlbXBsYXRlKTtcclxuXHR9XHJcblx0dmFyIHBhcnRzID0gdGVtcGxhdGUuc3BsaXQoXCJ7XCIpO1xyXG5cdHZhciB0ZXh0UGFydHMgPSBbcGFydHMuc2hpZnQoKV07XHJcblx0dmFyIHByZWZpeGVzID0gW107XHJcblx0dmFyIHN1YnN0aXR1dGlvbnMgPSBbXTtcclxuXHR2YXIgdmFyTmFtZXMgPSBbXTtcclxuXHR3aGlsZSAocGFydHMubGVuZ3RoID4gMCkge1xyXG5cdFx0dmFyIHBhcnQgPSBwYXJ0cy5zaGlmdCgpO1xyXG5cdFx0dmFyIHNwZWMgPSBwYXJ0LnNwbGl0KFwifVwiKVswXTtcclxuXHRcdHZhciByZW1haW5kZXIgPSBwYXJ0LnN1YnN0cmluZyhzcGVjLmxlbmd0aCArIDEpO1xyXG5cdFx0dmFyIGZ1bmNzID0gdXJpVGVtcGxhdGVTdWJzdGl0dXRpb24oc3BlYyk7XHJcblx0XHRzdWJzdGl0dXRpb25zLnB1c2goZnVuY3Muc3Vic3RpdHV0aW9uKTtcclxuXHRcdHByZWZpeGVzLnB1c2goZnVuY3MucHJlZml4KTtcclxuXHRcdHRleHRQYXJ0cy5wdXNoKHJlbWFpbmRlcik7XHJcblx0XHR2YXJOYW1lcyA9IHZhck5hbWVzLmNvbmNhdChmdW5jcy5zdWJzdGl0dXRpb24udmFyTmFtZXMpO1xyXG5cdH1cclxuXHR0aGlzLmZpbGwgPSBmdW5jdGlvbiAodmFsdWVGdW5jdGlvbikge1xyXG5cdFx0dmFyIHJlc3VsdCA9IHRleHRQYXJ0c1swXTtcclxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc3Vic3RpdHV0aW9ucy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHR2YXIgc3Vic3RpdHV0aW9uID0gc3Vic3RpdHV0aW9uc1tpXTtcclxuXHRcdFx0cmVzdWx0ICs9IHN1YnN0aXR1dGlvbih2YWx1ZUZ1bmN0aW9uKTtcclxuXHRcdFx0cmVzdWx0ICs9IHRleHRQYXJ0c1tpICsgMV07XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdH07XHJcblx0dGhpcy52YXJOYW1lcyA9IHZhck5hbWVzO1xyXG5cdHRoaXMudGVtcGxhdGUgPSB0ZW1wbGF0ZTtcclxufVxyXG5VcmlUZW1wbGF0ZS5wcm90b3R5cGUgPSB7XHJcblx0dG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiB0aGlzLnRlbXBsYXRlO1xyXG5cdH0sXHJcblx0ZmlsbEZyb21PYmplY3Q6IGZ1bmN0aW9uIChvYmopIHtcclxuXHRcdHJldHVybiB0aGlzLmZpbGwoZnVuY3Rpb24gKHZhck5hbWUpIHtcclxuXHRcdFx0cmV0dXJuIG9ialt2YXJOYW1lXTtcclxuXHRcdH0pO1xyXG5cdH1cclxufTtcclxudmFyIFZhbGlkYXRvckNvbnRleHQgPSBmdW5jdGlvbiBWYWxpZGF0b3JDb250ZXh0KHBhcmVudCwgY29sbGVjdE11bHRpcGxlLCBlcnJvclJlcG9ydGVyLCBjaGVja1JlY3Vyc2l2ZSwgdHJhY2tVbmtub3duUHJvcGVydGllcykge1xyXG5cdHRoaXMubWlzc2luZyA9IFtdO1xyXG5cdHRoaXMubWlzc2luZ01hcCA9IHt9O1xyXG5cdHRoaXMuZm9ybWF0VmFsaWRhdG9ycyA9IHBhcmVudCA/IE9iamVjdC5jcmVhdGUocGFyZW50LmZvcm1hdFZhbGlkYXRvcnMpIDoge307XHJcblx0dGhpcy5zY2hlbWFzID0gcGFyZW50ID8gT2JqZWN0LmNyZWF0ZShwYXJlbnQuc2NoZW1hcykgOiB7fTtcclxuXHR0aGlzLmNvbGxlY3RNdWx0aXBsZSA9IGNvbGxlY3RNdWx0aXBsZTtcclxuXHR0aGlzLmVycm9ycyA9IFtdO1xyXG5cdHRoaXMuaGFuZGxlRXJyb3IgPSBjb2xsZWN0TXVsdGlwbGUgPyB0aGlzLmNvbGxlY3RFcnJvciA6IHRoaXMucmV0dXJuRXJyb3I7XHJcblx0aWYgKGNoZWNrUmVjdXJzaXZlKSB7XHJcblx0XHR0aGlzLmNoZWNrUmVjdXJzaXZlID0gdHJ1ZTtcclxuXHRcdHRoaXMuc2Nhbm5lZCA9IFtdO1xyXG5cdFx0dGhpcy5zY2FubmVkRnJvemVuID0gW107XHJcblx0XHR0aGlzLnNjYW5uZWRGcm96ZW5TY2hlbWFzID0gW107XHJcblx0XHR0aGlzLnNjYW5uZWRGcm96ZW5WYWxpZGF0aW9uRXJyb3JzID0gW107XHJcblx0XHR0aGlzLnZhbGlkYXRlZFNjaGVtYXNLZXkgPSAndHY0X3ZhbGlkYXRpb25faWQnO1xyXG5cdFx0dGhpcy52YWxpZGF0aW9uRXJyb3JzS2V5ID0gJ3R2NF92YWxpZGF0aW9uX2Vycm9yc19pZCc7XHJcblx0fVxyXG5cdGlmICh0cmFja1Vua25vd25Qcm9wZXJ0aWVzKSB7XHJcblx0XHR0aGlzLnRyYWNrVW5rbm93blByb3BlcnRpZXMgPSB0cnVlO1xyXG5cdFx0dGhpcy5rbm93blByb3BlcnR5UGF0aHMgPSB7fTtcclxuXHRcdHRoaXMudW5rbm93blByb3BlcnR5UGF0aHMgPSB7fTtcclxuXHR9XHJcblx0dGhpcy5lcnJvclJlcG9ydGVyID0gZXJyb3JSZXBvcnRlciB8fCBkZWZhdWx0RXJyb3JSZXBvcnRlcignZW4nKTtcclxuXHRpZiAodHlwZW9mIHRoaXMuZXJyb3JSZXBvcnRlciA9PT0gJ3N0cmluZycpIHtcclxuXHRcdHRocm93IG5ldyBFcnJvcignZGVidWcnKTtcclxuXHR9XHJcblx0dGhpcy5kZWZpbmVkS2V5d29yZHMgPSB7fTtcclxuXHRpZiAocGFyZW50KSB7XHJcblx0XHRmb3IgKHZhciBrZXkgaW4gcGFyZW50LmRlZmluZWRLZXl3b3Jkcykge1xyXG5cdFx0XHR0aGlzLmRlZmluZWRLZXl3b3Jkc1trZXldID0gcGFyZW50LmRlZmluZWRLZXl3b3Jkc1trZXldLnNsaWNlKDApO1xyXG5cdFx0fVxyXG5cdH1cclxufTtcclxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUuZGVmaW5lS2V5d29yZCA9IGZ1bmN0aW9uIChrZXl3b3JkLCBrZXl3b3JkRnVuY3Rpb24pIHtcclxuXHR0aGlzLmRlZmluZWRLZXl3b3Jkc1trZXl3b3JkXSA9IHRoaXMuZGVmaW5lZEtleXdvcmRzW2tleXdvcmRdIHx8IFtdO1xyXG5cdHRoaXMuZGVmaW5lZEtleXdvcmRzW2tleXdvcmRdLnB1c2goa2V5d29yZEZ1bmN0aW9uKTtcclxufTtcclxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUuY3JlYXRlRXJyb3IgPSBmdW5jdGlvbiAoY29kZSwgbWVzc2FnZVBhcmFtcywgZGF0YVBhdGgsIHNjaGVtYVBhdGgsIHN1YkVycm9ycywgZGF0YSwgc2NoZW1hKSB7XHJcblx0dmFyIGVycm9yID0gbmV3IFZhbGlkYXRpb25FcnJvcihjb2RlLCBtZXNzYWdlUGFyYW1zLCBkYXRhUGF0aCwgc2NoZW1hUGF0aCwgc3ViRXJyb3JzKTtcclxuXHRlcnJvci5tZXNzYWdlID0gdGhpcy5lcnJvclJlcG9ydGVyKGVycm9yLCBkYXRhLCBzY2hlbWEpO1xyXG5cdHJldHVybiBlcnJvcjtcclxufTtcclxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUucmV0dXJuRXJyb3IgPSBmdW5jdGlvbiAoZXJyb3IpIHtcclxuXHRyZXR1cm4gZXJyb3I7XHJcbn07XHJcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLmNvbGxlY3RFcnJvciA9IGZ1bmN0aW9uIChlcnJvcikge1xyXG5cdGlmIChlcnJvcikge1xyXG5cdFx0dGhpcy5lcnJvcnMucHVzaChlcnJvcik7XHJcblx0fVxyXG5cdHJldHVybiBudWxsO1xyXG59O1xyXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS5wcmVmaXhFcnJvcnMgPSBmdW5jdGlvbiAoc3RhcnRJbmRleCwgZGF0YVBhdGgsIHNjaGVtYVBhdGgpIHtcclxuXHRmb3IgKHZhciBpID0gc3RhcnRJbmRleDsgaSA8IHRoaXMuZXJyb3JzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHR0aGlzLmVycm9yc1tpXSA9IHRoaXMuZXJyb3JzW2ldLnByZWZpeFdpdGgoZGF0YVBhdGgsIHNjaGVtYVBhdGgpO1xyXG5cdH1cclxuXHRyZXR1cm4gdGhpcztcclxufTtcclxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUuYmFuVW5rbm93blByb3BlcnRpZXMgPSBmdW5jdGlvbiAoZGF0YSwgc2NoZW1hKSB7XHJcblx0Zm9yICh2YXIgdW5rbm93blBhdGggaW4gdGhpcy51bmtub3duUHJvcGVydHlQYXRocykge1xyXG5cdFx0dmFyIGVycm9yID0gdGhpcy5jcmVhdGVFcnJvcihFcnJvckNvZGVzLlVOS05PV05fUFJPUEVSVFksIHtwYXRoOiB1bmtub3duUGF0aH0sIHVua25vd25QYXRoLCBcIlwiLCBudWxsLCBkYXRhLCBzY2hlbWEpO1xyXG5cdFx0dmFyIHJlc3VsdCA9IHRoaXMuaGFuZGxlRXJyb3IoZXJyb3IpO1xyXG5cdFx0aWYgKHJlc3VsdCkge1xyXG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdFx0fVxyXG5cdH1cclxuXHRyZXR1cm4gbnVsbDtcclxufTtcclxuXHJcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLmFkZEZvcm1hdCA9IGZ1bmN0aW9uIChmb3JtYXQsIHZhbGlkYXRvcikge1xyXG5cdGlmICh0eXBlb2YgZm9ybWF0ID09PSAnb2JqZWN0Jykge1xyXG5cdFx0Zm9yICh2YXIga2V5IGluIGZvcm1hdCkge1xyXG5cdFx0XHR0aGlzLmFkZEZvcm1hdChrZXksIGZvcm1hdFtrZXldKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH1cclxuXHR0aGlzLmZvcm1hdFZhbGlkYXRvcnNbZm9ybWF0XSA9IHZhbGlkYXRvcjtcclxufTtcclxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUucmVzb2x2ZVJlZnMgPSBmdW5jdGlvbiAoc2NoZW1hLCB1cmxIaXN0b3J5KSB7XHJcblx0aWYgKHNjaGVtYVsnJHJlZiddICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdHVybEhpc3RvcnkgPSB1cmxIaXN0b3J5IHx8IHt9O1xyXG5cdFx0aWYgKHVybEhpc3Rvcnlbc2NoZW1hWyckcmVmJ11dKSB7XHJcblx0XHRcdHJldHVybiB0aGlzLmNyZWF0ZUVycm9yKEVycm9yQ29kZXMuQ0lSQ1VMQVJfUkVGRVJFTkNFLCB7dXJsczogT2JqZWN0LmtleXModXJsSGlzdG9yeSkuam9pbignLCAnKX0sICcnLCAnJywgbnVsbCwgdW5kZWZpbmVkLCBzY2hlbWEpO1xyXG5cdFx0fVxyXG5cdFx0dXJsSGlzdG9yeVtzY2hlbWFbJyRyZWYnXV0gPSB0cnVlO1xyXG5cdFx0c2NoZW1hID0gdGhpcy5nZXRTY2hlbWEoc2NoZW1hWyckcmVmJ10sIHVybEhpc3RvcnkpO1xyXG5cdH1cclxuXHRyZXR1cm4gc2NoZW1hO1xyXG59O1xyXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS5nZXRTY2hlbWEgPSBmdW5jdGlvbiAodXJsLCB1cmxIaXN0b3J5KSB7XHJcblx0dmFyIHNjaGVtYTtcclxuXHRpZiAodGhpcy5zY2hlbWFzW3VybF0gIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0c2NoZW1hID0gdGhpcy5zY2hlbWFzW3VybF07XHJcblx0XHRyZXR1cm4gdGhpcy5yZXNvbHZlUmVmcyhzY2hlbWEsIHVybEhpc3RvcnkpO1xyXG5cdH1cclxuXHR2YXIgYmFzZVVybCA9IHVybDtcclxuXHR2YXIgZnJhZ21lbnQgPSBcIlwiO1xyXG5cdGlmICh1cmwuaW5kZXhPZignIycpICE9PSAtMSkge1xyXG5cdFx0ZnJhZ21lbnQgPSB1cmwuc3Vic3RyaW5nKHVybC5pbmRleE9mKFwiI1wiKSArIDEpO1xyXG5cdFx0YmFzZVVybCA9IHVybC5zdWJzdHJpbmcoMCwgdXJsLmluZGV4T2YoXCIjXCIpKTtcclxuXHR9XHJcblx0aWYgKHR5cGVvZiB0aGlzLnNjaGVtYXNbYmFzZVVybF0gPT09ICdvYmplY3QnKSB7XHJcblx0XHRzY2hlbWEgPSB0aGlzLnNjaGVtYXNbYmFzZVVybF07XHJcblx0XHR2YXIgcG9pbnRlclBhdGggPSBkZWNvZGVVUklDb21wb25lbnQoZnJhZ21lbnQpO1xyXG5cdFx0aWYgKHBvaW50ZXJQYXRoID09PSBcIlwiKSB7XHJcblx0XHRcdHJldHVybiB0aGlzLnJlc29sdmVSZWZzKHNjaGVtYSwgdXJsSGlzdG9yeSk7XHJcblx0XHR9IGVsc2UgaWYgKHBvaW50ZXJQYXRoLmNoYXJBdCgwKSAhPT0gXCIvXCIpIHtcclxuXHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcclxuXHRcdH1cclxuXHRcdHZhciBwYXJ0cyA9IHBvaW50ZXJQYXRoLnNwbGl0KFwiL1wiKS5zbGljZSgxKTtcclxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0dmFyIGNvbXBvbmVudCA9IHBhcnRzW2ldLnJlcGxhY2UoL34xL2csIFwiL1wiKS5yZXBsYWNlKC9+MC9nLCBcIn5cIik7XHJcblx0XHRcdGlmIChzY2hlbWFbY29tcG9uZW50XSA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdFx0c2NoZW1hID0gdW5kZWZpbmVkO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHR9XHJcblx0XHRcdHNjaGVtYSA9IHNjaGVtYVtjb21wb25lbnRdO1xyXG5cdFx0fVxyXG5cdFx0aWYgKHNjaGVtYSAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdHJldHVybiB0aGlzLnJlc29sdmVSZWZzKHNjaGVtYSwgdXJsSGlzdG9yeSk7XHJcblx0XHR9XHJcblx0fVxyXG5cdGlmICh0aGlzLm1pc3NpbmdbYmFzZVVybF0gPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0dGhpcy5taXNzaW5nLnB1c2goYmFzZVVybCk7XHJcblx0XHR0aGlzLm1pc3NpbmdbYmFzZVVybF0gPSBiYXNlVXJsO1xyXG5cdFx0dGhpcy5taXNzaW5nTWFwW2Jhc2VVcmxdID0gYmFzZVVybDtcclxuXHR9XHJcbn07XHJcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnNlYXJjaFNjaGVtYXMgPSBmdW5jdGlvbiAoc2NoZW1hLCB1cmwpIHtcclxuXHRpZiAoQXJyYXkuaXNBcnJheShzY2hlbWEpKSB7XHJcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHNjaGVtYS5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHR0aGlzLnNlYXJjaFNjaGVtYXMoc2NoZW1hW2ldLCB1cmwpO1xyXG5cdFx0fVxyXG5cdH0gZWxzZSBpZiAoc2NoZW1hICYmIHR5cGVvZiBzY2hlbWEgPT09IFwib2JqZWN0XCIpIHtcclxuXHRcdGlmICh0eXBlb2Ygc2NoZW1hLmlkID09PSBcInN0cmluZ1wiKSB7XHJcblx0XHRcdGlmIChpc1RydXN0ZWRVcmwodXJsLCBzY2hlbWEuaWQpKSB7XHJcblx0XHRcdFx0aWYgKHRoaXMuc2NoZW1hc1tzY2hlbWEuaWRdID09PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0XHRcdHRoaXMuc2NoZW1hc1tzY2hlbWEuaWRdID0gc2NoZW1hO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0Zm9yICh2YXIga2V5IGluIHNjaGVtYSkge1xyXG5cdFx0XHRpZiAoa2V5ICE9PSBcImVudW1cIikge1xyXG5cdFx0XHRcdGlmICh0eXBlb2Ygc2NoZW1hW2tleV0gPT09IFwib2JqZWN0XCIpIHtcclxuXHRcdFx0XHRcdHRoaXMuc2VhcmNoU2NoZW1hcyhzY2hlbWFba2V5XSwgdXJsKTtcclxuXHRcdFx0XHR9IGVsc2UgaWYgKGtleSA9PT0gXCIkcmVmXCIpIHtcclxuXHRcdFx0XHRcdHZhciB1cmkgPSBnZXREb2N1bWVudFVyaShzY2hlbWFba2V5XSk7XHJcblx0XHRcdFx0XHRpZiAodXJpICYmIHRoaXMuc2NoZW1hc1t1cmldID09PSB1bmRlZmluZWQgJiYgdGhpcy5taXNzaW5nTWFwW3VyaV0gPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRcdFx0XHR0aGlzLm1pc3NpbmdNYXBbdXJpXSA9IHVyaTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn07XHJcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLmFkZFNjaGVtYSA9IGZ1bmN0aW9uICh1cmwsIHNjaGVtYSkge1xyXG5cdC8vb3ZlcmxvYWRcclxuXHRpZiAodHlwZW9mIHVybCAhPT0gJ3N0cmluZycgfHwgdHlwZW9mIHNjaGVtYSA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuXHRcdGlmICh0eXBlb2YgdXJsID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgdXJsLmlkID09PSAnc3RyaW5nJykge1xyXG5cdFx0XHRzY2hlbWEgPSB1cmw7XHJcblx0XHRcdHVybCA9IHNjaGVtYS5pZDtcclxuXHRcdH1cclxuXHRcdGVsc2Uge1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblx0fVxyXG5cdGlmICh1cmwgPT09IGdldERvY3VtZW50VXJpKHVybCkgKyBcIiNcIikge1xyXG5cdFx0Ly8gUmVtb3ZlIGVtcHR5IGZyYWdtZW50XHJcblx0XHR1cmwgPSBnZXREb2N1bWVudFVyaSh1cmwpO1xyXG5cdH1cclxuXHR0aGlzLnNjaGVtYXNbdXJsXSA9IHNjaGVtYTtcclxuXHRkZWxldGUgdGhpcy5taXNzaW5nTWFwW3VybF07XHJcblx0bm9ybVNjaGVtYShzY2hlbWEsIHVybCk7XHJcblx0dGhpcy5zZWFyY2hTY2hlbWFzKHNjaGVtYSwgdXJsKTtcclxufTtcclxuXHJcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLmdldFNjaGVtYU1hcCA9IGZ1bmN0aW9uICgpIHtcclxuXHR2YXIgbWFwID0ge307XHJcblx0Zm9yICh2YXIga2V5IGluIHRoaXMuc2NoZW1hcykge1xyXG5cdFx0bWFwW2tleV0gPSB0aGlzLnNjaGVtYXNba2V5XTtcclxuXHR9XHJcblx0cmV0dXJuIG1hcDtcclxufTtcclxuXHJcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLmdldFNjaGVtYVVyaXMgPSBmdW5jdGlvbiAoZmlsdGVyUmVnRXhwKSB7XHJcblx0dmFyIGxpc3QgPSBbXTtcclxuXHRmb3IgKHZhciBrZXkgaW4gdGhpcy5zY2hlbWFzKSB7XHJcblx0XHRpZiAoIWZpbHRlclJlZ0V4cCB8fCBmaWx0ZXJSZWdFeHAudGVzdChrZXkpKSB7XHJcblx0XHRcdGxpc3QucHVzaChrZXkpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRyZXR1cm4gbGlzdDtcclxufTtcclxuXHJcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLmdldE1pc3NpbmdVcmlzID0gZnVuY3Rpb24gKGZpbHRlclJlZ0V4cCkge1xyXG5cdHZhciBsaXN0ID0gW107XHJcblx0Zm9yICh2YXIga2V5IGluIHRoaXMubWlzc2luZ01hcCkge1xyXG5cdFx0aWYgKCFmaWx0ZXJSZWdFeHAgfHwgZmlsdGVyUmVnRXhwLnRlc3Qoa2V5KSkge1xyXG5cdFx0XHRsaXN0LnB1c2goa2V5KTtcclxuXHRcdH1cclxuXHR9XHJcblx0cmV0dXJuIGxpc3Q7XHJcbn07XHJcblxyXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS5kcm9wU2NoZW1hcyA9IGZ1bmN0aW9uICgpIHtcclxuXHR0aGlzLnNjaGVtYXMgPSB7fTtcclxuXHR0aGlzLnJlc2V0KCk7XHJcbn07XHJcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xyXG5cdHRoaXMubWlzc2luZyA9IFtdO1xyXG5cdHRoaXMubWlzc2luZ01hcCA9IHt9O1xyXG5cdHRoaXMuZXJyb3JzID0gW107XHJcbn07XHJcblxyXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS52YWxpZGF0ZUFsbCA9IGZ1bmN0aW9uIChkYXRhLCBzY2hlbWEsIGRhdGFQYXRoUGFydHMsIHNjaGVtYVBhdGhQYXJ0cywgZGF0YVBvaW50ZXJQYXRoKSB7XHJcblx0dmFyIHRvcExldmVsO1xyXG5cdHNjaGVtYSA9IHRoaXMucmVzb2x2ZVJlZnMoc2NoZW1hKTtcclxuXHRpZiAoIXNjaGVtYSkge1xyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fSBlbHNlIGlmIChzY2hlbWEgaW5zdGFuY2VvZiBWYWxpZGF0aW9uRXJyb3IpIHtcclxuXHRcdHRoaXMuZXJyb3JzLnB1c2goc2NoZW1hKTtcclxuXHRcdHJldHVybiBzY2hlbWE7XHJcblx0fVxyXG5cclxuXHR2YXIgc3RhcnRFcnJvckNvdW50ID0gdGhpcy5lcnJvcnMubGVuZ3RoO1xyXG5cdHZhciBmcm96ZW5JbmRleCwgc2Nhbm5lZEZyb3plblNjaGVtYUluZGV4ID0gbnVsbCwgc2Nhbm5lZFNjaGVtYXNJbmRleCA9IG51bGw7XHJcblx0aWYgKHRoaXMuY2hlY2tSZWN1cnNpdmUgJiYgZGF0YSAmJiB0eXBlb2YgZGF0YSA9PT0gJ29iamVjdCcpIHtcclxuXHRcdHRvcExldmVsID0gIXRoaXMuc2Nhbm5lZC5sZW5ndGg7XHJcblx0XHRpZiAoZGF0YVt0aGlzLnZhbGlkYXRlZFNjaGVtYXNLZXldKSB7XHJcblx0XHRcdHZhciBzY2hlbWFJbmRleCA9IGRhdGFbdGhpcy52YWxpZGF0ZWRTY2hlbWFzS2V5XS5pbmRleE9mKHNjaGVtYSk7XHJcblx0XHRcdGlmIChzY2hlbWFJbmRleCAhPT0gLTEpIHtcclxuXHRcdFx0XHR0aGlzLmVycm9ycyA9IHRoaXMuZXJyb3JzLmNvbmNhdChkYXRhW3RoaXMudmFsaWRhdGlvbkVycm9yc0tleV1bc2NoZW1hSW5kZXhdKTtcclxuXHRcdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0aWYgKE9iamVjdC5pc0Zyb3plbihkYXRhKSkge1xyXG5cdFx0XHRmcm96ZW5JbmRleCA9IHRoaXMuc2Nhbm5lZEZyb3plbi5pbmRleE9mKGRhdGEpO1xyXG5cdFx0XHRpZiAoZnJvemVuSW5kZXggIT09IC0xKSB7XHJcblx0XHRcdFx0dmFyIGZyb3plblNjaGVtYUluZGV4ID0gdGhpcy5zY2FubmVkRnJvemVuU2NoZW1hc1tmcm96ZW5JbmRleF0uaW5kZXhPZihzY2hlbWEpO1xyXG5cdFx0XHRcdGlmIChmcm96ZW5TY2hlbWFJbmRleCAhPT0gLTEpIHtcclxuXHRcdFx0XHRcdHRoaXMuZXJyb3JzID0gdGhpcy5lcnJvcnMuY29uY2F0KHRoaXMuc2Nhbm5lZEZyb3plblZhbGlkYXRpb25FcnJvcnNbZnJvemVuSW5kZXhdW2Zyb3plblNjaGVtYUluZGV4XSk7XHJcblx0XHRcdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHRoaXMuc2Nhbm5lZC5wdXNoKGRhdGEpO1xyXG5cdFx0aWYgKE9iamVjdC5pc0Zyb3plbihkYXRhKSkge1xyXG5cdFx0XHRpZiAoZnJvemVuSW5kZXggPT09IC0xKSB7XHJcblx0XHRcdFx0ZnJvemVuSW5kZXggPSB0aGlzLnNjYW5uZWRGcm96ZW4ubGVuZ3RoO1xyXG5cdFx0XHRcdHRoaXMuc2Nhbm5lZEZyb3plbi5wdXNoKGRhdGEpO1xyXG5cdFx0XHRcdHRoaXMuc2Nhbm5lZEZyb3plblNjaGVtYXMucHVzaChbXSk7XHJcblx0XHRcdH1cclxuXHRcdFx0c2Nhbm5lZEZyb3plblNjaGVtYUluZGV4ID0gdGhpcy5zY2FubmVkRnJvemVuU2NoZW1hc1tmcm96ZW5JbmRleF0ubGVuZ3RoO1xyXG5cdFx0XHR0aGlzLnNjYW5uZWRGcm96ZW5TY2hlbWFzW2Zyb3plbkluZGV4XVtzY2FubmVkRnJvemVuU2NoZW1hSW5kZXhdID0gc2NoZW1hO1xyXG5cdFx0XHR0aGlzLnNjYW5uZWRGcm96ZW5WYWxpZGF0aW9uRXJyb3JzW2Zyb3plbkluZGV4XVtzY2FubmVkRnJvemVuU2NoZW1hSW5kZXhdID0gW107XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRpZiAoIWRhdGFbdGhpcy52YWxpZGF0ZWRTY2hlbWFzS2V5XSkge1xyXG5cdFx0XHRcdHRyeSB7XHJcblx0XHRcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZGF0YSwgdGhpcy52YWxpZGF0ZWRTY2hlbWFzS2V5LCB7XHJcblx0XHRcdFx0XHRcdHZhbHVlOiBbXSxcclxuXHRcdFx0XHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlXHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShkYXRhLCB0aGlzLnZhbGlkYXRpb25FcnJvcnNLZXksIHtcclxuXHRcdFx0XHRcdFx0dmFsdWU6IFtdLFxyXG5cdFx0XHRcdFx0XHRjb25maWd1cmFibGU6IHRydWVcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH0gY2F0Y2ggKGUpIHtcclxuXHRcdFx0XHRcdC8vSUUgNy84IHdvcmthcm91bmRcclxuXHRcdFx0XHRcdGRhdGFbdGhpcy52YWxpZGF0ZWRTY2hlbWFzS2V5XSA9IFtdO1xyXG5cdFx0XHRcdFx0ZGF0YVt0aGlzLnZhbGlkYXRpb25FcnJvcnNLZXldID0gW107XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdHNjYW5uZWRTY2hlbWFzSW5kZXggPSBkYXRhW3RoaXMudmFsaWRhdGVkU2NoZW1hc0tleV0ubGVuZ3RoO1xyXG5cdFx0XHRkYXRhW3RoaXMudmFsaWRhdGVkU2NoZW1hc0tleV1bc2Nhbm5lZFNjaGVtYXNJbmRleF0gPSBzY2hlbWE7XHJcblx0XHRcdGRhdGFbdGhpcy52YWxpZGF0aW9uRXJyb3JzS2V5XVtzY2FubmVkU2NoZW1hc0luZGV4XSA9IFtdO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0dmFyIGVycm9yQ291bnQgPSB0aGlzLmVycm9ycy5sZW5ndGg7XHJcblx0dmFyIGVycm9yID0gdGhpcy52YWxpZGF0ZUJhc2ljKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKVxyXG5cdFx0fHwgdGhpcy52YWxpZGF0ZU51bWVyaWMoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpXHJcblx0XHR8fCB0aGlzLnZhbGlkYXRlU3RyaW5nKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKVxyXG5cdFx0fHwgdGhpcy52YWxpZGF0ZUFycmF5KGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKVxyXG5cdFx0fHwgdGhpcy52YWxpZGF0ZU9iamVjdChkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aClcclxuXHRcdHx8IHRoaXMudmFsaWRhdGVDb21iaW5hdGlvbnMoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpXHJcblx0XHR8fCB0aGlzLnZhbGlkYXRlSHlwZXJtZWRpYShkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aClcclxuXHRcdHx8IHRoaXMudmFsaWRhdGVGb3JtYXQoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpXHJcblx0XHR8fCB0aGlzLnZhbGlkYXRlRGVmaW5lZEtleXdvcmRzKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKVxyXG5cdFx0fHwgbnVsbDtcclxuXHJcblx0aWYgKHRvcExldmVsKSB7XHJcblx0XHR3aGlsZSAodGhpcy5zY2FubmVkLmxlbmd0aCkge1xyXG5cdFx0XHR2YXIgaXRlbSA9IHRoaXMuc2Nhbm5lZC5wb3AoKTtcclxuXHRcdFx0ZGVsZXRlIGl0ZW1bdGhpcy52YWxpZGF0ZWRTY2hlbWFzS2V5XTtcclxuXHRcdH1cclxuXHRcdHRoaXMuc2Nhbm5lZEZyb3plbiA9IFtdO1xyXG5cdFx0dGhpcy5zY2FubmVkRnJvemVuU2NoZW1hcyA9IFtdO1xyXG5cdH1cclxuXHJcblx0aWYgKGVycm9yIHx8IGVycm9yQ291bnQgIT09IHRoaXMuZXJyb3JzLmxlbmd0aCkge1xyXG5cdFx0d2hpbGUgKChkYXRhUGF0aFBhcnRzICYmIGRhdGFQYXRoUGFydHMubGVuZ3RoKSB8fCAoc2NoZW1hUGF0aFBhcnRzICYmIHNjaGVtYVBhdGhQYXJ0cy5sZW5ndGgpKSB7XHJcblx0XHRcdHZhciBkYXRhUGFydCA9IChkYXRhUGF0aFBhcnRzICYmIGRhdGFQYXRoUGFydHMubGVuZ3RoKSA/IFwiXCIgKyBkYXRhUGF0aFBhcnRzLnBvcCgpIDogbnVsbDtcclxuXHRcdFx0dmFyIHNjaGVtYVBhcnQgPSAoc2NoZW1hUGF0aFBhcnRzICYmIHNjaGVtYVBhdGhQYXJ0cy5sZW5ndGgpID8gXCJcIiArIHNjaGVtYVBhdGhQYXJ0cy5wb3AoKSA6IG51bGw7XHJcblx0XHRcdGlmIChlcnJvcikge1xyXG5cdFx0XHRcdGVycm9yID0gZXJyb3IucHJlZml4V2l0aChkYXRhUGFydCwgc2NoZW1hUGFydCk7XHJcblx0XHRcdH1cclxuXHRcdFx0dGhpcy5wcmVmaXhFcnJvcnMoZXJyb3JDb3VudCwgZGF0YVBhcnQsIHNjaGVtYVBhcnQpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0aWYgKHNjYW5uZWRGcm96ZW5TY2hlbWFJbmRleCAhPT0gbnVsbCkge1xyXG5cdFx0dGhpcy5zY2FubmVkRnJvemVuVmFsaWRhdGlvbkVycm9yc1tmcm96ZW5JbmRleF1bc2Nhbm5lZEZyb3plblNjaGVtYUluZGV4XSA9IHRoaXMuZXJyb3JzLnNsaWNlKHN0YXJ0RXJyb3JDb3VudCk7XHJcblx0fSBlbHNlIGlmIChzY2FubmVkU2NoZW1hc0luZGV4ICE9PSBudWxsKSB7XHJcblx0XHRkYXRhW3RoaXMudmFsaWRhdGlvbkVycm9yc0tleV1bc2Nhbm5lZFNjaGVtYXNJbmRleF0gPSB0aGlzLmVycm9ycy5zbGljZShzdGFydEVycm9yQ291bnQpO1xyXG5cdH1cclxuXHJcblx0cmV0dXJuIHRoaXMuaGFuZGxlRXJyb3IoZXJyb3IpO1xyXG59O1xyXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS52YWxpZGF0ZUZvcm1hdCA9IGZ1bmN0aW9uIChkYXRhLCBzY2hlbWEpIHtcclxuXHRpZiAodHlwZW9mIHNjaGVtYS5mb3JtYXQgIT09ICdzdHJpbmcnIHx8ICF0aGlzLmZvcm1hdFZhbGlkYXRvcnNbc2NoZW1hLmZvcm1hdF0pIHtcclxuXHRcdHJldHVybiBudWxsO1xyXG5cdH1cclxuXHR2YXIgZXJyb3JNZXNzYWdlID0gdGhpcy5mb3JtYXRWYWxpZGF0b3JzW3NjaGVtYS5mb3JtYXRdLmNhbGwobnVsbCwgZGF0YSwgc2NoZW1hKTtcclxuXHRpZiAodHlwZW9mIGVycm9yTWVzc2FnZSA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIGVycm9yTWVzc2FnZSA9PT0gJ251bWJlcicpIHtcclxuXHRcdHJldHVybiB0aGlzLmNyZWF0ZUVycm9yKEVycm9yQ29kZXMuRk9STUFUX0NVU1RPTSwge21lc3NhZ2U6IGVycm9yTWVzc2FnZX0sICcnLCAnL2Zvcm1hdCcsIG51bGwsIGRhdGEsIHNjaGVtYSk7XHJcblx0fSBlbHNlIGlmIChlcnJvck1lc3NhZ2UgJiYgdHlwZW9mIGVycm9yTWVzc2FnZSA9PT0gJ29iamVjdCcpIHtcclxuXHRcdHJldHVybiB0aGlzLmNyZWF0ZUVycm9yKEVycm9yQ29kZXMuRk9STUFUX0NVU1RPTSwge21lc3NhZ2U6IGVycm9yTWVzc2FnZS5tZXNzYWdlIHx8IFwiP1wifSwgZXJyb3JNZXNzYWdlLmRhdGFQYXRoIHx8ICcnLCBlcnJvck1lc3NhZ2Uuc2NoZW1hUGF0aCB8fCBcIi9mb3JtYXRcIiwgbnVsbCwgZGF0YSwgc2NoZW1hKTtcclxuXHR9XHJcblx0cmV0dXJuIG51bGw7XHJcbn07XHJcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnZhbGlkYXRlRGVmaW5lZEtleXdvcmRzID0gZnVuY3Rpb24gKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKSB7XHJcblx0Zm9yICh2YXIga2V5IGluIHRoaXMuZGVmaW5lZEtleXdvcmRzKSB7XHJcblx0XHRpZiAodHlwZW9mIHNjaGVtYVtrZXldID09PSAndW5kZWZpbmVkJykge1xyXG5cdFx0XHRjb250aW51ZTtcclxuXHRcdH1cclxuXHRcdHZhciB2YWxpZGF0aW9uRnVuY3Rpb25zID0gdGhpcy5kZWZpbmVkS2V5d29yZHNba2V5XTtcclxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgdmFsaWRhdGlvbkZ1bmN0aW9ucy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHR2YXIgZnVuYyA9IHZhbGlkYXRpb25GdW5jdGlvbnNbaV07XHJcblx0XHRcdHZhciByZXN1bHQgPSBmdW5jKGRhdGEsIHNjaGVtYVtrZXldLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aCk7XHJcblx0XHRcdGlmICh0eXBlb2YgcmVzdWx0ID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgcmVzdWx0ID09PSAnbnVtYmVyJykge1xyXG5cdFx0XHRcdHJldHVybiB0aGlzLmNyZWF0ZUVycm9yKEVycm9yQ29kZXMuS0VZV09SRF9DVVNUT00sIHtrZXk6IGtleSwgbWVzc2FnZTogcmVzdWx0fSwgJycsICcnLCBudWxsLCBkYXRhLCBzY2hlbWEpLnByZWZpeFdpdGgobnVsbCwga2V5KTtcclxuXHRcdFx0fSBlbHNlIGlmIChyZXN1bHQgJiYgdHlwZW9mIHJlc3VsdCA9PT0gJ29iamVjdCcpIHtcclxuXHRcdFx0XHR2YXIgY29kZSA9IHJlc3VsdC5jb2RlO1xyXG5cdFx0XHRcdGlmICh0eXBlb2YgY29kZSA9PT0gJ3N0cmluZycpIHtcclxuXHRcdFx0XHRcdGlmICghRXJyb3JDb2Rlc1tjb2RlXSkge1xyXG5cdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ1VuZGVmaW5lZCBlcnJvciBjb2RlICh1c2UgZGVmaW5lRXJyb3IpOiAnICsgY29kZSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRjb2RlID0gRXJyb3JDb2Rlc1tjb2RlXTtcclxuXHRcdFx0XHR9IGVsc2UgaWYgKHR5cGVvZiBjb2RlICE9PSAnbnVtYmVyJykge1xyXG5cdFx0XHRcdFx0Y29kZSA9IEVycm9yQ29kZXMuS0VZV09SRF9DVVNUT007XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHZhciBtZXNzYWdlUGFyYW1zID0gKHR5cGVvZiByZXN1bHQubWVzc2FnZSA9PT0gJ29iamVjdCcpID8gcmVzdWx0Lm1lc3NhZ2UgOiB7a2V5OiBrZXksIG1lc3NhZ2U6IHJlc3VsdC5tZXNzYWdlIHx8IFwiP1wifTtcclxuXHRcdFx0XHR2YXIgc2NoZW1hUGF0aCA9IHJlc3VsdC5zY2hlbWFQYXRoIHx8IChcIi9cIiArIGtleS5yZXBsYWNlKC9+L2csICd+MCcpLnJlcGxhY2UoL1xcLy9nLCAnfjEnKSk7XHJcblx0XHRcdFx0cmV0dXJuIHRoaXMuY3JlYXRlRXJyb3IoY29kZSwgbWVzc2FnZVBhcmFtcywgcmVzdWx0LmRhdGFQYXRoIHx8IG51bGwsIHNjaGVtYVBhdGgsIG51bGwsIGRhdGEsIHNjaGVtYSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblx0cmV0dXJuIG51bGw7XHJcbn07XHJcblxyXG5mdW5jdGlvbiByZWN1cnNpdmVDb21wYXJlKEEsIEIpIHtcclxuXHRpZiAoQSA9PT0gQikge1xyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fVxyXG5cdGlmIChBICYmIEIgJiYgdHlwZW9mIEEgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIEIgPT09IFwib2JqZWN0XCIpIHtcclxuXHRcdGlmIChBcnJheS5pc0FycmF5KEEpICE9PSBBcnJheS5pc0FycmF5KEIpKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShBKSkge1xyXG5cdFx0XHRpZiAoQS5sZW5ndGggIT09IEIubGVuZ3RoKSB7XHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHR9XHJcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgQS5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdGlmICghcmVjdXJzaXZlQ29tcGFyZShBW2ldLCBCW2ldKSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dmFyIGtleTtcclxuXHRcdFx0Zm9yIChrZXkgaW4gQSkge1xyXG5cdFx0XHRcdGlmIChCW2tleV0gPT09IHVuZGVmaW5lZCAmJiBBW2tleV0gIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRmb3IgKGtleSBpbiBCKSB7XHJcblx0XHRcdFx0aWYgKEFba2V5XSA9PT0gdW5kZWZpbmVkICYmIEJba2V5XSAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdGZvciAoa2V5IGluIEEpIHtcclxuXHRcdFx0XHRpZiAoIXJlY3Vyc2l2ZUNvbXBhcmUoQVtrZXldLCBCW2tleV0pKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9XHJcblx0cmV0dXJuIGZhbHNlO1xyXG59XHJcblxyXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS52YWxpZGF0ZUJhc2ljID0gZnVuY3Rpb24gdmFsaWRhdGVCYXNpYyhkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aCkge1xyXG5cdHZhciBlcnJvcjtcclxuXHRpZiAoZXJyb3IgPSB0aGlzLnZhbGlkYXRlVHlwZShkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aCkpIHtcclxuXHRcdHJldHVybiBlcnJvci5wcmVmaXhXaXRoKG51bGwsIFwidHlwZVwiKTtcclxuXHR9XHJcblx0aWYgKGVycm9yID0gdGhpcy52YWxpZGF0ZUVudW0oZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpKSB7XHJcblx0XHRyZXR1cm4gZXJyb3IucHJlZml4V2l0aChudWxsLCBcInR5cGVcIik7XHJcblx0fVxyXG5cdHJldHVybiBudWxsO1xyXG59O1xyXG5cclxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUudmFsaWRhdGVUeXBlID0gZnVuY3Rpb24gdmFsaWRhdGVUeXBlKGRhdGEsIHNjaGVtYSkge1xyXG5cdGlmIChzY2hlbWEudHlwZSA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9XHJcblx0dmFyIGRhdGFUeXBlID0gdHlwZW9mIGRhdGE7XHJcblx0aWYgKGRhdGEgPT09IG51bGwpIHtcclxuXHRcdGRhdGFUeXBlID0gXCJudWxsXCI7XHJcblx0fSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XHJcblx0XHRkYXRhVHlwZSA9IFwiYXJyYXlcIjtcclxuXHR9XHJcblx0dmFyIGFsbG93ZWRUeXBlcyA9IHNjaGVtYS50eXBlO1xyXG5cdGlmICghQXJyYXkuaXNBcnJheShhbGxvd2VkVHlwZXMpKSB7XHJcblx0XHRhbGxvd2VkVHlwZXMgPSBbYWxsb3dlZFR5cGVzXTtcclxuXHR9XHJcblxyXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgYWxsb3dlZFR5cGVzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHR2YXIgdHlwZSA9IGFsbG93ZWRUeXBlc1tpXTtcclxuXHRcdGlmICh0eXBlID09PSBkYXRhVHlwZSB8fCAodHlwZSA9PT0gXCJpbnRlZ2VyXCIgJiYgZGF0YVR5cGUgPT09IFwibnVtYmVyXCIgJiYgKGRhdGEgJSAxID09PSAwKSkpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblx0fVxyXG5cdHJldHVybiB0aGlzLmNyZWF0ZUVycm9yKEVycm9yQ29kZXMuSU5WQUxJRF9UWVBFLCB7dHlwZTogZGF0YVR5cGUsIGV4cGVjdGVkOiBhbGxvd2VkVHlwZXMuam9pbihcIi9cIil9LCAnJywgJycsIG51bGwsIGRhdGEsIHNjaGVtYSk7XHJcbn07XHJcblxyXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS52YWxpZGF0ZUVudW0gPSBmdW5jdGlvbiB2YWxpZGF0ZUVudW0oZGF0YSwgc2NoZW1hKSB7XHJcblx0aWYgKHNjaGVtYVtcImVudW1cIl0gPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fVxyXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgc2NoZW1hW1wiZW51bVwiXS5sZW5ndGg7IGkrKykge1xyXG5cdFx0dmFyIGVudW1WYWwgPSBzY2hlbWFbXCJlbnVtXCJdW2ldO1xyXG5cdFx0aWYgKHJlY3Vyc2l2ZUNvbXBhcmUoZGF0YSwgZW51bVZhbCkpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblx0fVxyXG5cdHJldHVybiB0aGlzLmNyZWF0ZUVycm9yKEVycm9yQ29kZXMuRU5VTV9NSVNNQVRDSCwge3ZhbHVlOiAodHlwZW9mIEpTT04gIT09ICd1bmRlZmluZWQnKSA/IEpTT04uc3RyaW5naWZ5KGRhdGEpIDogZGF0YX0sICcnLCAnJywgbnVsbCwgZGF0YSwgc2NoZW1hKTtcclxufTtcclxuXHJcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnZhbGlkYXRlTnVtZXJpYyA9IGZ1bmN0aW9uIHZhbGlkYXRlTnVtZXJpYyhkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aCkge1xyXG5cdHJldHVybiB0aGlzLnZhbGlkYXRlTXVsdGlwbGVPZihkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aClcclxuXHRcdHx8IHRoaXMudmFsaWRhdGVNaW5NYXgoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpXHJcblx0XHR8fCB0aGlzLnZhbGlkYXRlTmFOKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKVxyXG5cdFx0fHwgbnVsbDtcclxufTtcclxuXHJcbnZhciBDTE9TRV9FTk9VR0hfTE9XID0gTWF0aC5wb3coMiwgLTUxKTtcclxudmFyIENMT1NFX0VOT1VHSF9ISUdIID0gMSAtIENMT1NFX0VOT1VHSF9MT1c7XHJcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnZhbGlkYXRlTXVsdGlwbGVPZiA9IGZ1bmN0aW9uIHZhbGlkYXRlTXVsdGlwbGVPZihkYXRhLCBzY2hlbWEpIHtcclxuXHR2YXIgbXVsdGlwbGVPZiA9IHNjaGVtYS5tdWx0aXBsZU9mIHx8IHNjaGVtYS5kaXZpc2libGVCeTtcclxuXHRpZiAobXVsdGlwbGVPZiA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9XHJcblx0aWYgKHR5cGVvZiBkYXRhID09PSBcIm51bWJlclwiKSB7XHJcblx0XHR2YXIgcmVtYWluZGVyID0gKGRhdGEvbXVsdGlwbGVPZiklMTtcclxuXHRcdGlmIChyZW1haW5kZXIgPj0gQ0xPU0VfRU5PVUdIX0xPVyAmJiByZW1haW5kZXIgPCBDTE9TRV9FTk9VR0hfSElHSCkge1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5jcmVhdGVFcnJvcihFcnJvckNvZGVzLk5VTUJFUl9NVUxUSVBMRV9PRiwge3ZhbHVlOiBkYXRhLCBtdWx0aXBsZU9mOiBtdWx0aXBsZU9mfSwgJycsICcnLCBudWxsLCBkYXRhLCBzY2hlbWEpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRyZXR1cm4gbnVsbDtcclxufTtcclxuXHJcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnZhbGlkYXRlTWluTWF4ID0gZnVuY3Rpb24gdmFsaWRhdGVNaW5NYXgoZGF0YSwgc2NoZW1hKSB7XHJcblx0aWYgKHR5cGVvZiBkYXRhICE9PSBcIm51bWJlclwiKSB7XHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9XHJcblx0aWYgKHNjaGVtYS5taW5pbXVtICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdGlmIChkYXRhIDwgc2NoZW1hLm1pbmltdW0pIHtcclxuXHRcdFx0cmV0dXJuIHRoaXMuY3JlYXRlRXJyb3IoRXJyb3JDb2Rlcy5OVU1CRVJfTUlOSU1VTSwge3ZhbHVlOiBkYXRhLCBtaW5pbXVtOiBzY2hlbWEubWluaW11bX0sICcnLCAnL21pbmltdW0nLCBudWxsLCBkYXRhLCBzY2hlbWEpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKHNjaGVtYS5leGNsdXNpdmVNaW5pbXVtICYmIGRhdGEgPT09IHNjaGVtYS5taW5pbXVtKSB7XHJcblx0XHRcdHJldHVybiB0aGlzLmNyZWF0ZUVycm9yKEVycm9yQ29kZXMuTlVNQkVSX01JTklNVU1fRVhDTFVTSVZFLCB7dmFsdWU6IGRhdGEsIG1pbmltdW06IHNjaGVtYS5taW5pbXVtfSwgJycsICcvZXhjbHVzaXZlTWluaW11bScsIG51bGwsIGRhdGEsIHNjaGVtYSk7XHJcblx0XHR9XHJcblx0fVxyXG5cdGlmIChzY2hlbWEubWF4aW11bSAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRpZiAoZGF0YSA+IHNjaGVtYS5tYXhpbXVtKSB7XHJcblx0XHRcdHJldHVybiB0aGlzLmNyZWF0ZUVycm9yKEVycm9yQ29kZXMuTlVNQkVSX01BWElNVU0sIHt2YWx1ZTogZGF0YSwgbWF4aW11bTogc2NoZW1hLm1heGltdW19LCAnJywgJy9tYXhpbXVtJywgbnVsbCwgZGF0YSwgc2NoZW1hKTtcclxuXHRcdH1cclxuXHRcdGlmIChzY2hlbWEuZXhjbHVzaXZlTWF4aW11bSAmJiBkYXRhID09PSBzY2hlbWEubWF4aW11bSkge1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5jcmVhdGVFcnJvcihFcnJvckNvZGVzLk5VTUJFUl9NQVhJTVVNX0VYQ0xVU0lWRSwge3ZhbHVlOiBkYXRhLCBtYXhpbXVtOiBzY2hlbWEubWF4aW11bX0sICcnLCAnL2V4Y2x1c2l2ZU1heGltdW0nLCBudWxsLCBkYXRhLCBzY2hlbWEpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRyZXR1cm4gbnVsbDtcclxufTtcclxuXHJcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnZhbGlkYXRlTmFOID0gZnVuY3Rpb24gdmFsaWRhdGVOYU4oZGF0YSwgc2NoZW1hKSB7XHJcblx0aWYgKHR5cGVvZiBkYXRhICE9PSBcIm51bWJlclwiKSB7XHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9XHJcblx0aWYgKGlzTmFOKGRhdGEpID09PSB0cnVlIHx8IGRhdGEgPT09IEluZmluaXR5IHx8IGRhdGEgPT09IC1JbmZpbml0eSkge1xyXG5cdFx0cmV0dXJuIHRoaXMuY3JlYXRlRXJyb3IoRXJyb3JDb2Rlcy5OVU1CRVJfTk9UX0FfTlVNQkVSLCB7dmFsdWU6IGRhdGF9LCAnJywgJy90eXBlJywgbnVsbCwgZGF0YSwgc2NoZW1hKTtcclxuXHR9XHJcblx0cmV0dXJuIG51bGw7XHJcbn07XHJcblxyXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS52YWxpZGF0ZVN0cmluZyA9IGZ1bmN0aW9uIHZhbGlkYXRlU3RyaW5nKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKSB7XHJcblx0cmV0dXJuIHRoaXMudmFsaWRhdGVTdHJpbmdMZW5ndGgoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpXHJcblx0XHR8fCB0aGlzLnZhbGlkYXRlU3RyaW5nUGF0dGVybihkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aClcclxuXHRcdHx8IG51bGw7XHJcbn07XHJcblxyXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS52YWxpZGF0ZVN0cmluZ0xlbmd0aCA9IGZ1bmN0aW9uIHZhbGlkYXRlU3RyaW5nTGVuZ3RoKGRhdGEsIHNjaGVtYSkge1xyXG5cdGlmICh0eXBlb2YgZGF0YSAhPT0gXCJzdHJpbmdcIikge1xyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fVxyXG5cdGlmIChzY2hlbWEubWluTGVuZ3RoICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdGlmIChkYXRhLmxlbmd0aCA8IHNjaGVtYS5taW5MZW5ndGgpIHtcclxuXHRcdFx0cmV0dXJuIHRoaXMuY3JlYXRlRXJyb3IoRXJyb3JDb2Rlcy5TVFJJTkdfTEVOR1RIX1NIT1JULCB7bGVuZ3RoOiBkYXRhLmxlbmd0aCwgbWluaW11bTogc2NoZW1hLm1pbkxlbmd0aH0sICcnLCAnL21pbkxlbmd0aCcsIG51bGwsIGRhdGEsIHNjaGVtYSk7XHJcblx0XHR9XHJcblx0fVxyXG5cdGlmIChzY2hlbWEubWF4TGVuZ3RoICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdGlmIChkYXRhLmxlbmd0aCA+IHNjaGVtYS5tYXhMZW5ndGgpIHtcclxuXHRcdFx0cmV0dXJuIHRoaXMuY3JlYXRlRXJyb3IoRXJyb3JDb2Rlcy5TVFJJTkdfTEVOR1RIX0xPTkcsIHtsZW5ndGg6IGRhdGEubGVuZ3RoLCBtYXhpbXVtOiBzY2hlbWEubWF4TGVuZ3RofSwgJycsICcvbWF4TGVuZ3RoJywgbnVsbCwgZGF0YSwgc2NoZW1hKTtcclxuXHRcdH1cclxuXHR9XHJcblx0cmV0dXJuIG51bGw7XHJcbn07XHJcblxyXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS52YWxpZGF0ZVN0cmluZ1BhdHRlcm4gPSBmdW5jdGlvbiB2YWxpZGF0ZVN0cmluZ1BhdHRlcm4oZGF0YSwgc2NoZW1hKSB7XHJcblx0aWYgKHR5cGVvZiBkYXRhICE9PSBcInN0cmluZ1wiIHx8ICh0eXBlb2Ygc2NoZW1hLnBhdHRlcm4gIT09IFwic3RyaW5nXCIgJiYgIShzY2hlbWEucGF0dGVybiBpbnN0YW5jZW9mIFJlZ0V4cCkpKSB7XHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9XHJcblx0dmFyIHJlZ2V4cDtcclxuXHRpZiAoc2NoZW1hLnBhdHRlcm4gaW5zdGFuY2VvZiBSZWdFeHApIHtcclxuXHQgIHJlZ2V4cCA9IHNjaGVtYS5wYXR0ZXJuO1xyXG5cdH1cclxuXHRlbHNlIHtcclxuXHQgIHZhciBib2R5LCBmbGFncyA9ICcnO1xyXG5cdCAgLy8gQ2hlY2sgZm9yIHJlZ3VsYXIgZXhwcmVzc2lvbiBsaXRlcmFsc1xyXG5cdCAgLy8gQHNlZSBodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNS4xLyNzZWMtNy44LjVcclxuXHQgIHZhciBsaXRlcmFsID0gc2NoZW1hLnBhdHRlcm4ubWF0Y2goL15cXC8oLispXFwvKFtpbWddKikkLyk7XHJcblx0ICBpZiAobGl0ZXJhbCkge1xyXG5cdCAgICBib2R5ID0gbGl0ZXJhbFsxXTtcclxuXHQgICAgZmxhZ3MgPSBsaXRlcmFsWzJdO1xyXG5cdCAgfVxyXG5cdCAgZWxzZSB7XHJcblx0ICAgIGJvZHkgPSBzY2hlbWEucGF0dGVybjtcclxuXHQgIH1cclxuXHQgIHJlZ2V4cCA9IG5ldyBSZWdFeHAoYm9keSwgZmxhZ3MpO1xyXG5cdH1cclxuXHRpZiAoIXJlZ2V4cC50ZXN0KGRhdGEpKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5jcmVhdGVFcnJvcihFcnJvckNvZGVzLlNUUklOR19QQVRURVJOLCB7cGF0dGVybjogc2NoZW1hLnBhdHRlcm59LCAnJywgJy9wYXR0ZXJuJywgbnVsbCwgZGF0YSwgc2NoZW1hKTtcclxuXHR9XHJcblx0cmV0dXJuIG51bGw7XHJcbn07XHJcblxyXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS52YWxpZGF0ZUFycmF5ID0gZnVuY3Rpb24gdmFsaWRhdGVBcnJheShkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aCkge1xyXG5cdGlmICghQXJyYXkuaXNBcnJheShkYXRhKSkge1xyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fVxyXG5cdHJldHVybiB0aGlzLnZhbGlkYXRlQXJyYXlMZW5ndGgoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpXHJcblx0XHR8fCB0aGlzLnZhbGlkYXRlQXJyYXlVbmlxdWVJdGVtcyhkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aClcclxuXHRcdHx8IHRoaXMudmFsaWRhdGVBcnJheUl0ZW1zKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKVxyXG5cdFx0fHwgbnVsbDtcclxufTtcclxuXHJcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnZhbGlkYXRlQXJyYXlMZW5ndGggPSBmdW5jdGlvbiB2YWxpZGF0ZUFycmF5TGVuZ3RoKGRhdGEsIHNjaGVtYSkge1xyXG5cdHZhciBlcnJvcjtcclxuXHRpZiAoc2NoZW1hLm1pbkl0ZW1zICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdGlmIChkYXRhLmxlbmd0aCA8IHNjaGVtYS5taW5JdGVtcykge1xyXG5cdFx0XHRlcnJvciA9IHRoaXMuY3JlYXRlRXJyb3IoRXJyb3JDb2Rlcy5BUlJBWV9MRU5HVEhfU0hPUlQsIHtsZW5ndGg6IGRhdGEubGVuZ3RoLCBtaW5pbXVtOiBzY2hlbWEubWluSXRlbXN9LCAnJywgJy9taW5JdGVtcycsIG51bGwsIGRhdGEsIHNjaGVtYSk7XHJcblx0XHRcdGlmICh0aGlzLmhhbmRsZUVycm9yKGVycm9yKSkge1xyXG5cdFx0XHRcdHJldHVybiBlcnJvcjtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHRpZiAoc2NoZW1hLm1heEl0ZW1zICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdGlmIChkYXRhLmxlbmd0aCA+IHNjaGVtYS5tYXhJdGVtcykge1xyXG5cdFx0XHRlcnJvciA9IHRoaXMuY3JlYXRlRXJyb3IoRXJyb3JDb2Rlcy5BUlJBWV9MRU5HVEhfTE9ORywge2xlbmd0aDogZGF0YS5sZW5ndGgsIG1heGltdW06IHNjaGVtYS5tYXhJdGVtc30sICcnLCAnL21heEl0ZW1zJywgbnVsbCwgZGF0YSwgc2NoZW1hKTtcclxuXHRcdFx0aWYgKHRoaXMuaGFuZGxlRXJyb3IoZXJyb3IpKSB7XHJcblx0XHRcdFx0cmV0dXJuIGVycm9yO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cdHJldHVybiBudWxsO1xyXG59O1xyXG5cclxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUudmFsaWRhdGVBcnJheVVuaXF1ZUl0ZW1zID0gZnVuY3Rpb24gdmFsaWRhdGVBcnJheVVuaXF1ZUl0ZW1zKGRhdGEsIHNjaGVtYSkge1xyXG5cdGlmIChzY2hlbWEudW5pcXVlSXRlbXMpIHtcclxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRmb3IgKHZhciBqID0gaSArIDE7IGogPCBkYXRhLmxlbmd0aDsgaisrKSB7XHJcblx0XHRcdFx0aWYgKHJlY3Vyc2l2ZUNvbXBhcmUoZGF0YVtpXSwgZGF0YVtqXSkpIHtcclxuXHRcdFx0XHRcdHZhciBlcnJvciA9IHRoaXMuY3JlYXRlRXJyb3IoRXJyb3JDb2Rlcy5BUlJBWV9VTklRVUUsIHttYXRjaDE6IGksIG1hdGNoMjogan0sICcnLCAnL3VuaXF1ZUl0ZW1zJywgbnVsbCwgZGF0YSwgc2NoZW1hKTtcclxuXHRcdFx0XHRcdGlmICh0aGlzLmhhbmRsZUVycm9yKGVycm9yKSkge1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gZXJyb3I7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cdHJldHVybiBudWxsO1xyXG59O1xyXG5cclxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUudmFsaWRhdGVBcnJheUl0ZW1zID0gZnVuY3Rpb24gdmFsaWRhdGVBcnJheUl0ZW1zKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKSB7XHJcblx0aWYgKHNjaGVtYS5pdGVtcyA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9XHJcblx0dmFyIGVycm9yLCBpO1xyXG5cdGlmIChBcnJheS5pc0FycmF5KHNjaGVtYS5pdGVtcykpIHtcclxuXHRcdGZvciAoaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdGlmIChpIDwgc2NoZW1hLml0ZW1zLmxlbmd0aCkge1xyXG5cdFx0XHRcdGlmIChlcnJvciA9IHRoaXMudmFsaWRhdGVBbGwoZGF0YVtpXSwgc2NoZW1hLml0ZW1zW2ldLCBbaV0sIFtcIml0ZW1zXCIsIGldLCBkYXRhUG9pbnRlclBhdGggKyBcIi9cIiArIGkpKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gZXJyb3I7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2UgaWYgKHNjaGVtYS5hZGRpdGlvbmFsSXRlbXMgIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRcdGlmICh0eXBlb2Ygc2NoZW1hLmFkZGl0aW9uYWxJdGVtcyA9PT0gXCJib29sZWFuXCIpIHtcclxuXHRcdFx0XHRcdGlmICghc2NoZW1hLmFkZGl0aW9uYWxJdGVtcykge1xyXG5cdFx0XHRcdFx0XHRlcnJvciA9ICh0aGlzLmNyZWF0ZUVycm9yKEVycm9yQ29kZXMuQVJSQVlfQURESVRJT05BTF9JVEVNUywge30sICcvJyArIGksICcvYWRkaXRpb25hbEl0ZW1zJywgbnVsbCwgZGF0YSwgc2NoZW1hKSk7XHJcblx0XHRcdFx0XHRcdGlmICh0aGlzLmhhbmRsZUVycm9yKGVycm9yKSkge1xyXG5cdFx0XHRcdFx0XHRcdHJldHVybiBlcnJvcjtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0gZWxzZSBpZiAoZXJyb3IgPSB0aGlzLnZhbGlkYXRlQWxsKGRhdGFbaV0sIHNjaGVtYS5hZGRpdGlvbmFsSXRlbXMsIFtpXSwgW1wiYWRkaXRpb25hbEl0ZW1zXCJdLCBkYXRhUG9pbnRlclBhdGggKyBcIi9cIiArIGkpKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gZXJyb3I7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fSBlbHNlIHtcclxuXHRcdGZvciAoaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdGlmIChlcnJvciA9IHRoaXMudmFsaWRhdGVBbGwoZGF0YVtpXSwgc2NoZW1hLml0ZW1zLCBbaV0sIFtcIml0ZW1zXCJdLCBkYXRhUG9pbnRlclBhdGggKyBcIi9cIiArIGkpKSB7XHJcblx0XHRcdFx0cmV0dXJuIGVycm9yO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cdHJldHVybiBudWxsO1xyXG59O1xyXG5cclxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUudmFsaWRhdGVPYmplY3QgPSBmdW5jdGlvbiB2YWxpZGF0ZU9iamVjdChkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aCkge1xyXG5cdGlmICh0eXBlb2YgZGF0YSAhPT0gXCJvYmplY3RcIiB8fCBkYXRhID09PSBudWxsIHx8IEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcclxuXHRcdHJldHVybiBudWxsO1xyXG5cdH1cclxuXHRyZXR1cm4gdGhpcy52YWxpZGF0ZU9iamVjdE1pbk1heFByb3BlcnRpZXMoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpXHJcblx0XHR8fCB0aGlzLnZhbGlkYXRlT2JqZWN0UmVxdWlyZWRQcm9wZXJ0aWVzKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKVxyXG5cdFx0fHwgdGhpcy52YWxpZGF0ZU9iamVjdFByb3BlcnRpZXMoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpXHJcblx0XHR8fCB0aGlzLnZhbGlkYXRlT2JqZWN0RGVwZW5kZW5jaWVzKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKVxyXG5cdFx0fHwgbnVsbDtcclxufTtcclxuXHJcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnZhbGlkYXRlT2JqZWN0TWluTWF4UHJvcGVydGllcyA9IGZ1bmN0aW9uIHZhbGlkYXRlT2JqZWN0TWluTWF4UHJvcGVydGllcyhkYXRhLCBzY2hlbWEpIHtcclxuXHR2YXIga2V5cyA9IE9iamVjdC5rZXlzKGRhdGEpO1xyXG5cdHZhciBlcnJvcjtcclxuXHRpZiAoc2NoZW1hLm1pblByb3BlcnRpZXMgIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0aWYgKGtleXMubGVuZ3RoIDwgc2NoZW1hLm1pblByb3BlcnRpZXMpIHtcclxuXHRcdFx0ZXJyb3IgPSB0aGlzLmNyZWF0ZUVycm9yKEVycm9yQ29kZXMuT0JKRUNUX1BST1BFUlRJRVNfTUlOSU1VTSwge3Byb3BlcnR5Q291bnQ6IGtleXMubGVuZ3RoLCBtaW5pbXVtOiBzY2hlbWEubWluUHJvcGVydGllc30sICcnLCAnL21pblByb3BlcnRpZXMnLCBudWxsLCBkYXRhLCBzY2hlbWEpO1xyXG5cdFx0XHRpZiAodGhpcy5oYW5kbGVFcnJvcihlcnJvcikpIHtcclxuXHRcdFx0XHRyZXR1cm4gZXJyb3I7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblx0aWYgKHNjaGVtYS5tYXhQcm9wZXJ0aWVzICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdGlmIChrZXlzLmxlbmd0aCA+IHNjaGVtYS5tYXhQcm9wZXJ0aWVzKSB7XHJcblx0XHRcdGVycm9yID0gdGhpcy5jcmVhdGVFcnJvcihFcnJvckNvZGVzLk9CSkVDVF9QUk9QRVJUSUVTX01BWElNVU0sIHtwcm9wZXJ0eUNvdW50OiBrZXlzLmxlbmd0aCwgbWF4aW11bTogc2NoZW1hLm1heFByb3BlcnRpZXN9LCAnJywgJy9tYXhQcm9wZXJ0aWVzJywgbnVsbCwgZGF0YSwgc2NoZW1hKTtcclxuXHRcdFx0aWYgKHRoaXMuaGFuZGxlRXJyb3IoZXJyb3IpKSB7XHJcblx0XHRcdFx0cmV0dXJuIGVycm9yO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cdHJldHVybiBudWxsO1xyXG59O1xyXG5cclxuVmFsaWRhdG9yQ29udGV4dC5wcm90b3R5cGUudmFsaWRhdGVPYmplY3RSZXF1aXJlZFByb3BlcnRpZXMgPSBmdW5jdGlvbiB2YWxpZGF0ZU9iamVjdFJlcXVpcmVkUHJvcGVydGllcyhkYXRhLCBzY2hlbWEpIHtcclxuXHRpZiAoc2NoZW1hLnJlcXVpcmVkICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc2NoZW1hLnJlcXVpcmVkLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHZhciBrZXkgPSBzY2hlbWEucmVxdWlyZWRbaV07XHJcblx0XHRcdGlmIChkYXRhW2tleV0gPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRcdHZhciBlcnJvciA9IHRoaXMuY3JlYXRlRXJyb3IoRXJyb3JDb2Rlcy5PQkpFQ1RfUkVRVUlSRUQsIHtrZXk6IGtleX0sICcnLCAnL3JlcXVpcmVkLycgKyBpLCBudWxsLCBkYXRhLCBzY2hlbWEpO1xyXG5cdFx0XHRcdGlmICh0aGlzLmhhbmRsZUVycm9yKGVycm9yKSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIGVycm9yO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHRyZXR1cm4gbnVsbDtcclxufTtcclxuXHJcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnZhbGlkYXRlT2JqZWN0UHJvcGVydGllcyA9IGZ1bmN0aW9uIHZhbGlkYXRlT2JqZWN0UHJvcGVydGllcyhkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aCkge1xyXG5cdHZhciBlcnJvcjtcclxuXHRmb3IgKHZhciBrZXkgaW4gZGF0YSkge1xyXG5cdFx0dmFyIGtleVBvaW50ZXJQYXRoID0gZGF0YVBvaW50ZXJQYXRoICsgXCIvXCIgKyBrZXkucmVwbGFjZSgvfi9nLCAnfjAnKS5yZXBsYWNlKC9cXC8vZywgJ34xJyk7XHJcblx0XHR2YXIgZm91bmRNYXRjaCA9IGZhbHNlO1xyXG5cdFx0aWYgKHNjaGVtYS5wcm9wZXJ0aWVzICE9PSB1bmRlZmluZWQgJiYgc2NoZW1hLnByb3BlcnRpZXNba2V5XSAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdGZvdW5kTWF0Y2ggPSB0cnVlO1xyXG5cdFx0XHRpZiAoZXJyb3IgPSB0aGlzLnZhbGlkYXRlQWxsKGRhdGFba2V5XSwgc2NoZW1hLnByb3BlcnRpZXNba2V5XSwgW2tleV0sIFtcInByb3BlcnRpZXNcIiwga2V5XSwga2V5UG9pbnRlclBhdGgpKSB7XHJcblx0XHRcdFx0cmV0dXJuIGVycm9yO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRpZiAoc2NoZW1hLnBhdHRlcm5Qcm9wZXJ0aWVzICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0Zm9yICh2YXIgcGF0dGVybktleSBpbiBzY2hlbWEucGF0dGVyblByb3BlcnRpZXMpIHtcclxuXHRcdFx0XHR2YXIgcmVnZXhwID0gbmV3IFJlZ0V4cChwYXR0ZXJuS2V5KTtcclxuXHRcdFx0XHRpZiAocmVnZXhwLnRlc3Qoa2V5KSkge1xyXG5cdFx0XHRcdFx0Zm91bmRNYXRjaCA9IHRydWU7XHJcblx0XHRcdFx0XHRpZiAoZXJyb3IgPSB0aGlzLnZhbGlkYXRlQWxsKGRhdGFba2V5XSwgc2NoZW1hLnBhdHRlcm5Qcm9wZXJ0aWVzW3BhdHRlcm5LZXldLCBba2V5XSwgW1wicGF0dGVyblByb3BlcnRpZXNcIiwgcGF0dGVybktleV0sIGtleVBvaW50ZXJQYXRoKSkge1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gZXJyb3I7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRpZiAoIWZvdW5kTWF0Y2gpIHtcclxuXHRcdFx0aWYgKHNjaGVtYS5hZGRpdGlvbmFsUHJvcGVydGllcyAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdFx0aWYgKHRoaXMudHJhY2tVbmtub3duUHJvcGVydGllcykge1xyXG5cdFx0XHRcdFx0dGhpcy5rbm93blByb3BlcnR5UGF0aHNba2V5UG9pbnRlclBhdGhdID0gdHJ1ZTtcclxuXHRcdFx0XHRcdGRlbGV0ZSB0aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzW2tleVBvaW50ZXJQYXRoXTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aWYgKHR5cGVvZiBzY2hlbWEuYWRkaXRpb25hbFByb3BlcnRpZXMgPT09IFwiYm9vbGVhblwiKSB7XHJcblx0XHRcdFx0XHRpZiAoIXNjaGVtYS5hZGRpdGlvbmFsUHJvcGVydGllcykge1xyXG5cdFx0XHRcdFx0XHRlcnJvciA9IHRoaXMuY3JlYXRlRXJyb3IoRXJyb3JDb2Rlcy5PQkpFQ1RfQURESVRJT05BTF9QUk9QRVJUSUVTLCB7a2V5OiBrZXl9LCAnJywgJy9hZGRpdGlvbmFsUHJvcGVydGllcycsIG51bGwsIGRhdGEsIHNjaGVtYSkucHJlZml4V2l0aChrZXksIG51bGwpO1xyXG5cdFx0XHRcdFx0XHRpZiAodGhpcy5oYW5kbGVFcnJvcihlcnJvcikpIHtcclxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gZXJyb3I7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0aWYgKGVycm9yID0gdGhpcy52YWxpZGF0ZUFsbChkYXRhW2tleV0sIHNjaGVtYS5hZGRpdGlvbmFsUHJvcGVydGllcywgW2tleV0sIFtcImFkZGl0aW9uYWxQcm9wZXJ0aWVzXCJdLCBrZXlQb2ludGVyUGF0aCkpIHtcclxuXHRcdFx0XHRcdFx0cmV0dXJuIGVycm9yO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIGlmICh0aGlzLnRyYWNrVW5rbm93blByb3BlcnRpZXMgJiYgIXRoaXMua25vd25Qcm9wZXJ0eVBhdGhzW2tleVBvaW50ZXJQYXRoXSkge1xyXG5cdFx0XHRcdHRoaXMudW5rbm93blByb3BlcnR5UGF0aHNba2V5UG9pbnRlclBhdGhdID0gdHJ1ZTtcclxuXHRcdFx0fVxyXG5cdFx0fSBlbHNlIGlmICh0aGlzLnRyYWNrVW5rbm93blByb3BlcnRpZXMpIHtcclxuXHRcdFx0dGhpcy5rbm93blByb3BlcnR5UGF0aHNba2V5UG9pbnRlclBhdGhdID0gdHJ1ZTtcclxuXHRcdFx0ZGVsZXRlIHRoaXMudW5rbm93blByb3BlcnR5UGF0aHNba2V5UG9pbnRlclBhdGhdO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRyZXR1cm4gbnVsbDtcclxufTtcclxuXHJcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnZhbGlkYXRlT2JqZWN0RGVwZW5kZW5jaWVzID0gZnVuY3Rpb24gdmFsaWRhdGVPYmplY3REZXBlbmRlbmNpZXMoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpIHtcclxuXHR2YXIgZXJyb3I7XHJcblx0aWYgKHNjaGVtYS5kZXBlbmRlbmNpZXMgIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0Zm9yICh2YXIgZGVwS2V5IGluIHNjaGVtYS5kZXBlbmRlbmNpZXMpIHtcclxuXHRcdFx0aWYgKGRhdGFbZGVwS2V5XSAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdFx0dmFyIGRlcCA9IHNjaGVtYS5kZXBlbmRlbmNpZXNbZGVwS2V5XTtcclxuXHRcdFx0XHRpZiAodHlwZW9mIGRlcCA9PT0gXCJzdHJpbmdcIikge1xyXG5cdFx0XHRcdFx0aWYgKGRhdGFbZGVwXSA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdFx0XHRcdGVycm9yID0gdGhpcy5jcmVhdGVFcnJvcihFcnJvckNvZGVzLk9CSkVDVF9ERVBFTkRFTkNZX0tFWSwge2tleTogZGVwS2V5LCBtaXNzaW5nOiBkZXB9LCAnJywgJycsIG51bGwsIGRhdGEsIHNjaGVtYSkucHJlZml4V2l0aChudWxsLCBkZXBLZXkpLnByZWZpeFdpdGgobnVsbCwgXCJkZXBlbmRlbmNpZXNcIik7XHJcblx0XHRcdFx0XHRcdGlmICh0aGlzLmhhbmRsZUVycm9yKGVycm9yKSkge1xyXG5cdFx0XHRcdFx0XHRcdHJldHVybiBlcnJvcjtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShkZXApKSB7XHJcblx0XHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGRlcC5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdFx0XHR2YXIgcmVxdWlyZWRLZXkgPSBkZXBbaV07XHJcblx0XHRcdFx0XHRcdGlmIChkYXRhW3JlcXVpcmVkS2V5XSA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdFx0XHRcdFx0ZXJyb3IgPSB0aGlzLmNyZWF0ZUVycm9yKEVycm9yQ29kZXMuT0JKRUNUX0RFUEVOREVOQ1lfS0VZLCB7a2V5OiBkZXBLZXksIG1pc3Npbmc6IHJlcXVpcmVkS2V5fSwgJycsICcvJyArIGksIG51bGwsIGRhdGEsIHNjaGVtYSkucHJlZml4V2l0aChudWxsLCBkZXBLZXkpLnByZWZpeFdpdGgobnVsbCwgXCJkZXBlbmRlbmNpZXNcIik7XHJcblx0XHRcdFx0XHRcdFx0aWYgKHRoaXMuaGFuZGxlRXJyb3IoZXJyb3IpKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gZXJyb3I7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdGlmIChlcnJvciA9IHRoaXMudmFsaWRhdGVBbGwoZGF0YSwgZGVwLCBbXSwgW1wiZGVwZW5kZW5jaWVzXCIsIGRlcEtleV0sIGRhdGFQb2ludGVyUGF0aCkpIHtcclxuXHRcdFx0XHRcdFx0cmV0dXJuIGVycm9yO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHRyZXR1cm4gbnVsbDtcclxufTtcclxuXHJcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnZhbGlkYXRlQ29tYmluYXRpb25zID0gZnVuY3Rpb24gdmFsaWRhdGVDb21iaW5hdGlvbnMoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpIHtcclxuXHRyZXR1cm4gdGhpcy52YWxpZGF0ZUFsbE9mKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKVxyXG5cdFx0fHwgdGhpcy52YWxpZGF0ZUFueU9mKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKVxyXG5cdFx0fHwgdGhpcy52YWxpZGF0ZU9uZU9mKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKVxyXG5cdFx0fHwgdGhpcy52YWxpZGF0ZU5vdChkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aClcclxuXHRcdHx8IG51bGw7XHJcbn07XHJcblxyXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS52YWxpZGF0ZUFsbE9mID0gZnVuY3Rpb24gdmFsaWRhdGVBbGxPZihkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aCkge1xyXG5cdGlmIChzY2hlbWEuYWxsT2YgPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fVxyXG5cdHZhciBlcnJvcjtcclxuXHRmb3IgKHZhciBpID0gMDsgaSA8IHNjaGVtYS5hbGxPZi5sZW5ndGg7IGkrKykge1xyXG5cdFx0dmFyIHN1YlNjaGVtYSA9IHNjaGVtYS5hbGxPZltpXTtcclxuXHRcdGlmIChlcnJvciA9IHRoaXMudmFsaWRhdGVBbGwoZGF0YSwgc3ViU2NoZW1hLCBbXSwgW1wiYWxsT2ZcIiwgaV0sIGRhdGFQb2ludGVyUGF0aCkpIHtcclxuXHRcdFx0cmV0dXJuIGVycm9yO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRyZXR1cm4gbnVsbDtcclxufTtcclxuXHJcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnZhbGlkYXRlQW55T2YgPSBmdW5jdGlvbiB2YWxpZGF0ZUFueU9mKGRhdGEsIHNjaGVtYSwgZGF0YVBvaW50ZXJQYXRoKSB7XHJcblx0aWYgKHNjaGVtYS5hbnlPZiA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9XHJcblx0dmFyIGVycm9ycyA9IFtdO1xyXG5cdHZhciBzdGFydEVycm9yQ291bnQgPSB0aGlzLmVycm9ycy5sZW5ndGg7XHJcblx0dmFyIG9sZFVua25vd25Qcm9wZXJ0eVBhdGhzLCBvbGRLbm93blByb3BlcnR5UGF0aHM7XHJcblx0aWYgKHRoaXMudHJhY2tVbmtub3duUHJvcGVydGllcykge1xyXG5cdFx0b2xkVW5rbm93blByb3BlcnR5UGF0aHMgPSB0aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzO1xyXG5cdFx0b2xkS25vd25Qcm9wZXJ0eVBhdGhzID0gdGhpcy5rbm93blByb3BlcnR5UGF0aHM7XHJcblx0fVxyXG5cdHZhciBlcnJvckF0RW5kID0gdHJ1ZTtcclxuXHRmb3IgKHZhciBpID0gMDsgaSA8IHNjaGVtYS5hbnlPZi5sZW5ndGg7IGkrKykge1xyXG5cdFx0aWYgKHRoaXMudHJhY2tVbmtub3duUHJvcGVydGllcykge1xyXG5cdFx0XHR0aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzID0ge307XHJcblx0XHRcdHRoaXMua25vd25Qcm9wZXJ0eVBhdGhzID0ge307XHJcblx0XHR9XHJcblx0XHR2YXIgc3ViU2NoZW1hID0gc2NoZW1hLmFueU9mW2ldO1xyXG5cclxuXHRcdHZhciBlcnJvckNvdW50ID0gdGhpcy5lcnJvcnMubGVuZ3RoO1xyXG5cdFx0dmFyIGVycm9yID0gdGhpcy52YWxpZGF0ZUFsbChkYXRhLCBzdWJTY2hlbWEsIFtdLCBbXCJhbnlPZlwiLCBpXSwgZGF0YVBvaW50ZXJQYXRoKTtcclxuXHJcblx0XHRpZiAoZXJyb3IgPT09IG51bGwgJiYgZXJyb3JDb3VudCA9PT0gdGhpcy5lcnJvcnMubGVuZ3RoKSB7XHJcblx0XHRcdHRoaXMuZXJyb3JzID0gdGhpcy5lcnJvcnMuc2xpY2UoMCwgc3RhcnRFcnJvckNvdW50KTtcclxuXHJcblx0XHRcdGlmICh0aGlzLnRyYWNrVW5rbm93blByb3BlcnRpZXMpIHtcclxuXHRcdFx0XHRmb3IgKHZhciBrbm93bktleSBpbiB0aGlzLmtub3duUHJvcGVydHlQYXRocykge1xyXG5cdFx0XHRcdFx0b2xkS25vd25Qcm9wZXJ0eVBhdGhzW2tub3duS2V5XSA9IHRydWU7XHJcblx0XHRcdFx0XHRkZWxldGUgb2xkVW5rbm93blByb3BlcnR5UGF0aHNba25vd25LZXldO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRmb3IgKHZhciB1bmtub3duS2V5IGluIHRoaXMudW5rbm93blByb3BlcnR5UGF0aHMpIHtcclxuXHRcdFx0XHRcdGlmICghb2xkS25vd25Qcm9wZXJ0eVBhdGhzW3Vua25vd25LZXldKSB7XHJcblx0XHRcdFx0XHRcdG9sZFVua25vd25Qcm9wZXJ0eVBhdGhzW3Vua25vd25LZXldID0gdHJ1ZTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0Ly8gV2UgbmVlZCB0byBjb250aW51ZSBsb29waW5nIHNvIHdlIGNhdGNoIGFsbCB0aGUgcHJvcGVydHkgZGVmaW5pdGlvbnMsIGJ1dCB3ZSBkb24ndCB3YW50IHRvIHJldHVybiBhbiBlcnJvclxyXG5cdFx0XHRcdGVycm9yQXRFbmQgPSBmYWxzZTtcclxuXHRcdFx0XHRjb250aW51ZTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblx0XHRpZiAoZXJyb3IpIHtcclxuXHRcdFx0ZXJyb3JzLnB1c2goZXJyb3IucHJlZml4V2l0aChudWxsLCBcIlwiICsgaSkucHJlZml4V2l0aChudWxsLCBcImFueU9mXCIpKTtcclxuXHRcdH1cclxuXHR9XHJcblx0aWYgKHRoaXMudHJhY2tVbmtub3duUHJvcGVydGllcykge1xyXG5cdFx0dGhpcy51bmtub3duUHJvcGVydHlQYXRocyA9IG9sZFVua25vd25Qcm9wZXJ0eVBhdGhzO1xyXG5cdFx0dGhpcy5rbm93blByb3BlcnR5UGF0aHMgPSBvbGRLbm93blByb3BlcnR5UGF0aHM7XHJcblx0fVxyXG5cdGlmIChlcnJvckF0RW5kKSB7XHJcblx0XHRlcnJvcnMgPSBlcnJvcnMuY29uY2F0KHRoaXMuZXJyb3JzLnNsaWNlKHN0YXJ0RXJyb3JDb3VudCkpO1xyXG5cdFx0dGhpcy5lcnJvcnMgPSB0aGlzLmVycm9ycy5zbGljZSgwLCBzdGFydEVycm9yQ291bnQpO1xyXG5cdFx0cmV0dXJuIHRoaXMuY3JlYXRlRXJyb3IoRXJyb3JDb2Rlcy5BTllfT0ZfTUlTU0lORywge30sIFwiXCIsIFwiL2FueU9mXCIsIGVycm9ycywgZGF0YSwgc2NoZW1hKTtcclxuXHR9XHJcbn07XHJcblxyXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS52YWxpZGF0ZU9uZU9mID0gZnVuY3Rpb24gdmFsaWRhdGVPbmVPZihkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aCkge1xyXG5cdGlmIChzY2hlbWEub25lT2YgPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fVxyXG5cdHZhciB2YWxpZEluZGV4ID0gbnVsbDtcclxuXHR2YXIgZXJyb3JzID0gW107XHJcblx0dmFyIHN0YXJ0RXJyb3JDb3VudCA9IHRoaXMuZXJyb3JzLmxlbmd0aDtcclxuXHR2YXIgb2xkVW5rbm93blByb3BlcnR5UGF0aHMsIG9sZEtub3duUHJvcGVydHlQYXRocztcclxuXHRpZiAodGhpcy50cmFja1Vua25vd25Qcm9wZXJ0aWVzKSB7XHJcblx0XHRvbGRVbmtub3duUHJvcGVydHlQYXRocyA9IHRoaXMudW5rbm93blByb3BlcnR5UGF0aHM7XHJcblx0XHRvbGRLbm93blByb3BlcnR5UGF0aHMgPSB0aGlzLmtub3duUHJvcGVydHlQYXRocztcclxuXHR9XHJcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzY2hlbWEub25lT2YubGVuZ3RoOyBpKyspIHtcclxuXHRcdGlmICh0aGlzLnRyYWNrVW5rbm93blByb3BlcnRpZXMpIHtcclxuXHRcdFx0dGhpcy51bmtub3duUHJvcGVydHlQYXRocyA9IHt9O1xyXG5cdFx0XHR0aGlzLmtub3duUHJvcGVydHlQYXRocyA9IHt9O1xyXG5cdFx0fVxyXG5cdFx0dmFyIHN1YlNjaGVtYSA9IHNjaGVtYS5vbmVPZltpXTtcclxuXHJcblx0XHR2YXIgZXJyb3JDb3VudCA9IHRoaXMuZXJyb3JzLmxlbmd0aDtcclxuXHRcdHZhciBlcnJvciA9IHRoaXMudmFsaWRhdGVBbGwoZGF0YSwgc3ViU2NoZW1hLCBbXSwgW1wib25lT2ZcIiwgaV0sIGRhdGFQb2ludGVyUGF0aCk7XHJcblxyXG5cdFx0aWYgKGVycm9yID09PSBudWxsICYmIGVycm9yQ291bnQgPT09IHRoaXMuZXJyb3JzLmxlbmd0aCkge1xyXG5cdFx0XHRpZiAodmFsaWRJbmRleCA9PT0gbnVsbCkge1xyXG5cdFx0XHRcdHZhbGlkSW5kZXggPSBpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHRoaXMuZXJyb3JzID0gdGhpcy5lcnJvcnMuc2xpY2UoMCwgc3RhcnRFcnJvckNvdW50KTtcclxuXHRcdFx0XHRyZXR1cm4gdGhpcy5jcmVhdGVFcnJvcihFcnJvckNvZGVzLk9ORV9PRl9NVUxUSVBMRSwge2luZGV4MTogdmFsaWRJbmRleCwgaW5kZXgyOiBpfSwgXCJcIiwgXCIvb25lT2ZcIiwgbnVsbCwgZGF0YSwgc2NoZW1hKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAodGhpcy50cmFja1Vua25vd25Qcm9wZXJ0aWVzKSB7XHJcblx0XHRcdFx0Zm9yICh2YXIga25vd25LZXkgaW4gdGhpcy5rbm93blByb3BlcnR5UGF0aHMpIHtcclxuXHRcdFx0XHRcdG9sZEtub3duUHJvcGVydHlQYXRoc1trbm93bktleV0gPSB0cnVlO1xyXG5cdFx0XHRcdFx0ZGVsZXRlIG9sZFVua25vd25Qcm9wZXJ0eVBhdGhzW2tub3duS2V5XTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0Zm9yICh2YXIgdW5rbm93bktleSBpbiB0aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzKSB7XHJcblx0XHRcdFx0XHRpZiAoIW9sZEtub3duUHJvcGVydHlQYXRoc1t1bmtub3duS2V5XSkge1xyXG5cdFx0XHRcdFx0XHRvbGRVbmtub3duUHJvcGVydHlQYXRoc1t1bmtub3duS2V5XSA9IHRydWU7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9IGVsc2UgaWYgKGVycm9yKSB7XHJcblx0XHRcdGVycm9ycy5wdXNoKGVycm9yKTtcclxuXHRcdH1cclxuXHR9XHJcblx0aWYgKHRoaXMudHJhY2tVbmtub3duUHJvcGVydGllcykge1xyXG5cdFx0dGhpcy51bmtub3duUHJvcGVydHlQYXRocyA9IG9sZFVua25vd25Qcm9wZXJ0eVBhdGhzO1xyXG5cdFx0dGhpcy5rbm93blByb3BlcnR5UGF0aHMgPSBvbGRLbm93blByb3BlcnR5UGF0aHM7XHJcblx0fVxyXG5cdGlmICh2YWxpZEluZGV4ID09PSBudWxsKSB7XHJcblx0XHRlcnJvcnMgPSBlcnJvcnMuY29uY2F0KHRoaXMuZXJyb3JzLnNsaWNlKHN0YXJ0RXJyb3JDb3VudCkpO1xyXG5cdFx0dGhpcy5lcnJvcnMgPSB0aGlzLmVycm9ycy5zbGljZSgwLCBzdGFydEVycm9yQ291bnQpO1xyXG5cdFx0cmV0dXJuIHRoaXMuY3JlYXRlRXJyb3IoRXJyb3JDb2Rlcy5PTkVfT0ZfTUlTU0lORywge30sIFwiXCIsIFwiL29uZU9mXCIsIGVycm9ycywgZGF0YSwgc2NoZW1hKTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0dGhpcy5lcnJvcnMgPSB0aGlzLmVycm9ycy5zbGljZSgwLCBzdGFydEVycm9yQ291bnQpO1xyXG5cdH1cclxuXHRyZXR1cm4gbnVsbDtcclxufTtcclxuXHJcblZhbGlkYXRvckNvbnRleHQucHJvdG90eXBlLnZhbGlkYXRlTm90ID0gZnVuY3Rpb24gdmFsaWRhdGVOb3QoZGF0YSwgc2NoZW1hLCBkYXRhUG9pbnRlclBhdGgpIHtcclxuXHRpZiAoc2NoZW1hLm5vdCA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9XHJcblx0dmFyIG9sZEVycm9yQ291bnQgPSB0aGlzLmVycm9ycy5sZW5ndGg7XHJcblx0dmFyIG9sZFVua25vd25Qcm9wZXJ0eVBhdGhzLCBvbGRLbm93blByb3BlcnR5UGF0aHM7XHJcblx0aWYgKHRoaXMudHJhY2tVbmtub3duUHJvcGVydGllcykge1xyXG5cdFx0b2xkVW5rbm93blByb3BlcnR5UGF0aHMgPSB0aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzO1xyXG5cdFx0b2xkS25vd25Qcm9wZXJ0eVBhdGhzID0gdGhpcy5rbm93blByb3BlcnR5UGF0aHM7XHJcblx0XHR0aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzID0ge307XHJcblx0XHR0aGlzLmtub3duUHJvcGVydHlQYXRocyA9IHt9O1xyXG5cdH1cclxuXHR2YXIgZXJyb3IgPSB0aGlzLnZhbGlkYXRlQWxsKGRhdGEsIHNjaGVtYS5ub3QsIG51bGwsIG51bGwsIGRhdGFQb2ludGVyUGF0aCk7XHJcblx0dmFyIG5vdEVycm9ycyA9IHRoaXMuZXJyb3JzLnNsaWNlKG9sZEVycm9yQ291bnQpO1xyXG5cdHRoaXMuZXJyb3JzID0gdGhpcy5lcnJvcnMuc2xpY2UoMCwgb2xkRXJyb3JDb3VudCk7XHJcblx0aWYgKHRoaXMudHJhY2tVbmtub3duUHJvcGVydGllcykge1xyXG5cdFx0dGhpcy51bmtub3duUHJvcGVydHlQYXRocyA9IG9sZFVua25vd25Qcm9wZXJ0eVBhdGhzO1xyXG5cdFx0dGhpcy5rbm93blByb3BlcnR5UGF0aHMgPSBvbGRLbm93blByb3BlcnR5UGF0aHM7XHJcblx0fVxyXG5cdGlmIChlcnJvciA9PT0gbnVsbCAmJiBub3RFcnJvcnMubGVuZ3RoID09PSAwKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5jcmVhdGVFcnJvcihFcnJvckNvZGVzLk5PVF9QQVNTRUQsIHt9LCBcIlwiLCBcIi9ub3RcIiwgbnVsbCwgZGF0YSwgc2NoZW1hKTtcclxuXHR9XHJcblx0cmV0dXJuIG51bGw7XHJcbn07XHJcblxyXG5WYWxpZGF0b3JDb250ZXh0LnByb3RvdHlwZS52YWxpZGF0ZUh5cGVybWVkaWEgPSBmdW5jdGlvbiB2YWxpZGF0ZUNvbWJpbmF0aW9ucyhkYXRhLCBzY2hlbWEsIGRhdGFQb2ludGVyUGF0aCkge1xyXG5cdGlmICghc2NoZW1hLmxpbmtzKSB7XHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9XHJcblx0dmFyIGVycm9yO1xyXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgc2NoZW1hLmxpbmtzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHR2YXIgbGRvID0gc2NoZW1hLmxpbmtzW2ldO1xyXG5cdFx0aWYgKGxkby5yZWwgPT09IFwiZGVzY3JpYmVkYnlcIikge1xyXG5cdFx0XHR2YXIgdGVtcGxhdGUgPSBuZXcgVXJpVGVtcGxhdGUobGRvLmhyZWYpO1xyXG5cdFx0XHR2YXIgYWxsUHJlc2VudCA9IHRydWU7XHJcblx0XHRcdGZvciAodmFyIGogPSAwOyBqIDwgdGVtcGxhdGUudmFyTmFtZXMubGVuZ3RoOyBqKyspIHtcclxuXHRcdFx0XHRpZiAoISh0ZW1wbGF0ZS52YXJOYW1lc1tqXSBpbiBkYXRhKSkge1xyXG5cdFx0XHRcdFx0YWxsUHJlc2VudCA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdGlmIChhbGxQcmVzZW50KSB7XHJcblx0XHRcdFx0dmFyIHNjaGVtYVVybCA9IHRlbXBsYXRlLmZpbGxGcm9tT2JqZWN0KGRhdGEpO1xyXG5cdFx0XHRcdHZhciBzdWJTY2hlbWEgPSB7XCIkcmVmXCI6IHNjaGVtYVVybH07XHJcblx0XHRcdFx0aWYgKGVycm9yID0gdGhpcy52YWxpZGF0ZUFsbChkYXRhLCBzdWJTY2hlbWEsIFtdLCBbXCJsaW5rc1wiLCBpXSwgZGF0YVBvaW50ZXJQYXRoKSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIGVycm9yO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufTtcclxuXHJcbi8vIHBhcnNlVVJJKCkgYW5kIHJlc29sdmVVcmwoKSBhcmUgZnJvbSBodHRwczovL2dpc3QuZ2l0aHViLmNvbS8xMDg4ODUwXHJcbi8vICAgLSAgcmVsZWFzZWQgYXMgcHVibGljIGRvbWFpbiBieSBhdXRob3IgKFwiWWFmZmxlXCIpIC0gc2VlIGNvbW1lbnRzIG9uIGdpc3RcclxuXHJcbmZ1bmN0aW9uIHBhcnNlVVJJKHVybCkge1xyXG5cdHZhciBtID0gU3RyaW5nKHVybCkucmVwbGFjZSgvXlxccyt8XFxzKyQvZywgJycpLm1hdGNoKC9eKFteOlxcLz8jXSs6KT8oXFwvXFwvKD86W146QF0qKD86OlteOkBdKik/QCk/KChbXjpcXC8/I10qKSg/OjooXFxkKikpPykpPyhbXj8jXSopKFxcP1teI10qKT8oI1tcXHNcXFNdKik/Lyk7XHJcblx0Ly8gYXV0aG9yaXR5ID0gJy8vJyArIHVzZXIgKyAnOicgKyBwYXNzICdAJyArIGhvc3RuYW1lICsgJzonIHBvcnRcclxuXHRyZXR1cm4gKG0gPyB7XHJcblx0XHRocmVmICAgICA6IG1bMF0gfHwgJycsXHJcblx0XHRwcm90b2NvbCA6IG1bMV0gfHwgJycsXHJcblx0XHRhdXRob3JpdHk6IG1bMl0gfHwgJycsXHJcblx0XHRob3N0ICAgICA6IG1bM10gfHwgJycsXHJcblx0XHRob3N0bmFtZSA6IG1bNF0gfHwgJycsXHJcblx0XHRwb3J0ICAgICA6IG1bNV0gfHwgJycsXHJcblx0XHRwYXRobmFtZSA6IG1bNl0gfHwgJycsXHJcblx0XHRzZWFyY2ggICA6IG1bN10gfHwgJycsXHJcblx0XHRoYXNoICAgICA6IG1bOF0gfHwgJydcclxuXHR9IDogbnVsbCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlc29sdmVVcmwoYmFzZSwgaHJlZikgey8vIFJGQyAzOTg2XHJcblxyXG5cdGZ1bmN0aW9uIHJlbW92ZURvdFNlZ21lbnRzKGlucHV0KSB7XHJcblx0XHR2YXIgb3V0cHV0ID0gW107XHJcblx0XHRpbnB1dC5yZXBsYWNlKC9eKFxcLlxcLj8oXFwvfCQpKSsvLCAnJylcclxuXHRcdFx0LnJlcGxhY2UoL1xcLyhcXC4oXFwvfCQpKSsvZywgJy8nKVxyXG5cdFx0XHQucmVwbGFjZSgvXFwvXFwuXFwuJC8sICcvLi4vJylcclxuXHRcdFx0LnJlcGxhY2UoL1xcLz9bXlxcL10qL2csIGZ1bmN0aW9uIChwKSB7XHJcblx0XHRcdFx0aWYgKHAgPT09ICcvLi4nKSB7XHJcblx0XHRcdFx0XHRvdXRwdXQucG9wKCk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdG91dHB1dC5wdXNoKHApO1xyXG5cdFx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdFx0cmV0dXJuIG91dHB1dC5qb2luKCcnKS5yZXBsYWNlKC9eXFwvLywgaW5wdXQuY2hhckF0KDApID09PSAnLycgPyAnLycgOiAnJyk7XHJcblx0fVxyXG5cclxuXHRocmVmID0gcGFyc2VVUkkoaHJlZiB8fCAnJyk7XHJcblx0YmFzZSA9IHBhcnNlVVJJKGJhc2UgfHwgJycpO1xyXG5cclxuXHRyZXR1cm4gIWhyZWYgfHwgIWJhc2UgPyBudWxsIDogKGhyZWYucHJvdG9jb2wgfHwgYmFzZS5wcm90b2NvbCkgK1xyXG5cdFx0KGhyZWYucHJvdG9jb2wgfHwgaHJlZi5hdXRob3JpdHkgPyBocmVmLmF1dGhvcml0eSA6IGJhc2UuYXV0aG9yaXR5KSArXHJcblx0XHRyZW1vdmVEb3RTZWdtZW50cyhocmVmLnByb3RvY29sIHx8IGhyZWYuYXV0aG9yaXR5IHx8IGhyZWYucGF0aG5hbWUuY2hhckF0KDApID09PSAnLycgPyBocmVmLnBhdGhuYW1lIDogKGhyZWYucGF0aG5hbWUgPyAoKGJhc2UuYXV0aG9yaXR5ICYmICFiYXNlLnBhdGhuYW1lID8gJy8nIDogJycpICsgYmFzZS5wYXRobmFtZS5zbGljZSgwLCBiYXNlLnBhdGhuYW1lLmxhc3RJbmRleE9mKCcvJykgKyAxKSArIGhyZWYucGF0aG5hbWUpIDogYmFzZS5wYXRobmFtZSkpICtcclxuXHRcdChocmVmLnByb3RvY29sIHx8IGhyZWYuYXV0aG9yaXR5IHx8IGhyZWYucGF0aG5hbWUgPyBocmVmLnNlYXJjaCA6IChocmVmLnNlYXJjaCB8fCBiYXNlLnNlYXJjaCkpICtcclxuXHRcdGhyZWYuaGFzaDtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0RG9jdW1lbnRVcmkodXJpKSB7XHJcblx0cmV0dXJuIHVyaS5zcGxpdCgnIycpWzBdO1xyXG59XHJcbmZ1bmN0aW9uIG5vcm1TY2hlbWEoc2NoZW1hLCBiYXNlVXJpKSB7XHJcblx0aWYgKHNjaGVtYSAmJiB0eXBlb2Ygc2NoZW1hID09PSBcIm9iamVjdFwiKSB7XHJcblx0XHRpZiAoYmFzZVVyaSA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdGJhc2VVcmkgPSBzY2hlbWEuaWQ7XHJcblx0XHR9IGVsc2UgaWYgKHR5cGVvZiBzY2hlbWEuaWQgPT09IFwic3RyaW5nXCIpIHtcclxuXHRcdFx0YmFzZVVyaSA9IHJlc29sdmVVcmwoYmFzZVVyaSwgc2NoZW1hLmlkKTtcclxuXHRcdFx0c2NoZW1hLmlkID0gYmFzZVVyaTtcclxuXHRcdH1cclxuXHRcdGlmIChBcnJheS5pc0FycmF5KHNjaGVtYSkpIHtcclxuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzY2hlbWEubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRub3JtU2NoZW1hKHNjaGVtYVtpXSwgYmFzZVVyaSk7XHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGlmICh0eXBlb2Ygc2NoZW1hWyckcmVmJ10gPT09IFwic3RyaW5nXCIpIHtcclxuXHRcdFx0XHRzY2hlbWFbJyRyZWYnXSA9IHJlc29sdmVVcmwoYmFzZVVyaSwgc2NoZW1hWyckcmVmJ10pO1xyXG5cdFx0XHR9XHJcblx0XHRcdGZvciAodmFyIGtleSBpbiBzY2hlbWEpIHtcclxuXHRcdFx0XHRpZiAoa2V5ICE9PSBcImVudW1cIikge1xyXG5cdFx0XHRcdFx0bm9ybVNjaGVtYShzY2hlbWFba2V5XSwgYmFzZVVyaSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59XHJcblxyXG5mdW5jdGlvbiBkZWZhdWx0RXJyb3JSZXBvcnRlcihsYW5ndWFnZSkge1xyXG5cdGxhbmd1YWdlID0gbGFuZ3VhZ2UgfHwgJ2VuJztcclxuXHJcblx0dmFyIGVycm9yTWVzc2FnZXMgPSBsYW5ndWFnZXNbbGFuZ3VhZ2VdO1xyXG5cclxuXHRyZXR1cm4gZnVuY3Rpb24gKGVycm9yKSB7XHJcblx0XHR2YXIgbWVzc2FnZVRlbXBsYXRlID0gZXJyb3JNZXNzYWdlc1tlcnJvci5jb2RlXSB8fCBFcnJvck1lc3NhZ2VzRGVmYXVsdFtlcnJvci5jb2RlXTtcclxuXHRcdGlmICh0eXBlb2YgbWVzc2FnZVRlbXBsYXRlICE9PSAnc3RyaW5nJykge1xyXG5cdFx0XHRyZXR1cm4gXCJVbmtub3duIGVycm9yIGNvZGUgXCIgKyBlcnJvci5jb2RlICsgXCI6IFwiICsgSlNPTi5zdHJpbmdpZnkoZXJyb3IubWVzc2FnZVBhcmFtcyk7XHJcblx0XHR9XHJcblx0XHR2YXIgbWVzc2FnZVBhcmFtcyA9IGVycm9yLnBhcmFtcztcclxuXHRcdC8vIEFkYXB0ZWQgZnJvbSBDcm9ja2ZvcmQncyBzdXBwbGFudCgpXHJcblx0XHRyZXR1cm4gbWVzc2FnZVRlbXBsYXRlLnJlcGxhY2UoL1xceyhbXnt9XSopXFx9L2csIGZ1bmN0aW9uICh3aG9sZSwgdmFyTmFtZSkge1xyXG5cdFx0XHR2YXIgc3ViVmFsdWUgPSBtZXNzYWdlUGFyYW1zW3Zhck5hbWVdO1xyXG5cdFx0XHRyZXR1cm4gdHlwZW9mIHN1YlZhbHVlID09PSAnc3RyaW5nJyB8fCB0eXBlb2Ygc3ViVmFsdWUgPT09ICdudW1iZXInID8gc3ViVmFsdWUgOiB3aG9sZTtcclxuXHRcdH0pO1xyXG5cdH07XHJcbn1cclxuXHJcbnZhciBFcnJvckNvZGVzID0ge1xyXG5cdElOVkFMSURfVFlQRTogMCxcclxuXHRFTlVNX01JU01BVENIOiAxLFxyXG5cdEFOWV9PRl9NSVNTSU5HOiAxMCxcclxuXHRPTkVfT0ZfTUlTU0lORzogMTEsXHJcblx0T05FX09GX01VTFRJUExFOiAxMixcclxuXHROT1RfUEFTU0VEOiAxMyxcclxuXHQvLyBOdW1lcmljIGVycm9yc1xyXG5cdE5VTUJFUl9NVUxUSVBMRV9PRjogMTAwLFxyXG5cdE5VTUJFUl9NSU5JTVVNOiAxMDEsXHJcblx0TlVNQkVSX01JTklNVU1fRVhDTFVTSVZFOiAxMDIsXHJcblx0TlVNQkVSX01BWElNVU06IDEwMyxcclxuXHROVU1CRVJfTUFYSU1VTV9FWENMVVNJVkU6IDEwNCxcclxuXHROVU1CRVJfTk9UX0FfTlVNQkVSOiAxMDUsXHJcblx0Ly8gU3RyaW5nIGVycm9yc1xyXG5cdFNUUklOR19MRU5HVEhfU0hPUlQ6IDIwMCxcclxuXHRTVFJJTkdfTEVOR1RIX0xPTkc6IDIwMSxcclxuXHRTVFJJTkdfUEFUVEVSTjogMjAyLFxyXG5cdC8vIE9iamVjdCBlcnJvcnNcclxuXHRPQkpFQ1RfUFJPUEVSVElFU19NSU5JTVVNOiAzMDAsXHJcblx0T0JKRUNUX1BST1BFUlRJRVNfTUFYSU1VTTogMzAxLFxyXG5cdE9CSkVDVF9SRVFVSVJFRDogMzAyLFxyXG5cdE9CSkVDVF9BRERJVElPTkFMX1BST1BFUlRJRVM6IDMwMyxcclxuXHRPQkpFQ1RfREVQRU5ERU5DWV9LRVk6IDMwNCxcclxuXHQvLyBBcnJheSBlcnJvcnNcclxuXHRBUlJBWV9MRU5HVEhfU0hPUlQ6IDQwMCxcclxuXHRBUlJBWV9MRU5HVEhfTE9ORzogNDAxLFxyXG5cdEFSUkFZX1VOSVFVRTogNDAyLFxyXG5cdEFSUkFZX0FERElUSU9OQUxfSVRFTVM6IDQwMyxcclxuXHQvLyBDdXN0b20vdXNlci1kZWZpbmVkIGVycm9yc1xyXG5cdEZPUk1BVF9DVVNUT006IDUwMCxcclxuXHRLRVlXT1JEX0NVU1RPTTogNTAxLFxyXG5cdC8vIFNjaGVtYSBzdHJ1Y3R1cmVcclxuXHRDSVJDVUxBUl9SRUZFUkVOQ0U6IDYwMCxcclxuXHQvLyBOb24tc3RhbmRhcmQgdmFsaWRhdGlvbiBvcHRpb25zXHJcblx0VU5LTk9XTl9QUk9QRVJUWTogMTAwMFxyXG59O1xyXG52YXIgRXJyb3JDb2RlTG9va3VwID0ge307XHJcbmZvciAodmFyIGtleSBpbiBFcnJvckNvZGVzKSB7XHJcblx0RXJyb3JDb2RlTG9va3VwW0Vycm9yQ29kZXNba2V5XV0gPSBrZXk7XHJcbn1cclxudmFyIEVycm9yTWVzc2FnZXNEZWZhdWx0ID0ge1xyXG5cdElOVkFMSURfVFlQRTogXCJJbnZhbGlkIHR5cGU6IHt0eXBlfSAoZXhwZWN0ZWQge2V4cGVjdGVkfSlcIixcclxuXHRFTlVNX01JU01BVENIOiBcIk5vIGVudW0gbWF0Y2ggZm9yOiB7dmFsdWV9XCIsXHJcblx0QU5ZX09GX01JU1NJTkc6IFwiRGF0YSBkb2VzIG5vdCBtYXRjaCBhbnkgc2NoZW1hcyBmcm9tIFxcXCJhbnlPZlxcXCJcIixcclxuXHRPTkVfT0ZfTUlTU0lORzogXCJEYXRhIGRvZXMgbm90IG1hdGNoIGFueSBzY2hlbWFzIGZyb20gXFxcIm9uZU9mXFxcIlwiLFxyXG5cdE9ORV9PRl9NVUxUSVBMRTogXCJEYXRhIGlzIHZhbGlkIGFnYWluc3QgbW9yZSB0aGFuIG9uZSBzY2hlbWEgZnJvbSBcXFwib25lT2ZcXFwiOiBpbmRpY2VzIHtpbmRleDF9IGFuZCB7aW5kZXgyfVwiLFxyXG5cdE5PVF9QQVNTRUQ6IFwiRGF0YSBtYXRjaGVzIHNjaGVtYSBmcm9tIFxcXCJub3RcXFwiXCIsXHJcblx0Ly8gTnVtZXJpYyBlcnJvcnNcclxuXHROVU1CRVJfTVVMVElQTEVfT0Y6IFwiVmFsdWUge3ZhbHVlfSBpcyBub3QgYSBtdWx0aXBsZSBvZiB7bXVsdGlwbGVPZn1cIixcclxuXHROVU1CRVJfTUlOSU1VTTogXCJWYWx1ZSB7dmFsdWV9IGlzIGxlc3MgdGhhbiBtaW5pbXVtIHttaW5pbXVtfVwiLFxyXG5cdE5VTUJFUl9NSU5JTVVNX0VYQ0xVU0lWRTogXCJWYWx1ZSB7dmFsdWV9IGlzIGVxdWFsIHRvIGV4Y2x1c2l2ZSBtaW5pbXVtIHttaW5pbXVtfVwiLFxyXG5cdE5VTUJFUl9NQVhJTVVNOiBcIlZhbHVlIHt2YWx1ZX0gaXMgZ3JlYXRlciB0aGFuIG1heGltdW0ge21heGltdW19XCIsXHJcblx0TlVNQkVSX01BWElNVU1fRVhDTFVTSVZFOiBcIlZhbHVlIHt2YWx1ZX0gaXMgZXF1YWwgdG8gZXhjbHVzaXZlIG1heGltdW0ge21heGltdW19XCIsXHJcblx0TlVNQkVSX05PVF9BX05VTUJFUjogXCJWYWx1ZSB7dmFsdWV9IGlzIG5vdCBhIHZhbGlkIG51bWJlclwiLFxyXG5cdC8vIFN0cmluZyBlcnJvcnNcclxuXHRTVFJJTkdfTEVOR1RIX1NIT1JUOiBcIlN0cmluZyBpcyB0b28gc2hvcnQgKHtsZW5ndGh9IGNoYXJzKSwgbWluaW11bSB7bWluaW11bX1cIixcclxuXHRTVFJJTkdfTEVOR1RIX0xPTkc6IFwiU3RyaW5nIGlzIHRvbyBsb25nICh7bGVuZ3RofSBjaGFycyksIG1heGltdW0ge21heGltdW19XCIsXHJcblx0U1RSSU5HX1BBVFRFUk46IFwiU3RyaW5nIGRvZXMgbm90IG1hdGNoIHBhdHRlcm46IHtwYXR0ZXJufVwiLFxyXG5cdC8vIE9iamVjdCBlcnJvcnNcclxuXHRPQkpFQ1RfUFJPUEVSVElFU19NSU5JTVVNOiBcIlRvbyBmZXcgcHJvcGVydGllcyBkZWZpbmVkICh7cHJvcGVydHlDb3VudH0pLCBtaW5pbXVtIHttaW5pbXVtfVwiLFxyXG5cdE9CSkVDVF9QUk9QRVJUSUVTX01BWElNVU06IFwiVG9vIG1hbnkgcHJvcGVydGllcyBkZWZpbmVkICh7cHJvcGVydHlDb3VudH0pLCBtYXhpbXVtIHttYXhpbXVtfVwiLFxyXG5cdE9CSkVDVF9SRVFVSVJFRDogXCJNaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5OiB7a2V5fVwiLFxyXG5cdE9CSkVDVF9BRERJVElPTkFMX1BST1BFUlRJRVM6IFwiQWRkaXRpb25hbCBwcm9wZXJ0aWVzIG5vdCBhbGxvd2VkXCIsXHJcblx0T0JKRUNUX0RFUEVOREVOQ1lfS0VZOiBcIkRlcGVuZGVuY3kgZmFpbGVkIC0ga2V5IG11c3QgZXhpc3Q6IHttaXNzaW5nfSAoZHVlIHRvIGtleToge2tleX0pXCIsXHJcblx0Ly8gQXJyYXkgZXJyb3JzXHJcblx0QVJSQVlfTEVOR1RIX1NIT1JUOiBcIkFycmF5IGlzIHRvbyBzaG9ydCAoe2xlbmd0aH0pLCBtaW5pbXVtIHttaW5pbXVtfVwiLFxyXG5cdEFSUkFZX0xFTkdUSF9MT05HOiBcIkFycmF5IGlzIHRvbyBsb25nICh7bGVuZ3RofSksIG1heGltdW0ge21heGltdW19XCIsXHJcblx0QVJSQVlfVU5JUVVFOiBcIkFycmF5IGl0ZW1zIGFyZSBub3QgdW5pcXVlIChpbmRpY2VzIHttYXRjaDF9IGFuZCB7bWF0Y2gyfSlcIixcclxuXHRBUlJBWV9BRERJVElPTkFMX0lURU1TOiBcIkFkZGl0aW9uYWwgaXRlbXMgbm90IGFsbG93ZWRcIixcclxuXHQvLyBGb3JtYXQgZXJyb3JzXHJcblx0Rk9STUFUX0NVU1RPTTogXCJGb3JtYXQgdmFsaWRhdGlvbiBmYWlsZWQgKHttZXNzYWdlfSlcIixcclxuXHRLRVlXT1JEX0NVU1RPTTogXCJLZXl3b3JkIGZhaWxlZDoge2tleX0gKHttZXNzYWdlfSlcIixcclxuXHQvLyBTY2hlbWEgc3RydWN0dXJlXHJcblx0Q0lSQ1VMQVJfUkVGRVJFTkNFOiBcIkNpcmN1bGFyICRyZWZzOiB7dXJsc31cIixcclxuXHQvLyBOb24tc3RhbmRhcmQgdmFsaWRhdGlvbiBvcHRpb25zXHJcblx0VU5LTk9XTl9QUk9QRVJUWTogXCJVbmtub3duIHByb3BlcnR5IChub3QgaW4gc2NoZW1hKVwiXHJcbn07XHJcblxyXG5mdW5jdGlvbiBWYWxpZGF0aW9uRXJyb3IoY29kZSwgcGFyYW1zLCBkYXRhUGF0aCwgc2NoZW1hUGF0aCwgc3ViRXJyb3JzKSB7XHJcblx0RXJyb3IuY2FsbCh0aGlzKTtcclxuXHRpZiAoY29kZSA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHR0aHJvdyBuZXcgRXJyb3IgKFwiTm8gZXJyb3IgY29kZSBzdXBwbGllZDogXCIgKyBzY2hlbWFQYXRoKTtcclxuXHR9XHJcblx0dGhpcy5tZXNzYWdlID0gJyc7XHJcblx0dGhpcy5wYXJhbXMgPSBwYXJhbXM7XHJcblx0dGhpcy5jb2RlID0gY29kZTtcclxuXHR0aGlzLmRhdGFQYXRoID0gZGF0YVBhdGggfHwgXCJcIjtcclxuXHR0aGlzLnNjaGVtYVBhdGggPSBzY2hlbWFQYXRoIHx8IFwiXCI7XHJcblx0dGhpcy5zdWJFcnJvcnMgPSBzdWJFcnJvcnMgfHwgbnVsbDtcclxuXHJcblx0dmFyIGVyciA9IG5ldyBFcnJvcih0aGlzLm1lc3NhZ2UpO1xyXG5cdHRoaXMuc3RhY2sgPSBlcnIuc3RhY2sgfHwgZXJyLnN0YWNrdHJhY2U7XHJcblx0aWYgKCF0aGlzLnN0YWNrKSB7XHJcblx0XHR0cnkge1xyXG5cdFx0XHR0aHJvdyBlcnI7XHJcblx0XHR9XHJcblx0XHRjYXRjaChlcnIpIHtcclxuXHRcdFx0dGhpcy5zdGFjayA9IGVyci5zdGFjayB8fCBlcnIuc3RhY2t0cmFjZTtcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuVmFsaWRhdGlvbkVycm9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoRXJyb3IucHJvdG90eXBlKTtcclxuVmFsaWRhdGlvbkVycm9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFZhbGlkYXRpb25FcnJvcjtcclxuVmFsaWRhdGlvbkVycm9yLnByb3RvdHlwZS5uYW1lID0gJ1ZhbGlkYXRpb25FcnJvcic7XHJcblxyXG5WYWxpZGF0aW9uRXJyb3IucHJvdG90eXBlLnByZWZpeFdpdGggPSBmdW5jdGlvbiAoZGF0YVByZWZpeCwgc2NoZW1hUHJlZml4KSB7XHJcblx0aWYgKGRhdGFQcmVmaXggIT09IG51bGwpIHtcclxuXHRcdGRhdGFQcmVmaXggPSBkYXRhUHJlZml4LnJlcGxhY2UoL34vZywgXCJ+MFwiKS5yZXBsYWNlKC9cXC8vZywgXCJ+MVwiKTtcclxuXHRcdHRoaXMuZGF0YVBhdGggPSBcIi9cIiArIGRhdGFQcmVmaXggKyB0aGlzLmRhdGFQYXRoO1xyXG5cdH1cclxuXHRpZiAoc2NoZW1hUHJlZml4ICE9PSBudWxsKSB7XHJcblx0XHRzY2hlbWFQcmVmaXggPSBzY2hlbWFQcmVmaXgucmVwbGFjZSgvfi9nLCBcIn4wXCIpLnJlcGxhY2UoL1xcLy9nLCBcIn4xXCIpO1xyXG5cdFx0dGhpcy5zY2hlbWFQYXRoID0gXCIvXCIgKyBzY2hlbWFQcmVmaXggKyB0aGlzLnNjaGVtYVBhdGg7XHJcblx0fVxyXG5cdGlmICh0aGlzLnN1YkVycm9ycyAhPT0gbnVsbCkge1xyXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnN1YkVycm9ycy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHR0aGlzLnN1YkVycm9yc1tpXS5wcmVmaXhXaXRoKGRhdGFQcmVmaXgsIHNjaGVtYVByZWZpeCk7XHJcblx0XHR9XHJcblx0fVxyXG5cdHJldHVybiB0aGlzO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gaXNUcnVzdGVkVXJsKGJhc2VVcmwsIHRlc3RVcmwpIHtcclxuXHRpZih0ZXN0VXJsLnN1YnN0cmluZygwLCBiYXNlVXJsLmxlbmd0aCkgPT09IGJhc2VVcmwpe1xyXG5cdFx0dmFyIHJlbWFpbmRlciA9IHRlc3RVcmwuc3Vic3RyaW5nKGJhc2VVcmwubGVuZ3RoKTtcclxuXHRcdGlmICgodGVzdFVybC5sZW5ndGggPiAwICYmIHRlc3RVcmwuY2hhckF0KGJhc2VVcmwubGVuZ3RoIC0gMSkgPT09IFwiL1wiKVxyXG5cdFx0XHR8fCByZW1haW5kZXIuY2hhckF0KDApID09PSBcIiNcIlxyXG5cdFx0XHR8fCByZW1haW5kZXIuY2hhckF0KDApID09PSBcIj9cIikge1xyXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdH1cclxuXHR9XHJcblx0cmV0dXJuIGZhbHNlO1xyXG59XHJcblxyXG52YXIgbGFuZ3VhZ2VzID0ge307XHJcbmZ1bmN0aW9uIGNyZWF0ZUFwaShsYW5ndWFnZSkge1xyXG5cdHZhciBnbG9iYWxDb250ZXh0ID0gbmV3IFZhbGlkYXRvckNvbnRleHQoKTtcclxuXHR2YXIgY3VycmVudExhbmd1YWdlO1xyXG5cdHZhciBjdXN0b21FcnJvclJlcG9ydGVyO1xyXG5cdHZhciBhcGkgPSB7XHJcblx0XHRzZXRFcnJvclJlcG9ydGVyOiBmdW5jdGlvbiAocmVwb3J0ZXIpIHtcclxuXHRcdFx0aWYgKHR5cGVvZiByZXBvcnRlciA9PT0gJ3N0cmluZycpIHtcclxuXHRcdFx0XHRyZXR1cm4gdGhpcy5sYW5ndWFnZShyZXBvcnRlcik7XHJcblx0XHRcdH1cclxuXHRcdFx0Y3VzdG9tRXJyb3JSZXBvcnRlciA9IHJlcG9ydGVyO1xyXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdH0sXHJcblx0XHRhZGRGb3JtYXQ6IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0Z2xvYmFsQ29udGV4dC5hZGRGb3JtYXQuYXBwbHkoZ2xvYmFsQ29udGV4dCwgYXJndW1lbnRzKTtcclxuXHRcdH0sXHJcblx0XHRsYW5ndWFnZTogZnVuY3Rpb24gKGNvZGUpIHtcclxuXHRcdFx0aWYgKCFjb2RlKSB7XHJcblx0XHRcdFx0cmV0dXJuIGN1cnJlbnRMYW5ndWFnZTtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoIWxhbmd1YWdlc1tjb2RlXSkge1xyXG5cdFx0XHRcdGNvZGUgPSBjb2RlLnNwbGl0KCctJylbMF07IC8vIGZhbGwgYmFjayB0byBiYXNlIGxhbmd1YWdlXHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKGxhbmd1YWdlc1tjb2RlXSkge1xyXG5cdFx0XHRcdGN1cnJlbnRMYW5ndWFnZSA9IGNvZGU7XHJcblx0XHRcdFx0cmV0dXJuIGNvZGU7IC8vIHNvIHlvdSBjYW4gdGVsbCBpZiBmYWxsLWJhY2sgaGFzIGhhcHBlbmVkXHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fSxcclxuXHRcdGFkZExhbmd1YWdlOiBmdW5jdGlvbiAoY29kZSwgbWVzc2FnZU1hcCkge1xyXG5cdFx0XHR2YXIga2V5O1xyXG5cdFx0XHRmb3IgKGtleSBpbiBFcnJvckNvZGVzKSB7XHJcblx0XHRcdFx0aWYgKG1lc3NhZ2VNYXBba2V5XSAmJiAhbWVzc2FnZU1hcFtFcnJvckNvZGVzW2tleV1dKSB7XHJcblx0XHRcdFx0XHRtZXNzYWdlTWFwW0Vycm9yQ29kZXNba2V5XV0gPSBtZXNzYWdlTWFwW2tleV07XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdHZhciByb290Q29kZSA9IGNvZGUuc3BsaXQoJy0nKVswXTtcclxuXHRcdFx0aWYgKCFsYW5ndWFnZXNbcm9vdENvZGVdKSB7IC8vIHVzZSBmb3IgYmFzZSBsYW5ndWFnZSBpZiBub3QgeWV0IGRlZmluZWRcclxuXHRcdFx0XHRsYW5ndWFnZXNbY29kZV0gPSBtZXNzYWdlTWFwO1xyXG5cdFx0XHRcdGxhbmd1YWdlc1tyb290Q29kZV0gPSBtZXNzYWdlTWFwO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGxhbmd1YWdlc1tjb2RlXSA9IE9iamVjdC5jcmVhdGUobGFuZ3VhZ2VzW3Jvb3RDb2RlXSk7XHJcblx0XHRcdFx0Zm9yIChrZXkgaW4gbWVzc2FnZU1hcCkge1xyXG5cdFx0XHRcdFx0aWYgKHR5cGVvZiBsYW5ndWFnZXNbcm9vdENvZGVdW2tleV0gPT09ICd1bmRlZmluZWQnKSB7XHJcblx0XHRcdFx0XHRcdGxhbmd1YWdlc1tyb290Q29kZV1ba2V5XSA9IG1lc3NhZ2VNYXBba2V5XTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGxhbmd1YWdlc1tjb2RlXVtrZXldID0gbWVzc2FnZU1hcFtrZXldO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdH0sXHJcblx0XHRmcmVzaEFwaTogZnVuY3Rpb24gKGxhbmd1YWdlKSB7XHJcblx0XHRcdHZhciByZXN1bHQgPSBjcmVhdGVBcGkoKTtcclxuXHRcdFx0aWYgKGxhbmd1YWdlKSB7XHJcblx0XHRcdFx0cmVzdWx0Lmxhbmd1YWdlKGxhbmd1YWdlKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdFx0fSxcclxuXHRcdHZhbGlkYXRlOiBmdW5jdGlvbiAoZGF0YSwgc2NoZW1hLCBjaGVja1JlY3Vyc2l2ZSwgYmFuVW5rbm93blByb3BlcnRpZXMpIHtcclxuXHRcdFx0dmFyIGRlZiA9IGRlZmF1bHRFcnJvclJlcG9ydGVyKGN1cnJlbnRMYW5ndWFnZSk7XHJcblx0XHRcdHZhciBlcnJvclJlcG9ydGVyID0gY3VzdG9tRXJyb3JSZXBvcnRlciA/IGZ1bmN0aW9uIChlcnJvciwgZGF0YSwgc2NoZW1hKSB7XHJcblx0XHRcdFx0cmV0dXJuIGN1c3RvbUVycm9yUmVwb3J0ZXIoZXJyb3IsIGRhdGEsIHNjaGVtYSkgfHwgZGVmKGVycm9yLCBkYXRhLCBzY2hlbWEpO1xyXG5cdFx0XHR9IDogZGVmO1xyXG5cdFx0XHR2YXIgY29udGV4dCA9IG5ldyBWYWxpZGF0b3JDb250ZXh0KGdsb2JhbENvbnRleHQsIGZhbHNlLCBlcnJvclJlcG9ydGVyLCBjaGVja1JlY3Vyc2l2ZSwgYmFuVW5rbm93blByb3BlcnRpZXMpO1xyXG5cdFx0XHRpZiAodHlwZW9mIHNjaGVtYSA9PT0gXCJzdHJpbmdcIikge1xyXG5cdFx0XHRcdHNjaGVtYSA9IHtcIiRyZWZcIjogc2NoZW1hfTtcclxuXHRcdFx0fVxyXG5cdFx0XHRjb250ZXh0LmFkZFNjaGVtYShcIlwiLCBzY2hlbWEpO1xyXG5cdFx0XHR2YXIgZXJyb3IgPSBjb250ZXh0LnZhbGlkYXRlQWxsKGRhdGEsIHNjaGVtYSwgbnVsbCwgbnVsbCwgXCJcIik7XHJcblx0XHRcdGlmICghZXJyb3IgJiYgYmFuVW5rbm93blByb3BlcnRpZXMpIHtcclxuXHRcdFx0XHRlcnJvciA9IGNvbnRleHQuYmFuVW5rbm93blByb3BlcnRpZXMoZGF0YSwgc2NoZW1hKTtcclxuXHRcdFx0fVxyXG5cdFx0XHR0aGlzLmVycm9yID0gZXJyb3I7XHJcblx0XHRcdHRoaXMubWlzc2luZyA9IGNvbnRleHQubWlzc2luZztcclxuXHRcdFx0dGhpcy52YWxpZCA9IChlcnJvciA9PT0gbnVsbCk7XHJcblx0XHRcdHJldHVybiB0aGlzLnZhbGlkO1xyXG5cdFx0fSxcclxuXHRcdHZhbGlkYXRlUmVzdWx0OiBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHZhciByZXN1bHQgPSB7dG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRyZXR1cm4gdGhpcy52YWxpZCA/ICd2YWxpZCcgOiB0aGlzLmVycm9yLm1lc3NhZ2U7XHJcblx0XHRcdH19O1xyXG5cdFx0XHR0aGlzLnZhbGlkYXRlLmFwcGx5KHJlc3VsdCwgYXJndW1lbnRzKTtcclxuXHRcdFx0cmV0dXJuIHJlc3VsdDtcclxuXHRcdH0sXHJcblx0XHR2YWxpZGF0ZU11bHRpcGxlOiBmdW5jdGlvbiAoZGF0YSwgc2NoZW1hLCBjaGVja1JlY3Vyc2l2ZSwgYmFuVW5rbm93blByb3BlcnRpZXMpIHtcclxuXHRcdFx0dmFyIGRlZiA9IGRlZmF1bHRFcnJvclJlcG9ydGVyKGN1cnJlbnRMYW5ndWFnZSk7XHJcblx0XHRcdHZhciBlcnJvclJlcG9ydGVyID0gY3VzdG9tRXJyb3JSZXBvcnRlciA/IGZ1bmN0aW9uIChlcnJvciwgZGF0YSwgc2NoZW1hKSB7XHJcblx0XHRcdFx0cmV0dXJuIGN1c3RvbUVycm9yUmVwb3J0ZXIoZXJyb3IsIGRhdGEsIHNjaGVtYSkgfHwgZGVmKGVycm9yLCBkYXRhLCBzY2hlbWEpO1xyXG5cdFx0XHR9IDogZGVmO1xyXG5cdFx0XHR2YXIgY29udGV4dCA9IG5ldyBWYWxpZGF0b3JDb250ZXh0KGdsb2JhbENvbnRleHQsIHRydWUsIGVycm9yUmVwb3J0ZXIsIGNoZWNrUmVjdXJzaXZlLCBiYW5Vbmtub3duUHJvcGVydGllcyk7XHJcblx0XHRcdGlmICh0eXBlb2Ygc2NoZW1hID09PSBcInN0cmluZ1wiKSB7XHJcblx0XHRcdFx0c2NoZW1hID0ge1wiJHJlZlwiOiBzY2hlbWF9O1xyXG5cdFx0XHR9XHJcblx0XHRcdGNvbnRleHQuYWRkU2NoZW1hKFwiXCIsIHNjaGVtYSk7XHJcblx0XHRcdGNvbnRleHQudmFsaWRhdGVBbGwoZGF0YSwgc2NoZW1hLCBudWxsLCBudWxsLCBcIlwiKTtcclxuXHRcdFx0aWYgKGJhblVua25vd25Qcm9wZXJ0aWVzKSB7XHJcblx0XHRcdFx0Y29udGV4dC5iYW5Vbmtub3duUHJvcGVydGllcyhkYXRhLCBzY2hlbWEpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHZhciByZXN1bHQgPSB7dG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRyZXR1cm4gdGhpcy52YWxpZCA/ICd2YWxpZCcgOiB0aGlzLmVycm9yLm1lc3NhZ2U7XHJcblx0XHRcdH19O1xyXG5cdFx0XHRyZXN1bHQuZXJyb3JzID0gY29udGV4dC5lcnJvcnM7XHJcblx0XHRcdHJlc3VsdC5taXNzaW5nID0gY29udGV4dC5taXNzaW5nO1xyXG5cdFx0XHRyZXN1bHQudmFsaWQgPSAocmVzdWx0LmVycm9ycy5sZW5ndGggPT09IDApO1xyXG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdFx0fSxcclxuXHRcdGFkZFNjaGVtYTogZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRyZXR1cm4gZ2xvYmFsQ29udGV4dC5hZGRTY2hlbWEuYXBwbHkoZ2xvYmFsQ29udGV4dCwgYXJndW1lbnRzKTtcclxuXHRcdH0sXHJcblx0XHRnZXRTY2hlbWE6IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0cmV0dXJuIGdsb2JhbENvbnRleHQuZ2V0U2NoZW1hLmFwcGx5KGdsb2JhbENvbnRleHQsIGFyZ3VtZW50cyk7XHJcblx0XHR9LFxyXG5cdFx0Z2V0U2NoZW1hTWFwOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHJldHVybiBnbG9iYWxDb250ZXh0LmdldFNjaGVtYU1hcC5hcHBseShnbG9iYWxDb250ZXh0LCBhcmd1bWVudHMpO1xyXG5cdFx0fSxcclxuXHRcdGdldFNjaGVtYVVyaXM6IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0cmV0dXJuIGdsb2JhbENvbnRleHQuZ2V0U2NoZW1hVXJpcy5hcHBseShnbG9iYWxDb250ZXh0LCBhcmd1bWVudHMpO1xyXG5cdFx0fSxcclxuXHRcdGdldE1pc3NpbmdVcmlzOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHJldHVybiBnbG9iYWxDb250ZXh0LmdldE1pc3NpbmdVcmlzLmFwcGx5KGdsb2JhbENvbnRleHQsIGFyZ3VtZW50cyk7XHJcblx0XHR9LFxyXG5cdFx0ZHJvcFNjaGVtYXM6IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0Z2xvYmFsQ29udGV4dC5kcm9wU2NoZW1hcy5hcHBseShnbG9iYWxDb250ZXh0LCBhcmd1bWVudHMpO1xyXG5cdFx0fSxcclxuXHRcdGRlZmluZUtleXdvcmQ6IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0Z2xvYmFsQ29udGV4dC5kZWZpbmVLZXl3b3JkLmFwcGx5KGdsb2JhbENvbnRleHQsIGFyZ3VtZW50cyk7XHJcblx0XHR9LFxyXG5cdFx0ZGVmaW5lRXJyb3I6IGZ1bmN0aW9uIChjb2RlTmFtZSwgY29kZU51bWJlciwgZGVmYXVsdE1lc3NhZ2UpIHtcclxuXHRcdFx0aWYgKHR5cGVvZiBjb2RlTmFtZSAhPT0gJ3N0cmluZycgfHwgIS9eW0EtWl0rKF9bQS1aXSspKiQvLnRlc3QoY29kZU5hbWUpKSB7XHJcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCdDb2RlIG5hbWUgbXVzdCBiZSBhIHN0cmluZyBpbiBVUFBFUl9DQVNFX1dJVEhfVU5ERVJTQ09SRVMnKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAodHlwZW9mIGNvZGVOdW1iZXIgIT09ICdudW1iZXInIHx8IGNvZGVOdW1iZXIlMSAhPT0gMCB8fCBjb2RlTnVtYmVyIDwgMTAwMDApIHtcclxuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ0NvZGUgbnVtYmVyIG11c3QgYmUgYW4gaW50ZWdlciA+IDEwMDAwJyk7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKHR5cGVvZiBFcnJvckNvZGVzW2NvZGVOYW1lXSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ0Vycm9yIGFscmVhZHkgZGVmaW5lZDogJyArIGNvZGVOYW1lICsgJyBhcyAnICsgRXJyb3JDb2Rlc1tjb2RlTmFtZV0pO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmICh0eXBlb2YgRXJyb3JDb2RlTG9va3VwW2NvZGVOdW1iZXJdICE9PSAndW5kZWZpbmVkJykge1xyXG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcignRXJyb3IgY29kZSBhbHJlYWR5IHVzZWQ6ICcgKyBFcnJvckNvZGVMb29rdXBbY29kZU51bWJlcl0gKyAnIGFzICcgKyBjb2RlTnVtYmVyKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRFcnJvckNvZGVzW2NvZGVOYW1lXSA9IGNvZGVOdW1iZXI7XHJcblx0XHRcdEVycm9yQ29kZUxvb2t1cFtjb2RlTnVtYmVyXSA9IGNvZGVOYW1lO1xyXG5cdFx0XHRFcnJvck1lc3NhZ2VzRGVmYXVsdFtjb2RlTmFtZV0gPSBFcnJvck1lc3NhZ2VzRGVmYXVsdFtjb2RlTnVtYmVyXSA9IGRlZmF1bHRNZXNzYWdlO1xyXG5cdFx0XHRmb3IgKHZhciBsYW5nQ29kZSBpbiBsYW5ndWFnZXMpIHtcclxuXHRcdFx0XHR2YXIgbGFuZ3VhZ2UgPSBsYW5ndWFnZXNbbGFuZ0NvZGVdO1xyXG5cdFx0XHRcdGlmIChsYW5ndWFnZVtjb2RlTmFtZV0pIHtcclxuXHRcdFx0XHRcdGxhbmd1YWdlW2NvZGVOdW1iZXJdID0gbGFuZ3VhZ2VbY29kZU51bWJlcl0gfHwgbGFuZ3VhZ2VbY29kZU5hbWVdO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHRcdHJlc2V0OiBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdGdsb2JhbENvbnRleHQucmVzZXQoKTtcclxuXHRcdFx0dGhpcy5lcnJvciA9IG51bGw7XHJcblx0XHRcdHRoaXMubWlzc2luZyA9IFtdO1xyXG5cdFx0XHR0aGlzLnZhbGlkID0gdHJ1ZTtcclxuXHRcdH0sXHJcblx0XHRtaXNzaW5nOiBbXSxcclxuXHRcdGVycm9yOiBudWxsLFxyXG5cdFx0dmFsaWQ6IHRydWUsXHJcblx0XHRub3JtU2NoZW1hOiBub3JtU2NoZW1hLFxyXG5cdFx0cmVzb2x2ZVVybDogcmVzb2x2ZVVybCxcclxuXHRcdGdldERvY3VtZW50VXJpOiBnZXREb2N1bWVudFVyaSxcclxuXHRcdGVycm9yQ29kZXM6IEVycm9yQ29kZXNcclxuXHR9O1xyXG5cdGFwaS5sYW5ndWFnZShsYW5ndWFnZSB8fCAnZW4nKTtcclxuXHRyZXR1cm4gYXBpO1xyXG59XHJcblxyXG52YXIgdHY0ID0gY3JlYXRlQXBpKCk7XHJcbnR2NC5hZGRMYW5ndWFnZSgnZW4tZ2InLCBFcnJvck1lc3NhZ2VzRGVmYXVsdCk7XHJcblxyXG4vL2xlZ2FjeSBwcm9wZXJ0eVxyXG50djQudHY0ID0gdHY0O1xyXG5cclxucmV0dXJuIHR2NDsgLy8gdXNlZCBieSBfaGVhZGVyLmpzIHRvIGdsb2JhbGlzZS5cclxuXHJcbn0pKTsiLCIvKipcbiAqIEBjbGFzcyBCYXNlQ2xpZW50LlR5cGVzXG4gKlxuICogLSBNYW5hZ2VzIGFuZCB2YWxpZGF0ZXMgdHlwZXMgb2YgcmVtb3RlU3RvcmFnZSBvYmplY3RzLCB1c2luZyBKU09OLUxEIGFuZFxuICogICBKU09OIFNjaGVtYVxuICogLSBBZGRzIHNjaGVtYSBkZWNsYXJhdGlvbi92YWxpZGF0aW9uIG1ldGhvZHMgdG8gQmFzZUNsaWVudCBpbnN0YW5jZXMuXG4gKiovXG50eXBlIEpzb25TY2hlbWFzID0geyBba2V5OiBzdHJpbmddOiB0djQuSnNvblNjaGVtYSB9O1xuXG5leHBvcnQgY2xhc3MgQmFzZUNsaWVudFR5cGVzIHtcbiAgLyoqXG4gICAqIDxhbGlhcz4gLT4gPHVyaT5cbiAgICovXG4gIHVyaXM6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH0gPSB7fTtcblxuICAvKipcbiAgICogQ29udGFpbnMgc2NoZW1hIG9iamVjdHMgb2YgYWxsIHR5cGVzIGtub3duIHRvIHRoZSBCYXNlQ2xpZW50IGluc3RhbmNlXG4gICAqXG4gICAqIDx1cmk+IC0+IDxzY2hlbWE+XG4gICAqL1xuICBzY2hlbWFzOiBKc29uU2NoZW1hcyA9IHt9O1xuXG4gIC8qKlxuICAgKiA8dXJpPiAtPiA8YWxpYXM+XG4gICAqL1xuICBhbGlhc2VzOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9ID0ge307XG5cbiAgLyoqXG4gICAqIENhbGxlZCB2aWEgcHVibGljIGZ1bmN0aW9uIEJhc2VDbGllbnQuZGVjbGFyZVR5cGUoKVxuICAgKiAhIE5vdCBpbnRlbmRlZCB0byBiZSB1c2VkIGFzIHB1YmxpYyBBUEkgIVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZGVjbGFyZSAobW9kdWxlTmFtZTogc3RyaW5nLCBhbGlhczogc3RyaW5nLCB1cmk6IHN0cmluZywgc2NoZW1hOiB0djQuSnNvblNjaGVtYSk6IHZvaWQge1xuICAgIGNvbnN0IGZ1bGxBbGlhcyA9IG1vZHVsZU5hbWUgKyAnLycgKyBhbGlhcztcblxuICAgIGlmIChzY2hlbWEuZXh0ZW5kcykge1xuICAgICAgY29uc3QgcGFydHMgPSBzY2hlbWEuZXh0ZW5kcy5zcGxpdCgnLycpO1xuICAgICAgY29uc3QgZXh0ZW5kZWRBbGlhcyA9IChwYXJ0cy5sZW5ndGggPT09IDEpXG4gICAgICAgID8gbW9kdWxlTmFtZSArICcvJyArIHBhcnRzLnNoaWZ0KClcbiAgICAgICAgOiBwYXJ0cy5qb2luKCcvJyk7XG5cbiAgICAgIGNvbnN0IGV4dGVuZGVkVXJpID0gdGhpcy51cmlzW2V4dGVuZGVkQWxpYXNdO1xuICAgICAgaWYgKCFleHRlbmRlZFVyaSkge1xuICAgICAgICB0aHJvdyBcIlR5cGUgJ1wiICsgZnVsbEFsaWFzICsgXCInIHRyaWVzIHRvIGV4dGVuZCB1bmtub3duIHNjaGVtYSAnXCIgKyBleHRlbmRlZEFsaWFzICsgXCInXCI7XG4gICAgICB9XG4gICAgICBzY2hlbWEuZXh0ZW5kcyA9IHRoaXMuc2NoZW1hc1tleHRlbmRlZFVyaV07XG4gICAgfVxuXG4gICAgdGhpcy51cmlzW2Z1bGxBbGlhc10gPSB1cmk7XG4gICAgdGhpcy5hbGlhc2VzW3VyaV0gPSBmdWxsQWxpYXM7XG4gICAgdGhpcy5zY2hlbWFzW3VyaV0gPSBzY2hlbWE7XG4gIH1cblxuICByZXNvbHZlQWxpYXMgKGFsaWFzOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLnVyaXNbYWxpYXNdO1xuICB9XG5cbiAgZ2V0U2NoZW1hICh1cmk6IHN0cmluZyk6IHR2NC5Kc29uU2NoZW1hIHtcbiAgICByZXR1cm4gdGhpcy5zY2hlbWFzW3VyaV07XG4gIH1cblxuICBpblNjb3BlIChtb2R1bGVOYW1lOiBzdHJpbmcpOiBKc29uU2NoZW1hcyB7XG4gICAgY29uc3QgbWwgPSBtb2R1bGVOYW1lLmxlbmd0aDtcbiAgICBjb25zdCBzY2hlbWFzID0ge307XG4gICAgZm9yIChjb25zdCBhbGlhcyBpbiB0aGlzLnVyaXMpIHtcbiAgICAgIGlmIChhbGlhcy5zdWJzdHIoMCwgbWwgKyAxKSA9PT0gbW9kdWxlTmFtZSArICcvJykge1xuICAgICAgICBjb25zdCB1cmkgPSB0aGlzLnVyaXNbYWxpYXNdO1xuICAgICAgICBzY2hlbWFzW3VyaV0gPSB0aGlzLnNjaGVtYXNbdXJpXTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNjaGVtYXM7XG4gIH1cbn1cblxuY29uc3QgVHlwZXMgPSBuZXcgQmFzZUNsaWVudFR5cGVzKCk7XG5leHBvcnQgZGVmYXVsdCBUeXBlcztcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNjaGVtYU5vdEZvdW5kIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3Rvcih1cmk6IHN0cmluZykge1xuICAgIHN1cGVyKCk7XG4gICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoXCJTY2hlbWEgbm90IGZvdW5kOiBcIiArIHVyaSk7XG4gICAgZXJyb3IubmFtZSA9IFwiU2NoZW1hTm90Rm91bmRcIjtcbiAgICByZXR1cm4gZXJyb3I7XG4gIH1cbn1cbiIsIi8qKlxuICogQSBjYWNoZSB3aGljaCBjYW4gcHJvcGFnYXRlIGNoYW5nZXMgdXAgdG8gcGFyZW50IGZvbGRlcnMgYW5kIGdlbmVyYXRlIG5ld1xuICogcmV2aXNpb24gaWRzIGZvciB0aGVtLiBUaGUgZ2VuZXJhdGVkIHJldmlzaW9uIGlkIGlzIGNvbnNpc3RlbnQgYWNyb3NzXG4gKiBkaWZmZXJlbnQgc2Vzc2lvbnMuICBUaGUga2V5cyBmb3IgdGhlIGNhY2hlIGFyZSBjYXNlLWluc2Vuc2l0aXZlLlxuICpcbiAqIEBwYXJhbSBkZWZhdWx0VmFsdWUge3N0cmluZ30gdGhlIHZhbHVlIHRoYXQgaXMgcmV0dXJuZWQgZm9yIGFsbCBrZXlzIHRoYXRcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9uJ3QgZXhpc3QgaW4gdGhlIGNhY2hlXG4gKiBAY2xhc3NcbiAqL1xuXG5jbGFzcyBSZXZpc2lvbkNhY2hlIHtcbiAgZGVmYXVsdFZhbHVlOiBzdHJpbmc7XG5cbiAgcHJpdmF0ZSBfaXRlbXNSZXY6IHsgW2tleTogc3RyaW5nXTogYW55IH0gPSB7fTtcbiAgcHJpdmF0ZSBfc3RvcmFnZTogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSA9IHt9O1xuICBwcml2YXRlIF9jYW5Qcm9wYWdhdGUgPSBmYWxzZTtcblxuICBjb25zdHJ1Y3RvcihkZWZhdWx0VmFsdWU6IHN0cmluZykge1xuICAgIHRoaXMuZGVmYXVsdFZhbHVlID0gZGVmYXVsdFZhbHVlO1xuICAgIHRoaXMuYWN0aXZhdGVQcm9wYWdhdGlvbigpO1xuICB9XG5cblxuICAvKipcbiAgICogR2V0IGEgdmFsdWUgZnJvbSB0aGUgY2FjaGUgb3IgZGVmYXVsdFZhbHVlLCBpZiB0aGUga2V5IGlzIG5vdCBpbiB0aGVcbiAgICogY2FjaGVcbiAgICovXG4gIGdldChrZXk6IHN0cmluZyk6IHN0cmluZyB7XG4gICAga2V5ID0ga2V5LnRvTG93ZXJDYXNlKCk7XG4gICAgbGV0IHN0b3JlZCA9IHRoaXMuX3N0b3JhZ2Vba2V5XTtcbiAgICBpZiAodHlwZW9mIHN0b3JlZCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHN0b3JlZCA9IHRoaXMuZGVmYXVsdFZhbHVlO1xuICAgICAgdGhpcy5fc3RvcmFnZVtrZXldID0gc3RvcmVkO1xuICAgIH1cbiAgICByZXR1cm4gc3RvcmVkO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCBhIHZhbHVlXG4gICAqL1xuICBzZXQoa2V5OiBzdHJpbmcsIHZhbHVlKTogdW5rbm93biB7XG4gICAga2V5ID0ga2V5LnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKHRoaXMuX3N0b3JhZ2Vba2V5XSA9PT0gdmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgdGhpcy5fc3RvcmFnZVtrZXldID0gdmFsdWU7XG4gICAgaWYgKCF2YWx1ZSkge1xuICAgICAgZGVsZXRlIHRoaXMuX2l0ZW1zUmV2W2tleV07XG4gICAgfVxuICAgIHRoaXMuX3VwZGF0ZVBhcmVudEZvbGRlckl0ZW1SZXYoa2V5LCB2YWx1ZSk7XG4gICAgaWYgKHRoaXMuX2NhblByb3BhZ2F0ZSkge1xuICAgICAgdGhpcy5fcHJvcGFnYXRlKGtleSk7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWxldGUgYSB2YWx1ZVxuICAgKi9cbiAgZGVsZXRlKGtleTogc3RyaW5nKTogdW5rbm93biB7XG4gICAgcmV0dXJuIHRoaXMuc2V0KGtleSwgbnVsbCk7XG4gIH1cblxuICAvKipcbiAgICogRGlzYWJsZXMgYXV0b21hdGljIHVwZGF0ZSBvZiBmb2xkZXIgcmV2aXNpb25zIHdoZW4gYSBrZXkgdmFsdWUgaXMgdXBkYXRlZFxuICAgKi9cbiAgZGVhY3RpdmF0ZVByb3BhZ2F0aW9uKCk6IHRydWUge1xuICAgIHRoaXMuX2NhblByb3BhZ2F0ZSA9IGZhbHNlO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEVuYWJsZXMgYXV0b21hdGljIHVwZGF0ZSBvZiBmb2xkZXIgcmV2aXNpb25zIHdoZW4gYSBrZXkgdmFsdWUgaXMgdXBkYXRlZFxuICAgKiBhbmQgcmVmcmVzaGVzIHRoZSBmb2xkZXIgcmV2aXNpb24gaWRzIGZvciBlbnRpcmUgdHJlZS5cbiAgICovXG4gIGFjdGl2YXRlUHJvcGFnYXRpb24oKTogdHJ1ZSB7XG4gICAgaWYgKHRoaXMuX2NhblByb3BhZ2F0ZSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHRoaXMuX2dlbmVyYXRlRm9sZGVyUmV2KFwiL1wiKTtcbiAgICB0aGlzLl9jYW5Qcm9wYWdhdGUgPSB0cnVlO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBoYXNoIGNvZGUgZm9yIGEgc3RyaW5nLlxuICAgKi9cbiAgcHJpdmF0ZSBfaGFzaENvZGUoc3RyOiBzdHJpbmcpOiBudW1iZXIge1xuICAgIGxldCBoYXNoID0gMDtcbiAgICBpZiAoc3RyLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIGhhc2g7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBjaHIgPSBzdHIuY2hhckNvZGVBdChpKTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1iaXR3aXNlXG4gICAgICBoYXNoID0gKChoYXNoIDw8IDUpIC0gaGFzaCkgKyBjaHI7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tYml0d2lzZVxuICAgICAgaGFzaCB8PSAwOyAvLyBDb252ZXJ0IHRvIDMyYml0IGludGVnZXJcbiAgICB9XG4gICAgcmV0dXJuIGhhc2g7XG4gIH1cblxuICAvKipcbiAgICogVGFrZXMgYW4gYXJyYXkgb2Ygc3RyaW5ncyBhbmQgcmV0dXJucyBhIGhhc2ggb2YgdGhlIGl0ZW1zXG4gICAqL1xuICBwcml2YXRlIF9nZW5lcmF0ZUhhc2goaXRlbXM6IHN0cmluZ1tdKTogc3RyaW5nIHtcbiAgICAvLyBXZSBzb3J0IHRoZSBpdGVtcyBiZWZvcmUgam9pbmluZyB0aGVtIHRvIGVuc3VyZSBjb3JyZWN0IGhhc2ggZ2VuZXJhdGlvblxuICAgIC8vIGV2ZXJ5IHRpbWVcbiAgICBjb25zdCBmaWxlcyA9IGl0ZW1zLnNvcnQoKS5qb2luKCd8Jyk7XG4gICAgY29uc3QgaGFzaCA9IFwiXCIgKyB0aGlzLl9oYXNoQ29kZShmaWxlcyk7XG4gICAgcmV0dXJuIGhhc2g7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIHRoZSByZXZpc2lvbiBvZiBhIGtleSBpbiBpdCdzIHBhcmVudCBmb2xkZXIgZGF0YVxuICAgKi9cbiAgcHJpdmF0ZSBfdXBkYXRlUGFyZW50Rm9sZGVySXRlbVJldihrZXk6IHN0cmluZywgcmV2KTogdm9pZCB7XG4gICAgaWYgKGtleSAhPT0gJy8nKSB7XG4gICAgICBjb25zdCBwYXJlbnRGb2xkZXIgPSB0aGlzLl9nZXRQYXJlbnRGb2xkZXIoa2V5KTtcbiAgICAgIGlmICghdGhpcy5faXRlbXNSZXZbcGFyZW50Rm9sZGVyXSkge1xuICAgICAgICB0aGlzLl9pdGVtc1JldltwYXJlbnRGb2xkZXJdID0ge307XG4gICAgICB9XG4gICAgICBjb25zdCBwYXJlbnRGb2xkZXJJdGVtc1JldiA9IHRoaXMuX2l0ZW1zUmV2W3BhcmVudEZvbGRlcl07XG4gICAgICBpZiAoIXJldikge1xuICAgICAgICBkZWxldGUgcGFyZW50Rm9sZGVySXRlbXNSZXZba2V5XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhcmVudEZvbGRlckl0ZW1zUmV2W2tleV0gPSByZXY7XG4gICAgICB9XG4gICAgICAvL3Jlc2V0IHJldmlzaW9uIHVudGlsIHJvb3RcbiAgICAgIHRoaXMuX3VwZGF0ZVBhcmVudEZvbGRlckl0ZW1SZXYocGFyZW50Rm9sZGVyLCB0aGlzLmRlZmF1bHRWYWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBfZ2V0UGFyZW50Rm9sZGVyKGtleTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICByZXR1cm4ga2V5LnN1YnN0cigwLCBrZXkubGFzdEluZGV4T2YoJy8nLCBrZXkubGVuZ3RoIC0gMikgKyAxKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQcm9wYWdhdGUgdGhlIGNoYW5nZXMgdG8gdGhlIHBhcmVudCBmb2xkZXJzIGFuZCBnZW5lcmF0ZSBuZXcgcmV2aXNpb24gaWRzXG4gICAqIGZvciB0aGVtXG4gICAqL1xuICBwcml2YXRlIF9wcm9wYWdhdGUoa2V5OiBzdHJpbmcpOiB2b2lkIHtcbiAgICBpZiAoa2V5ICE9PSAnLycpIHtcbiAgICAgIGNvbnN0IHBhcmVudEZvbGRlciA9IHRoaXMuX2dldFBhcmVudEZvbGRlcihrZXkpO1xuICAgICAgY29uc3QgcGFyZW50Rm9sZGVySXRlbXNSZXYgPSB0aGlzLl9pdGVtc1JldltwYXJlbnRGb2xkZXJdO1xuICAgICAgY29uc3QgaGFzaEl0ZW1zID0gW107XG4gICAgICBmb3IgKGNvbnN0IHBhdGggaW4gcGFyZW50Rm9sZGVySXRlbXNSZXYpIHtcbiAgICAgICAgaGFzaEl0ZW1zLnB1c2gocGFyZW50Rm9sZGVySXRlbXNSZXZbcGF0aF0pO1xuICAgICAgfVxuICAgICAgY29uc3QgbmV3UmV2ID0gdGhpcy5fZ2VuZXJhdGVIYXNoKGhhc2hJdGVtcyk7XG4gICAgICB0aGlzLnNldChwYXJlbnRGb2xkZXIsIG5ld1Jldik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlIHJldmlzaW9uIGlkIGZvciBhIGZvbGRlciBhbmQgaXQncyBzdWJmb2xkZXJzLCBieSBoYXNoaW5nIGl0J3NcbiAgICogbGlzdGluZ1xuICAgKi9cbiAgcHJpdmF0ZSBfZ2VuZXJhdGVGb2xkZXJSZXYoZm9sZGVyOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGNvbnN0IGl0ZW1zUmV2ID0gdGhpcy5faXRlbXNSZXZbZm9sZGVyXTtcbiAgICBsZXQgaGFzaCA9IHRoaXMuZGVmYXVsdFZhbHVlO1xuICAgIGlmIChpdGVtc1Jldikge1xuICAgICAgY29uc3QgaGFzaEl0ZW1zID0gW107XG4gICAgICBmb3IgKGNvbnN0IHBhdGggaW4gaXRlbXNSZXYpIHtcbiAgICAgICAgY29uc3QgaXNEaXI6IGJvb2xlYW4gPSAocGF0aC5zdWJzdHIoLTEpID09PSAnLycpO1xuICAgICAgICBsZXQgaGFzaEl0ZW07XG4gICAgICAgIGlmIChpc0Rpcikge1xuICAgICAgICAgIGhhc2hJdGVtID0gdGhpcy5fZ2VuZXJhdGVGb2xkZXJSZXYocGF0aCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaGFzaEl0ZW0gPSBpdGVtc1JldltwYXRoXTtcbiAgICAgICAgfVxuICAgICAgICBoYXNoSXRlbXMucHVzaChoYXNoSXRlbSk7XG4gICAgICB9XG4gICAgICBpZiAoaGFzaEl0ZW1zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgaGFzaCA9IHRoaXMuX2dlbmVyYXRlSGFzaChoYXNoSXRlbXMpO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLnNldChmb2xkZXIsIGhhc2gpO1xuICAgIHJldHVybiBoYXNoO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFJldmlzaW9uQ2FjaGU7XG4iLCIvKiBnbG9iYWwgZGVmaW5lICovXG4vKiFcbiAqIHdlYmZpbmdlci5qc1xuICogICB2ZXJzaW9uIDIuNy4wXG4gKiAgIGh0dHA6Ly9naXRodWIuY29tL3NpbHZlcmJ1Y2tldC93ZWJmaW5nZXIuanNcbiAqXG4gKiBEZXZlbG9wZWQgYW5kIE1haW50YWluZWQgYnk6XG4gKiAgIE5pY2sgSmVubmluZ3MgPG5pY2tAc2lsdmVyYnVja2V0Lm5ldD4gMjAxMlxuICpcbiAqIHdlYmZpbmdlci5qcyBpcyByZWxlYXNlZCB1bmRlciB0aGUgQUdQTCAoc2VlIExJQ0VOU0UpLlxuICpcbiAqIFlvdSBkb24ndCBoYXZlIHRvIGRvIGFueXRoaW5nIHNwZWNpYWwgdG8gY2hvb3NlIG9uZSBsaWNlbnNlIG9yIHRoZSBvdGhlciBhbmQgeW91IGRvbid0XG4gKiBoYXZlIHRvIG5vdGlmeSBhbnlvbmUgd2hpY2ggbGljZW5zZSB5b3UgYXJlIHVzaW5nLlxuICogUGxlYXNlIHNlZSB0aGUgY29ycmVzcG9uZGluZyBsaWNlbnNlIGZpbGUgZm9yIGRldGFpbHMgb2YgdGhlc2UgbGljZW5zZXMuXG4gKiBZb3UgYXJlIGZyZWUgdG8gdXNlLCBtb2RpZnkgYW5kIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSwgYnV0IGFsbCBjb3B5cmlnaHRcbiAqIGluZm9ybWF0aW9uIG11c3QgcmVtYWluLlxuICpcbiAqL1xuXG5pZiAodHlwZW9mIGZldGNoICE9PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBYTUxIdHRwUmVxdWVzdCAhPT0gJ2Z1bmN0aW9uJykge1xuICAvLyBYTUxIdHRwUmVxdWVzdCA9IHJlcXVpcmUoJ3htbGh0dHByZXF1ZXN0JykuWE1MSHR0cFJlcXVlc3Q7XG4gIFhNTEh0dHBSZXF1ZXN0ID0gcmVxdWlyZSgneGhyMicpO1xufVxuXG4oZnVuY3Rpb24gKGdsb2JhbCkge1xuXG4gIC8vIFVSSSB0byBwcm9wZXJ0eSBuYW1lIG1hcFxuICB2YXIgTElOS19VUklfTUFQUyA9IHtcbiAgICAnaHR0cDovL3dlYmZpc3Qub3JnL3NwZWMvcmVsJzogJ3dlYmZpc3QnLFxuICAgICdodHRwOi8vd2ViZmluZ2VyLm5ldC9yZWwvYXZhdGFyJzogJ2F2YXRhcicsXG4gICAgJ3JlbW90ZXN0b3JhZ2UnOiAncmVtb3Rlc3RvcmFnZScsXG4gICAgJ2h0dHA6Ly90b29scy5pZXRmLm9yZy9pZC9kcmFmdC1kZWpvbmctcmVtb3Rlc3RvcmFnZSc6ICdyZW1vdGVzdG9yYWdlJyxcbiAgICAncmVtb3RlU3RvcmFnZSc6ICdyZW1vdGVzdG9yYWdlJyxcbiAgICAnaHR0cDovL3d3dy5wYWNrZXRpemVyLmNvbS9yZWwvc2hhcmUnOiAnc2hhcmUnLFxuICAgICdodHRwOi8vd2ViZmluZ2VyLm5ldC9yZWwvcHJvZmlsZS1wYWdlJzogJ3Byb2ZpbGUnLFxuICAgICdtZSc6ICdwcm9maWxlJyxcbiAgICAndmNhcmQnOiAndmNhcmQnLFxuICAgICdibG9nJzogJ2Jsb2cnLFxuICAgICdodHRwOi8vcGFja2V0aXplci5jb20vcmVsL2Jsb2cnOiAnYmxvZycsXG4gICAgJ2h0dHA6Ly9zY2hlbWFzLmdvb2dsZS5jb20vZy8yMDEwI3VwZGF0ZXMtZnJvbSc6ICd1cGRhdGVzJyxcbiAgICAnaHR0cHM6Ly9jYW1saXN0b3JlLm9yZy9yZWwvc2VydmVyJzogJ2NhbWlsc3RvcmUnXG4gIH07XG5cbiAgdmFyIExJTktfUFJPUEVSVElFUyA9IHtcbiAgICAnYXZhdGFyJzogW10sXG4gICAgJ3JlbW90ZXN0b3JhZ2UnOiBbXSxcbiAgICAnYmxvZyc6IFtdLFxuICAgICd2Y2FyZCc6IFtdLFxuICAgICd1cGRhdGVzJzogW10sXG4gICAgJ3NoYXJlJzogW10sXG4gICAgJ3Byb2ZpbGUnOiBbXSxcbiAgICAnd2ViZmlzdCc6IFtdLFxuICAgICdjYW1saXN0b3JlJzogW11cbiAgfTtcblxuICAvLyBsaXN0IG9mIGVuZHBvaW50cyB0byB0cnksIGZhbGxiYWNrIGZyb20gYmVnaW5uaW5nIHRvIGVuZC5cbiAgdmFyIFVSSVMgPSBbJ3dlYmZpbmdlcicsICdob3N0LW1ldGEnLCAnaG9zdC1tZXRhLmpzb24nXTtcblxuICBmdW5jdGlvbiBnZW5lcmF0ZUVycm9yT2JqZWN0KG9iaikge1xuICAgIG9iai50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLm1lc3NhZ2U7XG4gICAgfTtcbiAgICByZXR1cm4gb2JqO1xuICB9XG5cbiAgLy8gZ2l2ZW4gYSBVUkwgZW5zdXJlcyBpdCdzIEhUVFBTLlxuICAvLyByZXR1cm5zIGZhbHNlIGZvciBudWxsIHN0cmluZyBvciBub24tSFRUUFMgVVJMLlxuICBmdW5jdGlvbiBpc1NlY3VyZSh1cmwpIHtcbiAgICBpZiAodHlwZW9mIHVybCAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdmFyIHBhcnRzID0gdXJsLnNwbGl0KCc6Ly8nKTtcbiAgICBpZiAocGFydHNbMF0gPT09ICdodHRwcycpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogRnVuY3Rpb246IFdlYkZpbmdlclxuICAgKlxuICAgKiBXZWJGaW5nZXIgY29uc3RydWN0b3JcbiAgICpcbiAgICogUmV0dXJuczpcbiAgICpcbiAgICogICByZXR1cm4gV2ViRmluZ2VyIG9iamVjdFxuICAgKi9cbiAgZnVuY3Rpb24gV2ViRmluZ2VyKGNvbmZpZykge1xuICAgIGlmICh0eXBlb2YgY29uZmlnICE9PSAnb2JqZWN0Jykge1xuICAgICAgY29uZmlnID0ge307XG4gICAgfVxuXG4gICAgdGhpcy5jb25maWcgPSB7XG4gICAgICB0bHNfb25seTogICAgICAgICAodHlwZW9mIGNvbmZpZy50bHNfb25seSAhPT0gJ3VuZGVmaW5lZCcpID8gY29uZmlnLnRsc19vbmx5IDogdHJ1ZSxcbiAgICAgIHdlYmZpc3RfZmFsbGJhY2s6ICh0eXBlb2YgY29uZmlnLndlYmZpc3RfZmFsbGJhY2sgIT09ICd1bmRlZmluZWQnKSA/IGNvbmZpZy53ZWJmaXN0X2ZhbGxiYWNrIDogZmFsc2UsXG4gICAgICB1cmlfZmFsbGJhY2s6ICAgICAodHlwZW9mIGNvbmZpZy51cmlfZmFsbGJhY2sgIT09ICd1bmRlZmluZWQnKSA/IGNvbmZpZy51cmlfZmFsbGJhY2sgOiBmYWxzZSxcbiAgICAgIHJlcXVlc3RfdGltZW91dDogICh0eXBlb2YgY29uZmlnLnJlcXVlc3RfdGltZW91dCAhPT0gJ3VuZGVmaW5lZCcpID8gY29uZmlnLnJlcXVlc3RfdGltZW91dCA6IDEwMDAwXG4gICAgfTtcbiAgfVxuXG4gIC8vIG1ha2UgYW4gaHR0cCByZXF1ZXN0IGFuZCBsb29rIGZvciBKUkQgcmVzcG9uc2UsIGZhaWxzIGlmIHJlcXVlc3QgZmFpbHNcbiAgLy8gb3IgcmVzcG9uc2Ugbm90IGpzb24uXG4gIFdlYkZpbmdlci5wcm90b3R5cGUuX19mZXRjaEpSRCA9IGZ1bmN0aW9uICh1cmwsIGVycm9ySGFuZGxlciwgc3VjZXNzSGFuZGxlcikge1xuICAgIGlmICh0eXBlb2YgZmV0Y2ggPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX19mZXRjaEpSRF9mZXRjaCh1cmwsIGVycm9ySGFuZGxlciwgc3VjZXNzSGFuZGxlcik7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgWE1MSHR0cFJlcXVlc3QgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fZmV0Y2hKUkRfWEhSKHVybCwgZXJyb3JIYW5kbGVyLCBzdWNlc3NIYW5kbGVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiYWRkIGEgcG9seWZpbGwgZm9yIGZldGNoIG9yIFhNTEh0dHBSZXF1ZXN0XCIpO1xuICAgIH1cbiAgfTtcbiAgV2ViRmluZ2VyLnByb3RvdHlwZS5fX2ZldGNoSlJEX2ZldGNoID0gZnVuY3Rpb24gKHVybCwgZXJyb3JIYW5kbGVyLCBzdWNlc3NIYW5kbGVyKSB7XG4gICAgdmFyIHdlYmZpbmdlciA9IHRoaXM7XG4gICAgdmFyIGFib3J0Q29udHJvbGxlcjtcbiAgICBpZiAodHlwZW9mIEFib3J0Q29udHJvbGxlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgYWJvcnRDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgIH1cbiAgICB2YXIgbmV0d29ya1Byb21pc2UgPSBmZXRjaCh1cmwsIHtcbiAgICAgIGhlYWRlcnM6IHsnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pyZCtqc29uLCBhcHBsaWNhdGlvbi9qc29uJ30sXG4gICAgICBzaWduYWw6IGFib3J0Q29udHJvbGxlciA/IGFib3J0Q29udHJvbGxlci5zaWduYWwgOiB1bmRlZmluZWRcbiAgICB9KS5cbiAgICB0aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHJldHVybiByZXNwb25zZS50ZXh0KCk7XG4gICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICAgIHRocm93IGdlbmVyYXRlRXJyb3JPYmplY3Qoe1xuICAgICAgICAgIG1lc3NhZ2U6ICdyZXNvdXJjZSBub3QgZm91bmQnLFxuICAgICAgICAgIHVybDogdXJsLFxuICAgICAgICAgIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHsgICAvLyBvdGhlciBIVFRQIHN0YXR1cyAocmVkaXJlY3RzIGFyZSBoYW5kbGVkIHRyYW5zcGFyZW50bHkpXG4gICAgICAgIHRocm93IGdlbmVyYXRlRXJyb3JPYmplY3Qoe1xuICAgICAgICAgIG1lc3NhZ2U6ICdlcnJvciBkdXJpbmcgcmVxdWVzdCcsXG4gICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgc3RhdHVzOiByZXNwb25zZS5zdGF0dXNcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBmdW5jdGlvbiAoZXJyKSB7ICAgLy8gY29ubmVjdGlvbiByZWZ1c2VkLCBldGMuXG4gICAgICB0aHJvdyBnZW5lcmF0ZUVycm9yT2JqZWN0KHtcbiAgICAgICAgbWVzc2FnZTogJ2Vycm9yIGR1cmluZyByZXF1ZXN0JyxcbiAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgIHN0YXR1czogdW5kZWZpbmVkLFxuICAgICAgICBlcnI6IGVyclxuICAgICAgfSlcbiAgICB9KS5cbiAgICB0aGVuKGZ1bmN0aW9uIChyZXNwb25zZVRleHQpIHtcbiAgICAgIGlmICh3ZWJmaW5nZXIuX19pc1ZhbGlkSlNPTihyZXNwb25zZVRleHQpKSB7XG4gICAgICAgIHJldHVybiByZXNwb25zZVRleHQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBnZW5lcmF0ZUVycm9yT2JqZWN0KHtcbiAgICAgICAgICBtZXNzYWdlOiAnaW52YWxpZCBqc29uJyxcbiAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICBzdGF0dXM6IHVuZGVmaW5lZFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHZhciB0aW1lb3V0UHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICByZWplY3QoZ2VuZXJhdGVFcnJvck9iamVjdCh7XG4gICAgICAgICAgbWVzc2FnZTogJ3JlcXVlc3QgdGltZWQgb3V0JyxcbiAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICBzdGF0dXM6IHVuZGVmaW5lZFxuICAgICAgICB9KSk7XG4gICAgICAgIGlmIChhYm9ydENvbnRyb2xsZXIpIHtcbiAgICAgICAgICBhYm9ydENvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgICAgfVxuICAgICAgfSwgd2ViZmluZ2VyLmNvbmZpZy5yZXF1ZXN0X3RpbWVvdXQpO1xuICAgIH0pO1xuXG4gICAgUHJvbWlzZS5yYWNlKFtuZXR3b3JrUHJvbWlzZSwgdGltZW91dFByb21pc2VdKS5cbiAgICB0aGVuKGZ1bmN0aW9uIChyZXNwb25zZVRleHQpIHtcbiAgICAgIHN1Y2Vzc0hhbmRsZXIocmVzcG9uc2VUZXh0KTtcbiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBlcnJvckhhbmRsZXIoZXJyKTtcbiAgICB9KTtcbiAgfTtcbiAgV2ViRmluZ2VyLnByb3RvdHlwZS5fX2ZldGNoSlJEX1hIUiA9IGZ1bmN0aW9uICh1cmwsIGVycm9ySGFuZGxlciwgc3VjZXNzSGFuZGxlcikge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgaGFuZGxlclNwZW50ID0gZmFsc2U7XG4gICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXG4gICAgZnVuY3Rpb24gX19wcm9jZXNzU3RhdGUoKSB7XG4gICAgICBpZiAoaGFuZGxlclNwZW50KXtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfWVsc2V7XG4gICAgICAgIGhhbmRsZXJTcGVudCA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIGlmICh4aHIuc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgaWYgKHNlbGYuX19pc1ZhbGlkSlNPTih4aHIucmVzcG9uc2VUZXh0KSkge1xuICAgICAgICAgIHJldHVybiBzdWNlc3NIYW5kbGVyKHhoci5yZXNwb25zZVRleHQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBlcnJvckhhbmRsZXIoZ2VuZXJhdGVFcnJvck9iamVjdCh7XG4gICAgICAgICAgICBtZXNzYWdlOiAnaW52YWxpZCBqc29uJyxcbiAgICAgICAgICAgIHVybDogdXJsLFxuICAgICAgICAgICAgc3RhdHVzOiB4aHIuc3RhdHVzXG4gICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHhoci5zdGF0dXMgPT09IDQwNCkge1xuICAgICAgICByZXR1cm4gZXJyb3JIYW5kbGVyKGdlbmVyYXRlRXJyb3JPYmplY3Qoe1xuICAgICAgICAgIG1lc3NhZ2U6ICdyZXNvdXJjZSBub3QgZm91bmQnLFxuICAgICAgICAgIHVybDogdXJsLFxuICAgICAgICAgIHN0YXR1czogeGhyLnN0YXR1c1xuICAgICAgICB9KSk7XG4gICAgICB9IGVsc2UgaWYgKCh4aHIuc3RhdHVzID49IDMwMSkgJiYgKHhoci5zdGF0dXMgPD0gMzAyKSkge1xuICAgICAgICB2YXIgbG9jYXRpb24gPSB4aHIuZ2V0UmVzcG9uc2VIZWFkZXIoJ0xvY2F0aW9uJyk7XG4gICAgICAgIGlmIChpc1NlY3VyZShsb2NhdGlvbikpIHtcbiAgICAgICAgICByZXR1cm4gX19tYWtlUmVxdWVzdChsb2NhdGlvbik7IC8vIGZvbGxvdyByZWRpcmVjdFxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBlcnJvckhhbmRsZXIoZ2VuZXJhdGVFcnJvck9iamVjdCh7XG4gICAgICAgICAgICBtZXNzYWdlOiAnbm8gcmVkaXJlY3QgVVJMIGZvdW5kJyxcbiAgICAgICAgICAgIHVybDogdXJsLFxuICAgICAgICAgICAgc3RhdHVzOiB4aHIuc3RhdHVzXG4gICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZXJyb3JIYW5kbGVyKGdlbmVyYXRlRXJyb3JPYmplY3Qoe1xuICAgICAgICAgIG1lc3NhZ2U6ICdlcnJvciBkdXJpbmcgcmVxdWVzdCcsXG4gICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgc3RhdHVzOiB4aHIuc3RhdHVzXG4gICAgICAgIH0pKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfX21ha2VSZXF1ZXN0KCkge1xuICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09PSA0KSB7XG4gICAgICAgICAgX19wcm9jZXNzU3RhdGUoKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX19wcm9jZXNzU3RhdGUoKTtcbiAgICAgIH07XG5cbiAgICAgIHhoci5vbnRpbWVvdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBlcnJvckhhbmRsZXIoZ2VuZXJhdGVFcnJvck9iamVjdCh7XG4gICAgICAgICAgbWVzc2FnZTogJ3JlcXVlc3QgdGltZWQgb3V0JyxcbiAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICBzdGF0dXM6IHhoci5zdGF0dXNcbiAgICAgICAgfSkpO1xuICAgICAgfTtcblxuICAgICAgeGhyLm9wZW4oJ0dFVCcsIHVybCwgdHJ1ZSk7XG4gICAgICB4aHIudGltZW91dCA9IHNlbGYuY29uZmlnLnJlcXVlc3RfdGltZW91dDtcbiAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKCdBY2NlcHQnLCAnYXBwbGljYXRpb24vanJkK2pzb24sIGFwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgIHhoci5zZW5kKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIF9fbWFrZVJlcXVlc3QoKTtcbiAgfTtcblxuICBXZWJGaW5nZXIucHJvdG90eXBlLl9faXNWYWxpZEpTT04gPSBmdW5jdGlvbiAoc3RyKSB7XG4gICAgdHJ5IHtcbiAgICAgIEpTT04ucGFyc2Uoc3RyKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9O1xuXG4gIFdlYkZpbmdlci5wcm90b3R5cGUuX19pc0xvY2FsaG9zdCA9IGZ1bmN0aW9uIChob3N0KSB7XG4gICAgdmFyIGxvY2FsID0gL15sb2NhbGhvc3QoXFwubG9jYWxkb21haW4pPyhcXDpbMC05XSspPyQvO1xuICAgIHJldHVybiBsb2NhbC50ZXN0KGhvc3QpO1xuICB9O1xuXG4gIC8vIHByb2Nlc3NlcyBKUkQgb2JqZWN0IGFzIGlmIGl0J3MgYSB3ZWJmaW5nZXIgcmVzcG9uc2Ugb2JqZWN0XG4gIC8vIGxvb2tzIGZvciBrbm93biBwcm9wZXJ0aWVzIGFuZCBhZGRzIHRoZW0gdG8gcHJvZmlsZSBkYXRhdCBzdHJ1Y3QuXG4gIFdlYkZpbmdlci5wcm90b3R5cGUuX19wcm9jZXNzSlJEID0gZnVuY3Rpb24gKFVSTCwgSlJELCBlcnJvckhhbmRsZXIsIHN1Y2Nlc3NIYW5kbGVyKSB7XG4gICAgdmFyIHBhcnNlZEpSRCA9IEpTT04ucGFyc2UoSlJEKTtcbiAgICBpZiAoKHR5cGVvZiBwYXJzZWRKUkQgIT09ICdvYmplY3QnKSB8fFxuICAgICAgICAodHlwZW9mIHBhcnNlZEpSRC5saW5rcyAhPT0gJ29iamVjdCcpKSB7XG4gICAgICBpZiAodHlwZW9mIHBhcnNlZEpSRC5lcnJvciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIGVycm9ySGFuZGxlcihnZW5lcmF0ZUVycm9yT2JqZWN0KHsgbWVzc2FnZTogcGFyc2VkSlJELmVycm9yLCByZXF1ZXN0OiBVUkwgfSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGVycm9ySGFuZGxlcihnZW5lcmF0ZUVycm9yT2JqZWN0KHsgbWVzc2FnZTogJ3Vua25vd24gcmVzcG9uc2UgZnJvbSBzZXJ2ZXInLCByZXF1ZXN0OiBVUkwgfSkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBsaW5rcyA9IHBhcnNlZEpSRC5saW5rcztcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkobGlua3MpKSB7XG4gICAgICBsaW5rcyA9IFtdO1xuICAgIH1cbiAgICB2YXIgcmVzdWx0ID0geyAgLy8gd2ViZmluZ2VyIEpSRCAtIG9iamVjdCwganNvbiwgYW5kIG91ciBvd24gaW5kZXhpbmdcbiAgICAgIG9iamVjdDogcGFyc2VkSlJELFxuICAgICAganNvbjogSlJELFxuICAgICAgaWR4OiB7fVxuICAgIH07XG5cbiAgICByZXN1bHQuaWR4LnByb3BlcnRpZXMgPSB7XG4gICAgICAnbmFtZSc6IHVuZGVmaW5lZFxuICAgIH07XG4gICAgcmVzdWx0LmlkeC5saW5rcyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoTElOS19QUk9QRVJUSUVTKSk7XG5cbiAgICAvLyBwcm9jZXNzIGxpbmtzXG4gICAgbGlua3MubWFwKGZ1bmN0aW9uIChsaW5rLCBpKSB7XG4gICAgICBpZiAoTElOS19VUklfTUFQUy5oYXNPd25Qcm9wZXJ0eShsaW5rLnJlbCkpIHtcbiAgICAgICAgaWYgKHJlc3VsdC5pZHgubGlua3NbTElOS19VUklfTUFQU1tsaW5rLnJlbF1dKSB7XG4gICAgICAgICAgdmFyIGVudHJ5ID0ge307XG4gICAgICAgICAgT2JqZWN0LmtleXMobGluaykubWFwKGZ1bmN0aW9uIChpdGVtLCBuKSB7XG4gICAgICAgICAgICBlbnRyeVtpdGVtXSA9IGxpbmtbaXRlbV07XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmVzdWx0LmlkeC5saW5rc1tMSU5LX1VSSV9NQVBTW2xpbmsucmVsXV0ucHVzaChlbnRyeSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIHByb2Nlc3MgcHJvcGVydGllc1xuICAgIHZhciBwcm9wcyA9IEpTT04ucGFyc2UoSlJEKS5wcm9wZXJ0aWVzO1xuICAgIGZvciAodmFyIGtleSBpbiBwcm9wcykge1xuICAgICAgaWYgKHByb3BzLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgaWYgKGtleSA9PT0gJ2h0dHA6Ly9wYWNrZXRpemVyLmNvbS9ucy9uYW1lJykge1xuICAgICAgICAgIHJlc3VsdC5pZHgucHJvcGVydGllcy5uYW1lID0gcHJvcHNba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc3VjY2Vzc0hhbmRsZXIocmVzdWx0KTtcbiAgfTtcblxuICBXZWJGaW5nZXIucHJvdG90eXBlLmxvb2t1cCA9IGZ1bmN0aW9uIChhZGRyZXNzLCBjYikge1xuICAgIGlmICh0eXBlb2YgYWRkcmVzcyAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignZmlyc3QgcGFyYW1ldGVyIG11c3QgYmUgYSB1c2VyIGFkZHJlc3MnKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBjYiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdzZWNvbmQgcGFyYW1ldGVyIG11c3QgYmUgYSBjYWxsYmFjaycpO1xuICAgIH1cblxuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgaG9zdCA9ICcnO1xuICAgIGlmIChhZGRyZXNzLmluZGV4T2YoJzovLycpID4gLTEpIHtcbiAgICAgIC8vIG90aGVyIHVyaSBmb3JtYXRcbiAgICAgIGhvc3QgPSBhZGRyZXNzLnJlcGxhY2UoLyAvZywnJykuc3BsaXQoJy8nKVsyXTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gdXNlcmFkZHJlc3NcbiAgICAgIGhvc3QgPSBhZGRyZXNzLnJlcGxhY2UoLyAvZywnJykuc3BsaXQoJ0AnKVsxXTtcbiAgICB9XG4gICAgdmFyIHVyaV9pbmRleCA9IDA7ICAgICAgLy8gdHJhY2sgd2hpY2ggVVJJUyB3ZSd2ZSB0cmllZCBhbHJlYWR5XG4gICAgdmFyIHByb3RvY29sID0gJ2h0dHBzJzsgLy8gd2UgdXNlIGh0dHBzIGJ5IGRlZmF1bHRcblxuICAgIGlmIChzZWxmLl9faXNMb2NhbGhvc3QoaG9zdCkpIHtcbiAgICAgIHByb3RvY29sID0gJ2h0dHAnO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9fYnVpbGRVUkwoKSB7XG4gICAgICB2YXIgdXJpID0gJyc7XG4gICAgICBpZiAoISBhZGRyZXNzLnNwbGl0KCc6Ly8nKVsxXSkge1xuICAgICAgICAvLyB0aGUgVVJJIGhhcyBub3QgYmVlbiBkZWZpbmVkLCBkZWZhdWx0IHRvIGFjY3RcbiAgICAgICAgdXJpID0gJ2FjY3Q6JztcbiAgICAgIH1cbiAgICAgIHJldHVybiBwcm90b2NvbCArICc6Ly8nICsgaG9zdCArICcvLndlbGwta25vd24vJyArXG4gICAgICAgICAgICAgVVJJU1t1cmlfaW5kZXhdICsgJz9yZXNvdXJjZT0nICsgdXJpICsgYWRkcmVzcztcbiAgICB9XG5cbiAgICAvLyBjb250cm9sIGZsb3cgZm9yIGZhaWx1cmVzLCB3aGF0IHRvIGRvIGluIHZhcmlvdXMgY2FzZXMsIGV0Yy5cbiAgICBmdW5jdGlvbiBfX2ZhbGxiYWNrQ2hlY2tzKGVycikge1xuICAgICAgaWYgKChzZWxmLmNvbmZpZy51cmlfZmFsbGJhY2spICYmIChob3N0ICE9PSAnd2ViZmlzdC5vcmcnKSAmJiAodXJpX2luZGV4ICE9PSBVUklTLmxlbmd0aCAtIDEpKSB7IC8vIHdlIGhhdmUgdXJpcyBsZWZ0IHRvIHRyeVxuICAgICAgICB1cmlfaW5kZXggPSB1cmlfaW5kZXggKyAxO1xuICAgICAgICByZXR1cm4gX19jYWxsKCk7XG4gICAgICB9IGVsc2UgaWYgKCghc2VsZi5jb25maWcudGxzX29ubHkpICYmIChwcm90b2NvbCA9PT0gJ2h0dHBzJykpIHsgLy8gdHJ5IG5vcm1hbCBodHRwXG4gICAgICAgIHVyaV9pbmRleCA9IDA7XG4gICAgICAgIHByb3RvY29sID0gJ2h0dHAnO1xuICAgICAgICByZXR1cm4gX19jYWxsKCk7XG4gICAgICB9IGVsc2UgaWYgKChzZWxmLmNvbmZpZy53ZWJmaXN0X2ZhbGxiYWNrKSAmJiAoaG9zdCAhPT0gJ3dlYmZpc3Qub3JnJykpIHsgLy8gd2ViZmlzdCBhdHRlbXB0XG4gICAgICAgIHVyaV9pbmRleCA9IDA7XG4gICAgICAgIHByb3RvY29sID0gJ2h0dHAnO1xuICAgICAgICBob3N0ID0gJ3dlYmZpc3Qub3JnJztcbiAgICAgICAgLy8gd2ViZmlzdCB3aWxsXG4gICAgICAgIC8vIDEuIG1ha2UgYSBxdWVyeSB0byB0aGUgd2ViZmlzdCBzZXJ2ZXIgZm9yIHRoZSB1c2VycyBhY2NvdW50XG4gICAgICAgIC8vIDIuIGZyb20gdGhlIHJlc3BvbnNlLCBnZXQgYSBsaW5rIHRvIHRoZSBhY3R1YWwgd2ViZmluZ2VyIGpzb24gZGF0YVxuICAgICAgICAvLyAgICAoc3RvcmVkIHNvbWV3aGVyZSBpbiBjb250cm9sIG9mIHRoZSB1c2VyKVxuICAgICAgICAvLyAzLiBtYWtlIGEgcmVxdWVzdCB0byB0aGF0IHVybCBhbmQgZ2V0IHRoZSBqc29uXG4gICAgICAgIC8vIDQuIHByb2Nlc3MgaXQgbGlrZSBhIG5vcm1hbCB3ZWJmaW5nZXIgcmVzcG9uc2VcbiAgICAgICAgdmFyIFVSTCA9IF9fYnVpbGRVUkwoKTtcbiAgICAgICAgc2VsZi5fX2ZldGNoSlJEKFVSTCwgY2IsIGZ1bmN0aW9uIChkYXRhKSB7IC8vIGdldCBsaW5rIHRvIHVzZXJzIEpSRFxuICAgICAgICAgIHNlbGYuX19wcm9jZXNzSlJEKFVSTCwgZGF0YSwgY2IsIGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgIGlmICgodHlwZW9mIHJlc3VsdC5pZHgubGlua3Mud2ViZmlzdCA9PT0gJ29iamVjdCcpICYmXG4gICAgICAgICAgICAgICAgKHR5cGVvZiByZXN1bHQuaWR4LmxpbmtzLndlYmZpc3RbMF0uaHJlZiA9PT0gJ3N0cmluZycpKSB7XG4gICAgICAgICAgICAgIHNlbGYuX19mZXRjaEpSRChyZXN1bHQuaWR4LmxpbmtzLndlYmZpc3RbMF0uaHJlZiwgY2IsIGZ1bmN0aW9uIChKUkQpIHtcbiAgICAgICAgICAgICAgICBzZWxmLl9fcHJvY2Vzc0pSRChVUkwsIEpSRCwgY2IsIGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBjYihudWxsLCBjYik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBjYihlcnIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9fY2FsbCgpIHtcbiAgICAgIC8vIG1ha2UgcmVxdWVzdFxuICAgICAgdmFyIFVSTCA9IF9fYnVpbGRVUkwoKTtcbiAgICAgIHNlbGYuX19mZXRjaEpSRChVUkwsIF9fZmFsbGJhY2tDaGVja3MsIGZ1bmN0aW9uIChKUkQpIHtcbiAgICAgICAgc2VsZi5fX3Byb2Nlc3NKUkQoVVJMLCBKUkQsIGNiLCBmdW5jdGlvbiAocmVzdWx0KSB7IGNiKG51bGwsIHJlc3VsdCk7IH0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNldFRpbWVvdXQoX19jYWxsLCAwKTtcbiAgfTtcblxuICBXZWJGaW5nZXIucHJvdG90eXBlLmxvb2t1cExpbmsgPSBmdW5jdGlvbiAoYWRkcmVzcywgcmVsLCBjYikge1xuICAgIGlmIChMSU5LX1BST1BFUlRJRVMuaGFzT3duUHJvcGVydHkocmVsKSkge1xuICAgICAgdGhpcy5sb29rdXAoYWRkcmVzcywgZnVuY3Rpb24gKGVyciwgcCkge1xuICAgICAgICB2YXIgbGlua3MgID0gcC5pZHgubGlua3NbcmVsXTtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIHJldHVybiBjYihlcnIpO1xuICAgICAgICB9IGVsc2UgaWYgKGxpbmtzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHJldHVybiBjYignbm8gbGlua3MgZm91bmQgd2l0aCByZWw9XCInICsgcmVsICsgJ1wiJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGNiKG51bGwsIGxpbmtzWzBdKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBjYigndW5zdXBwb3J0ZWQgcmVsICcgKyByZWwpO1xuICAgIH1cbiAgfTtcblxuXG5cbiAgLy8gQU1EIHN1cHBvcnRcbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgICAgZGVmaW5lKFtdLCBmdW5jdGlvbiAoKSB7IHJldHVybiBXZWJGaW5nZXI7IH0pO1xuICAvLyBDb21tb25KUyBhbmQgTm9kZS5qcyBtb2R1bGUgc3VwcG9ydC5cbiAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAvLyBTdXBwb3J0IE5vZGUuanMgc3BlY2lmaWMgYG1vZHVsZS5leHBvcnRzYCAod2hpY2ggY2FuIGJlIGEgZnVuY3Rpb24pXG4gICAgaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgICAgIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IFdlYkZpbmdlcjtcbiAgICB9XG4gICAgLy8gQnV0IGFsd2F5cyBzdXBwb3J0IENvbW1vbkpTIG1vZHVsZSAxLjEuMSBzcGVjIChgZXhwb3J0c2AgY2Fubm90IGJlIGEgZnVuY3Rpb24pXG4gICAgZXhwb3J0cy5XZWJGaW5nZXIgPSBXZWJGaW5nZXI7XG4gIH0gZWxzZSB7XG4gICAgLy8gYnJvd3NlciA8c2NyaXB0PiBzdXBwb3J0XG4gICAgZ2xvYmFsLldlYkZpbmdlciA9IFdlYkZpbmdlcjtcbiAgfVxufSkodGhpcyk7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IFhNTEh0dHBSZXF1ZXN0O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgY29uZmlnIGZyb20gJy4vY29uZmlnJztcbmltcG9ydCBFbnYgZnJvbSAnLi9lbnYnO1xuaW1wb3J0IGxvZyBmcm9tICcuL2xvZyc7XG5pbXBvcnQgeyBleHRlbmQsIGxvZ0Vycm9yIH0gZnJvbSAnLi91dGlsJztcbmltcG9ydCBTR1BEIGZyb20gJy4vc3luY2VkZ2V0cHV0ZGVsZXRlJztcblxuaW1wb3J0IEFjY2VzcyBmcm9tICcuL2FjY2Vzcyc7XG5pbXBvcnQgQXV0aG9yaXplIGZyb20gJy4vYXV0aG9yaXplJztcbmltcG9ydCBEaXNjb3ZlciBmcm9tICcuL2Rpc2NvdmVyJztcbmltcG9ydCBCYXNlQ2xpZW50IGZyb20gJy4vYmFzZWNsaWVudCc7XG5pbXBvcnQgR29vZ2xlRHJpdmUgZnJvbSAnLi9nb29nbGVkcml2ZSc7XG5pbXBvcnQgRHJvcGJveCBmcm9tICcuL2Ryb3Bib3gnO1xuaW1wb3J0IFdpcmVDbGllbnQgZnJvbSAnLi93aXJlY2xpZW50JztcbmltcG9ydCBTeW5jIGZyb20gJy4vc3luYyc7XG5cbi8vIENhY2hpbmdcbmltcG9ydCBDYWNoaW5nIGZyb20gJy4vY2FjaGluZyc7XG5pbXBvcnQgSW5kZXhlZERCIGZyb20gJy4vaW5kZXhlZGRiJztcbmltcG9ydCBMb2NhbFN0b3JhZ2UgZnJvbSAnLi9sb2NhbHN0b3JhZ2UnO1xuaW1wb3J0IEluTWVtb3J5U3RvcmFnZSBmcm9tICcuL2lubWVtb3J5c3RvcmFnZSc7XG5cbmNvbnN0IEZlYXR1cmVzID0ge1xuICBmZWF0dXJlczogW10sXG4gIGZlYXR1cmVzRG9uZTogMCxcbiAgcmVhZHlGaXJlZDogZmFsc2UsXG5cbiAgbG9hZEZlYXR1cmVzICgpOiB2b2lkIHtcbiAgICB0aGlzLmZlYXR1cmVzID0gW107XG4gICAgdGhpcy5mZWF0dXJlc0RvbmUgPSAwO1xuICAgIHRoaXMucmVhZHlGaXJlZCA9IGZhbHNlO1xuXG4gICAgdGhpcy5mZWF0dXJlTW9kdWxlcyA9IHtcbiAgICAgICdXaXJlQ2xpZW50JzogV2lyZUNsaWVudCxcbiAgICAgICdEcm9wYm94JzogRHJvcGJveCxcbiAgICAgICdHb29nbGVEcml2ZSc6IEdvb2dsZURyaXZlLFxuICAgICAgJ0FjY2Vzcyc6IEFjY2VzcyxcbiAgICAgICdEaXNjb3Zlcic6IERpc2NvdmVyLFxuICAgICAgJ0F1dGhvcml6ZSc6IEF1dGhvcml6ZSxcbiAgICAgICdCYXNlQ2xpZW50JzogQmFzZUNsaWVudCxcbiAgICAgICdFbnYnOiBFbnZcbiAgICB9O1xuXG4gICAgLy8gZW5hYmxlIGNhY2hpbmcgcmVsYXRlZCBtb2R1bGVzIGlmIG5lZWRlZFxuICAgIGlmIChjb25maWcuY2FjaGUpIHtcbiAgICAgIC8vIFRPRE8gcmVwbGFjZSB1dGlsLmV4dGVuZCB3aXRoIG1vZGVybiBKUyB7Li4ub2JqZWN0LCAuLi5vYmplY3R9XG4gICAgICBleHRlbmQodGhpcy5mZWF0dXJlTW9kdWxlcywge1xuICAgICAgICAnQ2FjaGluZyc6IENhY2hpbmcsXG4gICAgICAgICdJbmRleGVkREInOiBJbmRleGVkREIsXG4gICAgICAgICdMb2NhbFN0b3JhZ2UnOiBMb2NhbFN0b3JhZ2UsXG4gICAgICAgICdJbk1lbW9yeVN0b3JhZ2UnOiBJbk1lbW9yeVN0b3JhZ2UsXG4gICAgICAgICdTeW5jJzogU3luY1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gZGlzYWJsZSBmZWF0dXJlcyBzZXQgaW4gdGhlIGNvbmZpZyBvYmplY3QgcGFzc2VkIHRvIHRoZSBSZW1vdGVTdG9yYWdlXG4gICAgLy8gY29uc3RydWN0b3JcbiAgICAvLyBGb3IgZXhhbXBsZTogWydJbmRleGVkREInXVxuICAgIGNvbmZpZy5kaXNhYmxlRmVhdHVyZXMuZm9yRWFjaChmZWF0dXJlID0+IHtcbiAgICAgIGlmICh0aGlzLmZlYXR1cmVNb2R1bGVzW2ZlYXR1cmVdKSB7XG4gICAgICAgIC8vIHRoaXMuZmVhdHVyZU1vZHVsZXNbZmVhdHVyZV0gPSB1bmRlZmluZWRcbiAgICAgICAgZGVsZXRlIHRoaXMuZmVhdHVyZU1vZHVsZXNbZmVhdHVyZV07XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLl9hbGxMb2FkZWQgPSBmYWxzZTtcblxuICAgIGZvciAoY29uc3QgZmVhdHVyZU5hbWUgaW4gdGhpcy5mZWF0dXJlTW9kdWxlcykge1xuICAgICAgLy8gRklYTUU6IHRoaXMgaGFzIHRvIHB1c2ggdGhlIHByb21pc2VkIHJldHVybiB2YWx1ZSBpbnRvIGFuXG4gICAgICAvLyBhcnJheSBvZiBwcm9taXNlcyBhbmQgdXNlIFByb21pc2UuYWxsIHRvIGVtaXQgYHJlYWR5YFxuICAgICAgLy8gaW5zdGVhZCBvZiBpbmNyZW1lbnQgYSBjb3VudGVyIG9mIGxvYWRlZCBmZWF0dXJlcy4gLWxlc1xuICAgICAgdGhpcy5sb2FkRmVhdHVyZShmZWF0dXJlTmFtZSk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBNZXRob2Q6IGhhc0ZlYXR1cmVcbiAgICpcbiAgICogQ2hlY2tzIHdoZXRoZXIgYSBmZWF0dXJlIGlzIGVuYWJsZWQgb3Igbm90IHdpdGhpbiByZW1vdGVTdG9yYWdlLlxuICAgKiBSZXR1cm5zIGEgYm9vbGVhbi5cbiAgICpcbiAgICogUGFyYW1ldGVyczpcbiAgICogICBuYW1lIC0gQ2FwaXRhbGl6ZWQgbmFtZSBvZiB0aGUgZmVhdHVyZS4gZS5nLiBBdXRob3JpemUsIG9yIEluZGV4ZWREQlxuICAgKlxuICAgKiBFeGFtcGxlOlxuICAgKiAgIChzdGFydCBjb2RlKVxuICAgKiAgIGlmIChyZW1vdGVTdG9yYWdlLmhhc0ZlYXR1cmUoJ0xvY2FsU3RvcmFnZScpKSB7XG4gICAqICAgICBjb25zb2xlLmxvZygnTG9jYWxTdG9yYWdlIGlzIGVuYWJsZWQhJyk7XG4gICAqICAgfVxuICAgKiAgIChlbmQgY29kZSlcbiAgICpcbiAgICovXG4gIGhhc0ZlYXR1cmUgKGZlYXR1cmUpIHtcbiAgICBmb3IgKGxldCBpID0gdGhpcy5mZWF0dXJlcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgaWYgKHRoaXMuZmVhdHVyZXNbaV0ubmFtZSA9PT0gZmVhdHVyZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5mZWF0dXJlc1tpXS5zdXBwb3J0ZWQ7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcblxuICBsb2FkRmVhdHVyZSAoZmVhdHVyZU5hbWUpIHtcbiAgICBjb25zdCBmZWF0dXJlID0gdGhpcy5mZWF0dXJlTW9kdWxlc1tmZWF0dXJlTmFtZV07XG4gICAgY29uc3Qgc3VwcG9ydGVkID0gIWZlYXR1cmUuX3JzX3N1cHBvcnRlZCB8fCBmZWF0dXJlLl9yc19zdXBwb3J0ZWQoKTtcblxuICAgIGxvZyhgW1JlbW90ZVN0b3JhZ2VdIFtGRUFUVVJFICR7ZmVhdHVyZU5hbWV9XSBpbml0aWFsaXppbmcgLi4uYCk7XG5cbiAgICBpZiAodHlwZW9mIHN1cHBvcnRlZCA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHN1cHBvcnRlZC50aGVuKCAoKSA9PiB7XG4gICAgICAgIHRoaXMuZmVhdHVyZVN1cHBvcnRlZChmZWF0dXJlTmFtZSwgdHJ1ZSk7XG4gICAgICAgIHRoaXMuaW5pdEZlYXR1cmUoZmVhdHVyZU5hbWUpO1xuICAgICAgfSwgKCkgPT4ge1xuICAgICAgICB0aGlzLmZlYXR1cmVTdXBwb3J0ZWQoZmVhdHVyZU5hbWUsIGZhbHNlKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHN1cHBvcnRlZCA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICB0aGlzLmZlYXR1cmVTdXBwb3J0ZWQoZmVhdHVyZU5hbWUsIHN1cHBvcnRlZCk7XG4gICAgICBpZiAoc3VwcG9ydGVkKSB7XG4gICAgICAgIHRoaXMuaW5pdEZlYXR1cmUoZmVhdHVyZU5hbWUpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmZlYXR1cmVTdXBwb3J0ZWQoZmVhdHVyZU5hbWUsIGZhbHNlKTtcbiAgICB9XG4gIH0sXG5cbiAgaW5pdEZlYXR1cmUgKGZlYXR1cmVOYW1lKSB7XG4gICAgY29uc3QgZmVhdHVyZSA9IHRoaXMuZmVhdHVyZU1vZHVsZXNbZmVhdHVyZU5hbWVdO1xuICAgIGxldCBpbml0UmVzdWx0O1xuICAgIHRyeSB7XG4gICAgICBpbml0UmVzdWx0ID0gZmVhdHVyZS5fcnNfaW5pdCh0aGlzKTtcbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgIHRoaXMuZmVhdHVyZUZhaWxlZChmZWF0dXJlTmFtZSwgZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZihpbml0UmVzdWx0KSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mKGluaXRSZXN1bHQudGhlbikgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGluaXRSZXN1bHQudGhlbihcbiAgICAgICAgKCkgPT4geyB0aGlzLmZlYXR1cmVJbml0aWFsaXplZChmZWF0dXJlTmFtZSk7IH0sXG4gICAgICAgIChlcnIpID0+IHsgdGhpcy5mZWF0dXJlRmFpbGVkKGZlYXR1cmVOYW1lLCBlcnIpOyB9XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmZlYXR1cmVJbml0aWFsaXplZChmZWF0dXJlTmFtZSk7XG4gICAgfVxuICB9LFxuXG4gIGZlYXR1cmVGYWlsZWQgKGZlYXR1cmVOYW1lLCBlcnIpIHtcbiAgICBsb2coYFtSZW1vdGVTdG9yYWdlXSBbRkVBVFVSRSAke2ZlYXR1cmVOYW1lfV0gaW5pdGlhbGl6YXRpb24gZmFpbGVkICgke2Vycn0pYCk7XG4gICAgdGhpcy5mZWF0dXJlRG9uZSgpO1xuICB9LFxuXG4gIGZlYXR1cmVTdXBwb3J0ZWQgKGZlYXR1cmVOYW1lLCBzdWNjZXNzKSB7XG4gICAgbG9nKGBbUmVtb3RlU3RvcmFnZV0gW0ZFQVRVUkUgJHtmZWF0dXJlTmFtZX1dJHtzdWNjZXNzID8gJycgOiAnbm90ICd9IHN1cHBvcnRlZGApO1xuICAgIGlmICghc3VjY2Vzcykge1xuICAgICAgdGhpcy5mZWF0dXJlRG9uZSgpO1xuICAgIH1cbiAgfSxcblxuICBmZWF0dXJlSW5pdGlhbGl6ZWQgKGZlYXR1cmVOYW1lKSB7XG4gICAgbG9nKGBbUmVtb3RlU3RvcmFnZV0gW0ZFQVRVUkUgJHtmZWF0dXJlTmFtZX1dIGluaXRpYWxpemVkYCk7XG4gICAgdGhpcy5mZWF0dXJlcy5wdXNoKHtcbiAgICAgIG5hbWUgOiBmZWF0dXJlTmFtZSxcbiAgICAgIGluaXQgOiAgdGhpcy5mZWF0dXJlTW9kdWxlc1tmZWF0dXJlTmFtZV0uX3JzX2luaXQsXG4gICAgICBzdXBwb3J0ZWQgOiB0cnVlLFxuICAgICAgY2xlYW51cCA6IHRoaXMuZmVhdHVyZU1vZHVsZXNbZmVhdHVyZU5hbWVdLl9yc19jbGVhbnVwXG4gICAgfSk7XG4gICAgdGhpcy5mZWF0dXJlRG9uZSgpO1xuICB9LFxuXG4gIGZlYXR1cmVEb25lICgpIHtcbiAgICB0aGlzLmZlYXR1cmVzRG9uZSsrO1xuICAgIGlmICh0aGlzLmZlYXR1cmVzRG9uZSA9PT0gT2JqZWN0LmtleXModGhpcy5mZWF0dXJlTW9kdWxlcykubGVuZ3RoKSB7XG4gICAgICBzZXRUaW1lb3V0KHRoaXMuZmVhdHVyZXNMb2FkZWQuYmluZCh0aGlzKSwgMCk7XG4gICAgfVxuICB9LFxuXG4gIF9zZXRDYWNoaW5nTW9kdWxlICgpIHtcbiAgICBjb25zdCBjYWNoaW5nTW9kdWxlcyA9IFsnSW5kZXhlZERCJywgJ0xvY2FsU3RvcmFnZScsICdJbk1lbW9yeVN0b3JhZ2UnXTtcblxuICAgIGNhY2hpbmdNb2R1bGVzLnNvbWUoIGNhY2hpbmdMYXllciA9PiB7XG4gICAgICBpZiAodGhpcy5mZWF0dXJlcy5zb21lKGZlYXR1cmUgPT4gZmVhdHVyZS5uYW1lID09PSBjYWNoaW5nTGF5ZXIpKSB7XG4gICAgICAgIHRoaXMuZmVhdHVyZXMubG9jYWwgPSB0aGlzLmZlYXR1cmVNb2R1bGVzW2NhY2hpbmdMYXllcl07XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuXG4gIF9maXJlUmVhZHkoKSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICghdGhpcy5yZWFkeUZpcmVkKSB7XG4gICAgICAgIHRoaXMuX2VtaXQoJ3JlYWR5Jyk7XG4gICAgICAgIHRoaXMucmVhZHlGaXJlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfSBjYXRjaChlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiJ3JlYWR5JyBmYWlsZWQ6IFwiLCBlLCBlLnN0YWNrKTtcbiAgICAgIHRoaXMuX2VtaXQoJ2Vycm9yJywgZSk7XG4gICAgfVxuICB9LFxuXG4gIGZlYXR1cmVzTG9hZGVkICgpIHtcbiAgICBsb2coYFtSZW1vdGVTdG9yYWdlXSBBbGwgZmVhdHVyZXMgbG9hZGVkYCk7XG5cbiAgICB0aGlzLl9zZXRDYWNoaW5nTW9kdWxlKCk7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5ldy1jYXBcbiAgICB0aGlzLmxvY2FsID0gY29uZmlnLmNhY2hlICYmIHRoaXMuZmVhdHVyZXMubG9jYWwgJiYgbmV3IHRoaXMuZmVhdHVyZXMubG9jYWwoKTtcblxuICAgIC8vIHRoaXMucmVtb3RlIHNldCBieSBXaXJlQ2xpZW50Ll9yc19pbml0IGFzIGxhenkgcHJvcGVydHkgb25cbiAgICAvLyBSUy5wcm90b3R5cGVcblxuICAgIGlmICh0aGlzLmxvY2FsICYmIHRoaXMucmVtb3RlKSB7XG4gICAgICB0aGlzLl9zZXRHUEQoU0dQRCwgdGhpcyk7XG4gICAgICB0aGlzLl9iaW5kQ2hhbmdlKHRoaXMubG9jYWwpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5yZW1vdGUpIHtcbiAgICAgIHRoaXMuX3NldEdQRCh0aGlzLnJlbW90ZSwgdGhpcy5yZW1vdGUpO1xuICAgIH1cbiAgICBpZiAodGhpcy5yZW1vdGUpIHtcbiAgICAgIHRoaXMucmVtb3RlLm9uKCdjb25uZWN0ZWQnLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2ZpcmVSZWFkeSgpO1xuICAgICAgICB0aGlzLl9lbWl0KCdjb25uZWN0ZWQnKTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5yZW1vdGUub24oJ25vdC1jb25uZWN0ZWQnLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2ZpcmVSZWFkeSgpO1xuICAgICAgICB0aGlzLl9lbWl0KCdub3QtY29ubmVjdGVkJyk7XG4gICAgICB9KTtcbiAgICAgIGlmICh0aGlzLnJlbW90ZS5jb25uZWN0ZWQpIHtcbiAgICAgICAgdGhpcy5fZmlyZVJlYWR5KCk7XG4gICAgICAgIHRoaXMuX2VtaXQoJ2Nvbm5lY3RlZCcpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXRoaXMuaGFzRmVhdHVyZSgnQXV0aG9yaXplJykpIHtcbiAgICAgICAgdGhpcy5yZW1vdGUuc3RvcFdhaXRpbmdGb3JUb2tlbigpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuX2NvbGxlY3RDbGVhbnVwRnVuY3Rpb25zKCk7XG5cbiAgICB0cnkge1xuICAgICAgdGhpcy5fYWxsTG9hZGVkID0gdHJ1ZTtcbiAgICAgIHRoaXMuX2VtaXQoJ2ZlYXR1cmVzLWxvYWRlZCcpO1xuICAgIH0gY2F0Y2goZXhjKSB7XG4gICAgICBsb2dFcnJvcihleGMpO1xuICAgICAgdGhpcy5fZW1pdCgnZXJyb3InLCBleGMpO1xuICAgIH1cbiAgICB0aGlzLl9wcm9jZXNzUGVuZGluZygpO1xuICB9LFxuXG4gIF9jb2xsZWN0Q2xlYW51cEZ1bmN0aW9ucyAoKTogdm9pZCB7XG4gICAgdGhpcy5fY2xlYW51cHMgPSBbXTtcbiAgICBmb3IgKGxldCBpPTA7IGkgPCB0aGlzLmZlYXR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBjbGVhbnVwID0gdGhpcy5mZWF0dXJlc1tpXS5jbGVhbnVwO1xuICAgICAgaWYgKHR5cGVvZihjbGVhbnVwKSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzLl9jbGVhbnVwcy5wdXNoKGNsZWFudXApO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgRmVhdHVyZXM7XG4iLCJpbXBvcnQgbG9nIGZyb20gJy4vbG9nJztcblxuZnVuY3Rpb24gc2hhcmVGaXJzdChwYXRoOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgcmV0dXJuICggdGhpcy5iYWNrZW5kID09PSAnZHJvcGJveCcgJiZcbiAgICAgICAgICAgISFwYXRoLm1hdGNoKC9eXFwvcHVibGljXFwvLipbXlxcL10kLykgKTtcbn1cblxuZnVuY3Rpb24gZGVmYXVsdE1heEFnZShjb250ZXh0KTogZmFsc2UgfCBudW1iZXIge1xuICBpZiAoKHR5cGVvZiBjb250ZXh0LnJlbW90ZSA9PT0gJ29iamVjdCcpICYmXG4gICAgICBjb250ZXh0LnJlbW90ZS5jb25uZWN0ZWQgJiYgY29udGV4dC5yZW1vdGUub25saW5lKSB7XG4gICAgcmV0dXJuIDIgKiBjb250ZXh0LmdldFN5bmNJbnRlcnZhbCgpO1xuICB9IGVsc2Uge1xuICAgIGxvZygnTm90IHNldHRpbmcgZGVmYXVsdCBtYXhBZ2UsIGJlY2F1c2UgcmVtb3RlIGlzIG9mZmxpbmUgb3Igbm90IGNvbm5lY3RlZCcpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5jb25zdCBTeW5jZWRHZXRQdXREZWxldGUgPSB7XG4gIGdldDogZnVuY3Rpb24gKHBhdGg6IHN0cmluZywgbWF4QWdlOiB1bmRlZmluZWQgfCBmYWxzZSB8IG51bWJlcik6IFByb21pc2U8dW5rbm93bj4ge1xuICAgIGlmICghdGhpcy5sb2NhbCkge1xuICAgICAgcmV0dXJuIHRoaXMucmVtb3RlLmdldChwYXRoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHR5cGVvZiBtYXhBZ2UgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIG1heEFnZSA9IGRlZmF1bHRNYXhBZ2UodGhpcyk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBtYXhBZ2UgIT09ICdudW1iZXInICYmIG1heEFnZSAhPT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBBcmd1bWVudCAnbWF4QWdlJyBtdXN0IGJlICdmYWxzZScgb3IgYSBudW1iZXJgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLmxvY2FsLmdldChwYXRoLCBtYXhBZ2UsIHRoaXMuc3luYy5xdWV1ZUdldFJlcXVlc3QuYmluZCh0aGlzLnN5bmMpKTtcbiAgICB9XG4gIH0sXG5cbiAgcHV0OiBmdW5jdGlvbiAocGF0aDogc3RyaW5nLCBib2R5OiB1bmtub3duLCBjb250ZW50VHlwZTogc3RyaW5nKTogUHJvbWlzZTx1bmtub3duPiB7XG4gICAgaWYgKHNoYXJlRmlyc3QuYmluZCh0aGlzKShwYXRoKSkge1xuICAgICAgcmV0dXJuIFN5bmNlZEdldFB1dERlbGV0ZS5fd3JhcEJ1c3lEb25lLmNhbGwodGhpcywgdGhpcy5yZW1vdGUucHV0KHBhdGgsIGJvZHksIGNvbnRlbnRUeXBlKSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHRoaXMubG9jYWwpIHtcbiAgICAgIHJldHVybiB0aGlzLmxvY2FsLnB1dChwYXRoLCBib2R5LCBjb250ZW50VHlwZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBTeW5jZWRHZXRQdXREZWxldGUuX3dyYXBCdXN5RG9uZS5jYWxsKHRoaXMsIHRoaXMucmVtb3RlLnB1dChwYXRoLCBib2R5LCBjb250ZW50VHlwZSkpO1xuICAgIH1cbiAgfSxcblxuICAnZGVsZXRlJzogZnVuY3Rpb24gKHBhdGg6IHN0cmluZyk6IFByb21pc2U8dW5rbm93bj4ge1xuICAgIGlmICh0aGlzLmxvY2FsKSB7XG4gICAgICByZXR1cm4gdGhpcy5sb2NhbC5kZWxldGUocGF0aCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBTeW5jZWRHZXRQdXREZWxldGUuX3dyYXBCdXN5RG9uZS5jYWxsKHRoaXMsIHRoaXMucmVtb3RlLmRlbGV0ZShwYXRoKSk7XG4gICAgfVxuICB9LFxuXG4gIF93cmFwQnVzeURvbmU6IGFzeW5jIGZ1bmN0aW9uIChyZXN1bHQ6IFByb21pc2U8dW5rbm93bj4pOiBQcm9taXNlPHVua25vd24+IHtcbiAgICB0aGlzLl9lbWl0KCd3aXJlLWJ1c3knKTtcbiAgICByZXR1cm4gcmVzdWx0LnRoZW4oKHIpID0+IHtcbiAgICAgIHRoaXMuX2VtaXQoJ3dpcmUtZG9uZScsIHsgc3VjY2VzczogdHJ1ZSB9KTtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocik7XG4gICAgfSwgKGVycjogRXJyb3IpID0+IHtcbiAgICAgIHRoaXMuX2VtaXQoJ3dpcmUtZG9uZScsIHsgc3VjY2VzczogZmFsc2UgfSk7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyKTtcbiAgICB9KTtcbiAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgU3luY2VkR2V0UHV0RGVsZXRlO1xuIiwiaW1wb3J0IGNvbmZpZyBmcm9tICcuL2NvbmZpZyc7XG5pbXBvcnQgRW52IGZyb20gJy4vZW52JztcbmltcG9ydCBFdmVudEhhbmRsaW5nIGZyb20gJy4vZXZlbnRoYW5kbGluZyc7XG5pbXBvcnQgbG9nIGZyb20gJy4vbG9nJztcbmltcG9ydCBBdXRob3JpemUgZnJvbSAnLi9hdXRob3JpemUnO1xuaW1wb3J0IFN5bmNFcnJvciBmcm9tICcuL3N5bmMtZXJyb3InO1xuaW1wb3J0IFVuYXV0aG9yaXplZEVycm9yIGZyb20gJy4vdW5hdXRob3JpemVkLWVycm9yJztcbmltcG9ydCB7XG4gIGFwcGx5TWl4aW5zLFxuICBkZWVwQ2xvbmUsXG4gIGVxdWFsLFxuICBpc0ZvbGRlcixcbiAgaXNEb2N1bWVudCxcbiAgcGF0aHNGcm9tUm9vdFxufSBmcm9tICcuL3V0aWwnO1xuXG5sZXQgc3luY0N5Y2xlQ2IsIHN5bmNPbkNvbm5lY3Q7XG5cbmludGVyZmFjZSBSZXNwb25zZVN0YXR1cyB7XG4gIHN0YXR1c0NvZGU6IHN0cmluZyB8IG51bWJlcjtcbiAgc3VjY2Vzc2Z1bDogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbiAgY29uZmxpY3Q6IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG4gIHVuQXV0aDogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbiAgbm90Rm91bmQ6IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG4gIGNoYW5nZWQ6IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG4gIG5ldHdvcmtQcm9ibGVtczogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbn1cblxuaW50ZXJmYWNlIFN5bmNUYXNrIHtcbiAgYWN0aW9uOiBhbnk7XG4gIHBhdGg6IHN0cmluZztcbiAgcHJvbWlzZTogUHJvbWlzZTxhbnk+O1xufVxuXG5mdW5jdGlvbiB0YXNrRm9yIChhY3Rpb24sIHBhdGg6IHN0cmluZywgcHJvbWlzZTogUHJvbWlzZTxhbnk+KTogU3luY1Rhc2sge1xuICByZXR1cm4geyBhY3Rpb24sIHBhdGgsIHByb21pc2UgfTtcbn1cblxuZnVuY3Rpb24gbm9kZUNoYW5nZWQgKG5vZGU6IFJTTm9kZSwgZXRhZzogc3RyaW5nKTogYm9vbGVhbiB7XG4gIHJldHVybiBub2RlLmNvbW1vbi5yZXZpc2lvbiAhPT0gZXRhZyAmJlxuICAgICAgICAgKCFub2RlLnJlbW90ZSB8fCBub2RlLnJlbW90ZS5yZXZpc2lvbiAhPT0gZXRhZyk7XG59XG5cbmZ1bmN0aW9uIGlzU3RhbGVDaGlsZCAobm9kZTogUlNOb2RlKTogYm9vbGVhbiB7XG4gIHJldHVybiBub2RlLnJlbW90ZSAmJiBub2RlLnJlbW90ZS5yZXZpc2lvbiAmJiAhbm9kZS5yZW1vdGUuaXRlbXNNYXAgJiYgIW5vZGUucmVtb3RlLmJvZHk7XG59XG5cbmZ1bmN0aW9uIGhhc0NvbW1vblJldmlzaW9uIChub2RlOiBSU05vZGUpOiBib29sZWFuIHtcbiAgcmV0dXJuIG5vZGUuY29tbW9uICYmIG5vZGUuY29tbW9uLnJldmlzaW9uO1xufVxuXG5mdW5jdGlvbiBoYXNOb1JlbW90ZUNoYW5nZXMgKG5vZGU6IFJTTm9kZSk6IGJvb2xlYW4ge1xuICBpZiAobm9kZS5yZW1vdGUgJiYgbm9kZS5yZW1vdGUucmV2aXNpb24gJiZcbiAgICAgIG5vZGUucmVtb3RlLnJldmlzaW9uICE9PSBub2RlLmNvbW1vbi5yZXZpc2lvbikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gKG5vZGUuY29tbW9uLmJvZHkgPT09IHVuZGVmaW5lZCAmJiBub2RlLnJlbW90ZS5ib2R5ID09PSBmYWxzZSkgfHxcbiAgICAobm9kZS5yZW1vdGUuYm9keSA9PT0gbm9kZS5jb21tb24uYm9keSAmJlxuICAgICBub2RlLnJlbW90ZS5jb250ZW50VHlwZSA9PT0gbm9kZS5jb21tb24uY29udGVudFR5cGUpO1xufVxuXG5mdW5jdGlvbiBtZXJnZU11dHVhbERlbGV0aW9uIChub2RlOiBSU05vZGUpOiBSU05vZGUge1xuICBpZiAobm9kZS5yZW1vdGUgJiYgbm9kZS5yZW1vdGUuYm9keSA9PT0gZmFsc2UgJiZcbiAgICAgIG5vZGUubG9jYWwgJiYgbm9kZS5sb2NhbC5ib2R5ID09PSBmYWxzZSkge1xuICAgIGRlbGV0ZSBub2RlLmxvY2FsO1xuICB9XG4gIHJldHVybiBub2RlO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVWaXNpYmlsaXR5IChlbnYsIHJzKTogdm9pZCB7XG4gIGZ1bmN0aW9uIGhhbmRsZUNoYW5nZSAoaXNGb3JlZ3JvdW5kKTogdm9pZCB7XG4gICAgY29uc3Qgb2xkVmFsdWUgPSBycy5nZXRDdXJyZW50U3luY0ludGVydmFsKCk7XG4gICAgY29uZmlnLmlzQmFja2dyb3VuZCA9ICFpc0ZvcmVncm91bmQ7XG4gICAgY29uc3QgbmV3VmFsdWUgPSBycy5nZXRDdXJyZW50U3luY0ludGVydmFsKCk7XG4gICAgcnMuX2VtaXQoJ3N5bmMtaW50ZXJ2YWwtY2hhbmdlJywge29sZFZhbHVlOiBvbGRWYWx1ZSwgbmV3VmFsdWU6IG5ld1ZhbHVlfSk7XG4gIH1cbiAgZW52Lm9uKCdiYWNrZ3JvdW5kJywgKCkgPT4gaGFuZGxlQ2hhbmdlKGZhbHNlKSk7XG4gIGVudi5vbignZm9yZWdyb3VuZCcsICgpID0+IGhhbmRsZUNoYW5nZSh0cnVlKSk7XG59XG5cbi8qKlxuICogQ2xhc3M6IFJlbW90ZVN0b3JhZ2UuU3luY1xuICpcbiAqIFRoaXMgY2xhc3MgYmFzaWNhbGx5IGRvZXMgc2l4IHRoaW5nczpcbiAqXG4gKiAtIHJldHJpZXZlIHRoZSByZW1vdGUgdmVyc2lvbiBvZiByZWxldmFudCBkb2N1bWVudHMgYW5kIGZvbGRlcnNcbiAqIC0gYWRkIGFsbCBsb2NhbCBhbmQgcmVtb3RlIGRvY3VtZW50cyB0b2dldGhlciBpbnRvIG9uZSB0cmVlXG4gKiAtIHB1c2ggbG9jYWwgZG9jdW1lbnRzIG91dCBpZiB0aGV5IGRvbid0IGV4aXN0IHJlbW90ZWx5XG4gKiAtIHB1c2ggbG9jYWwgY2hhbmdlcyBvdXQgdG8gcmVtb3RlIGRvY3VtZW50cyAoY29uZGl0aW9uYWxseSwgdG8gYXZvaWQgcmFjZVxuICogICBjb25kaXRpb25zIHdoZXJlIGJvdGggaGF2ZSBjaGFuZ2VkKVxuICogLSBhZG9wdCB0aGUgbG9jYWwgdmVyc2lvbiBvZiBhIGRvY3VtZW50IHRvIGl0cyByZW1vdGUgdmVyc2lvbiBpZiBib3RoIGV4aXN0XG4gKiAgIGFuZCB0aGV5IGRpZmZlclxuICogLSBkZWxldGUgdGhlIGxvY2FsIHZlcnNpb24gb2YgYSBkb2N1bWVudCBpZiBpdCB3YXMgZGVsZXRlZCByZW1vdGVseVxuICogLSBpZiBhbnkgR0VUIHJlcXVlc3RzIHdlcmUgd2FpdGluZyBmb3IgcmVtb3RlIGRhdGEsIHJlc29sdmUgdGhlbSBvbmNlIHRoaXNcbiAqICAgZGF0YSBjb21lcyBpbi5cbiAqXG4gKiBJdCBkb2VzIHRoaXMgdXNpbmcgcmVxdWVzdHMgdG8gZG9jdW1lbnRzIGFuZCBmb2xkZXJzLiBXaGVuZXZlciBhIGZvbGRlciBHRVRcbiAqIGNvbWVzIGluLCBpdCBnaXZlcyBpbmZvcm1hdGlvbiBhYm91dCBhbGwgdGhlIGRvY3VtZW50cyBpdCBjb250YWlucyAodGhpcyBpc1xuICogdGhlIGBtYXJrQ2hpbGRyZW5gIGZ1bmN0aW9uKS5cbiAqKi9cbmNsYXNzIFN5bmMge1xuICAvLyBUT0RPIHJlbW92ZSB3aGVuIFJTIGlzIGRlZmluZWQsIG9yIGlmIHVubmVjZXNzYXJ5XG4gIHJzOiB7IFtwcm9wTmFtZTogc3RyaW5nXTogYW55IH1cblxuICBudW1UaHJlYWRzOiBudW1iZXJcbiAgZG9uZTogYm9vbGVhblxuICBzdG9wcGVkOiBib29sZWFuXG5cbiAgLy8gVE9ETyBkZWZpbmUgaW4gbW9yZSBkZXRhaWxcbiAgX3Rhc2tzOiBvYmplY3RcbiAgX3J1bm5pbmc6IG9iamVjdFxuICBfdGltZVN0YXJ0ZWQ6IG9iamVjdFxuXG4gIGNvbnN0cnVjdG9yIChyZW1vdGVTdG9yYWdlOiBvYmplY3QpIHtcbiAgICB0aGlzLnJzID0gcmVtb3RlU3RvcmFnZTtcblxuICAgIHRoaXMuX3Rhc2tzICAgICAgID0ge307XG4gICAgdGhpcy5fcnVubmluZyAgICAgPSB7fTtcbiAgICB0aGlzLl90aW1lU3RhcnRlZCA9IHt9O1xuXG4gICAgdGhpcy5udW1UaHJlYWRzID0gMTA7XG5cbiAgICB0aGlzLnJzLmxvY2FsLm9uRGlmZihwYXRoID0+IHtcbiAgICAgIHRoaXMuYWRkVGFzayhwYXRoKTtcbiAgICAgIHRoaXMuZG9UYXNrcygpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5ycy5jYWNoaW5nLm9uQWN0aXZhdGUoKHBhdGg6IHN0cmluZyk6IHZvaWQgPT4ge1xuICAgICAgdGhpcy5hZGRUYXNrKHBhdGgpO1xuICAgICAgdGhpcy5kb1Rhc2tzKCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLmFkZEV2ZW50cyhbJ2RvbmUnLCAncmVxLWRvbmUnXSk7XG4gIH1cblxuICBwdWJsaWMgbm93ICgpOiBudW1iZXIge1xuICAgIHJldHVybiBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgfVxuXG4gIHB1YmxpYyBxdWV1ZUdldFJlcXVlc3QgKHBhdGg6IHN0cmluZyk6IG9iamVjdCB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGlmICghdGhpcy5ycy5yZW1vdGUuY29ubmVjdGVkKSB7XG4gICAgICAgIHJlamVjdCgnY2Fubm90IGZ1bGZpbGwgbWF4QWdlIHJlcXVpcmVtZW50IC0gcmVtb3RlIGlzIG5vdCBjb25uZWN0ZWQnKTtcbiAgICAgIH0gZWxzZSBpZiAoIXRoaXMucnMucmVtb3RlLm9ubGluZSkge1xuICAgICAgICByZWplY3QoJ2Nhbm5vdCBmdWxmaWxsIG1heEFnZSByZXF1aXJlbWVudCAtIHJlbW90ZSBpcyBub3Qgb25saW5lJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmFkZFRhc2socGF0aCwgZnVuY3Rpb24gKCk6IHZvaWQge1xuICAgICAgICAgIHRoaXMucnMubG9jYWwuZ2V0KHBhdGgpLnRoZW4ociA9PiByZXNvbHZlKHIpKTtcbiAgICAgICAgfS5iaW5kKHRoaXMpKTtcblxuICAgICAgICB0aGlzLmRvVGFza3MoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8vIEZJWE1FIGZvcmNlMDIgc291bmRzIGxpa2UgcnMgc3BlYyAwMiwgdGh1cyBjb3VsZCBiZSByZW1vdmVkXG4gIHB1YmxpYyBjb3JydXB0U2VydmVySXRlbXNNYXAgKGl0ZW1zTWFwLCBmb3JjZTAyPzogYm9vbGVhbik6IGJvb2xlYW4ge1xuICAgIGlmICgodHlwZW9mKGl0ZW1zTWFwKSAhPT0gJ29iamVjdCcpIHx8IChBcnJheS5pc0FycmF5KGl0ZW1zTWFwKSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGZvciAoY29uc3QgaXRlbU5hbWUgaW4gaXRlbXNNYXApIHtcbiAgICAgIGNvbnN0IGl0ZW0gPSBpdGVtc01hcFtpdGVtTmFtZV07XG5cbiAgICAgIGlmICh0eXBlb2YoaXRlbSkgIT09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZihpdGVtLkVUYWcpICE9PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChpc0ZvbGRlcihpdGVtTmFtZSkpIHtcbiAgICAgICAgaWYgKGl0ZW1OYW1lLnN1YnN0cmluZygwLCBpdGVtTmFtZS5sZW5ndGgtMSkuaW5kZXhPZignLycpICE9PSAtMSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoaXRlbU5hbWUuaW5kZXhPZignLycpICE9PSAtMSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmb3JjZTAyKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZihpdGVtWydDb250ZW50LVR5cGUnXSkgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHR5cGVvZihpdGVtWydDb250ZW50LUxlbmd0aCddKSAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHB1YmxpYyBjb3JydXB0SXRlbXNNYXAgKGl0ZW1zTWFwKTogYm9vbGVhbiB7XG4gICAgaWYgKCh0eXBlb2YoaXRlbXNNYXApICE9PSAnb2JqZWN0JykgfHwgKEFycmF5LmlzQXJyYXkoaXRlbXNNYXApKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBwYXRoIGluIGl0ZW1zTWFwKSB7XG4gICAgICBpZiAodHlwZW9mIGl0ZW1zTWFwW3BhdGhdICE9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcHVibGljIGNvcnJ1cHRSZXZpc2lvbiAocmV2KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuICgodHlwZW9mKHJldikgIT09ICdvYmplY3QnKSB8fFxuICAgICAgICAgICAgKEFycmF5LmlzQXJyYXkocmV2KSkgfHxcbiAgICAgICAgICAgIChyZXYucmV2aXNpb24gJiYgdHlwZW9mKHJldi5yZXZpc2lvbikgIT09ICdzdHJpbmcnKSB8fFxuICAgICAgICAgICAgKHJldi5ib2R5ICYmIHR5cGVvZihyZXYuYm9keSkgIT09ICdzdHJpbmcnICYmIHR5cGVvZihyZXYuYm9keSkgIT09ICdvYmplY3QnKSB8fFxuICAgICAgICAgICAgKHJldi5jb250ZW50VHlwZSAmJiB0eXBlb2YocmV2LmNvbnRlbnRUeXBlKSAhPT0gJ3N0cmluZycpIHx8XG4gICAgICAgICAgICAocmV2LmNvbnRlbnRMZW5ndGggJiYgdHlwZW9mKHJldi5jb250ZW50TGVuZ3RoKSAhPT0gJ251bWJlcicpIHx8XG4gICAgICAgICAgICAocmV2LnRpbWVzdGFtcCAmJiB0eXBlb2YocmV2LnRpbWVzdGFtcCkgIT09ICdudW1iZXInKSB8fFxuICAgICAgICAgICAgKHJldi5pdGVtc01hcCAmJiB0aGlzLmNvcnJ1cHRJdGVtc01hcChyZXYuaXRlbXNNYXApKSk7XG4gIH1cblxuICBwdWJsaWMgaXNDb3JydXB0IChub2RlOiBSU05vZGUpOiBib29sZWFuIHtcbiAgICByZXR1cm4gKCh0eXBlb2Yobm9kZSkgIT09ICdvYmplY3QnKSB8fFxuICAgICAgICAgICAgKEFycmF5LmlzQXJyYXkobm9kZSkpIHx8XG4gICAgICAgICAgICAodHlwZW9mKG5vZGUucGF0aCkgIT09ICdzdHJpbmcnKSB8fFxuICAgICAgICAgICAgKHRoaXMuY29ycnVwdFJldmlzaW9uKG5vZGUuY29tbW9uKSkgfHxcbiAgICAgICAgICAgIChub2RlLmxvY2FsICYmIHRoaXMuY29ycnVwdFJldmlzaW9uKG5vZGUubG9jYWwpKSB8fFxuICAgICAgICAgICAgKG5vZGUucmVtb3RlICYmIHRoaXMuY29ycnVwdFJldmlzaW9uKG5vZGUucmVtb3RlKSkgfHxcbiAgICAgICAgICAgIChub2RlLnB1c2ggJiYgdGhpcy5jb3JydXB0UmV2aXNpb24obm9kZS5wdXNoKSkpO1xuICB9XG5cbiAgcHVibGljIGhhc1Rhc2tzICgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGhpcy5fdGFza3MpLmxlbmd0aCA+IDA7XG4gIH1cblxuICBwdWJsaWMgYXN5bmMgY29sbGVjdERpZmZUYXNrcyAoKTogUHJvbWlzZTxudW1iZXI+IHtcbiAgICBsZXQgbnVtID0gMDtcblxuICAgIHJldHVybiB0aGlzLnJzLmxvY2FsLmZvckFsbE5vZGVzKChub2RlOiBSU05vZGUpID0+IHtcbiAgICAgIGlmIChudW0gPiAxMDApIHsgcmV0dXJuOyB9XG5cbiAgICAgIGlmICh0aGlzLmlzQ29ycnVwdChub2RlKSkge1xuICAgICAgICBsb2coJ1tTeW5jXSBXQVJOSU5HOiBjb3JydXB0IG5vZGUgaW4gbG9jYWwgY2FjaGUnLCBub2RlKTtcbiAgICAgICAgaWYgKHR5cGVvZihub2RlKSA9PT0gJ29iamVjdCcgJiYgbm9kZS5wYXRoKSB7XG4gICAgICAgICAgdGhpcy5hZGRUYXNrKG5vZGUucGF0aCk7XG4gICAgICAgICAgbnVtKys7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodGhpcy5uZWVkc0ZldGNoKG5vZGUpICYmIHRoaXMucnMuYWNjZXNzLmNoZWNrUGF0aFBlcm1pc3Npb24obm9kZS5wYXRoLCAncicpKSB7XG4gICAgICAgIHRoaXMuYWRkVGFzayhub2RlLnBhdGgpO1xuICAgICAgICBudW0rKztcbiAgICAgIH0gZWxzZSBpZiAoaXNEb2N1bWVudChub2RlLnBhdGgpICYmIHRoaXMubmVlZHNQdXNoKG5vZGUpICYmXG4gICAgICAgICAgICAgICAgIHRoaXMucnMuYWNjZXNzLmNoZWNrUGF0aFBlcm1pc3Npb24obm9kZS5wYXRoLCAncncnKSkge1xuICAgICAgICB0aGlzLmFkZFRhc2sobm9kZS5wYXRoKTtcbiAgICAgICAgbnVtKys7XG4gICAgICB9XG4gICAgfSlcbiAgICAudGhlbigoKTogbnVtYmVyID0+IG51bSlcbiAgICAuY2F0Y2goZSA9PiB7IHRocm93IGU7IH0pO1xuICB9XG5cbiAgcHVibGljIGluQ29uZmxpY3QgKG5vZGU6IFJTTm9kZSk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAobm9kZS5sb2NhbCAmJiBub2RlLnJlbW90ZSAmJlxuICAgICAgICAgICAgKG5vZGUucmVtb3RlLmJvZHkgIT09IHVuZGVmaW5lZCB8fCBub2RlLnJlbW90ZS5pdGVtc01hcCkpO1xuICB9XG5cbiAgcHVibGljIG5lZWRzUmVmcmVzaCAobm9kZTogUlNOb2RlKTogYm9vbGVhbiB7XG4gICAgaWYgKG5vZGUuY29tbW9uKSB7XG4gICAgICBpZiAoIW5vZGUuY29tbW9uLnRpbWVzdGFtcCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAodGhpcy5ub3coKSAtIG5vZGUuY29tbW9uLnRpbWVzdGFtcCA+IGNvbmZpZy5zeW5jSW50ZXJ2YWwpO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBwdWJsaWMgbmVlZHNGZXRjaCAobm9kZTogUlNOb2RlKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMuaW5Db25mbGljdChub2RlKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChub2RlLmNvbW1vbiAmJlxuICAgICAgICBub2RlLmNvbW1vbi5pdGVtc01hcCA9PT0gdW5kZWZpbmVkICYmXG4gICAgICAgIG5vZGUuY29tbW9uLmJvZHkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChub2RlLnJlbW90ZSAmJlxuICAgICAgICBub2RlLnJlbW90ZS5pdGVtc01hcCA9PT0gdW5kZWZpbmVkICYmXG4gICAgICAgIG5vZGUucmVtb3RlLmJvZHkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHB1YmxpYyBuZWVkc1B1c2ggKG5vZGU6IFJTTm9kZSk6IGJvb2xlYW4ge1xuICAgIGlmICh0aGlzLmluQ29uZmxpY3Qobm9kZSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKG5vZGUubG9jYWwgJiYgIW5vZGUucHVzaCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIG5lZWRzUmVtb3RlUHV0IChub2RlOiBSU05vZGUpOiBib29sZWFuIHtcbiAgICByZXR1cm4gbm9kZS5sb2NhbCAmJiBub2RlLmxvY2FsLmJvZHk7XG4gIH1cblxuICBwdWJsaWMgbmVlZHNSZW1vdGVEZWxldGUgKG5vZGU6IFJTTm9kZSk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBub2RlLmxvY2FsICYmIG5vZGUubG9jYWwuYm9keSA9PT0gZmFsc2U7XG4gIH1cblxuICBwdWJsaWMgZ2V0UGFyZW50UGF0aCAocGF0aDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBjb25zdCBwYXJ0cyA9IHBhdGgubWF0Y2goL14oLipcXC8pKFteXFwvXStcXC8/KSQvKTtcblxuICAgIGlmIChwYXJ0cykge1xuICAgICAgcmV0dXJuIHBhcnRzWzFdO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vdCBhIHZhbGlkIHBhdGg6IFwiJytwYXRoKydcIicpO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBkZWxldGVDaGlsZFBhdGhzRnJvbVRhc2tzICgpOiB2b2lkIHtcbiAgICBmb3IgKGNvbnN0IHBhdGggaW4gdGhpcy5fdGFza3MpIHtcbiAgICAgIGNvbnN0IHBhdGhzID0gcGF0aHNGcm9tUm9vdChwYXRoKTtcblxuICAgICAgZm9yIChsZXQgaT0xOyBpPHBhdGhzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICh0aGlzLl90YXNrc1twYXRoc1tpXV0pIHtcbiAgICAgICAgICAvLyBtb3ZlIHBlbmRpbmcgcHJvbWlzZXMgdG8gcGFyZW50IHRhc2tcbiAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLl90YXNrc1twYXRoXSkgJiYgdGhpcy5fdGFza3NbcGF0aF0ubGVuZ3RoKSB7XG4gICAgICAgICAgICBBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShcbiAgICAgICAgICAgICAgdGhpcy5fdGFza3NbcGF0aHNbaV1dLFxuICAgICAgICAgICAgICB0aGlzLl90YXNrc1twYXRoXVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZGVsZXRlIHRoaXMuX3Rhc2tzW3BhdGhdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHVibGljIGFzeW5jIGNvbGxlY3RSZWZyZXNoVGFza3MgKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybiB0aGlzLnJzLmxvY2FsLmZvckFsbE5vZGVzKChub2RlOiBSU05vZGUpID0+IHtcbiAgICAgIGxldCBwYXJlbnRQYXRoOiBzdHJpbmc7XG4gICAgICBpZiAodGhpcy5uZWVkc1JlZnJlc2gobm9kZSkpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBwYXJlbnRQYXRoID0gdGhpcy5nZXRQYXJlbnRQYXRoKG5vZGUucGF0aCk7XG4gICAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICAgIC8vIG5vZGUucGF0aCBpcyBhbHJlYWR5ICcvJywgY2FuJ3QgdGFrZSBwYXJlbnRQYXRoXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcmVudFBhdGggJiYgdGhpcy5ycy5hY2Nlc3MuY2hlY2tQYXRoUGVybWlzc2lvbihwYXJlbnRQYXRoLCAncicpKSB7XG4gICAgICAgICAgdGhpcy5hZGRUYXNrKHBhcmVudFBhdGgpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucnMuYWNjZXNzLmNoZWNrUGF0aFBlcm1pc3Npb24obm9kZS5wYXRoLCAncicpKSB7XG4gICAgICAgICAgdGhpcy5hZGRUYXNrKG5vZGUucGF0aCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuICAgIC50aGVuKCgpID0+IHRoaXMuZGVsZXRlQ2hpbGRQYXRoc0Zyb21UYXNrcygpKVxuICAgIC5jYXRjaCgoZTogRXJyb3IpID0+IHsgdGhyb3cgZTsgfSk7XG4gIH1cblxuICBwdWJsaWMgZmx1c2ggKG5vZGVzOiBSU05vZGVzKTogUlNOb2RlcyB7XG4gICAgZm9yIChjb25zdCBwYXRoIGluIG5vZGVzKSB7XG4gICAgICAvLyBTdHJhdGVneSBpcyAnRkxVU0gnIGFuZCBubyBsb2NhbCBjaGFuZ2VzIGV4aXN0XG4gICAgICBpZiAodGhpcy5ycy5jYWNoaW5nLmNoZWNrUGF0aChwYXRoKSA9PT0gJ0ZMVVNIJyAmJlxuICAgICAgICAgIG5vZGVzW3BhdGhdICYmICFub2Rlc1twYXRoXS5sb2NhbCkge1xuICAgICAgICBsb2coJ1tTeW5jXSBGbHVzaGluZycsIHBhdGgpO1xuICAgICAgICBub2Rlc1twYXRoXSA9IHVuZGVmaW5lZDsgLy8gQ2F1c2Ugbm9kZSB0byBiZSBmbHVzaGVkIGZyb20gY2FjaGVcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5vZGVzO1xuICB9XG5cbiAgcHVibGljIGRvVGFzayAocGF0aDogc3RyaW5nKTogb2JqZWN0IHtcbiAgICByZXR1cm4gdGhpcy5ycy5sb2NhbC5nZXROb2RlcyhbcGF0aF0pLnRoZW4oKG5vZGVzOiBSU05vZGVzKSA9PiB7XG4gICAgICBjb25zdCBub2RlID0gbm9kZXNbcGF0aF07XG4gICAgICAvLyBGaXJzdCBmZXRjaDpcbiAgICAgIGlmICh0eXBlb2Yobm9kZSkgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiB0YXNrRm9yKCdnZXQnLCBwYXRoLCB0aGlzLnJzLnJlbW90ZS5nZXQocGF0aCkpO1xuICAgICAgfVxuICAgICAgLy8gRmV0Y2gga25vd24tc3RhbGUgY2hpbGQ6XG4gICAgICBlbHNlIGlmIChpc1N0YWxlQ2hpbGQobm9kZSkpIHtcbiAgICAgICAgcmV0dXJuIHRhc2tGb3IoJ2dldCcsIHBhdGgsIHRoaXMucnMucmVtb3RlLmdldChwYXRoKSk7XG4gICAgICB9XG4gICAgICAvLyBQdXNoIFBVVDpcbiAgICAgIGVsc2UgaWYgKHRoaXMubmVlZHNSZW1vdGVQdXQobm9kZSkpIHtcbiAgICAgICAgbm9kZS5wdXNoID0gZGVlcENsb25lKG5vZGUubG9jYWwpO1xuICAgICAgICBub2RlLnB1c2gudGltZXN0YW1wID0gdGhpcy5ub3coKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5ycy5sb2NhbC5zZXROb2Rlcyh0aGlzLmZsdXNoKG5vZGVzKSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgbGV0IG9wdGlvbnM7XG4gICAgICAgICAgaWYgKGhhc0NvbW1vblJldmlzaW9uKG5vZGUpKSB7XG4gICAgICAgICAgICBvcHRpb25zID0geyBpZk1hdGNoOiBub2RlLmNvbW1vbi5yZXZpc2lvbiB9O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBJbml0aWFsIFBVVCAoZmFpbCBpZiBzb21ldGhpbmcgaXMgYWxyZWFkeSB0aGVyZSlcbiAgICAgICAgICAgIG9wdGlvbnMgPSB7IGlmTm9uZU1hdGNoOiAnKicgfTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gdGFza0ZvcigncHV0JywgcGF0aCxcbiAgICAgICAgICAgIHRoaXMucnMucmVtb3RlLnB1dChwYXRoLCBub2RlLnB1c2guYm9keSwgbm9kZS5wdXNoLmNvbnRlbnRUeXBlLCBvcHRpb25zKVxuICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgLy8gUHVzaCBERUxFVEU6XG4gICAgICBlbHNlIGlmICh0aGlzLm5lZWRzUmVtb3RlRGVsZXRlKG5vZGUpKSB7XG4gICAgICAgIG5vZGUucHVzaCA9IHsgYm9keTogZmFsc2UsIHRpbWVzdGFtcDogdGhpcy5ub3coKSB9O1xuXG4gICAgICAgIHJldHVybiB0aGlzLnJzLmxvY2FsLnNldE5vZGVzKHRoaXMuZmx1c2gobm9kZXMpKS50aGVuKCgpID0+IHtcbiAgICAgICAgICBpZiAoaGFzQ29tbW9uUmV2aXNpb24obm9kZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0YXNrRm9yKCdkZWxldGUnLCBwYXRoLFxuICAgICAgICAgICAgICB0aGlzLnJzLnJlbW90ZS5kZWxldGUocGF0aCwgeyBpZk1hdGNoOiBub2RlLmNvbW1vbi5yZXZpc2lvbiB9KVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9IGVsc2UgeyAvLyBBc2NlcnRhaW4gY3VycmVudCBjb21tb24gb3IgcmVtb3RlIHJldmlzaW9uIGZpcnN0XG4gICAgICAgICAgICByZXR1cm4gdGFza0ZvcignZ2V0JywgcGF0aCwgdGhpcy5ycy5yZW1vdGUuZ2V0KHBhdGgpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgLy8gQ29uZGl0aW9uYWwgcmVmcmVzaDpcbiAgICAgIGVsc2UgaWYgKGhhc0NvbW1vblJldmlzaW9uKG5vZGUpKSB7XG4gICAgICAgIHJldHVybiB0YXNrRm9yKCdnZXQnLCBwYXRoLFxuICAgICAgICAgIHRoaXMucnMucmVtb3RlLmdldChwYXRoLCB7IGlmTm9uZU1hdGNoOiBub2RlLmNvbW1vbi5yZXZpc2lvbiB9KVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB0YXNrRm9yKCdnZXQnLCBwYXRoLCB0aGlzLnJzLnJlbW90ZS5nZXQocGF0aCkpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgcHVibGljIGF1dG9NZXJnZUZvbGRlciAobm9kZTogUlNOb2RlKTogUlNOb2RlIHtcbiAgICBpZiAobm9kZS5yZW1vdGUuaXRlbXNNYXApIHtcbiAgICAgIG5vZGUuY29tbW9uID0gbm9kZS5yZW1vdGU7XG4gICAgICBkZWxldGUgbm9kZS5yZW1vdGU7XG5cbiAgICAgIGlmIChub2RlLmNvbW1vbi5pdGVtc01hcCkge1xuICAgICAgICBmb3IgKGNvbnN0IGl0ZW1OYW1lIGluIG5vZGUuY29tbW9uLml0ZW1zTWFwKSB7XG4gICAgICAgICAgaWYgKCFub2RlLmxvY2FsLml0ZW1zTWFwW2l0ZW1OYW1lXSkge1xuICAgICAgICAgICAgLy8gSW5kaWNhdGVzIHRoZSBub2RlIGlzIGVpdGhlciBuZXdseSBiZWluZyBmZXRjaGVkXG4gICAgICAgICAgICAvLyBoYXMgYmVlbiBkZWxldGVkIGxvY2FsbHkgKHdoZXRoZXIgb3Igbm90IGxlYWRpbmcgdG8gY29uZmxpY3QpO1xuICAgICAgICAgICAgLy8gYmVmb3JlIGxpc3RpbmcgaXQgaW4gbG9jYWwgbGlzdGluZ3MsIGNoZWNrIGlmIGEgbG9jYWwgZGVsZXRpb25cbiAgICAgICAgICAgIC8vIGV4aXN0cy5cbiAgICAgICAgICAgIG5vZGUubG9jYWwuaXRlbXNNYXBbaXRlbU5hbWVdID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGVxdWFsKG5vZGUubG9jYWwuaXRlbXNNYXAsIG5vZGUuY29tbW9uLml0ZW1zTWFwKSkge1xuICAgICAgICAgIGRlbGV0ZSBub2RlLmxvY2FsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBub2RlO1xuICB9XG5cbiAgcHVibGljIGF1dG9NZXJnZURvY3VtZW50IChub2RlOiBSU05vZGUpOiBSU05vZGUge1xuICAgIGlmIChoYXNOb1JlbW90ZUNoYW5nZXMobm9kZSkpIHtcbiAgICAgIG5vZGUgPSBtZXJnZU11dHVhbERlbGV0aW9uKG5vZGUpO1xuICAgICAgZGVsZXRlIG5vZGUucmVtb3RlO1xuICAgIH0gZWxzZSBpZiAobm9kZS5yZW1vdGUuYm9keSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBrZWVwL3JldmVydDpcbiAgICAgIGxvZygnW1N5bmNdIEVtaXR0aW5nIGtlZXAvcmV2ZXJ0Jyk7XG5cbiAgICAgIHRoaXMucnMubG9jYWwuX2VtaXRDaGFuZ2Uoe1xuICAgICAgICBvcmlnaW46ICAgICAgICAgJ2NvbmZsaWN0JyxcbiAgICAgICAgcGF0aDogICAgICAgICAgIG5vZGUucGF0aCxcbiAgICAgICAgb2xkVmFsdWU6ICAgICAgIG5vZGUubG9jYWwuYm9keSxcbiAgICAgICAgbmV3VmFsdWU6ICAgICAgIG5vZGUucmVtb3RlLmJvZHksXG4gICAgICAgIGxhc3RDb21tb25WYWx1ZTogbm9kZS5jb21tb24uYm9keSxcbiAgICAgICAgb2xkQ29udGVudFR5cGU6IG5vZGUubG9jYWwuY29udGVudFR5cGUsXG4gICAgICAgIG5ld0NvbnRlbnRUeXBlOiBub2RlLnJlbW90ZS5jb250ZW50VHlwZSxcbiAgICAgICAgbGFzdENvbW1vbkNvbnRlbnRUeXBlOiBub2RlLmNvbW1vbi5jb250ZW50VHlwZVxuICAgICAgfSk7XG5cbiAgICAgIGlmIChub2RlLnJlbW90ZS5ib2R5KSB7XG4gICAgICAgIG5vZGUuY29tbW9uID0gbm9kZS5yZW1vdGU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBub2RlLmNvbW1vbiA9IHt9O1xuICAgICAgfVxuICAgICAgZGVsZXRlIG5vZGUucmVtb3RlO1xuICAgICAgZGVsZXRlIG5vZGUubG9jYWw7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cblxuICBwdWJsaWMgYXV0b01lcmdlIChub2RlOiBSU05vZGUpOiBSU05vZGUge1xuICAgIGlmIChub2RlLnJlbW90ZSkge1xuICAgICAgaWYgKG5vZGUubG9jYWwpIHtcbiAgICAgICAgaWYgKGlzRm9sZGVyKG5vZGUucGF0aCkpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5hdXRvTWVyZ2VGb2xkZXIobm9kZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuYXV0b01lcmdlRG9jdW1lbnQobm9kZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7IC8vIG5vIGxvY2FsIGNoYW5nZXNcbiAgICAgICAgaWYgKGlzRm9sZGVyKG5vZGUucGF0aCkpIHtcbiAgICAgICAgICBpZiAobm9kZS5yZW1vdGUuaXRlbXNNYXAgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbm9kZS5jb21tb24gPSBub2RlLnJlbW90ZTtcbiAgICAgICAgICAgIGRlbGV0ZSBub2RlLnJlbW90ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKG5vZGUucmVtb3RlLmJvZHkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgY2hhbmdlID0ge1xuICAgICAgICAgICAgICBvcmlnaW46ICAgJ3JlbW90ZScsXG4gICAgICAgICAgICAgIHBhdGg6ICAgICBub2RlLnBhdGgsXG4gICAgICAgICAgICAgIG9sZFZhbHVlOiAobm9kZS5jb21tb24uYm9keSA9PT0gZmFsc2UgPyB1bmRlZmluZWQgOiBub2RlLmNvbW1vbi5ib2R5KSxcbiAgICAgICAgICAgICAgbmV3VmFsdWU6IChub2RlLnJlbW90ZS5ib2R5ID09PSBmYWxzZSA/IHVuZGVmaW5lZCA6IG5vZGUucmVtb3RlLmJvZHkpLFxuICAgICAgICAgICAgICBvbGRDb250ZW50VHlwZTogbm9kZS5jb21tb24uY29udGVudFR5cGUsXG4gICAgICAgICAgICAgIG5ld0NvbnRlbnRUeXBlOiBub2RlLnJlbW90ZS5jb250ZW50VHlwZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChjaGFuZ2Uub2xkVmFsdWUgfHwgY2hhbmdlLm5ld1ZhbHVlKSB7XG4gICAgICAgICAgICAgIHRoaXMucnMubG9jYWwuX2VtaXRDaGFuZ2UoY2hhbmdlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFub2RlLnJlbW90ZS5ib2R5KSB7IC8vIG5vIHJlbW90ZSwgc28gZGVsZXRlL2Rvbid0IGNyZWF0ZVxuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG5vZGUuY29tbW9uID0gbm9kZS5yZW1vdGU7XG4gICAgICAgICAgICBkZWxldGUgbm9kZS5yZW1vdGU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChub2RlLmNvbW1vbi5ib2R5KSB7XG4gICAgICAgIHRoaXMucnMubG9jYWwuX2VtaXRDaGFuZ2Uoe1xuICAgICAgICAgIG9yaWdpbjogICAncmVtb3RlJyxcbiAgICAgICAgICBwYXRoOiAgICAgbm9kZS5wYXRoLFxuICAgICAgICAgIG9sZFZhbHVlOiBub2RlLmNvbW1vbi5ib2R5LFxuICAgICAgICAgIG5ld1ZhbHVlOiB1bmRlZmluZWQsXG4gICAgICAgICAgb2xkQ29udGVudFR5cGU6IG5vZGUuY29tbW9uLmNvbnRlbnRUeXBlLFxuICAgICAgICAgIG5ld0NvbnRlbnRUeXBlOiB1bmRlZmluZWRcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cblxuICBwdWJsaWMgYXN5bmMgdXBkYXRlQ29tbW9uVGltZXN0YW1wIChwYXRoOiBzdHJpbmcsIHJldmlzaW9uOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm4gdGhpcy5ycy5sb2NhbC5nZXROb2RlcyhbcGF0aF0pLnRoZW4oKG5vZGVzOiBSU05vZGVzKSA9PiB7XG4gICAgICBpZiAobm9kZXNbcGF0aF0gJiZcbiAgICAgICAgICBub2Rlc1twYXRoXS5jb21tb24gJiZcbiAgICAgICAgICBub2Rlc1twYXRoXS5jb21tb24ucmV2aXNpb24gPT09IHJldmlzaW9uKSB7XG4gICAgICAgIG5vZGVzW3BhdGhdLmNvbW1vbi50aW1lc3RhbXAgPSB0aGlzLm5vdygpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMucnMubG9jYWwuc2V0Tm9kZXModGhpcy5mbHVzaChub2RlcykpO1xuICAgIH0pO1xuICB9XG5cbiAgcHVibGljIGFzeW5jIG1hcmtDaGlsZHJlbiAocGF0aCwgaXRlbXNNYXAsIGNoYW5nZWROb2RlczogUlNOb2RlcywgbWlzc2luZ0NoaWxkcmVuKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgcGF0aHMgPSBbXTtcbiAgICBjb25zdCBtZXRhID0ge307XG4gICAgY29uc3QgcmVjdXJzZSA9IHt9O1xuXG4gICAgZm9yIChjb25zdCBpdGVtIGluIGl0ZW1zTWFwKSB7XG4gICAgICBwYXRocy5wdXNoKHBhdGgraXRlbSk7XG4gICAgICBtZXRhW3BhdGgraXRlbV0gPSBpdGVtc01hcFtpdGVtXTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBjaGlsZE5hbWUgaW4gbWlzc2luZ0NoaWxkcmVuKSB7XG4gICAgICBwYXRocy5wdXNoKHBhdGgrY2hpbGROYW1lKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5ycy5sb2NhbC5nZXROb2RlcyhwYXRocykudGhlbigobm9kZXM6IFJTTm9kZXMpID0+IHtcbiAgICAgIGxldCBjYWNoaW5nU3RyYXRlZ3k7XG4gICAgICBsZXQgbm9kZTtcblxuICAgICAgZm9yIChjb25zdCBub2RlUGF0aCBpbiBub2Rlcykge1xuICAgICAgICBub2RlID0gbm9kZXNbbm9kZVBhdGhdO1xuXG4gICAgICAgIGlmIChtZXRhW25vZGVQYXRoXSkge1xuICAgICAgICAgIGlmIChub2RlICYmIG5vZGUuY29tbW9uKSB7XG4gICAgICAgICAgICBpZiAobm9kZUNoYW5nZWQobm9kZSwgbWV0YVtub2RlUGF0aF0uRVRhZykpIHtcbiAgICAgICAgICAgICAgY2hhbmdlZE5vZGVzW25vZGVQYXRoXSA9IGRlZXBDbG9uZShub2RlKTtcbiAgICAgICAgICAgICAgY2hhbmdlZE5vZGVzW25vZGVQYXRoXS5yZW1vdGUgPSB7XG4gICAgICAgICAgICAgICAgcmV2aXNpb246ICBtZXRhW25vZGVQYXRoXS5FVGFnLFxuICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogdGhpcy5ub3coKVxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICBjaGFuZ2VkTm9kZXNbbm9kZVBhdGhdID0gdGhpcy5hdXRvTWVyZ2UoY2hhbmdlZE5vZGVzW25vZGVQYXRoXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hpbmdTdHJhdGVneSA9IHRoaXMucnMuY2FjaGluZy5jaGVja1BhdGgobm9kZVBhdGgpO1xuICAgICAgICAgICAgaWYgKGNhY2hpbmdTdHJhdGVneSA9PT0gJ0FMTCcpIHtcbiAgICAgICAgICAgICAgY2hhbmdlZE5vZGVzW25vZGVQYXRoXSA9IHtcbiAgICAgICAgICAgICAgICBwYXRoOiBub2RlUGF0aCxcbiAgICAgICAgICAgICAgICBjb21tb246IHtcbiAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogdGhpcy5ub3coKVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcmVtb3RlOiB7XG4gICAgICAgICAgICAgICAgICByZXZpc2lvbjogbWV0YVtub2RlUGF0aF0uRVRhZyxcbiAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogdGhpcy5ub3coKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoY2hhbmdlZE5vZGVzW25vZGVQYXRoXSAmJiBtZXRhW25vZGVQYXRoXVsnQ29udGVudC1UeXBlJ10pIHtcbiAgICAgICAgICAgIGNoYW5nZWROb2Rlc1tub2RlUGF0aF0ucmVtb3RlLmNvbnRlbnRUeXBlID0gbWV0YVtub2RlUGF0aF1bJ0NvbnRlbnQtVHlwZSddO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChjaGFuZ2VkTm9kZXNbbm9kZVBhdGhdICYmIG1ldGFbbm9kZVBhdGhdWydDb250ZW50LUxlbmd0aCddKSB7XG4gICAgICAgICAgICBjaGFuZ2VkTm9kZXNbbm9kZVBhdGhdLnJlbW90ZS5jb250ZW50TGVuZ3RoID0gbWV0YVtub2RlUGF0aF1bJ0NvbnRlbnQtTGVuZ3RoJ107XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKG1pc3NpbmdDaGlsZHJlbltub2RlUGF0aC5zdWJzdHJpbmcocGF0aC5sZW5ndGgpXSAmJiBub2RlICYmIG5vZGUuY29tbW9uKSB7XG4gICAgICAgICAgaWYgKG5vZGUuY29tbW9uLml0ZW1zTWFwKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGNvbW1vbkl0ZW0gaW4gbm9kZS5jb21tb24uaXRlbXNNYXApIHtcbiAgICAgICAgICAgICAgcmVjdXJzZVtub2RlUGF0aCtjb21tb25JdGVtXSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKG5vZGUubG9jYWwgJiYgbm9kZS5sb2NhbC5pdGVtc01hcCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBsb2NhbEl0ZW0gaW4gbm9kZS5sb2NhbC5pdGVtc01hcCkge1xuICAgICAgICAgICAgICByZWN1cnNlW25vZGVQYXRoK2xvY2FsSXRlbV0gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChub2RlLnJlbW90ZSB8fCBpc0ZvbGRlcihub2RlUGF0aCkpIHtcbiAgICAgICAgICAgIGNoYW5nZWROb2Rlc1tub2RlUGF0aF0gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNoYW5nZWROb2Rlc1tub2RlUGF0aF0gPSB0aGlzLmF1dG9NZXJnZShub2RlKTtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBjaGFuZ2VkTm9kZXNbbm9kZVBhdGhdID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICBjb25zdCBwYXJlbnRQYXRoID0gdGhpcy5nZXRQYXJlbnRQYXRoKG5vZGVQYXRoKTtcbiAgICAgICAgICAgICAgY29uc3QgcGFyZW50Tm9kZSA9IGNoYW5nZWROb2Rlc1twYXJlbnRQYXRoXTtcbiAgICAgICAgICAgICAgY29uc3QgaXRlbU5hbWUgPSBub2RlUGF0aC5zdWJzdHJpbmcocGF0aC5sZW5ndGgpO1xuICAgICAgICAgICAgICBpZiAocGFyZW50Tm9kZSAmJiBwYXJlbnROb2RlLmxvY2FsKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHBhcmVudE5vZGUubG9jYWwuaXRlbXNNYXBbaXRlbU5hbWVdO1xuXG4gICAgICAgICAgICAgICAgaWYgKGVxdWFsKHBhcmVudE5vZGUubG9jYWwuaXRlbXNNYXAsIHBhcmVudE5vZGUuY29tbW9uLml0ZW1zTWFwKSkge1xuICAgICAgICAgICAgICAgICAgZGVsZXRlIHBhcmVudE5vZGUubG9jYWw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLmRlbGV0ZVJlbW90ZVRyZWVzKE9iamVjdC5rZXlzKHJlY3Vyc2UpLCBjaGFuZ2VkTm9kZXMpXG4gICAgICAgIC50aGVuKGNoYW5nZWRPYmpzMiA9PiB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMucnMubG9jYWwuc2V0Tm9kZXModGhpcy5mbHVzaChjaGFuZ2VkT2JqczIpKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgYXN5bmMgZGVsZXRlUmVtb3RlVHJlZXMgKHBhdGhzOiBBcnJheTxzdHJpbmc+LCBjaGFuZ2VkTm9kZXM6IFJTTm9kZXMpOiBQcm9taXNlPFJTTm9kZXM+IHtcbiAgICBpZiAocGF0aHMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGNoYW5nZWROb2Rlcyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMucnMubG9jYWwuZ2V0Tm9kZXMocGF0aHMpLnRoZW4oYXN5bmMgKG5vZGVzOiBSU05vZGVzKSA9PiB7XG4gICAgICBjb25zdCBzdWJQYXRocyA9IHt9O1xuXG4gICAgICBmdW5jdGlvbiBjb2xsZWN0U3ViUGF0aHMgKGZvbGRlciwgcGF0aDogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIGlmIChmb2xkZXIgJiYgZm9sZGVyLml0ZW1zTWFwKSB7XG4gICAgICAgICAgZm9yIChjb25zdCBpdGVtTmFtZSBpbiBmb2xkZXIuaXRlbXNNYXApIHtcbiAgICAgICAgICAgIHN1YlBhdGhzW3BhdGgraXRlbU5hbWVdID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGZvciAoY29uc3QgcGF0aCBpbiBub2Rlcykge1xuICAgICAgICBjb25zdCBub2RlID0gbm9kZXNbcGF0aF07XG5cbiAgICAgICAgLy8gVE9ETyBXaHkgY2hlY2sgZm9yIHRoZSBub2RlIGhlcmU/IEkgZG9uJ3QgdGhpbmsgdGhpcyBjaGVjayBldmVyIGFwcGxpZXNcbiAgICAgICAgaWYgKCFub2RlKSB7IGNvbnRpbnVlOyB9XG5cbiAgICAgICAgaWYgKGlzRm9sZGVyKHBhdGgpKSB7XG4gICAgICAgICAgY29sbGVjdFN1YlBhdGhzKG5vZGUuY29tbW9uLCBwYXRoKTtcbiAgICAgICAgICBjb2xsZWN0U3ViUGF0aHMobm9kZS5sb2NhbCwgcGF0aCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKG5vZGUuY29tbW9uICYmIHR5cGVvZihub2RlLmNvbW1vbi5ib2R5KSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjaGFuZ2VkTm9kZXNbcGF0aF0gPSBkZWVwQ2xvbmUobm9kZSk7XG4gICAgICAgICAgICBjaGFuZ2VkTm9kZXNbcGF0aF0ucmVtb3RlID0ge1xuICAgICAgICAgICAgICBib2R5OiAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICB0aW1lc3RhbXA6IHRoaXMubm93KClcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjaGFuZ2VkTm9kZXNbcGF0aF0gPSB0aGlzLmF1dG9NZXJnZShjaGFuZ2VkTm9kZXNbcGF0aF0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBSZWN1cnNlIHdob2xlIHRyZWUgZGVwdGggbGV2ZWxzIGF0IG9uY2U6XG4gICAgICByZXR1cm4gdGhpcy5kZWxldGVSZW1vdGVUcmVlcyhPYmplY3Qua2V5cyhzdWJQYXRocyksIGNoYW5nZWROb2RlcylcbiAgICAgICAgLnRoZW4oY2hhbmdlZE5vZGVzMiA9PiB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMucnMubG9jYWwuc2V0Tm9kZXModGhpcy5mbHVzaChjaGFuZ2VkTm9kZXMyKSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgcHVibGljIGFzeW5jIGNvbXBsZXRlRmV0Y2ggKHBhdGg6IHN0cmluZywgYm9keU9ySXRlbXNNYXA6IG9iamVjdCwgY29udGVudFR5cGU6IHN0cmluZywgcmV2aXNpb246IHN0cmluZyk6IFByb21pc2U8YW55PiB7XG4gICAgbGV0IHBhdGhzOiBBcnJheTxzdHJpbmc+O1xuICAgIGxldCBwYXJlbnRQYXRoOiBzdHJpbmc7XG4gICAgY29uc3QgcGF0aHNGcm9tUm9vdEFyciA9IHBhdGhzRnJvbVJvb3QocGF0aCk7XG5cbiAgICBpZiAoaXNGb2xkZXIocGF0aCkpIHtcbiAgICAgIHBhdGhzID0gW3BhdGhdO1xuICAgIH0gZWxzZSB7XG4gICAgICBwYXJlbnRQYXRoID0gcGF0aHNGcm9tUm9vdEFyclsxXTtcbiAgICAgIHBhdGhzID0gW3BhdGgsIHBhcmVudFBhdGhdO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnJzLmxvY2FsLmdldE5vZGVzKHBhdGhzKS50aGVuKChub2RlczogUlNOb2RlcykgPT4ge1xuICAgICAgbGV0IGl0ZW1OYW1lOiBzdHJpbmc7XG4gICAgICBsZXQgbm9kZTogUlNOb2RlID0gbm9kZXNbcGF0aF07XG4gICAgICBsZXQgcGFyZW50Tm9kZTogUlNOb2RlO1xuICAgICAgY29uc3QgbWlzc2luZ0NoaWxkcmVuID0ge307XG5cbiAgICAgIGZ1bmN0aW9uIGNvbGxlY3RNaXNzaW5nQ2hpbGRyZW4gKGZvbGRlcik6IHZvaWQge1xuICAgICAgICBpZiAoZm9sZGVyICYmIGZvbGRlci5pdGVtc01hcCkge1xuICAgICAgICAgIGZvciAoaXRlbU5hbWUgaW4gZm9sZGVyLml0ZW1zTWFwKSB7XG4gICAgICAgICAgICBpZiAoIWJvZHlPckl0ZW1zTWFwW2l0ZW1OYW1lXSkge1xuICAgICAgICAgICAgICBtaXNzaW5nQ2hpbGRyZW5baXRlbU5hbWVdID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGlmICh0eXBlb2Yobm9kZSkgIT09ICdvYmplY3QnICB8fFxuICAgICAgICAgIG5vZGUucGF0aCAhPT0gcGF0aCB8fFxuICAgICAgICAgIHR5cGVvZihub2RlLmNvbW1vbikgIT09ICdvYmplY3QnKSB7XG4gICAgICAgIG5vZGUgPSB7IHBhdGg6IHBhdGgsIGNvbW1vbjoge30gfTtcbiAgICAgICAgbm9kZXNbcGF0aF0gPSBub2RlO1xuICAgICAgfVxuXG4gICAgICBub2RlLnJlbW90ZSA9IHtcbiAgICAgICAgcmV2aXNpb246IHJldmlzaW9uLFxuICAgICAgICB0aW1lc3RhbXA6IHRoaXMubm93KClcbiAgICAgIH07XG5cbiAgICAgIGlmIChpc0ZvbGRlcihwYXRoKSkge1xuICAgICAgICBjb2xsZWN0TWlzc2luZ0NoaWxkcmVuKG5vZGUuY29tbW9uKTtcbiAgICAgICAgY29sbGVjdE1pc3NpbmdDaGlsZHJlbihub2RlLnJlbW90ZSk7XG5cbiAgICAgICAgbm9kZS5yZW1vdGUuaXRlbXNNYXAgPSB7fTtcbiAgICAgICAgZm9yIChpdGVtTmFtZSBpbiBib2R5T3JJdGVtc01hcCkge1xuICAgICAgICAgIG5vZGUucmVtb3RlLml0ZW1zTWFwW2l0ZW1OYW1lXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5vZGUucmVtb3RlLmJvZHkgPSBib2R5T3JJdGVtc01hcDtcbiAgICAgICAgbm9kZS5yZW1vdGUuY29udGVudFR5cGUgPSBjb250ZW50VHlwZTtcblxuICAgICAgICBwYXJlbnROb2RlID0gbm9kZXNbcGFyZW50UGF0aF07XG4gICAgICAgIGlmIChwYXJlbnROb2RlICYmIHBhcmVudE5vZGUubG9jYWwgJiYgcGFyZW50Tm9kZS5sb2NhbC5pdGVtc01hcCkge1xuICAgICAgICAgIGl0ZW1OYW1lID0gcGF0aC5zdWJzdHJpbmcocGFyZW50UGF0aC5sZW5ndGgpO1xuICAgICAgICAgIHBhcmVudE5vZGUubG9jYWwuaXRlbXNNYXBbaXRlbU5hbWVdID0gdHJ1ZTtcbiAgICAgICAgICBpZiAoZXF1YWwocGFyZW50Tm9kZS5sb2NhbC5pdGVtc01hcCwgcGFyZW50Tm9kZS5jb21tb24uaXRlbXNNYXApKSB7XG4gICAgICAgICAgICBkZWxldGUgcGFyZW50Tm9kZS5sb2NhbDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbm9kZXNbcGF0aF0gPSB0aGlzLmF1dG9NZXJnZShub2RlKTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdG9CZVNhdmVkOiAgICAgICBub2RlcyxcbiAgICAgICAgbWlzc2luZ0NoaWxkcmVuOiBtaXNzaW5nQ2hpbGRyZW5cbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgYXN5bmMgY29tcGxldGVQdXNoIChwYXRoOiBzdHJpbmcsIGFjdGlvbiwgY29uZmxpY3QsIHJldmlzaW9uOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm4gdGhpcy5ycy5sb2NhbC5nZXROb2RlcyhbcGF0aF0pLnRoZW4oKG5vZGVzOiBSU05vZGVzKSA9PiB7XG4gICAgICBjb25zdCBub2RlID0gbm9kZXNbcGF0aF07XG5cbiAgICAgIGlmICghbm9kZS5wdXNoKSB7XG4gICAgICAgIHRoaXMuc3RvcHBlZCA9IHRydWU7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignY29tcGxldGVQdXNoIGNhbGxlZCBidXQgbm8gcHVzaCB2ZXJzaW9uIScpO1xuICAgICAgfVxuXG4gICAgICBpZiAoY29uZmxpY3QpIHtcbiAgICAgICAgbG9nKCdbU3luY10gV2UgaGF2ZSBhIGNvbmZsaWN0Jyk7XG5cbiAgICAgICAgaWYgKCFub2RlLnJlbW90ZSB8fCBub2RlLnJlbW90ZS5yZXZpc2lvbiAhPT0gcmV2aXNpb24pIHtcbiAgICAgICAgICBub2RlLnJlbW90ZSA9IHtcbiAgICAgICAgICAgIHJldmlzaW9uOiAgcmV2aXNpb24gfHwgJ2NvbmZsaWN0JyxcbiAgICAgICAgICAgIHRpbWVzdGFtcDogdGhpcy5ub3coKVxuICAgICAgICAgIH07XG4gICAgICAgICAgZGVsZXRlIG5vZGUucHVzaDtcbiAgICAgICAgfVxuXG4gICAgICAgIG5vZGVzW3BhdGhdID0gdGhpcy5hdXRvTWVyZ2Uobm9kZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBub2RlLmNvbW1vbiA9IHtcbiAgICAgICAgICByZXZpc2lvbjogIHJldmlzaW9uLFxuICAgICAgICAgIHRpbWVzdGFtcDogdGhpcy5ub3coKVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChhY3Rpb24gPT09ICdwdXQnKSB7XG4gICAgICAgICAgbm9kZS5jb21tb24uYm9keSA9IG5vZGUucHVzaC5ib2R5O1xuICAgICAgICAgIG5vZGUuY29tbW9uLmNvbnRlbnRUeXBlID0gbm9kZS5wdXNoLmNvbnRlbnRUeXBlO1xuXG4gICAgICAgICAgaWYgKGVxdWFsKG5vZGUubG9jYWwuYm9keSwgbm9kZS5wdXNoLmJvZHkpICYmXG4gICAgICAgICAgICAgIG5vZGUubG9jYWwuY29udGVudFR5cGUgPT09IG5vZGUucHVzaC5jb250ZW50VHlwZSkge1xuICAgICAgICAgICAgZGVsZXRlIG5vZGUubG9jYWw7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZGVsZXRlIG5vZGUucHVzaDtcbiAgICAgICAgfSBlbHNlIGlmIChhY3Rpb24gPT09ICdkZWxldGUnKSB7XG4gICAgICAgICAgaWYgKG5vZGUubG9jYWwuYm9keSA9PT0gZmFsc2UpIHsgLy8gTm8gbmV3IGxvY2FsIGNoYW5nZXMgc2luY2UgcHVzaDsgZmx1c2ggaXQuXG4gICAgICAgICAgICBub2Rlc1twYXRoXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGVsZXRlIG5vZGUucHVzaDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMucnMubG9jYWwuc2V0Tm9kZXModGhpcy5mbHVzaChub2RlcykpO1xuICAgIH0pO1xuICB9XG5cbiAgcHVibGljIGFzeW5jIGRlYWxXaXRoRmFpbHVyZSAocGF0aDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuIHRoaXMucnMubG9jYWwuZ2V0Tm9kZXMoW3BhdGhdKS50aGVuKChub2RlczogUlNOb2RlcykgPT4ge1xuICAgICAgaWYgKG5vZGVzW3BhdGhdKSB7XG4gICAgICAgIGRlbGV0ZSBub2Rlc1twYXRoXS5wdXNoO1xuICAgICAgICByZXR1cm4gdGhpcy5ycy5sb2NhbC5zZXROb2Rlcyh0aGlzLmZsdXNoKG5vZGVzKSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgaW50ZXJwcmV0U3RhdHVzIChzdGF0dXNDb2RlOiBzdHJpbmcgfCBudW1iZXIpOiBSZXNwb25zZVN0YXR1cyB7XG4gICAgY29uc3Qgc3RhdHVzOiBSZXNwb25zZVN0YXR1cyA9IHtcbiAgICAgIHN0YXR1c0NvZGU6ICAgICAgc3RhdHVzQ29kZSxcbiAgICAgIHN1Y2Nlc3NmdWw6ICAgICAgdW5kZWZpbmVkLFxuICAgICAgY29uZmxpY3Q6ICAgICAgICB1bmRlZmluZWQsXG4gICAgICB1bkF1dGg6ICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgIG5vdEZvdW5kOiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgY2hhbmdlZDogICAgICAgICB1bmRlZmluZWQsXG4gICAgICBuZXR3b3JrUHJvYmxlbXM6IHVuZGVmaW5lZFxuICAgIH07XG5cbiAgICBpZiAodHlwZW9mIHN0YXR1c0NvZGUgPT09ICdzdHJpbmcnICYmXG4gICAgICAgIChzdGF0dXNDb2RlID09PSAnb2ZmbGluZScgfHwgc3RhdHVzQ29kZSA9PT0gJ3RpbWVvdXQnKSkge1xuICAgICAgc3RhdHVzLnN1Y2Nlc3NmdWwgPSBmYWxzZTtcbiAgICAgIHN0YXR1cy5uZXR3b3JrUHJvYmxlbXMgPSB0cnVlO1xuICAgICAgcmV0dXJuIHN0YXR1cztcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBzdGF0dXNDb2RlID09PSAnbnVtYmVyJykge1xuICAgICAgY29uc3Qgc2VyaWVzID0gTWF0aC5mbG9vcihzdGF0dXNDb2RlIC8gMTAwKTtcblxuICAgICAgc3RhdHVzLnN1Y2Nlc3NmdWwgPSAoc2VyaWVzID09PSAyIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXNDb2RlID09PSAzMDQgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1c0NvZGUgPT09IDQxMiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzQ29kZSA9PT0gNDA0KSxcbiAgICAgIHN0YXR1cy5jb25mbGljdCAgID0gKHN0YXR1c0NvZGUgPT09IDQxMik7XG4gICAgICBzdGF0dXMudW5BdXRoICAgICA9ICgoc3RhdHVzQ29kZSA9PT0gNDAxICYmIHRoaXMucnMucmVtb3RlLnRva2VuICE9PSBBdXRob3JpemUuSU1QTElFRF9GQUtFX1RPS0VOKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzQ29kZSA9PT0gNDAyIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXNDb2RlID09PSA0MDMpO1xuICAgICAgc3RhdHVzLm5vdEZvdW5kICAgPSAoc3RhdHVzQ29kZSA9PT0gNDA0KTtcbiAgICAgIHN0YXR1cy5jaGFuZ2VkICAgID0gKHN0YXR1c0NvZGUgIT09IDMwNCk7XG5cbiAgICAgIHJldHVybiBzdGF0dXM7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIGFzeW5jIGhhbmRsZUdldFJlc3BvbnNlIChwYXRoOiBzdHJpbmcsIHN0YXR1czogUmVzcG9uc2VTdGF0dXMsIGJvZHlPckl0ZW1zTWFwLCBjb250ZW50VHlwZTogc3RyaW5nLCByZXZpc2lvbjogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgaWYgKHN0YXR1cy5ub3RGb3VuZCkge1xuICAgICAgaWYgKGlzRm9sZGVyKHBhdGgpKSB7XG4gICAgICAgIGJvZHlPckl0ZW1zTWFwID0ge307XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBib2R5T3JJdGVtc01hcCA9IGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzdGF0dXMuY2hhbmdlZCkge1xuICAgICAgcmV0dXJuIHRoaXMuY29tcGxldGVGZXRjaChwYXRoLCBib2R5T3JJdGVtc01hcCwgY29udGVudFR5cGUsIHJldmlzaW9uKVxuICAgICAgICAudGhlbihkYXRhRnJvbUZldGNoID0+IHtcbiAgICAgICAgICBpZiAoaXNGb2xkZXIocGF0aCkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvcnJ1cHRTZXJ2ZXJJdGVtc01hcChib2R5T3JJdGVtc01hcCkpIHtcbiAgICAgICAgICAgICAgbG9nKCdbU3luY10gV0FSTklORzogRGlzY2FyZGluZyBjb3JydXB0IGZvbGRlciBkZXNjcmlwdGlvbiBmcm9tIHNlcnZlciBmb3IgJyArIHBhdGgpO1xuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tYXJrQ2hpbGRyZW4ocGF0aCwgYm9keU9ySXRlbXNNYXAsIGRhdGFGcm9tRmV0Y2gudG9CZVNhdmVkLCBkYXRhRnJvbUZldGNoLm1pc3NpbmdDaGlsZHJlbilcbiAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7IHJldHVybiB0cnVlOyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucnMubG9jYWwuc2V0Tm9kZXModGhpcy5mbHVzaChkYXRhRnJvbUZldGNoLnRvQmVTYXZlZCkpXG4gICAgICAgICAgICAgIC50aGVuKCgpID0+IHsgcmV0dXJuIHRydWU7IH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLnVwZGF0ZUNvbW1vblRpbWVzdGFtcChwYXRoLCByZXZpc2lvbilcbiAgICAgICAgLnRoZW4oKCkgPT4geyByZXR1cm4gdHJ1ZTsgfSk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIGhhbmRsZVJlc3BvbnNlIChwYXRoOiBzdHJpbmcsIGFjdGlvbiwgcik6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIGNvbnN0IHN0YXR1cyA9IHRoaXMuaW50ZXJwcmV0U3RhdHVzKHIuc3RhdHVzQ29kZSk7XG5cbiAgICBpZiAoc3RhdHVzLnN1Y2Nlc3NmdWwpIHtcbiAgICAgIGlmIChhY3Rpb24gPT09ICdnZXQnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmhhbmRsZUdldFJlc3BvbnNlKHBhdGgsIHN0YXR1cywgci5ib2R5LCByLmNvbnRlbnRUeXBlLCByLnJldmlzaW9uKTtcbiAgICAgIH0gZWxzZSBpZiAoYWN0aW9uID09PSAncHV0JyB8fCBhY3Rpb24gPT09ICdkZWxldGUnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbXBsZXRlUHVzaChwYXRoLCBhY3Rpb24sIHN0YXR1cy5jb25mbGljdCwgci5yZXZpc2lvbikudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBjYW5ub3QgaGFuZGxlIHJlc3BvbnNlIGZvciB1bmtub3duIGFjdGlvbiAke2FjdGlvbn1gKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVW5zdWNjZXNzZnVsXG4gICAgICBsZXQgZXJyb3I6IEVycm9yO1xuICAgICAgaWYgKHN0YXR1cy51bkF1dGgpIHtcbiAgICAgICAgZXJyb3IgPSBuZXcgVW5hdXRob3JpemVkRXJyb3IoKTtcbiAgICAgIH0gZWxzZSBpZiAoc3RhdHVzLm5ldHdvcmtQcm9ibGVtcykge1xuICAgICAgICBlcnJvciA9IG5ldyBTeW5jRXJyb3IoJ05ldHdvcmsgcmVxdWVzdCBmYWlsZWQuJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlcnJvciA9IG5ldyBFcnJvcignSFRUUCByZXNwb25zZSBjb2RlICcgKyBzdGF0dXMuc3RhdHVzQ29kZSArICcgcmVjZWl2ZWQuJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLmRlYWxXaXRoRmFpbHVyZShwYXRoKS50aGVuKCgpID0+IHtcbiAgICAgICAgdGhpcy5ycy5fZW1pdCgnZXJyb3InLCBlcnJvcik7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIGZpbmlzaFRhc2sgKHRhc2s6IFN5bmNUYXNrKTogdm9pZCB8IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICh0YXNrLmFjdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBkZWxldGUgdGhpcy5fcnVubmluZ1t0YXNrLnBhdGhdO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJldHVybiB0YXNrLnByb21pc2VcbiAgICAgIC50aGVuKHJlcyA9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLmhhbmRsZVJlc3BvbnNlKHRhc2sucGF0aCwgdGFzay5hY3Rpb24sIHJlcyk7XG4gICAgICB9LCBlcnIgPT4ge1xuICAgICAgICBsb2coJ1tTeW5jXSB3aXJlY2xpZW50IHJlamVjdHMgaXRzIHByb21pc2UhJywgdGFzay5wYXRoLCB0YXNrLmFjdGlvbiwgZXJyKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlUmVzcG9uc2UodGFzay5wYXRoLCB0YXNrLmFjdGlvbiwgeyBzdGF0dXNDb2RlOiAnb2ZmbGluZScgfSk7XG4gICAgICB9KVxuICAgICAgLnRoZW4oY29tcGxldGVkID0+IHtcbiAgICAgICAgZGVsZXRlIHRoaXMuX3RpbWVTdGFydGVkW3Rhc2sucGF0aF07XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9ydW5uaW5nW3Rhc2sucGF0aF07XG5cbiAgICAgICAgaWYgKGNvbXBsZXRlZCkge1xuICAgICAgICAgIGlmICh0aGlzLl90YXNrc1t0YXNrLnBhdGhdKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpPTA7IGkgPCB0aGlzLl90YXNrc1t0YXNrLnBhdGhdLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgIHRoaXMuX3Rhc2tzW3Rhc2sucGF0aF1baV0oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl90YXNrc1t0YXNrLnBhdGhdO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucnMuX2VtaXQoJ3N5bmMtcmVxLWRvbmUnKTtcblxuICAgICAgICB0aGlzLmNvbGxlY3RUYXNrcyhmYWxzZSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgLy8gU2VlIGlmIHRoZXJlIGFyZSBhbnkgbW9yZSB0YXNrcyB0aGF0IGFyZSBub3QgcmVmcmVzaCB0YXNrc1xuICAgICAgICAgIGlmICghdGhpcy5oYXNUYXNrcygpIHx8IHRoaXMuc3RvcHBlZCkge1xuICAgICAgICAgICAgbG9nKCdbU3luY10gU3luYyBpcyBkb25lISBSZXNjaGVkdWxlPycsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRoaXMuX3Rhc2tzKS5sZW5ndGgsIHRoaXMuc3RvcHBlZCk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuZG9uZSkge1xuICAgICAgICAgICAgICB0aGlzLmRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgICB0aGlzLnJzLl9lbWl0KCdzeW5jLWRvbmUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gVXNlIGEgMTBtcyB0aW1lb3V0IHRvIGxldCB0aGUgSmF2YVNjcmlwdCBydW50aW1lIGNhdGNoIGl0cyBicmVhdGhcbiAgICAgICAgICAgIC8vIChhbmQgaG9wZWZ1bGx5IGZvcmNlIGFuIEluZGV4ZWREQiBhdXRvLWNvbW1pdD8pLCBhbmQgYWxzbyB0byBjYXVzZVxuICAgICAgICAgICAgLy8gdGhlIHRocmVhZHMgdG8gZ2V0IHN0YWdnZXJlZCBhbmQgZ2V0IGEgZ29vZCBzcHJlYWQgb3ZlciB0aW1lOlxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7IHRoaXMuZG9UYXNrcygpOyB9LCAxMCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0sIGVyciA9PiB7XG4gICAgICAgIGxvZygnW1N5bmNdIEVycm9yJywgZXJyKTtcbiAgICAgICAgZGVsZXRlIHRoaXMuX3RpbWVTdGFydGVkW3Rhc2sucGF0aF07XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9ydW5uaW5nW3Rhc2sucGF0aF07XG4gICAgICAgIHRoaXMucnMuX2VtaXQoJ3N5bmMtcmVxLWRvbmUnKTtcbiAgICAgICAgaWYgKCF0aGlzLmRvbmUpIHtcbiAgICAgICAgICB0aGlzLmRvbmUgPSB0cnVlO1xuICAgICAgICAgIHRoaXMucnMuX2VtaXQoJ3N5bmMtZG9uZScpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyBkb1Rhc2tzICgpOiBib29sZWFuIHtcbiAgICBsZXQgbnVtVG9IYXZlOiBudW1iZXIsIG51bUFkZGVkID0gMCwgcGF0aDogc3RyaW5nO1xuICAgIGlmICh0aGlzLnJzLnJlbW90ZS5jb25uZWN0ZWQpIHtcbiAgICAgIGlmICh0aGlzLnJzLnJlbW90ZS5vbmxpbmUpIHtcbiAgICAgICAgbnVtVG9IYXZlID0gdGhpcy5udW1UaHJlYWRzO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbnVtVG9IYXZlID0gMTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbnVtVG9IYXZlID0gMDtcbiAgICB9XG4gICAgY29uc3QgbnVtVG9BZGQgPSBudW1Ub0hhdmUgLSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0aGlzLl9ydW5uaW5nKS5sZW5ndGg7XG4gICAgaWYgKG51bVRvQWRkIDw9IDApIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBmb3IgKHBhdGggaW4gdGhpcy5fdGFza3MpIHtcbiAgICAgIGlmICghdGhpcy5fcnVubmluZ1twYXRoXSkge1xuICAgICAgICB0aGlzLl90aW1lU3RhcnRlZFtwYXRoXSA9IHRoaXMubm93KCk7XG4gICAgICAgIHRoaXMuX3J1bm5pbmdbcGF0aF0gPSB0aGlzLmRvVGFzayhwYXRoKTtcbiAgICAgICAgdGhpcy5fcnVubmluZ1twYXRoXS50aGVuKHRoaXMuZmluaXNoVGFzay5iaW5kKHRoaXMpKTtcbiAgICAgICAgbnVtQWRkZWQrKztcbiAgICAgICAgaWYgKG51bUFkZGVkID49IG51bVRvQWRkKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIChudW1BZGRlZCA+PSBudW1Ub0FkZCk7XG4gIH1cblxuICBwdWJsaWMgYXN5bmMgY29sbGVjdFRhc2tzIChhbHNvQ2hlY2tSZWZyZXNoPzogYm9vbGVhbik6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICh0aGlzLmhhc1Rhc2tzKCkgfHwgdGhpcy5zdG9wcGVkKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuY29sbGVjdERpZmZUYXNrcygpLnRoZW4obnVtRGlmZnMgPT4ge1xuICAgICAgaWYgKG51bURpZmZzIHx8IGFsc29DaGVja1JlZnJlc2ggPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbGxlY3RSZWZyZXNoVGFza3MoKTtcbiAgICAgIH1cbiAgICB9LCBmdW5jdGlvbiAoZXJyKSB7IHRocm93IGVycjsgfSk7XG4gIH1cblxuICBwdWJsaWMgYWRkVGFzayAocGF0aDogc3RyaW5nLCBjYj86IEZ1bmN0aW9uKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLl90YXNrc1twYXRoXSkge1xuICAgICAgdGhpcy5fdGFza3NbcGF0aF0gPSBbXTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZihjYikgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXMuX3Rhc2tzW3BhdGhdLnB1c2goY2IpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBNZXRob2Q6IHN5bmNcbiAgICoqL1xuICBwdWJsaWMgc3luYyAoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdGhpcy5kb25lID0gZmFsc2U7XG5cbiAgICBpZiAoIXRoaXMuZG9UYXNrcygpKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb2xsZWN0VGFza3MoKS50aGVuKCgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB0aGlzLmRvVGFza3MoKTtcbiAgICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgICAgbG9nKCdbU3luY10gZG9UYXNrcyBlcnJvcicsIGUpO1xuICAgICAgICB9XG4gICAgICB9LCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBsb2coJ1tTeW5jXSBTeW5jIGVycm9yJywgZSk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTG9jYWwgY2FjaGUgdW5hdmFpbGFibGUnKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIF9yc19pbml0IChyZW1vdGVTdG9yYWdlKTogdm9pZCB7XG4gICAgc3luY0N5Y2xlQ2IgPSBmdW5jdGlvbiAoKTogdm9pZCB7XG4gICAgICAvLyBpZiAoIWNvbmZpZy5jYWNoZSkgcmV0dXJuIGZhbHNlXG4gICAgICBsb2coJ1tTeW5jXSBzeW5jQ3ljbGVDYiBjYWxsaW5nIHN5bmNDeWNsZScpO1xuXG4gICAgICBjb25zdCBlbnYgPSBuZXcgRW52KCk7XG4gICAgICBpZiAoZW52LmlzQnJvd3NlcigpKSB7IGhhbmRsZVZpc2liaWxpdHkoZW52LCByZW1vdGVTdG9yYWdlKTsgfVxuXG4gICAgICBpZiAoIXJlbW90ZVN0b3JhZ2Uuc3luYykge1xuICAgICAgICAvLyBDYWxsIHRoaXMgbm93IHRoYXQgYWxsIG90aGVyIG1vZHVsZXMgYXJlIGFsc28gcmVhZHk6XG4gICAgICAgIHJlbW90ZVN0b3JhZ2Uuc3luYyA9IG5ldyBTeW5jKHJlbW90ZVN0b3JhZ2UpO1xuXG4gICAgICAgIGlmIChyZW1vdGVTdG9yYWdlLnN5bmNTdG9wcGVkKSB7XG4gICAgICAgICAgbG9nKCdbU3luY10gSW5zdGFudGlhdGluZyBzeW5jIHN0b3BwZWQnKTtcbiAgICAgICAgICByZW1vdGVTdG9yYWdlLnN5bmMuc3RvcHBlZCA9IHRydWU7XG4gICAgICAgICAgZGVsZXRlIHJlbW90ZVN0b3JhZ2Uuc3luY1N0b3BwZWQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbG9nKCdbU3luY10gc3luY0N5Y2xlQ2IgY2FsbGluZyBzeW5jQ3ljbGUnKTtcbiAgICAgIHJlbW90ZVN0b3JhZ2Uuc3luY0N5Y2xlKCk7XG4gICAgfTtcblxuICAgIHN5bmNPbkNvbm5lY3QgPSBmdW5jdGlvbiAoKTogdm9pZCB7XG4gICAgICByZW1vdGVTdG9yYWdlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Nvbm5lY3RlZCcsIHN5bmNPbkNvbm5lY3QpO1xuICAgICAgcmVtb3RlU3RvcmFnZS5zdGFydFN5bmMoKTtcbiAgICB9O1xuXG4gICAgcmVtb3RlU3RvcmFnZS5vbigncmVhZHknLCBzeW5jQ3ljbGVDYik7XG4gICAgcmVtb3RlU3RvcmFnZS5vbignY29ubmVjdGVkJywgc3luY09uQ29ubmVjdCk7XG4gIH1cblxuICBzdGF0aWMgX3JzX2NsZWFudXAgKHJlbW90ZVN0b3JhZ2UpOiB2b2lkIHtcbiAgICByZW1vdGVTdG9yYWdlLnN0b3BTeW5jKCk7XG4gICAgcmVtb3RlU3RvcmFnZS5yZW1vdmVFdmVudExpc3RlbmVyKCdyZWFkeScsIHN5bmNDeWNsZUNiKTtcbiAgICByZW1vdGVTdG9yYWdlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Nvbm5lY3RlZCcsIHN5bmNPbkNvbm5lY3QpO1xuXG4gICAgcmVtb3RlU3RvcmFnZS5zeW5jID0gdW5kZWZpbmVkO1xuICAgIGRlbGV0ZSByZW1vdGVTdG9yYWdlLnN5bmM7XG4gIH1cbn07XG5cbmludGVyZmFjZSBTeW5jIGV4dGVuZHMgRXZlbnRIYW5kbGluZyB7fTtcbmFwcGx5TWl4aW5zKFN5bmMsIFtFdmVudEhhbmRsaW5nXSk7XG5cbmV4cG9ydCBkZWZhdWx0IFN5bmM7XG4iLCIvKipcbiAqIFRPRE8gcmV3cml0ZSwgZG9lc24ndCBleHBvc2UgR1BEIGFueW1vcmUsIGl0J3MgaW4gY2FjaGluZ2xheWVyIG5vd1xuICpcbiAqIFRoaXMgZmlsZSBleHBvc2VzIGEgZ2V0L3B1dC9kZWxldGUgaW50ZXJmYWNlLCBhY2Nlc3NpbmcgZGF0YSBpbiBhbiBJbmRleGVkREIuXG4gKlxuICogVGhlcmUgYXJlIG11bHRpcGxlIHBhcnRzIHRvIHRoaXMgaW50ZXJmYWNlOlxuICpcbiAqICAgVGhlIFJlbW90ZVN0b3JhZ2UgaW50ZWdyYXRpb246XG4gKiAgICAgLSBJbmRleGVkREIuX3JzX3N1cHBvcnRlZCgpIGRldGVybWluZXMgaWYgSW5kZXhlZERCIHN1cHBvcnRcbiAqICAgICAgIGlzIGF2YWlsYWJsZS4gSWYgaXQgaXNuJ3QsIFJlbW90ZVN0b3JhZ2Ugd29uJ3QgaW5pdGlhbGl6ZSB0aGUgZmVhdHVyZS5cbiAqICAgICAtIEluZGV4ZWREQi5fcnNfaW5pdCgpIGluaXRpYWxpemVzIHRoZSBmZWF0dXJlLiBJdCByZXR1cm5zXG4gKiAgICAgICBhIHByb21pc2UgdGhhdCBpcyBmdWxmaWxsZWQgYXMgc29vbiBhcyB0aGUgZGF0YWJhc2UgaGFzIGJlZW4gb3BlbmVkIGFuZFxuICogICAgICAgbWlncmF0ZWQuXG4gKlxuICogICBUaGUgc3RvcmFnZSBpbnRlcmZhY2UgKEluZGV4ZWREQiBvYmplY3QpOlxuICogICAgIC0gVXN1YWxseSB0aGlzIGlzIGFjY2Vzc2libGUgdmlhIFwicmVtb3RlU3RvcmFnZS5sb2NhbFwiXG4gKiAgICAgLSAjZ2V0KCkgdGFrZXMgYSBwYXRoIGFuZCByZXR1cm5zIGEgcHJvbWlzZS5cbiAqICAgICAtICNwdXQoKSB0YWtlcyBhIHBhdGgsIGJvZHkgYW5kIGNvbnRlbnRUeXBlIGFuZCBhbHNvIHJldHVybnMgYSBwcm9taXNlLlxuICogICAgIC0gI2RlbGV0ZSgpIHRha2VzIGEgcGF0aCBhbmQgYWxzbyByZXR1cm5zIGEgcHJvbWlzZS5cbiAqICAgICAtICNvbignY2hhbmdlJywgLi4uKSBldmVudHMsIGJlaW5nIGZpcmVkIHdoZW5ldmVyIHNvbWV0aGluZyBjaGFuZ2VzIGluXG4gKiAgICAgICB0aGUgc3RvcmFnZS4gQ2hhbmdlIGV2ZW50cyByb3VnaGx5IGZvbGxvdyB0aGUgU3RvcmFnZUV2ZW50IHBhdHRlcm4uXG4gKiAgICAgICBUaGV5IGhhdmUgXCJvbGRWYWx1ZVwiIGFuZCBcIm5ld1ZhbHVlXCIgcHJvcGVydGllcywgd2hpY2ggY2FuIGJlIHVzZWQgdG9cbiAqICAgICAgIGRpc3Rpbmd1aXNoIGNyZWF0ZS91cGRhdGUvZGVsZXRlIG9wZXJhdGlvbnMgYW5kIGFuYWx5emUgY2hhbmdlcyBpblxuICogICAgICAgY2hhbmdlIGhhbmRsZXJzLiBJbiBhZGRpdGlvbiB0aGV5IGNhcnJ5IGEgXCJvcmlnaW5cIiBwcm9wZXJ0eSwgd2hpY2hcbiAqICAgICAgIGlzIGVpdGhlciBcIndpbmRvd1wiLCBcImxvY2FsXCIsIG9yIFwicmVtb3RlXCIuIFwicmVtb3RlXCIgZXZlbnRzIGFyZSBmaXJlZFxuICogICAgICAgd2hlbmV2ZXIgYSBjaGFuZ2UgY29tZXMgaW4gZnJvbSBTeW5jLlxuICpcbiAqICAgVGhlIHN5bmMgaW50ZXJmYWNlIChhbHNvIG9uIEluZGV4ZWREQiBvYmplY3QpOlxuICogICAgIC0gI2dldE5vZGVzKFtwYXRoc10pIHJldHVybnMgdGhlIHJlcXVlc3RlZCBub2RlcyBpbiBhIHByb21pc2UuXG4gKiAgICAgLSAjc2V0Tm9kZXMobWFwKSBzdG9yZXMgYWxsIHRoZSBub2RlcyBnaXZlbiBpbiB0aGUgKHBhdGggLT4gbm9kZSkgbWFwLlxuICpcbiAqIEBpbnRlcmZhY2VcbiAqL1xuXG5pbXBvcnQgRXZlbnRIYW5kbGluZyBmcm9tICcuL2V2ZW50aGFuZGxpbmcnO1xuaW1wb3J0IENhY2hpbmdMYXllciBmcm9tICcuL2NhY2hpbmdsYXllcic7XG5pbXBvcnQgbG9nIGZyb20gJy4vbG9nJztcbmltcG9ydCB7XG4gIGFwcGx5TWl4aW5zLFxuICBkZWVwQ2xvbmUsXG4gIGdldEdsb2JhbENvbnRleHRcbn0gZnJvbSAnLi91dGlsJztcblxuY29uc3QgREJfVkVSU0lPTiA9IDI7XG5cbmNvbnN0IERFRkFVTFRfREJfTkFNRSA9ICdyZW1vdGVzdG9yYWdlJztcblxuLy8gVE9ETyB2ZXJ5IHdlaXJkIHRoYXQgdGhpcyBpcyByZS1hc3NpZ25lZFxubGV0IERFRkFVTFRfREI7XG5cbmNsYXNzIEluZGV4ZWREQiBleHRlbmRzIENhY2hpbmdMYXllciB7XG4gIGRiOiBhbnk7XG4gIGdldHNSdW5uaW5nOiBudW1iZXI7XG4gIHB1dHNSdW5uaW5nOiBudW1iZXI7XG4gIGNoYW5nZXNRdWV1ZWQ6IHsgW2tleTogc3RyaW5nXTogdW5rbm93biB9O1xuICBjaGFuZ2VzUnVubmluZzogeyBba2V5OiBzdHJpbmddOiB1bmtub3duIH07XG4gIGNvbW1pdFNsb3duZXNzV2FybmluZzogYW55OyAvLyBUT0RPIG51bGwgfCBudW1iZXIgKGJ1dCBub2RlJ3Mgc2V0SW50ZXJ2YWwgcmV0dXJucyBhbiB1bmtub3duIHR5cGUpXG5cbiAgY29uc3RydWN0b3IoZGF0YWJhc2UpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuYWRkRXZlbnRzKFsnY2hhbmdlJywgJ2xvY2FsLWV2ZW50cy1kb25lJ10pO1xuXG4gICAgdGhpcy5kYiA9IGRhdGFiYXNlIHx8IERFRkFVTFRfREI7XG5cbiAgICBpZiAoIXRoaXMuZGIpIHtcbiAgICAgIC8vIFRPRE8gc2hvdWxkbid0IHRoaXMgdGhyb3cgYW4gZXJyb3I/XG4gICAgICBsb2coXCJbSW5kZXhlZERCXSBGYWlsZWQgdG8gb3BlbiBEQlwiKTtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgdGhpcy5nZXRzUnVubmluZyA9IDA7XG4gICAgdGhpcy5wdXRzUnVubmluZyA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBHaXZlbiBhIG5vZGUgZm9yIHdoaWNoIHVuY29tbWl0dGVkIGNoYW5nZXMgZXhpc3QsIHRoaXMgY2FjaGVcbiAgICAgKiBzdG9yZXMgZWl0aGVyIHRoZSBlbnRpcmUgdW5jb21taXR0ZWQgbm9kZSwgb3IgZmFsc2UgZm9yIGEgZGVsZXRpb24uXG4gICAgICogVGhlIG5vZGUncyBwYXRoIGlzIHVzZWQgYXMgdGhlIGtleS5cbiAgICAgKlxuICAgICAqIGNoYW5nZXNRdWV1ZWQgc3RvcmVzIGNoYW5nZXMgZm9yIHdoaWNoIG5vIEluZGV4ZWREQiB0cmFuc2FjdGlvbiBoYXNcbiAgICAgKiBiZWVuIHN0YXJ0ZWQgeWV0LlxuICAgICAqL1xuICAgIHRoaXMuY2hhbmdlc1F1ZXVlZCA9IHt9O1xuXG4gICAgLyoqXG4gICAgICogR2l2ZW4gYSBub2RlIGZvciB3aGljaCB1bmNvbW1pdHRlZCBjaGFuZ2VzIGV4aXN0LCB0aGlzIGNhY2hlXG4gICAgICogc3RvcmVzIGVpdGhlciB0aGUgZW50aXJlIHVuY29tbWl0dGVkIG5vZGUsIG9yIGZhbHNlIGZvciBhIGRlbGV0aW9uLlxuICAgICAqIFRoZSBub2RlJ3MgcGF0aCBpcyB1c2VkIGFzIHRoZSBrZXkuXG4gICAgICpcbiAgICAgKiBBdCBhbnkgdGltZSB0aGVyZSBpcyBhdCBtb3N0IG9uZSBJbmRleGVkREIgdHJhbnNhY3Rpb24gcnVubmluZy5cbiAgICAgKiBjaGFuZ2VzUnVubmluZyBzdG9yZXMgdGhlIGNoYW5nZXMgdGhhdCBhcmUgaW5jbHVkZWQgaW4gdGhhdCBjdXJyZW50bHlcbiAgICAgKiBydW5uaW5nIEluZGV4ZWREQiB0cmFuc2FjdGlvbiwgb3IgaWYgbm9uZSBpcyBydW5uaW5nLCBvZiB0aGUgbGFzdCBvbmVcbiAgICAgKiB0aGF0IHJhbi5cbiAgICAgKi9cbiAgICB0aGlzLmNoYW5nZXNSdW5uaW5nID0ge307XG5cbiAgICAvLyBUT0RPIGRvY3VtZW50XG4gICAgdGhpcy5jb21taXRTbG93bmVzc1dhcm5pbmcgPSBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIFRPRE86IERvY3VtZW50XG4gICAqL1xuICBhc3luYyBnZXROb2RlcyAocGF0aHM6IHN0cmluZ1tdKTogUHJvbWlzZTxSU05vZGVzPiB7XG4gICAgY29uc3QgbWlzc2VzID0gW10sIGZyb21DYWNoZSA9IHt9O1xuICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBwYXRocy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgaWYgKHRoaXMuY2hhbmdlc1F1ZXVlZFtwYXRoc1tpXV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBmcm9tQ2FjaGVbcGF0aHNbaV1dID0gZGVlcENsb25lKHRoaXMuY2hhbmdlc1F1ZXVlZFtwYXRoc1tpXV0gfHwgdW5kZWZpbmVkKTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5jaGFuZ2VzUnVubmluZ1twYXRoc1tpXV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBmcm9tQ2FjaGVbcGF0aHNbaV1dID0gZGVlcENsb25lKHRoaXMuY2hhbmdlc1J1bm5pbmdbcGF0aHNbaV1dIHx8IHVuZGVmaW5lZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtaXNzZXMucHVzaChwYXRoc1tpXSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChtaXNzZXMubGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0Tm9kZXNGcm9tRGIobWlzc2VzKS50aGVuKGZ1bmN0aW9uIChub2Rlcykge1xuICAgICAgICBmb3IgKGNvbnN0IGkgaW4gZnJvbUNhY2hlKSB7XG4gICAgICAgICAgbm9kZXNbaV0gPSBmcm9tQ2FjaGVbaV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5vZGVzO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZnJvbUNhY2hlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVE9ETzogRG9jdW1lbnRcbiAgICovXG4gIGFzeW5jIHNldE5vZGVzIChub2RlczogUlNOb2Rlcyk6IFByb21pc2U8dm9pZD4ge1xuICAgIGZvciAoY29uc3QgaSBpbiBub2Rlcykge1xuICAgICAgdGhpcy5jaGFuZ2VzUXVldWVkW2ldID0gbm9kZXNbaV0gfHwgZmFsc2U7XG4gICAgfVxuICAgIHRoaXMubWF5YmVGbHVzaCgpO1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUT0RPOiBEb2N1bWVudFxuICAgKi9cbiAgbWF5YmVGbHVzaCAoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMucHV0c1J1bm5pbmcgPT09IDApIHtcbiAgICAgIHRoaXMuZmx1c2hDaGFuZ2VzUXVldWVkKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghdGhpcy5jb21taXRTbG93bmVzc1dhcm5pbmcpIHtcbiAgICAgICAgdGhpcy5jb21taXRTbG93bmVzc1dhcm5pbmcgPSBnbG9iYWwuc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGNvbnNvbGUud2FybignV0FSTklORzogd2FpdGVkIG1vcmUgdGhhbiAxMCBzZWNvbmRzIGZvciBwcmV2aW91cyBjb21taXQgdG8gZmluaXNoJyk7XG4gICAgICAgIH0sIDEwMDAwKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVE9ETzogRG9jdW1lbnRcbiAgICovXG4gIGZsdXNoQ2hhbmdlc1F1ZXVlZCAoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuY29tbWl0U2xvd25lc3NXYXJuaW5nKSB7XG4gICAgICBjbGVhckludGVydmFsKHRoaXMuY29tbWl0U2xvd25lc3NXYXJuaW5nKTtcbiAgICAgIHRoaXMuY29tbWl0U2xvd25lc3NXYXJuaW5nID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKE9iamVjdC5rZXlzKHRoaXMuY2hhbmdlc1F1ZXVlZCkubGVuZ3RoID4gMCkge1xuICAgICAgdGhpcy5jaGFuZ2VzUnVubmluZyA9IHRoaXMuY2hhbmdlc1F1ZXVlZDtcbiAgICAgIHRoaXMuY2hhbmdlc1F1ZXVlZCA9IHt9O1xuICAgICAgdGhpcy5zZXROb2Rlc0luRGIodGhpcy5jaGFuZ2VzUnVubmluZykudGhlbih0aGlzLmZsdXNoQ2hhbmdlc1F1ZXVlZC5iaW5kKHRoaXMpKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVE9ETzogRG9jdW1lbnRcbiAgICovXG4gIGdldE5vZGVzRnJvbURiIChwYXRoczogc3RyaW5nW10pOiBQcm9taXNlPFJTTm9kZXM+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXG4gICAgICBjb25zdCB0cmFuc2FjdGlvbiA9IHRoaXMuZGIudHJhbnNhY3Rpb24oWydub2RlcyddLCAncmVhZG9ubHknKTtcbiAgICAgIGNvbnN0IG5vZGVzID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoJ25vZGVzJyk7XG4gICAgICBjb25zdCByZXRyaWV2ZWROb2RlcyA9IHt9O1xuXG4gICAgICB0aGlzLmdldHNSdW5uaW5nKys7XG5cbiAgICAgIHBhdGhzLm1hcCgocGF0aDogc3RyaW5nKSA9PiB7XG4gICAgICAgIG5vZGVzLmdldChwYXRoKS5vbnN1Y2Nlc3MgPSAoZXZ0KSA9PiB7XG4gICAgICAgICAgcmV0cmlldmVkTm9kZXNbcGF0aF0gPSBldnQudGFyZ2V0LnJlc3VsdDtcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuXG4gICAgICB0cmFuc2FjdGlvbi5vbmNvbXBsZXRlID0gKCkgPT4ge1xuICAgICAgICByZXNvbHZlKHJldHJpZXZlZE5vZGVzKTtcbiAgICAgICAgdGhpcy5nZXRzUnVubmluZy0tO1xuICAgICAgfTtcblxuICAgICAgdHJhbnNhY3Rpb24ub25lcnJvciA9IHRyYW5zYWN0aW9uLm9uYWJvcnQgPSAoKSA9PiB7XG4gICAgICAgIHJlamVjdCgnZ2V0IHRyYW5zYWN0aW9uIGVycm9yL2Fib3J0Jyk7XG4gICAgICAgIHRoaXMuZ2V0c1J1bm5pbmctLTtcbiAgICAgIH07XG5cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUT0RPOiBEb2N1bWVudFxuICAgKi9cbiAgYXN5bmMgc2V0Tm9kZXNJbkRiIChub2RlczogeyBba2V5OiBzdHJpbmddOiB1bmtub3duIH0pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXG4gICAgICBjb25zdCB0cmFuc2FjdGlvbiA9IHRoaXMuZGIudHJhbnNhY3Rpb24oWydub2RlcyddLCAncmVhZHdyaXRlJyk7XG4gICAgICBjb25zdCBub2Rlc1N0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoJ25vZGVzJyk7XG4gICAgICBjb25zdCBzdGFydFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcblxuICAgICAgdGhpcy5wdXRzUnVubmluZysrO1xuXG4gICAgICBsb2coJ1tJbmRleGVkREJdIFN0YXJ0aW5nIHB1dCcsIG5vZGVzLCB0aGlzLnB1dHNSdW5uaW5nKTtcblxuICAgICAgZm9yIChjb25zdCBwYXRoIGluIG5vZGVzKSB7XG4gICAgICAgIGNvbnN0IG5vZGUgPSBub2Rlc1twYXRoXTtcbiAgICAgICAgaWYgKHR5cGVvZiAobm9kZSkgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIG5vZGVzU3RvcmUucHV0KG5vZGUpO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGxvZygnW0luZGV4ZWREQl0gRXJyb3Igd2hpbGUgcHV0dGluZycsIG5vZGUsIGUpO1xuICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIG5vZGVzU3RvcmUuZGVsZXRlKHBhdGgpO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGxvZygnW0luZGV4ZWREQl0gRXJyb3Igd2hpbGUgcmVtb3ZpbmcnLCBub2Rlc1N0b3JlLCBub2RlLCBlKTtcbiAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRyYW5zYWN0aW9uLm9uY29tcGxldGUgPSAoKSA9PiB7XG4gICAgICAgIHRoaXMucHV0c1J1bm5pbmctLTtcbiAgICAgICAgbG9nKCdbSW5kZXhlZERCXSBGaW5pc2hlZCBwdXQnLCBub2RlcywgdGhpcy5wdXRzUnVubmluZywgKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gc3RhcnRUaW1lKSArICdtcycpO1xuICAgICAgICByZXNvbHZlKCk7XG4gICAgICB9O1xuXG4gICAgICB0cmFuc2FjdGlvbi5vbmVycm9yID0gKCkgPT4ge1xuICAgICAgICB0aGlzLnB1dHNSdW5uaW5nLS07XG4gICAgICAgIHJlamVjdCgndHJhbnNhY3Rpb24gZXJyb3InKTtcbiAgICAgIH07XG5cbiAgICAgIHRyYW5zYWN0aW9uLm9uYWJvcnQgPSAoKSA9PiB7XG4gICAgICAgIHJlamVjdCgndHJhbnNhY3Rpb24gYWJvcnQnKTtcbiAgICAgICAgdGhpcy5wdXRzUnVubmluZy0tO1xuICAgICAgfTtcblxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFRPRE86IERvY3VtZW50XG4gICAqL1xuICAvLyBUT0RPIGFkZCByZWFsIHR5cGVzIG9uY2Uga25vd25cbiAgcmVzZXQgKGNhbGxiYWNrOiAocDogdW5rbm93bikgPT4gdW5rbm93bik6IHZvaWQge1xuICAgIGNvbnN0IGRiTmFtZSA9IHRoaXMuZGIubmFtZTtcblxuICAgIHRoaXMuZGIuY2xvc2UoKTtcblxuICAgIEluZGV4ZWREQi5jbGVhbih0aGlzLmRiLm5hbWUsICgpID0+IHtcbiAgICAgIEluZGV4ZWREQi5vcGVuKGRiTmFtZSwgKGVyciwgb3RoZXIpID0+IHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIGxvZygnW0luZGV4ZWREQl0gRXJyb3Igd2hpbGUgcmVzZXR0aW5nIGxvY2FsIHN0b3JhZ2UnLCBlcnIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIGhhY2t5IVxuICAgICAgICAgIHRoaXMuZGIgPSBvdGhlcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgY2FsbGJhY2soc2VsZik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFRPRE86IERvY3VtZW50XG4gICAqL1xuICAvLyBUT0RPIGFkZCByZWFsIHR5cGVzIG9uY2Uga25vd25cbiAgYXN5bmMgZm9yQWxsTm9kZXMgKGNiOiAocDogdW5rbm93bikgPT4gdW5rbm93bik6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZS8qLCByZWplY3QqLykgPT4ge1xuXG4gICAgICBjb25zdCB0cmFuc2FjdGlvbiA9IHRoaXMuZGIudHJhbnNhY3Rpb24oWydub2RlcyddLCAncmVhZG9ubHknKTtcbiAgICAgIGNvbnN0IGN1cnNvclJlcSA9IHRyYW5zYWN0aW9uLm9iamVjdFN0b3JlKCdub2RlcycpLm9wZW5DdXJzb3IoKTtcblxuICAgICAgY3Vyc29yUmVxLm9uc3VjY2VzcyA9IChldnQpID0+IHtcbiAgICAgICAgY29uc3QgY3Vyc29yID0gZXZ0LnRhcmdldC5yZXN1bHQ7XG5cbiAgICAgICAgaWYgKGN1cnNvcikge1xuICAgICAgICAgIGNiKHRoaXMubWlncmF0ZShjdXJzb3IudmFsdWUpKTtcbiAgICAgICAgICBjdXJzb3IuY29udGludWUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxuICBjbG9zZURCICgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5wdXRzUnVubmluZyA9PT0gMCkgeyAvLyBjaGVjayBpZiB3ZSBhcmUgY3VycmVudGx5IHdyaXRpbmcgdG8gdGhlIERCXG4gICAgICB0aGlzLmRiLmNsb3NlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldFRpbWVvdXQodGhpcy5jbG9zZURCLmJpbmQodGhpcyksIDEwMCk7IC8vIHRyeSBhZ2FpbiBhIGxpdHRsZSBsYXRlclxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBUT0RPOiBEb2N1bWVudFxuICAgKi9cbiAgLy8gVE9ETyBhZGQgcmVhbCB0eXBlcyBvbmNlIGtub3duXG4gIHN0YXRpYyBvcGVuIChuYW1lOiBzdHJpbmcsIGNhbGxiYWNrOiAocDogdW5rbm93biwgcDI/OiB1bmtub3duKSA9PiB1bmtub3duKSB7XG4gICAgY29uc3QgdGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIGNhbGxiYWNrKFwidGltZW91dCB0cnlpbmcgdG8gb3BlbiBkYlwiKTtcbiAgICB9LCAxMDAwMCk7XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVxID0gaW5kZXhlZERCLm9wZW4obmFtZSwgREJfVkVSU0lPTik7XG5cbiAgICAgIHJlcS5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBsb2coJ1tJbmRleGVkREJdIE9wZW5pbmcgREIgZmFpbGVkJywgcmVxKTtcblxuICAgICAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgICAgICBjYWxsYmFjayhyZXEuZXJyb3IpO1xuICAgICAgfTtcblxuICAgICAgcmVxLm9udXBncmFkZW5lZWRlZCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBjb25zdCBkYiA9IHJlcS5yZXN1bHQ7XG5cbiAgICAgICAgbG9nKFwiW0luZGV4ZWREQl0gVXBncmFkZTogZnJvbSBcIiwgZXZlbnQub2xkVmVyc2lvbiwgXCIgdG8gXCIsIGV2ZW50Lm5ld1ZlcnNpb24pO1xuXG4gICAgICAgIGlmIChldmVudC5vbGRWZXJzaW9uICE9PSAxKSB7XG4gICAgICAgICAgbG9nKFwiW0luZGV4ZWREQl0gQ3JlYXRpbmcgb2JqZWN0IHN0b3JlOiBub2Rlc1wiKTtcbiAgICAgICAgICBkYi5jcmVhdGVPYmplY3RTdG9yZSgnbm9kZXMnLCB7a2V5UGF0aDogJ3BhdGgnfSk7XG4gICAgICAgIH1cblxuICAgICAgICBsb2coXCJbSW5kZXhlZERCXSBDcmVhdGluZyBvYmplY3Qgc3RvcmU6IGNoYW5nZXNcIik7XG5cbiAgICAgICAgZGIuY3JlYXRlT2JqZWN0U3RvcmUoJ2NoYW5nZXMnLCB7a2V5UGF0aDogJ3BhdGgnfSk7XG4gICAgICB9O1xuXG4gICAgICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuXG4gICAgICAgIC8vIGNoZWNrIGlmIGFsbCBvYmplY3Qgc3RvcmVzIGV4aXN0XG4gICAgICAgIGNvbnN0IGRiID0gcmVxLnJlc3VsdDtcbiAgICAgICAgaWYgKCFkYi5vYmplY3RTdG9yZU5hbWVzLmNvbnRhaW5zKCdub2RlcycpIHx8ICFkYi5vYmplY3RTdG9yZU5hbWVzLmNvbnRhaW5zKCdjaGFuZ2VzJykpIHtcbiAgICAgICAgICBsb2coXCJbSW5kZXhlZERCXSBNaXNzaW5nIG9iamVjdCBzdG9yZS4gUmVzZXR0aW5nIHRoZSBkYXRhYmFzZS5cIik7XG4gICAgICAgICAgSW5kZXhlZERCLmNsZWFuKG5hbWUsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIEluZGV4ZWREQi5vcGVuKG5hbWUsIGNhbGxiYWNrKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjYWxsYmFjayhudWxsLCByZXEucmVzdWx0KTtcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGxvZyhcIltJbmRleGVkREJdIEZhaWxlZCB0byBvcGVuIGRhdGFiYXNlOiBcIiArIGVycm9yKTtcbiAgICAgIGxvZyhcIltJbmRleGVkREJdIFJlc2V0dGluZyBkYXRhYmFzZSBhbmQgdHJ5aW5nIGFnYWluLlwiKTtcblxuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcblxuICAgICAgSW5kZXhlZERCLmNsZWFuKG5hbWUsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgSW5kZXhlZERCLm9wZW4obmFtZSwgY2FsbGJhY2spO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRPRE86IERvY3VtZW50XG4gICAqL1xuICBzdGF0aWMgY2xlYW4gKGRhdGFiYXNlTmFtZTogc3RyaW5nLCBjYWxsYmFjazogKCkgPT4gdm9pZCkge1xuICAgIGNvbnN0IHJlcSA9IGluZGV4ZWREQi5kZWxldGVEYXRhYmFzZShkYXRhYmFzZU5hbWUpO1xuXG4gICAgcmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGxvZygnW0luZGV4ZWREQl0gRG9uZSByZW1vdmluZyBEQicpO1xuICAgICAgY2FsbGJhY2soKTtcbiAgICB9O1xuXG4gICAgLy8gVE9ETyBjaGVjayBpZiB0aGlzIGRvZXMgYW55dGhpbmcgYXMgb25hYm9ydCBkb2VzIG5vdCBleGlzdCBvbiB0eXBlIGFjY29yZGluZyB0byB0c1xuICAgIHJlcS5vbmVycm9yID0gKHJlcSBhcyBhbnkpLm9uYWJvcnQgPSBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gcmVtb3ZlIGRhdGFiYXNlIFwiJyArIGRhdGFiYXNlTmFtZSArICdcIicsIGV2dCk7XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplIHRoZSBJbmRleGVkREIgYmFja2VuZC5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IHJlbW90ZVN0b3JhZ2UgLSBSZW1vdGVTdG9yYWdlIGluc3RhbmNlXG4gICAqXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIC8vIFRPRE8gYWRkIHJlYWwgdHlwZSBvbmNlIGtub3duXG4gIHN0YXRpYyBfcnNfaW5pdCAocmVtb3RlU3RvcmFnZTogdW5rbm93bik6IFByb21pc2U8dW5rbm93bj4ge1xuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblxuICAgICAgSW5kZXhlZERCLm9wZW4oREVGQVVMVF9EQl9OQU1FLCBmdW5jdGlvbiAoZXJyLCBkYikge1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgREVGQVVMVF9EQiA9IGRiO1xuICAgICAgICAgIC8vIFRPRE8gcmVtb3ZlIG9uY2UgcmVhbCB0eXBlIG9uY2Uga25vd25cbiAgICAgICAgICAoZGIgYXMgYW55KS5vbmVycm9yID0gKCkgPT4ge1xuICAgICAgICAgICAgKHJlbW90ZVN0b3JhZ2UgYXMgYW55KS5fZW1pdCgnZXJyb3InLCBlcnIpO1xuICAgICAgICAgIH07XG4gICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEluZm9ybSBhYm91dCB0aGUgYXZhaWxhYmlsaXR5IG9mIHRoZSBJbmRleGVkREIgYmFja2VuZC5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IHJzIC0gUmVtb3RlU3RvcmFnZSBpbnN0YW5jZVxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAgICpcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgc3RhdGljIF9yc19zdXBwb3J0ZWQgKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cbiAgICAgIGNvbnN0IGNvbnRleHQgPSBnZXRHbG9iYWxDb250ZXh0KCk7XG5cbiAgICAgIC8vIEZJWE1FOiB0aGlzIGlzIGNhdXNpbmcgYW4gZXJyb3IgaW4gY2hyb21lXG4gICAgICAvLyBjb250ZXh0LmluZGV4ZWREQiA9IGNvbnRleHQuaW5kZXhlZERCICAgIHx8IGNvbnRleHQud2Via2l0SW5kZXhlZERCIHx8XG4gICAgICAvLyAgICAgICAgICAgICAgICAgICAgY29udGV4dC5tb3pJbmRleGVkREIgfHwgY29udGV4dC5vSW5kZXhlZERCICAgICAgfHxcbiAgICAgIC8vICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lm1zSW5kZXhlZERCO1xuXG4gICAgICAvLyBEZXRlY3QgYnJvd3NlcnMgd2l0aCBrbm93biBJbmRleGVkRGIgaXNzdWVzIChlLmcuIEFuZHJvaWQgcHJlLTQuNClcbiAgICAgIGxldCBwb29ySW5kZXhlZERiU3VwcG9ydCA9IGZhbHNlO1xuICAgICAgaWYgKHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgIG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0FuZHJvaWQgKDJ8M3w0XFwuWzAtM10pLykpIHtcbiAgICAgICAgLy8gQ2hyb21lIGFuZCBGaXJlZm94IHN1cHBvcnQgSW5kZXhlZERCXG4gICAgICAgIGlmICghbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvQ2hyb21lfEZpcmVmb3gvKSkge1xuICAgICAgICAgIHBvb3JJbmRleGVkRGJTdXBwb3J0ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoJ2luZGV4ZWREQicgaW4gY29udGV4dCAmJiAhcG9vckluZGV4ZWREYlN1cHBvcnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBjaGVjayA9IGluZGV4ZWREQi5vcGVuKFwicnMtY2hlY2tcIik7XG4gICAgICAgICAgY2hlY2sub25lcnJvciA9IGZ1bmN0aW9uICgvKiBldmVudCAqLykge1xuICAgICAgICAgICAgcmVqZWN0KCk7XG4gICAgICAgICAgfTtcbiAgICAgICAgICBjaGVjay5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoLyogZXZlbnQgKi8pIHtcbiAgICAgICAgICAgIGNoZWNrLnJlc3VsdC5jbG9zZSgpO1xuICAgICAgICAgICAgaW5kZXhlZERCLmRlbGV0ZURhdGFiYXNlKFwicnMtY2hlY2tcIik7XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIHJlamVjdCgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZWplY3QoKTtcbiAgICAgIH1cblxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBJbmRleGVkREIgYXMgYSBiYWNrZW5kLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gcmVtb3RlU3RvcmFnZSAtIFJlbW90ZVN0b3JhZ2UgaW5zdGFuY2VcbiAgICpcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgLy8gVE9ETyBhZGQgcmVhbCB0eXBlIG9uY2UgZGVmaW5lZFxuICBzdGF0aWMgX3JzX2NsZWFudXAgKHJlbW90ZVN0b3JhZ2U6IGFueSkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZS8qLCByZWplY3QqLykgPT4ge1xuICAgICAgaWYgKHJlbW90ZVN0b3JhZ2UubG9jYWwpIHtcbiAgICAgICAgcmVtb3RlU3RvcmFnZS5sb2NhbC5jbG9zZURCKCk7XG4gICAgICB9XG5cbiAgICAgIEluZGV4ZWREQi5jbGVhbihERUZBVUxUX0RCX05BTUUsIHJlc29sdmUpO1xuICAgIH0pO1xuICB9XG5cbiAgZGlmZkhhbmRsZXIoKSB7XG4gICAgLy8gZW1wdHlcbiAgfVxufTtcblxuLy8gVE9ETyBtb3ZlIHRvIENhY2hpbmdMYXllciwgc2FtZSBmb3IgYWxsIGxheWVyc1xuaW50ZXJmYWNlIEluZGV4ZWREQiBleHRlbmRzIEV2ZW50SGFuZGxpbmcge307XG5hcHBseU1peGlucyhJbmRleGVkREIsIFtFdmVudEhhbmRsaW5nXSk7XG5cbmV4cG9ydCBkZWZhdWx0IEluZGV4ZWREQjtcbiIsImltcG9ydCBDYWNoaW5nTGF5ZXIgZnJvbSAnLi9jYWNoaW5nbGF5ZXInO1xuaW1wb3J0IEV2ZW50SGFuZGxpbmcgZnJvbSAnLi9ldmVudGhhbmRsaW5nJztcbmltcG9ydCBsb2cgZnJvbSAnLi9sb2cnO1xuaW1wb3J0IHsgYXBwbHlNaXhpbnMsIGxvY2FsU3RvcmFnZUF2YWlsYWJsZSB9IGZyb20gJy4vdXRpbCc7XG5cbi8qKlxuICogbG9jYWxTdG9yYWdlIGNhY2hpbmcgYWRhcHRlci4gVXNlZCB3aGVuIG5vIEluZGV4ZWREQiBhdmFpbGFibGUuXG4gKiovXG5cbmNvbnN0IE5PREVTX1BSRUZJWCA9IFwicmVtb3Rlc3RvcmFnZTpjYWNoZTpub2RlczpcIjtcbmNvbnN0IENIQU5HRVNfUFJFRklYID0gXCJyZW1vdGVzdG9yYWdlOmNhY2hlOmNoYW5nZXM6XCI7XG5cbmZ1bmN0aW9uIGlzUmVtb3RlU3RvcmFnZUtleShrZXk6IHN0cmluZyk6IGJvb2xlYW4ge1xuICByZXR1cm4ga2V5LnN1YnN0cigwLCBOT0RFU19QUkVGSVgubGVuZ3RoKSA9PT0gTk9ERVNfUFJFRklYIHx8XG4gICAga2V5LnN1YnN0cigwLCBDSEFOR0VTX1BSRUZJWC5sZW5ndGgpID09PSBDSEFOR0VTX1BSRUZJWDtcbn1cblxuZnVuY3Rpb24gaXNOb2RlS2V5KGtleTogc3RyaW5nKTogYm9vbGVhbiB7XG4gIHJldHVybiBrZXkuc3Vic3RyKDAsIE5PREVTX1BSRUZJWC5sZW5ndGgpID09PSBOT0RFU19QUkVGSVg7XG59XG5cbmNsYXNzIExvY2FsU3RvcmFnZSBleHRlbmRzIENhY2hpbmdMYXllciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5hZGRFdmVudHMoWydjaGFuZ2UnLCAnbG9jYWwtZXZlbnRzLWRvbmUnXSk7XG4gIH1cblxuICAvLyBUT0RPIGZpeCB0aGlzXG4gIGRpZmZIYW5kbGVyKC4uLmFyZ3M6IGFueVtdKTogdm9pZCB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgZ2V0Tm9kZXMocGF0aHM6IHN0cmluZ1tdKTogUHJvbWlzZTxSU05vZGVzPiB7XG4gICAgY29uc3Qgbm9kZXMgPSB7fTtcblxuICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBwYXRocy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgbm9kZXNbcGF0aHNbaV1dID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2VbTk9ERVNfUFJFRklYICsgcGF0aHNbaV1dKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgbm9kZXNbcGF0aHNbaV1dID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobm9kZXMpO1xuICB9XG5cbiAgc2V0Tm9kZXMobm9kZXM6IFJTTm9kZXMpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBmb3IgKGNvbnN0IHBhdGggaW4gbm9kZXMpIHtcbiAgICAgIC8vIFRPRE8gc2hvdWxkbid0IHdlIHVzZSBnZXRJdGVtL3NldEl0ZW0/XG4gICAgICBsb2NhbFN0b3JhZ2VbTk9ERVNfUFJFRklYICsgcGF0aF0gPSBKU09OLnN0cmluZ2lmeShub2Rlc1twYXRoXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICB9XG5cbiAgZm9yQWxsTm9kZXMoY2I6IChub2RlKSA9PiBhbnkpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBsZXQgbm9kZTtcblxuICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBsb2NhbFN0b3JhZ2UubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGlmIChpc05vZGVLZXkobG9jYWxTdG9yYWdlLmtleShpKSkpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBOT1RFOiB0aGlzIGlzIGNvbWluZyBmcm9tIGNhY2hpbmcgbGF5ZXIgdG9kbyBmaXggdmlhIGludGVyZmFjZSBvciBzaW1pbGFyXG4gICAgICAgICAgbm9kZSA9IHRoaXMubWlncmF0ZShKU09OLnBhcnNlKGxvY2FsU3RvcmFnZVtsb2NhbFN0b3JhZ2Uua2V5KGkpXSkpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgbm9kZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZSkge1xuICAgICAgICAgIGNiKG5vZGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplIHRoZSBMb2NhbFN0b3JhZ2UgYmFja2VuZC5cbiAgICpcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgc3RhdGljIF9yc19pbml0KCk6IHZvaWQge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbmZvcm0gYWJvdXQgdGhlIGF2YWlsYWJpbGl0eSBvZiB0aGUgTG9jYWxTdG9yYWdlIGJhY2tlbmQuXG4gICAqXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIHN0YXRpYyBfcnNfc3VwcG9ydGVkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBsb2NhbFN0b3JhZ2VBdmFpbGFibGUoKTtcbiAgfTtcblxuICAvKipcbiAgICogUmVtb3ZlIExvY2FsU3RvcmFnZSBhcyBhIGJhY2tlbmQuXG4gICAqXG4gICAqIEBwcm90ZWN0ZWRcbiAgICpcbiAgICogVE9ETzogdGVzdHMgbWlzc2luZyFcbiAgICovXG4gIHN0YXRpYyBfcnNfY2xlYW51cCgpOiB2b2lkIHtcbiAgICBjb25zdCBrZXlzID0gW107XG5cbiAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gbG9jYWxTdG9yYWdlLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBjb25zdCBrZXkgPSBsb2NhbFN0b3JhZ2Uua2V5KGkpO1xuICAgICAgaWYgKGlzUmVtb3RlU3RvcmFnZUtleShrZXkpKSB7XG4gICAgICAgIGtleXMucHVzaChrZXkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGtleXMuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICBsb2coJ1tMb2NhbFN0b3JhZ2VdIFJlbW92aW5nJywga2V5KTtcbiAgICAgIGRlbGV0ZSBsb2NhbFN0b3JhZ2Vba2V5XTtcbiAgICB9KTtcbiAgfTtcbn1cblxuLy8gVE9ETyBtb3ZlIHRvIENhY2hpbmdMYXllciwgc2FtZSBmb3IgYWxsIGxheWVyc1xuaW50ZXJmYWNlIExvY2FsU3RvcmFnZSBleHRlbmRzIEV2ZW50SGFuZGxpbmcge307XG5hcHBseU1peGlucyhMb2NhbFN0b3JhZ2UsIFtFdmVudEhhbmRsaW5nXSk7XG5cbmV4cG9ydCBkZWZhdWx0IExvY2FsU3RvcmFnZTtcbiIsImltcG9ydCBFdmVudEhhbmRsaW5nIGZyb20gJy4vZXZlbnRoYW5kbGluZyc7XG5pbXBvcnQgQ2FjaGluZ0xheWVyIGZyb20gJy4vY2FjaGluZ2xheWVyJztcbmltcG9ydCB7IGFwcGx5TWl4aW5zIH0gZnJvbSAnLi91dGlsJztcblxuLyoqXG4gKiBJbi1tZW1vcnkgY2FjaGluZyBhZGFwdGVyLiBVc2VkIHdoZW4gbm8gSW5kZXhlZERCIG9yIGxvY2FsU3RvcmFnZVxuICogYXZhaWxhYmxlLlxuICpcbiAqIEBjbGFzc1xuICoqL1xuXG5jbGFzcyBJbk1lbW9yeVN0b3JhZ2UgZXh0ZW5kcyBDYWNoaW5nTGF5ZXIge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICBwcml2YXRlIF9zdG9yYWdlOiB7IFtrZXk6IHN0cmluZ106IGFueSB9ID0ge307XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmFkZEV2ZW50cyhbJ2NoYW5nZScsICdsb2NhbC1ldmVudHMtZG9uZSddKTtcbiAgfVxuXG4gIGdldE5vZGVzKHBhdGhzOiBzdHJpbmdbXSk6IFByb21pc2U8UlNOb2Rlcz4ge1xuICAgIGNvbnN0IG5vZGVzOiBSU05vZGVzID0ge307XG5cbiAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gcGF0aHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIG5vZGVzW3BhdGhzW2ldXSA9IHRoaXMuX3N0b3JhZ2VbcGF0aHNbaV1dO1xuICAgIH1cblxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobm9kZXMpO1xuICB9XG5cbiAgc2V0Tm9kZXMobm9kZXM6IFJTTm9kZXMpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBmb3IgKGNvbnN0IHBhdGggaW4gbm9kZXMpIHtcbiAgICAgIGlmIChub2Rlc1twYXRoXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9zdG9yYWdlW3BhdGhdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fc3RvcmFnZVtwYXRoXSA9IG5vZGVzW3BhdGhdO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgfVxuXG4gIGZvckFsbE5vZGVzKGNiOiAobm9kZTogUlNOb2RlKSA9PiBQcm9taXNlPHZvaWQ+KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgZm9yIChjb25zdCBwYXRoIGluIHRoaXMuX3N0b3JhZ2UpIHtcbiAgICAgIGNiKHRoaXMubWlncmF0ZSh0aGlzLl9zdG9yYWdlW3BhdGhdKSk7XG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgfVxuXG4gIGRpZmZIYW5kbGVyKCkge1xuICAgIC8vIGVtcHR5XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZSB0aGUgSW5NZW1vcnlTdG9yYWdlIGJhY2tlbmQuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSByZW1vdGVTdG9yYWdlIC0gUmVtb3RlU3RvcmFnZSBpbnN0YW5jZVxuICAgKlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBwcm90ZWN0ZWQgc3RhdGljIF9yc19pbml0KCk6IHZvaWQge1xuICAgIC8vIGVtcHR5XG4gIH1cblxuICAvKipcbiAgICogSW5mb3JtIGFib3V0IHRoZSBhdmFpbGFiaWxpdHkgb2YgdGhlIEluTWVtb3J5U3RvcmFnZSBiYWNrZW5kLlxuICAgKlxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAgICpcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgcHJvdGVjdGVkIHN0YXRpYyBfcnNfc3VwcG9ydGVkKCk6IHRydWUge1xuICAgIC8vIEluLW1lbW9yeSBzdG9yYWdlIGlzIGFsd2F5cyBzdXBwb3J0ZWRcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgSW5NZW1vcnlTdG9yYWdlIGFzIGEgYmFja2VuZC5cbiAgICpcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgcHJvdGVjdGVkIHN0YXRpYyBfcnNfY2xlYW51cCgpOiB2b2lkIHtcbiAgICAvLyBlbXB0eVxuICB9XG59XG5cbi8vIFRPRE8gbW92ZSB0byBDYWNoaW5nTGF5ZXIsIHNhbWUgZm9yIGFsbCBsYXllcnNcbmludGVyZmFjZSBJbk1lbW9yeVN0b3JhZ2UgZXh0ZW5kcyBFdmVudEhhbmRsaW5nIHt9O1xuYXBwbHlNaXhpbnMoSW5NZW1vcnlTdG9yYWdlLCBbRXZlbnRIYW5kbGluZ10pO1xuXG5leHBvcnQgZGVmYXVsdCBJbk1lbW9yeVN0b3JhZ2U7XG4iXSwic291cmNlUm9vdCI6IiJ9